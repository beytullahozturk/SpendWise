var l$=Object.defineProperty;var u$=(e,t,r)=>t in e?l$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cy=(e,t,r)=>u$(e,typeof t!="symbol"?t+"":t,r);function c$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function sa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UO={exports:{}},Xm={},BO={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),d$=Symbol.for("react.portal"),f$=Symbol.for("react.fragment"),h$=Symbol.for("react.strict_mode"),p$=Symbol.for("react.profiler"),m$=Symbol.for("react.provider"),g$=Symbol.for("react.context"),v$=Symbol.for("react.forward_ref"),y$=Symbol.for("react.suspense"),x$=Symbol.for("react.memo"),b$=Symbol.for("react.lazy"),aS=Symbol.iterator;function w$(e){return e===null||typeof e!="object"?null:(e=aS&&e[aS]||e["@@iterator"],typeof e=="function"?e:null)}var WO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KO=Object.assign,HO={};function su(e,t,r){this.props=e,this.context=t,this.refs=HO,this.updater=r||WO}su.prototype.isReactComponent={};su.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};su.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qO(){}qO.prototype=su.prototype;function hw(e,t,r){this.props=e,this.context=t,this.refs=HO,this.updater=r||WO}var pw=hw.prototype=new qO;pw.constructor=hw;KO(pw,su.prototype);pw.isPureReactComponent=!0;var oS=Array.isArray,GO=Object.prototype.hasOwnProperty,mw={current:null},YO={key:!0,ref:!0,__self:!0,__source:!0};function QO(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)GO.call(t,n)&&!YO.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:jd,type:e,key:a,ref:o,props:i,_owner:mw.current}}function _$(e,t){return{$$typeof:jd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gw(e){return typeof e=="object"&&e!==null&&e.$$typeof===jd}function E$(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sS=/\/+/g;function dy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?E$(""+e.key):t.toString(36)}function Rh(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case jd:case d$:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+dy(o,0):n,oS(i)?(r="",e!=null&&(r=e.replace(sS,"$&/")+"/"),Rh(i,t,r,"",function(u){return u})):i!=null&&(gw(i)&&(i=_$(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(sS,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",oS(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+dy(a,s);o+=Rh(a,t,r,l,i)}else if(l=w$(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+dy(a,s++),o+=Rh(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qf(e,t,r){if(e==null)return e;var n=[],i=0;return Rh(e,n,"","",function(a){return t.call(r,a,i++)}),n}function k$(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var zr={current:null},Mh={transition:null},S$={ReactCurrentDispatcher:zr,ReactCurrentBatchConfig:Mh,ReactCurrentOwner:mw};function XO(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:qf,forEach:function(e,t,r){qf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return qf(e,function(){t++}),t},toArray:function(e){return qf(e,function(t){return t})||[]},only:function(e){if(!gw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=su;Ee.Fragment=f$;Ee.Profiler=p$;Ee.PureComponent=hw;Ee.StrictMode=h$;Ee.Suspense=y$;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S$;Ee.act=XO;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=KO({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=mw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)GO.call(t,l)&&!YO.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:jd,type:e.type,key:i,ref:a,props:n,_owner:o}};Ee.createContext=function(e){return e={$$typeof:g$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:m$,_context:e},e.Consumer=e};Ee.createElement=QO;Ee.createFactory=function(e){var t=QO.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:v$,render:e}};Ee.isValidElement=gw;Ee.lazy=function(e){return{$$typeof:b$,_payload:{_status:-1,_result:e},_init:k$}};Ee.memo=function(e,t){return{$$typeof:x$,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Mh.transition;Mh.transition={};try{e()}finally{Mh.transition=t}};Ee.unstable_act=XO;Ee.useCallback=function(e,t){return zr.current.useCallback(e,t)};Ee.useContext=function(e){return zr.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return zr.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return zr.current.useEffect(e,t)};Ee.useId=function(){return zr.current.useId()};Ee.useImperativeHandle=function(e,t,r){return zr.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return zr.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return zr.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return zr.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return zr.current.useReducer(e,t,r)};Ee.useRef=function(e){return zr.current.useRef(e)};Ee.useState=function(e){return zr.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return zr.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return zr.current.useTransition()};Ee.version="18.3.1";BO.exports=Ee;var g=BO.exports;const JO=sa(g),ZO=c$({__proto__:null,default:JO},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P$=g,T$=Symbol.for("react.element"),A$=Symbol.for("react.fragment"),I$=Object.prototype.hasOwnProperty,C$=P$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,O$={key:!0,ref:!0,__self:!0,__source:!0};function e2(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)I$.call(t,n)&&!O$.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:T$,type:e,key:a,ref:o,props:i,_owner:C$.current}}Xm.Fragment=A$;Xm.jsx=e2;Xm.jsxs=e2;UO.exports=Xm;var p=UO.exports,T0={},t2={exports:{}},mn={},r2={exports:{}},n2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,H){var J=z.length;z.push(H);e:for(;0<J;){var ue=J-1>>>1,oe=z[ue];if(0<i(oe,H))z[ue]=H,z[J]=oe,J=ue;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var H=z[0],J=z.pop();if(J!==H){z[0]=J;e:for(var ue=0,oe=z.length,we=oe>>>1;ue<we;){var Le=2*(ue+1)-1,ct=z[Le],bt=Le+1,ke=z[bt];if(0>i(ct,J))bt<oe&&0>i(ke,ct)?(z[ue]=ke,z[bt]=J,ue=bt):(z[ue]=ct,z[Le]=J,ue=Le);else if(bt<oe&&0>i(ke,J))z[ue]=ke,z[bt]=J,ue=bt;else break e}}return H}function i(z,H){var J=z.sortIndex-H.sortIndex;return J!==0?J:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=z)n(u),H.sortIndex=H.expirationTime,t(l,H);else break;H=r(u)}}function T(z){if(b=!1,E(z),!y)if(r(l)!==null)y=!0,Y(I);else{var H=r(u);H!==null&&Q(T,H.startTime-z)}}function I(z,H){y=!1,b&&(b=!1,v(S),S=-1),m=!0;var J=h;try{for(E(H),d=r(l);d!==null&&(!(d.expirationTime>H)||z&&!j());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,h=d.priorityLevel;var oe=ue(d.expirationTime<=H);H=e.unstable_now(),typeof oe=="function"?d.callback=oe:d===r(l)&&n(l),E(H)}else n(l);d=r(l)}if(d!==null)var we=!0;else{var Le=r(u);Le!==null&&Q(T,Le.startTime-H),we=!1}return we}finally{d=null,h=J,m=!1}}var D=!1,P=null,S=-1,C=5,O=-1;function j(){return!(e.unstable_now()-O<C)}function A(){if(P!==null){var z=e.unstable_now();O=z;var H=!0;try{H=P(!0,z)}finally{H?N():(D=!1,P=null)}}else D=!1}var N;if(typeof _=="function")N=function(){_(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,U=V.port2;V.port1.onmessage=A,N=function(){U.postMessage(null)}}else N=function(){x(A,0)};function Y(z){P=z,D||(D=!0,N())}function Q(z,H){S=x(function(){z(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,Y(I))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var J=h;h=H;try{return z()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=h;h=z;try{return H()}finally{h=J}},e.unstable_scheduleCallback=function(z,H,J){var ue=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ue+J:ue):J=ue,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=J+oe,z={id:c++,callback:H,priorityLevel:z,startTime:J,expirationTime:oe,sortIndex:-1},J>ue?(z.sortIndex=J,t(u,z),r(l)===null&&z===r(u)&&(b?(v(S),S=-1):b=!0,Q(T,J-ue))):(z.sortIndex=oe,t(l,z),y||m||(y=!0,Y(I))),z},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(z){var H=h;return function(){var J=h;h=H;try{return z.apply(this,arguments)}finally{h=J}}}})(n2);r2.exports=n2;var N$=r2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j$=g,hn=N$;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i2=new Set,Vc={};function As(e,t){Ml(e,t),Ml(e+"Capture",t)}function Ml(e,t){for(Vc[e]=t,e=0;e<t.length;e++)i2.add(t[e])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),A0=Object.prototype.hasOwnProperty,D$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lS={},uS={};function R$(e){return A0.call(uS,e)?!0:A0.call(lS,e)?!1:D$.test(e)?uS[e]=!0:(lS[e]=!0,!1)}function M$(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L$(e,t,r,n){if(t===null||typeof t>"u"||M$(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ur(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pr[e]=new Ur(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pr[t]=new Ur(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pr[e]=new Ur(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pr[e]=new Ur(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pr[e]=new Ur(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pr[e]=new Ur(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pr[e]=new Ur(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pr[e]=new Ur(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pr[e]=new Ur(e,5,!1,e.toLowerCase(),null,!1,!1)});var vw=/[\-:]([a-z])/g;function yw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vw,yw);pr[t]=new Ur(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vw,yw);pr[t]=new Ur(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vw,yw);pr[t]=new Ur(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Ur("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pr[e]=new Ur(e,1,!1,e.toLowerCase(),null,!0,!0)});function xw(e,t,r,n){var i=pr.hasOwnProperty(t)?pr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L$(t,r,i,n)&&(r=null),n||i===null?R$(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var la=j$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gf=Symbol.for("react.element"),tl=Symbol.for("react.portal"),rl=Symbol.for("react.fragment"),bw=Symbol.for("react.strict_mode"),I0=Symbol.for("react.profiler"),a2=Symbol.for("react.provider"),o2=Symbol.for("react.context"),ww=Symbol.for("react.forward_ref"),C0=Symbol.for("react.suspense"),O0=Symbol.for("react.suspense_list"),_w=Symbol.for("react.memo"),Pa=Symbol.for("react.lazy"),s2=Symbol.for("react.offscreen"),cS=Symbol.iterator;function Ku(e){return e===null||typeof e!="object"?null:(e=cS&&e[cS]||e["@@iterator"],typeof e=="function"?e:null)}var gt=Object.assign,fy;function uc(e){if(fy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);fy=t&&t[1]||""}return`
`+fy+e}var hy=!1;function py(e,t){if(!e||hy)return"";hy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{hy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?uc(e):""}function V$(e){switch(e.tag){case 5:return uc(e.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return e=py(e.type,!1),e;case 11:return e=py(e.type.render,!1),e;case 1:return e=py(e.type,!0),e;default:return""}}function N0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rl:return"Fragment";case tl:return"Portal";case I0:return"Profiler";case bw:return"StrictMode";case C0:return"Suspense";case O0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o2:return(e.displayName||"Context")+".Consumer";case a2:return(e._context.displayName||"Context")+".Provider";case ww:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _w:return t=e.displayName||null,t!==null?t:N0(e.type)||"Memo";case Pa:t=e._payload,e=e._init;try{return N0(e(t))}catch{}}return null}function F$(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N0(t);case 8:return t===bw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function io(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $$(e){var t=l2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yf(e){e._valueTracker||(e._valueTracker=$$(e))}function u2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=l2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function up(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function j0(e,t){var r=t.checked;return gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=io(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c2(e,t){t=t.checked,t!=null&&xw(e,"checked",t,!1)}function D0(e,t){c2(e,t);var r=io(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?R0(e,t.type,r):t.hasOwnProperty("defaultValue")&&R0(e,t.type,io(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function R0(e,t,r){(t!=="number"||up(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cc=Array.isArray;function xl(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+io(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function M0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hS(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(cc(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:io(r)}}function d2(e,t){var r=io(t.value),n=io(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function f2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function L0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?f2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qf,h2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qf=Qf||document.createElement("div"),Qf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var _c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},z$=["Webkit","ms","Moz","O"];Object.keys(_c).forEach(function(e){z$.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),_c[t]=_c[e]})});function p2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||_c.hasOwnProperty(e)&&_c[e]?(""+t).trim():t+"px"}function m2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=p2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var U$=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function V0(e,t){if(t){if(U$[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function F0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $0=null;function Ew(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var z0=null,bl=null,wl=null;function mS(e){if(e=Md(e)){if(typeof z0!="function")throw Error(G(280));var t=e.stateNode;t&&(t=rg(t),z0(e.stateNode,e.type,t))}}function g2(e){bl?wl?wl.push(e):wl=[e]:bl=e}function v2(){if(bl){var e=bl,t=wl;if(wl=bl=null,mS(e),t)for(e=0;e<t.length;e++)mS(t[e])}}function y2(e,t){return e(t)}function x2(){}var my=!1;function b2(e,t,r){if(my)return e(t,r);my=!0;try{return y2(e,t,r)}finally{my=!1,(bl!==null||wl!==null)&&(x2(),v2())}}function $c(e,t){var r=e.stateNode;if(r===null)return null;var n=rg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var U0=!1;if(Hi)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){U0=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{U0=!1}function B$(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Ec=!1,cp=null,dp=!1,B0=null,W$={onError:function(e){Ec=!0,cp=e}};function K$(e,t,r,n,i,a,o,s,l){Ec=!1,cp=null,B$.apply(W$,arguments)}function H$(e,t,r,n,i,a,o,s,l){if(K$.apply(this,arguments),Ec){if(Ec){var u=cp;Ec=!1,cp=null}else throw Error(G(198));dp||(dp=!0,B0=u)}}function Is(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function w2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gS(e){if(Is(e)!==e)throw Error(G(188))}function q$(e){var t=e.alternate;if(!t){if(t=Is(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return gS(i),e;if(a===n)return gS(i),t;a=a.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function _2(e){return e=q$(e),e!==null?E2(e):null}function E2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=E2(e);if(t!==null)return t;e=e.sibling}return null}var k2=hn.unstable_scheduleCallback,vS=hn.unstable_cancelCallback,G$=hn.unstable_shouldYield,Y$=hn.unstable_requestPaint,It=hn.unstable_now,Q$=hn.unstable_getCurrentPriorityLevel,kw=hn.unstable_ImmediatePriority,S2=hn.unstable_UserBlockingPriority,fp=hn.unstable_NormalPriority,X$=hn.unstable_LowPriority,P2=hn.unstable_IdlePriority,Jm=null,di=null;function J$(e){if(di&&typeof di.onCommitFiberRoot=="function")try{di.onCommitFiberRoot(Jm,e,void 0,(e.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:t5,Z$=Math.log,e5=Math.LN2;function t5(e){return e>>>=0,e===0?32:31-(Z$(e)/e5|0)|0}var Xf=64,Jf=4194304;function dc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=dc(s):(a&=o,a!==0&&(n=dc(a)))}else o=r&~i,o!==0?n=dc(o):a!==0&&(n=dc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qn(t),i=1<<r,n|=e[r],t&=~i;return n}function r5(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function n5(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-qn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=r5(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function W0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function T2(){var e=Xf;return Xf<<=1,!(Xf&4194240)&&(Xf=64),e}function gy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qn(t),e[t]=r}function i5(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Sw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Fe=0;function A2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I2,Pw,C2,O2,N2,K0=!1,Zf=[],Ba=null,Wa=null,Ka=null,zc=new Map,Uc=new Map,Ca=[],a5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yS(e,t){switch(e){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Ka=null;break;case"pointerover":case"pointerout":zc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uc.delete(t.pointerId)}}function qu(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Md(t),t!==null&&Pw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function o5(e,t,r,n,i){switch(t){case"focusin":return Ba=qu(Ba,e,t,r,n,i),!0;case"dragenter":return Wa=qu(Wa,e,t,r,n,i),!0;case"mouseover":return Ka=qu(Ka,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return zc.set(a,qu(zc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Uc.set(a,qu(Uc.get(a)||null,e,t,r,n,i)),!0}return!1}function j2(e){var t=Bo(e.target);if(t!==null){var r=Is(t);if(r!==null){if(t=r.tag,t===13){if(t=w2(r),t!==null){e.blockedOn=t,N2(e.priority,function(){C2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Lh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=H0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$0=n,r.target.dispatchEvent(n),$0=null}else return t=Md(r),t!==null&&Pw(t),e.blockedOn=r,!1;t.shift()}return!0}function xS(e,t,r){Lh(e)&&r.delete(t)}function s5(){K0=!1,Ba!==null&&Lh(Ba)&&(Ba=null),Wa!==null&&Lh(Wa)&&(Wa=null),Ka!==null&&Lh(Ka)&&(Ka=null),zc.forEach(xS),Uc.forEach(xS)}function Gu(e,t){e.blockedOn===t&&(e.blockedOn=null,K0||(K0=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,s5)))}function Bc(e){function t(i){return Gu(i,e)}if(0<Zf.length){Gu(Zf[0],e);for(var r=1;r<Zf.length;r++){var n=Zf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ba!==null&&Gu(Ba,e),Wa!==null&&Gu(Wa,e),Ka!==null&&Gu(Ka,e),zc.forEach(t),Uc.forEach(t),r=0;r<Ca.length;r++)n=Ca[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ca.length&&(r=Ca[0],r.blockedOn===null);)j2(r),r.blockedOn===null&&Ca.shift()}var _l=la.ReactCurrentBatchConfig,pp=!0;function l5(e,t,r,n){var i=Fe,a=_l.transition;_l.transition=null;try{Fe=1,Tw(e,t,r,n)}finally{Fe=i,_l.transition=a}}function u5(e,t,r,n){var i=Fe,a=_l.transition;_l.transition=null;try{Fe=4,Tw(e,t,r,n)}finally{Fe=i,_l.transition=a}}function Tw(e,t,r,n){if(pp){var i=H0(e,t,r,n);if(i===null)Py(e,t,n,mp,r),yS(e,n);else if(o5(i,e,t,r,n))n.stopPropagation();else if(yS(e,n),t&4&&-1<a5.indexOf(e)){for(;i!==null;){var a=Md(i);if(a!==null&&I2(a),a=H0(e,t,r,n),a===null&&Py(e,t,n,mp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Py(e,t,n,null,r)}}var mp=null;function H0(e,t,r,n){if(mp=null,e=Ew(n),e=Bo(e),e!==null)if(t=Is(e),t===null)e=null;else if(r=t.tag,r===13){if(e=w2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mp=e,null}function D2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Q$()){case kw:return 1;case S2:return 4;case fp:case X$:return 16;case P2:return 536870912;default:return 16}default:return 16}}var Va=null,Aw=null,Vh=null;function R2(){if(Vh)return Vh;var e,t=Aw,r=t.length,n,i="value"in Va?Va.value:Va.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Vh=i.slice(e,1<n?1-n:void 0)}function Fh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function eh(){return!0}function bS(){return!1}function gn(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?eh:bS,this.isPropagationStopped=bS,this}return gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=eh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=eh)},persist:function(){},isPersistent:eh}),t}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iw=gn(lu),Rd=gt({},lu,{view:0,detail:0}),c5=gn(Rd),vy,yy,Yu,Zm=gt({},Rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yu&&(Yu&&e.type==="mousemove"?(vy=e.screenX-Yu.screenX,yy=e.screenY-Yu.screenY):yy=vy=0,Yu=e),vy)},movementY:function(e){return"movementY"in e?e.movementY:yy}}),wS=gn(Zm),d5=gt({},Zm,{dataTransfer:0}),f5=gn(d5),h5=gt({},Rd,{relatedTarget:0}),xy=gn(h5),p5=gt({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),m5=gn(p5),g5=gt({},lu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v5=gn(g5),y5=gt({},lu,{data:0}),_S=gn(y5),x5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=w5[e])?!!t[e]:!1}function Cw(){return _5}var E5=gt({},Rd,{key:function(e){if(e.key){var t=x5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?b5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cw,charCode:function(e){return e.type==="keypress"?Fh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k5=gn(E5),S5=gt({},Zm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ES=gn(S5),P5=gt({},Rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cw}),T5=gn(P5),A5=gt({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),I5=gn(A5),C5=gt({},Zm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O5=gn(C5),N5=[9,13,27,32],Ow=Hi&&"CompositionEvent"in window,kc=null;Hi&&"documentMode"in document&&(kc=document.documentMode);var j5=Hi&&"TextEvent"in window&&!kc,M2=Hi&&(!Ow||kc&&8<kc&&11>=kc),kS=" ",SS=!1;function L2(e,t){switch(e){case"keyup":return N5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function V2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var nl=!1;function D5(e,t){switch(e){case"compositionend":return V2(t);case"keypress":return t.which!==32?null:(SS=!0,kS);case"textInput":return e=t.data,e===kS&&SS?null:e;default:return null}}function R5(e,t){if(nl)return e==="compositionend"||!Ow&&L2(e,t)?(e=R2(),Vh=Aw=Va=null,nl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return M2&&t.locale!=="ko"?null:t.data;default:return null}}var M5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!M5[e.type]:t==="textarea"}function F2(e,t,r,n){g2(n),t=gp(t,"onChange"),0<t.length&&(r=new Iw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Sc=null,Wc=null;function L5(e){Q2(e,0)}function eg(e){var t=ol(e);if(u2(t))return e}function V5(e,t){if(e==="change")return t}var $2=!1;if(Hi){var by;if(Hi){var wy="oninput"in document;if(!wy){var TS=document.createElement("div");TS.setAttribute("oninput","return;"),wy=typeof TS.oninput=="function"}by=wy}else by=!1;$2=by&&(!document.documentMode||9<document.documentMode)}function AS(){Sc&&(Sc.detachEvent("onpropertychange",z2),Wc=Sc=null)}function z2(e){if(e.propertyName==="value"&&eg(Wc)){var t=[];F2(t,Wc,e,Ew(e)),b2(L5,t)}}function F5(e,t,r){e==="focusin"?(AS(),Sc=t,Wc=r,Sc.attachEvent("onpropertychange",z2)):e==="focusout"&&AS()}function $5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return eg(Wc)}function z5(e,t){if(e==="click")return eg(t)}function U5(e,t){if(e==="input"||e==="change")return eg(t)}function B5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is=="function"?Object.is:B5;function Kc(e,t){if(Qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!A0.call(t,i)||!Qn(e[i],t[i]))return!1}return!0}function IS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function CS(e,t){var r=IS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=IS(r)}}function U2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B2(){for(var e=window,t=up();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=up(e.document)}return t}function Nw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W5(e){var t=B2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&U2(r.ownerDocument.documentElement,r)){if(n!==null&&Nw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=CS(r,a);var o=CS(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K5=Hi&&"documentMode"in document&&11>=document.documentMode,il=null,q0=null,Pc=null,G0=!1;function OS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;G0||il==null||il!==up(n)||(n=il,"selectionStart"in n&&Nw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pc&&Kc(Pc,n)||(Pc=n,n=gp(q0,"onSelect"),0<n.length&&(t=new Iw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=il)))}function th(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var al={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},_y={},W2={};Hi&&(W2=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function tg(e){if(_y[e])return _y[e];if(!al[e])return e;var t=al[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in W2)return _y[e]=t[r];return e}var K2=tg("animationend"),H2=tg("animationiteration"),q2=tg("animationstart"),G2=tg("transitionend"),Y2=new Map,NS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(e,t){Y2.set(e,t),As(t,[e])}for(var Ey=0;Ey<NS.length;Ey++){var ky=NS[Ey],H5=ky.toLowerCase(),q5=ky[0].toUpperCase()+ky.slice(1);vo(H5,"on"+q5)}vo(K2,"onAnimationEnd");vo(H2,"onAnimationIteration");vo(q2,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(G2,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G5=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function jS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,H$(n,t,void 0,e),e.currentTarget=null}function Q2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;jS(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;jS(i,s,u),a=l}}}if(dp)throw e=B0,dp=!1,B0=null,e}function Ze(e,t){var r=t[Z0];r===void 0&&(r=t[Z0]=new Set);var n=e+"__bubble";r.has(n)||(X2(t,e,2,!1),r.add(n))}function Sy(e,t,r){var n=0;t&&(n|=4),X2(r,e,n,t)}var rh="_reactListening"+Math.random().toString(36).slice(2);function Hc(e){if(!e[rh]){e[rh]=!0,i2.forEach(function(r){r!=="selectionchange"&&(G5.has(r)||Sy(r,!1,e),Sy(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[rh]||(t[rh]=!0,Sy("selectionchange",!1,t))}}function X2(e,t,r,n){switch(D2(t)){case 1:var i=l5;break;case 4:i=u5;break;default:i=Tw}r=i.bind(null,t,r,e),i=void 0,!U0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Py(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Bo(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}b2(function(){var u=a,c=Ew(r),d=[];e:{var h=Y2.get(e);if(h!==void 0){var m=Iw,y=e;switch(e){case"keypress":if(Fh(r)===0)break e;case"keydown":case"keyup":m=k5;break;case"focusin":y="focus",m=xy;break;case"focusout":y="blur",m=xy;break;case"beforeblur":case"afterblur":m=xy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=wS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=f5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=T5;break;case K2:case H2:case q2:m=m5;break;case G2:m=I5;break;case"scroll":m=c5;break;case"wheel":m=O5;break;case"copy":case"cut":case"paste":m=v5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ES}var b=(t&4)!==0,x=!b&&e==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,E;_!==null;){E=_;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,v!==null&&(T=$c(_,v),T!=null&&b.push(qc(_,T,E)))),x)break;_=_.return}0<b.length&&(h=new m(h,y,null,r,c),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==$0&&(y=r.relatedTarget||r.fromElement)&&(Bo(y)||y[qi]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?Bo(y):null,y!==null&&(x=Is(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(b=wS,T="onMouseLeave",v="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=ES,T="onPointerLeave",v="onPointerEnter",_="pointer"),x=m==null?h:ol(m),E=y==null?h:ol(y),h=new b(T,_+"leave",m,r,c),h.target=x,h.relatedTarget=E,T=null,Bo(c)===u&&(b=new b(v,_+"enter",y,r,c),b.target=E,b.relatedTarget=x,T=b),x=T,m&&y)t:{for(b=m,v=y,_=0,E=b;E;E=Hs(E))_++;for(E=0,T=v;T;T=Hs(T))E++;for(;0<_-E;)b=Hs(b),_--;for(;0<E-_;)v=Hs(v),E--;for(;_--;){if(b===v||v!==null&&b===v.alternate)break t;b=Hs(b),v=Hs(v)}b=null}else b=null;m!==null&&DS(d,h,m,b,!1),y!==null&&x!==null&&DS(d,x,y,b,!0)}}e:{if(h=u?ol(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var I=V5;else if(PS(h))if($2)I=U5;else{I=$5;var D=F5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=z5);if(I&&(I=I(e,u))){F2(d,I,r,c);break e}D&&D(e,h,u),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&R0(h,"number",h.value)}switch(D=u?ol(u):window,e){case"focusin":(PS(D)||D.contentEditable==="true")&&(il=D,q0=u,Pc=null);break;case"focusout":Pc=q0=il=null;break;case"mousedown":G0=!0;break;case"contextmenu":case"mouseup":case"dragend":G0=!1,OS(d,r,c);break;case"selectionchange":if(K5)break;case"keydown":case"keyup":OS(d,r,c)}var P;if(Ow)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else nl?L2(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(M2&&r.locale!=="ko"&&(nl||S!=="onCompositionStart"?S==="onCompositionEnd"&&nl&&(P=R2()):(Va=c,Aw="value"in Va?Va.value:Va.textContent,nl=!0)),D=gp(u,S),0<D.length&&(S=new _S(S,e,null,r,c),d.push({event:S,listeners:D}),P?S.data=P:(P=V2(r),P!==null&&(S.data=P)))),(P=j5?D5(e,r):R5(e,r))&&(u=gp(u,"onBeforeInput"),0<u.length&&(c=new _S("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=P))}Q2(d,t)})}function qc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gp(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=$c(e,r),a!=null&&n.unshift(qc(e,a,i)),a=$c(e,t),a!=null&&n.push(qc(e,a,i))),e=e.return}return n}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function DS(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=$c(r,a),l!=null&&o.unshift(qc(r,l,s))):i||(l=$c(r,a),l!=null&&o.push(qc(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Y5=/\r\n?/g,Q5=/\u0000|\uFFFD/g;function RS(e){return(typeof e=="string"?e:""+e).replace(Y5,`
`).replace(Q5,"")}function nh(e,t,r){if(t=RS(t),RS(e)!==t&&r)throw Error(G(425))}function vp(){}var Y0=null,Q0=null;function X0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var J0=typeof setTimeout=="function"?setTimeout:void 0,X5=typeof clearTimeout=="function"?clearTimeout:void 0,MS=typeof Promise=="function"?Promise:void 0,J5=typeof queueMicrotask=="function"?queueMicrotask:typeof MS<"u"?function(e){return MS.resolve(null).then(e).catch(Z5)}:J0;function Z5(e){setTimeout(function(){throw e})}function Ty(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Bc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Bc(t)}function Ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function LS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var uu=Math.random().toString(36).slice(2),li="__reactFiber$"+uu,Gc="__reactProps$"+uu,qi="__reactContainer$"+uu,Z0="__reactEvents$"+uu,e6="__reactListeners$"+uu,t6="__reactHandles$"+uu;function Bo(e){var t=e[li];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qi]||r[li]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=LS(e);e!==null;){if(r=e[li])return r;e=LS(e)}return t}e=r,r=e.parentNode}return null}function Md(e){return e=e[li]||e[qi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ol(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function rg(e){return e[Gc]||null}var ex=[],sl=-1;function yo(e){return{current:e}}function nt(e){0>sl||(e.current=ex[sl],ex[sl]=null,sl--)}function Qe(e,t){sl++,ex[sl]=e.current,e.current=t}var ao={},Cr=yo(ao),Gr=yo(!1),ss=ao;function Ll(e,t){var r=e.type.contextTypes;if(!r)return ao;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yr(e){return e=e.childContextTypes,e!=null}function yp(){nt(Gr),nt(Cr)}function VS(e,t,r){if(Cr.current!==ao)throw Error(G(168));Qe(Cr,t),Qe(Gr,r)}function J2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,F$(e)||"Unknown",i));return gt({},r,n)}function xp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ao,ss=Cr.current,Qe(Cr,e),Qe(Gr,Gr.current),!0}function FS(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=J2(e,t,ss),n.__reactInternalMemoizedMergedChildContext=e,nt(Gr),nt(Cr),Qe(Cr,e)):nt(Gr),Qe(Gr,r)}var Ci=null,ng=!1,Ay=!1;function Z2(e){Ci===null?Ci=[e]:Ci.push(e)}function r6(e){ng=!0,Z2(e)}function xo(){if(!Ay&&Ci!==null){Ay=!0;var e=0,t=Fe;try{var r=Ci;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ci=null,ng=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(e+1)),k2(kw,xo),i}finally{Fe=t,Ay=!1}}return null}var ll=[],ul=0,bp=null,wp=0,En=[],kn=0,ls=null,Di=1,Ri="";function Lo(e,t){ll[ul++]=wp,ll[ul++]=bp,bp=e,wp=t}function eN(e,t,r){En[kn++]=Di,En[kn++]=Ri,En[kn++]=ls,ls=e;var n=Di;e=Ri;var i=32-qn(n)-1;n&=~(1<<i),r+=1;var a=32-qn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Di=1<<32-qn(t)+i|r<<i|n,Ri=a+e}else Di=1<<a|r<<i|n,Ri=e}function jw(e){e.return!==null&&(Lo(e,1),eN(e,1,0))}function Dw(e){for(;e===bp;)bp=ll[--ul],ll[ul]=null,wp=ll[--ul],ll[ul]=null;for(;e===ls;)ls=En[--kn],En[kn]=null,Ri=En[--kn],En[kn]=null,Di=En[--kn],En[kn]=null}var dn=null,ln=null,ot=!1,Bn=null;function tN(e,t){var r=Sn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function $S(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,dn=e,ln=Ha(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,dn=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ls!==null?{id:Di,overflow:Ri}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,dn=e,ln=null,!0):!1;default:return!1}}function tx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rx(e){if(ot){var t=ln;if(t){var r=t;if(!$S(e,t)){if(tx(e))throw Error(G(418));t=Ha(r.nextSibling);var n=dn;t&&$S(e,t)?tN(n,r):(e.flags=e.flags&-4097|2,ot=!1,dn=e)}}else{if(tx(e))throw Error(G(418));e.flags=e.flags&-4097|2,ot=!1,dn=e}}}function zS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dn=e}function ih(e){if(e!==dn)return!1;if(!ot)return zS(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!X0(e.type,e.memoizedProps)),t&&(t=ln)){if(tx(e))throw rN(),Error(G(418));for(;t;)tN(e,t),t=Ha(t.nextSibling)}if(zS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ln=Ha(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=dn?Ha(e.stateNode.nextSibling):null;return!0}function rN(){for(var e=ln;e;)e=Ha(e.nextSibling)}function Vl(){ln=dn=null,ot=!1}function Rw(e){Bn===null?Bn=[e]:Bn.push(e)}var n6=la.ReactCurrentBatchConfig;function Qu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function ah(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function US(e){var t=e._init;return t(e._payload)}function nN(e){function t(v,_){if(e){var E=v.deletions;E===null?(v.deletions=[_],v.flags|=16):E.push(_)}}function r(v,_){if(!e)return null;for(;_!==null;)t(v,_),_=_.sibling;return null}function n(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function i(v,_){return v=Qa(v,_),v.index=0,v.sibling=null,v}function a(v,_,E){return v.index=E,e?(E=v.alternate,E!==null?(E=E.index,E<_?(v.flags|=2,_):E):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function s(v,_,E,T){return _===null||_.tag!==6?(_=Ry(E,v.mode,T),_.return=v,_):(_=i(_,E),_.return=v,_)}function l(v,_,E,T){var I=E.type;return I===rl?c(v,_,E.props.children,T,E.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Pa&&US(I)===_.type)?(T=i(_,E.props),T.ref=Qu(v,_,E),T.return=v,T):(T=Hh(E.type,E.key,E.props,null,v.mode,T),T.ref=Qu(v,_,E),T.return=v,T)}function u(v,_,E,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=My(E,v.mode,T),_.return=v,_):(_=i(_,E.children||[]),_.return=v,_)}function c(v,_,E,T,I){return _===null||_.tag!==7?(_=Jo(E,v.mode,T,I),_.return=v,_):(_=i(_,E),_.return=v,_)}function d(v,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Ry(""+_,v.mode,E),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Gf:return E=Hh(_.type,_.key,_.props,null,v.mode,E),E.ref=Qu(v,null,_),E.return=v,E;case tl:return _=My(_,v.mode,E),_.return=v,_;case Pa:var T=_._init;return d(v,T(_._payload),E)}if(cc(_)||Ku(_))return _=Jo(_,v.mode,E,null),_.return=v,_;ah(v,_)}return null}function h(v,_,E,T){var I=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:s(v,_,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Gf:return E.key===I?l(v,_,E,T):null;case tl:return E.key===I?u(v,_,E,T):null;case Pa:return I=E._init,h(v,_,I(E._payload),T)}if(cc(E)||Ku(E))return I!==null?null:c(v,_,E,T,null);ah(v,E)}return null}function m(v,_,E,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(E)||null,s(_,v,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gf:return v=v.get(T.key===null?E:T.key)||null,l(_,v,T,I);case tl:return v=v.get(T.key===null?E:T.key)||null,u(_,v,T,I);case Pa:var D=T._init;return m(v,_,E,D(T._payload),I)}if(cc(T)||Ku(T))return v=v.get(E)||null,c(_,v,T,I,null);ah(_,T)}return null}function y(v,_,E,T){for(var I=null,D=null,P=_,S=_=0,C=null;P!==null&&S<E.length;S++){P.index>S?(C=P,P=null):C=P.sibling;var O=h(v,P,E[S],T);if(O===null){P===null&&(P=C);break}e&&P&&O.alternate===null&&t(v,P),_=a(O,_,S),D===null?I=O:D.sibling=O,D=O,P=C}if(S===E.length)return r(v,P),ot&&Lo(v,S),I;if(P===null){for(;S<E.length;S++)P=d(v,E[S],T),P!==null&&(_=a(P,_,S),D===null?I=P:D.sibling=P,D=P);return ot&&Lo(v,S),I}for(P=n(v,P);S<E.length;S++)C=m(P,v,S,E[S],T),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?S:C.key),_=a(C,_,S),D===null?I=C:D.sibling=C,D=C);return e&&P.forEach(function(j){return t(v,j)}),ot&&Lo(v,S),I}function b(v,_,E,T){var I=Ku(E);if(typeof I!="function")throw Error(G(150));if(E=I.call(E),E==null)throw Error(G(151));for(var D=I=null,P=_,S=_=0,C=null,O=E.next();P!==null&&!O.done;S++,O=E.next()){P.index>S?(C=P,P=null):C=P.sibling;var j=h(v,P,O.value,T);if(j===null){P===null&&(P=C);break}e&&P&&j.alternate===null&&t(v,P),_=a(j,_,S),D===null?I=j:D.sibling=j,D=j,P=C}if(O.done)return r(v,P),ot&&Lo(v,S),I;if(P===null){for(;!O.done;S++,O=E.next())O=d(v,O.value,T),O!==null&&(_=a(O,_,S),D===null?I=O:D.sibling=O,D=O);return ot&&Lo(v,S),I}for(P=n(v,P);!O.done;S++,O=E.next())O=m(P,v,S,O.value,T),O!==null&&(e&&O.alternate!==null&&P.delete(O.key===null?S:O.key),_=a(O,_,S),D===null?I=O:D.sibling=O,D=O);return e&&P.forEach(function(A){return t(v,A)}),ot&&Lo(v,S),I}function x(v,_,E,T){if(typeof E=="object"&&E!==null&&E.type===rl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Gf:e:{for(var I=E.key,D=_;D!==null;){if(D.key===I){if(I=E.type,I===rl){if(D.tag===7){r(v,D.sibling),_=i(D,E.props.children),_.return=v,v=_;break e}}else if(D.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Pa&&US(I)===D.type){r(v,D.sibling),_=i(D,E.props),_.ref=Qu(v,D,E),_.return=v,v=_;break e}r(v,D);break}else t(v,D);D=D.sibling}E.type===rl?(_=Jo(E.props.children,v.mode,T,E.key),_.return=v,v=_):(T=Hh(E.type,E.key,E.props,null,v.mode,T),T.ref=Qu(v,_,E),T.return=v,v=T)}return o(v);case tl:e:{for(D=E.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){r(v,_.sibling),_=i(_,E.children||[]),_.return=v,v=_;break e}else{r(v,_);break}else t(v,_);_=_.sibling}_=My(E,v.mode,T),_.return=v,v=_}return o(v);case Pa:return D=E._init,x(v,_,D(E._payload),T)}if(cc(E))return y(v,_,E,T);if(Ku(E))return b(v,_,E,T);ah(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(r(v,_.sibling),_=i(_,E),_.return=v,v=_):(r(v,_),_=Ry(E,v.mode,T),_.return=v,v=_),o(v)):r(v,_)}return x}var Fl=nN(!0),iN=nN(!1),_p=yo(null),Ep=null,cl=null,Mw=null;function Lw(){Mw=cl=Ep=null}function Vw(e){var t=_p.current;nt(_p),e._currentValue=t}function nx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function El(e,t){Ep=e,Mw=cl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hr=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(Mw!==e)if(e={context:e,memoizedValue:t,next:null},cl===null){if(Ep===null)throw Error(G(308));cl=e,Ep.dependencies={lanes:0,firstContext:e}}else cl=cl.next=e;return t}var Wo=null;function Fw(e){Wo===null?Wo=[e]:Wo.push(e)}function aN(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Fw(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gi(e,n)}function Gi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ta=!1;function $w(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qa(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gi(e,r)}return i=n.interleaved,i===null?(t.next=t,Fw(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gi(e,r)}function $h(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sw(e,r)}}function BS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kp(e,t,r,n){var i=e.updateQueue;Ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var y=e,b=s;switch(h=t,m=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){d=y.call(m,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(m,d,h):y,h==null)break e;d=gt({},d,h);break e;case 2:Ta=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);cs|=o,e.lanes=o,e.memoizedState=d}}function WS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var Ld={},fi=yo(Ld),Yc=yo(Ld),Qc=yo(Ld);function Ko(e){if(e===Ld)throw Error(G(174));return e}function zw(e,t){switch(Qe(Qc,t),Qe(Yc,e),Qe(fi,Ld),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:L0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=L0(t,e)}nt(fi),Qe(fi,t)}function $l(){nt(fi),nt(Yc),nt(Qc)}function sN(e){Ko(Qc.current);var t=Ko(fi.current),r=L0(t,e.type);t!==r&&(Qe(Yc,e),Qe(fi,r))}function Uw(e){Yc.current===e&&(nt(fi),nt(Yc))}var ft=yo(0);function Sp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Iy=[];function Bw(){for(var e=0;e<Iy.length;e++)Iy[e]._workInProgressVersionPrimary=null;Iy.length=0}var zh=la.ReactCurrentDispatcher,Cy=la.ReactCurrentBatchConfig,us=0,ht=null,$t=null,er=null,Pp=!1,Tc=!1,Xc=0,i6=0;function xr(){throw Error(G(321))}function Ww(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Qn(e[r],t[r]))return!1;return!0}function Kw(e,t,r,n,i,a){if(us=a,ht=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zh.current=e===null||e.memoizedState===null?l6:u6,e=r(n,i),Tc){a=0;do{if(Tc=!1,Xc=0,25<=a)throw Error(G(301));a+=1,er=$t=null,t.updateQueue=null,zh.current=c6,e=r(n,i)}while(Tc)}if(zh.current=Tp,t=$t!==null&&$t.next!==null,us=0,er=$t=ht=null,Pp=!1,t)throw Error(G(300));return e}function Hw(){var e=Xc!==0;return Xc=0,e}function si(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?ht.memoizedState=er=e:er=er.next=e,er}function Nn(){if($t===null){var e=ht.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=er===null?ht.memoizedState:er.next;if(t!==null)er=t,$t=e;else{if(e===null)throw Error(G(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},er===null?ht.memoizedState=er=e:er=er.next=e}return er}function Jc(e,t){return typeof t=="function"?t(e):t}function Oy(e){var t=Nn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=$t,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((us&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,ht.lanes|=c,cs|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Qn(n,t.memoizedState)||(Hr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ht.lanes|=a,cs|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ny(e){var t=Nn(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Qn(a,t.memoizedState)||(Hr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lN(){}function uN(e,t){var r=ht,n=Nn(),i=t(),a=!Qn(n.memoizedState,i);if(a&&(n.memoizedState=i,Hr=!0),n=n.queue,qw(fN.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||er!==null&&er.memoizedState.tag&1){if(r.flags|=2048,Zc(9,dN.bind(null,r,n,i,t),void 0,null),rr===null)throw Error(G(349));us&30||cN(r,t,i)}return i}function cN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dN(e,t,r,n){t.value=r,t.getSnapshot=n,hN(t)&&pN(e)}function fN(e,t,r){return r(function(){hN(t)&&pN(e)})}function hN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Qn(e,r)}catch{return!0}}function pN(e){var t=Gi(e,1);t!==null&&Gn(t,e,1,-1)}function KS(e){var t=si();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jc,lastRenderedState:e},t.queue=e,e=e.dispatch=s6.bind(null,ht,e),[t.memoizedState,e]}function Zc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ht.updateQueue,t===null?(t={lastEffect:null,stores:null},ht.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mN(){return Nn().memoizedState}function Uh(e,t,r,n){var i=si();ht.flags|=e,i.memoizedState=Zc(1|t,r,void 0,n===void 0?null:n)}function ig(e,t,r,n){var i=Nn();n=n===void 0?null:n;var a=void 0;if($t!==null){var o=$t.memoizedState;if(a=o.destroy,n!==null&&Ww(n,o.deps)){i.memoizedState=Zc(t,r,a,n);return}}ht.flags|=e,i.memoizedState=Zc(1|t,r,a,n)}function HS(e,t){return Uh(8390656,8,e,t)}function qw(e,t){return ig(2048,8,e,t)}function gN(e,t){return ig(4,2,e,t)}function vN(e,t){return ig(4,4,e,t)}function yN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xN(e,t,r){return r=r!=null?r.concat([e]):null,ig(4,4,yN.bind(null,t,e),r)}function Gw(){}function bN(e,t){var r=Nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ww(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wN(e,t){var r=Nn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Ww(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _N(e,t,r){return us&21?(Qn(r,t)||(r=T2(),ht.lanes|=r,cs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hr=!0),e.memoizedState=r)}function a6(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=Cy.transition;Cy.transition={};try{e(!1),t()}finally{Fe=r,Cy.transition=n}}function EN(){return Nn().memoizedState}function o6(e,t,r){var n=Ya(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kN(e))SN(t,r);else if(r=aN(e,t,r,n),r!==null){var i=Vr();Gn(r,e,n,i),PN(r,t,n)}}function s6(e,t,r){var n=Ya(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kN(e))SN(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Qn(s,o)){var l=t.interleaved;l===null?(i.next=i,Fw(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=aN(e,t,i,n),r!==null&&(i=Vr(),Gn(r,e,n,i),PN(r,t,n))}}function kN(e){var t=e.alternate;return e===ht||t!==null&&t===ht}function SN(e,t){Tc=Pp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function PN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sw(e,r)}}var Tp={readContext:On,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},l6={readContext:On,useCallback:function(e,t){return si().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:HS,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Uh(4194308,4,yN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Uh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uh(4,2,e,t)},useMemo:function(e,t){var r=si();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=si();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o6.bind(null,ht,e),[n.memoizedState,e]},useRef:function(e){var t=si();return e={current:e},t.memoizedState=e},useState:KS,useDebugValue:Gw,useDeferredValue:function(e){return si().memoizedState=e},useTransition:function(){var e=KS(!1),t=e[0];return e=a6.bind(null,e[1]),si().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ht,i=si();if(ot){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),rr===null)throw Error(G(349));us&30||cN(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,HS(fN.bind(null,n,a,e),[e]),n.flags|=2048,Zc(9,dN.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=si(),t=rr.identifierPrefix;if(ot){var r=Ri,n=Di;r=(n&~(1<<32-qn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=i6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},u6={readContext:On,useCallback:bN,useContext:On,useEffect:qw,useImperativeHandle:xN,useInsertionEffect:gN,useLayoutEffect:vN,useMemo:wN,useReducer:Oy,useRef:mN,useState:function(){return Oy(Jc)},useDebugValue:Gw,useDeferredValue:function(e){var t=Nn();return _N(t,$t.memoizedState,e)},useTransition:function(){var e=Oy(Jc)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:lN,useSyncExternalStore:uN,useId:EN,unstable_isNewReconciler:!1},c6={readContext:On,useCallback:bN,useContext:On,useEffect:qw,useImperativeHandle:xN,useInsertionEffect:gN,useLayoutEffect:vN,useMemo:wN,useReducer:Ny,useRef:mN,useState:function(){return Ny(Jc)},useDebugValue:Gw,useDeferredValue:function(e){var t=Nn();return $t===null?t.memoizedState=e:_N(t,$t.memoizedState,e)},useTransition:function(){var e=Ny(Jc)[0],t=Nn().memoizedState;return[e,t]},useMutableSource:lN,useSyncExternalStore:uN,useId:EN,unstable_isNewReconciler:!1};function zn(e,t){if(e&&e.defaultProps){t=gt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ix(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:gt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ag={isMounted:function(e){return(e=e._reactInternals)?Is(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vr(),i=Ya(e),a=zi(n,i);a.payload=t,r!=null&&(a.callback=r),t=qa(e,a,i),t!==null&&(Gn(t,e,i,n),$h(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vr(),i=Ya(e),a=zi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=qa(e,a,i),t!==null&&(Gn(t,e,i,n),$h(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vr(),n=Ya(e),i=zi(r,n);i.tag=2,t!=null&&(i.callback=t),t=qa(e,i,n),t!==null&&(Gn(t,e,n,r),$h(t,e,n))}};function qS(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Kc(r,n)||!Kc(i,a):!0}function TN(e,t,r){var n=!1,i=ao,a=t.contextType;return typeof a=="object"&&a!==null?a=On(a):(i=Yr(t)?ss:Cr.current,n=t.contextTypes,a=(n=n!=null)?Ll(e,i):ao),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ag,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function GS(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ag.enqueueReplaceState(t,t.state,null)}function ax(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},$w(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=On(a):(a=Yr(t)?ss:Cr.current,i.context=Ll(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ix(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ag.enqueueReplaceState(i,i.state,null),kp(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zl(e,t){try{var r="",n=t;do r+=V$(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function jy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ox(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var d6=typeof WeakMap=="function"?WeakMap:Map;function AN(e,t,r){r=zi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ip||(Ip=!0,gx=n),ox(e,t)},r}function IN(e,t,r){r=zi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ox(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ox(e,t),typeof n!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function YS(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new d6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=S6.bind(null,e,t,r),t.then(e,e))}function QS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function XS(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zi(-1,1),t.tag=2,qa(r,t,1))),r.lanes|=1),e)}var f6=la.ReactCurrentOwner,Hr=!1;function Rr(e,t,r,n){t.child=e===null?iN(t,null,r,n):Fl(t,e.child,r,n)}function JS(e,t,r,n,i){r=r.render;var a=t.ref;return El(t,i),n=Kw(e,t,r,n,a,i),r=Hw(),e!==null&&!Hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yi(e,t,i)):(ot&&r&&jw(t),t.flags|=1,Rr(e,t,n,i),t.child)}function ZS(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!r_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,CN(e,t,a,n,i)):(e=Hh(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Kc,r(o,n)&&e.ref===t.ref)return Yi(e,t,i)}return t.flags|=1,e=Qa(a,n),e.ref=t.ref,e.return=t,t.child=e}function CN(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Kc(a,n)&&e.ref===t.ref)if(Hr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Hr=!0);else return t.lanes=e.lanes,Yi(e,t,i)}return sx(e,t,r,n,i)}function ON(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(fl,nn),nn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(fl,nn),nn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Qe(fl,nn),nn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Qe(fl,nn),nn|=n;return Rr(e,t,i,r),t.child}function NN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sx(e,t,r,n,i){var a=Yr(r)?ss:Cr.current;return a=Ll(t,a),El(t,i),r=Kw(e,t,r,n,a,i),n=Hw(),e!==null&&!Hr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yi(e,t,i)):(ot&&n&&jw(t),t.flags|=1,Rr(e,t,r,i),t.child)}function eP(e,t,r,n,i){if(Yr(r)){var a=!0;xp(t)}else a=!1;if(El(t,i),t.stateNode===null)Bh(e,t),TN(t,r,n),ax(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=On(u):(u=Yr(r)?ss:Cr.current,u=Ll(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&GS(t,o,n,u),Ta=!1;var h=t.memoizedState;o.state=h,kp(t,n,o,i),l=t.memoizedState,s!==n||h!==l||Gr.current||Ta?(typeof c=="function"&&(ix(t,r,c,n),l=t.memoizedState),(s=Ta||qS(t,r,s,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,oN(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:zn(t.type,s),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=On(l):(l=Yr(r)?ss:Cr.current,l=Ll(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&GS(t,o,n,l),Ta=!1,h=t.memoizedState,o.state=h,kp(t,n,o,i);var y=t.memoizedState;s!==d||h!==y||Gr.current||Ta?(typeof m=="function"&&(ix(t,r,m,n),y=t.memoizedState),(u=Ta||qS(t,r,u,n,h,y,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return lx(e,t,r,n,a,i)}function lx(e,t,r,n,i,a){NN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&FS(t,r,!1),Yi(e,t,a);n=t.stateNode,f6.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Fl(t,e.child,null,a),t.child=Fl(t,null,s,a)):Rr(e,t,s,a),t.memoizedState=n.state,i&&FS(t,r,!0),t.child}function jN(e){var t=e.stateNode;t.pendingContext?VS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&VS(e,t.context,!1),zw(e,t.containerInfo)}function tP(e,t,r,n,i){return Vl(),Rw(i),t.flags|=256,Rr(e,t,r,n),t.child}var ux={dehydrated:null,treeContext:null,retryLane:0};function cx(e){return{baseLanes:e,cachePool:null,transitions:null}}function DN(e,t,r){var n=t.pendingProps,i=ft.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qe(ft,i&1),e===null)return rx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=lg(o,n,0,null),e=Jo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=cx(r),t.memoizedState=ux,e):Yw(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return h6(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Qa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Qa(s,a):(a=Jo(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?cx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=ux,n}return a=e.child,e=a.sibling,n=Qa(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yw(e,t){return t=lg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function oh(e,t,r,n){return n!==null&&Rw(n),Fl(t,e.child,null,r),e=Yw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function h6(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=jy(Error(G(422))),oh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=lg({mode:"visible",children:n.children},i,0,null),a=Jo(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Fl(t,e.child,null,o),t.child.memoizedState=cx(o),t.memoizedState=ux,a);if(!(t.mode&1))return oh(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(G(419)),n=jy(a,n,void 0),oh(e,t,o,n)}if(s=(o&e.childLanes)!==0,Hr||s){if(n=rr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Gi(e,i),Gn(n,e,i,-1))}return t_(),n=jy(Error(G(421))),oh(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=P6.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ln=Ha(i.nextSibling),dn=t,ot=!0,Bn=null,e!==null&&(En[kn++]=Di,En[kn++]=Ri,En[kn++]=ls,Di=e.id,Ri=e.overflow,ls=t),t=Yw(t,n.children),t.flags|=4096,t)}function rP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nx(e.return,t,r)}function Dy(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function RN(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Rr(e,t,n.children,r),n=ft.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rP(e,r,t);else if(e.tag===19)rP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(ft,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Sp(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Dy(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sp(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Dy(t,!0,r,null,a);break;case"together":Dy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),cs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Qa(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qa(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function p6(e,t,r){switch(t.tag){case 3:jN(t),Vl();break;case 5:sN(t);break;case 1:Yr(t.type)&&xp(t);break;case 4:zw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Qe(_p,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ft,ft.current&1),t.flags|=128,null):r&t.child.childLanes?DN(e,t,r):(Qe(ft,ft.current&1),e=Yi(e,t,r),e!==null?e.sibling:null);Qe(ft,ft.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return RN(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ft,ft.current),n)break;return null;case 22:case 23:return t.lanes=0,ON(e,t,r)}return Yi(e,t,r)}var MN,dx,LN,VN;MN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dx=function(){};LN=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Ko(fi.current);var a=null;switch(r){case"input":i=j0(e,i),n=j0(e,n),a=[];break;case"select":i=gt({},i,{value:void 0}),n=gt({},n,{value:void 0}),a=[];break;case"textarea":i=M0(e,i),n=M0(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=vp)}V0(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Vc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Vc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};VN=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xu(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function br(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function m6(e,t,r){var n=t.pendingProps;switch(Dw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(t),null;case 1:return Yr(t.type)&&yp(),br(t),null;case 3:return n=t.stateNode,$l(),nt(Gr),nt(Cr),Bw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ih(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bn!==null&&(xx(Bn),Bn=null))),dx(e,t),br(t),null;case 5:Uw(t);var i=Ko(Qc.current);if(r=t.type,e!==null&&t.stateNode!=null)LN(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return br(t),null}if(e=Ko(fi.current),ih(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[li]=t,n[Gc]=a,e=(t.mode&1)!==0,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(i=0;i<fc.length;i++)Ze(fc[i],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":dS(n,a),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ze("invalid",n);break;case"textarea":hS(n,a),Ze("invalid",n)}V0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&nh(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&nh(n.textContent,s,e),i=["children",""+s]):Vc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ze("scroll",n)}switch(r){case"input":Yf(n),fS(n,a,!0);break;case"textarea":Yf(n),pS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=vp)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=f2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[li]=t,e[Gc]=n,MN(e,t,!1,!1),t.stateNode=e;e:{switch(o=F0(r,n),r){case"dialog":Ze("cancel",e),Ze("close",e),i=n;break;case"iframe":case"object":case"embed":Ze("load",e),i=n;break;case"video":case"audio":for(i=0;i<fc.length;i++)Ze(fc[i],e);i=n;break;case"source":Ze("error",e),i=n;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),i=n;break;case"details":Ze("toggle",e),i=n;break;case"input":dS(e,n),i=j0(e,n),Ze("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=gt({},n,{value:void 0}),Ze("invalid",e);break;case"textarea":hS(e,n),i=M0(e,n),Ze("invalid",e);break;default:i=n}V0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?m2(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h2(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Fc(e,l):typeof l=="number"&&Fc(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Vc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ze("scroll",e):l!=null&&xw(e,a,l,o))}switch(r){case"input":Yf(e),fS(e,n,!1);break;case"textarea":Yf(e),pS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+io(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?xl(e,!!n.multiple,a,!1):n.defaultValue!=null&&xl(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=vp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return br(t),null;case 6:if(e&&t.stateNode!=null)VN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=Ko(Qc.current),Ko(fi.current),ih(t)){if(n=t.stateNode,r=t.memoizedProps,n[li]=t,(a=n.nodeValue!==r)&&(e=dn,e!==null))switch(e.tag){case 3:nh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nh(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[li]=t,t.stateNode=n}return br(t),null;case 13:if(nt(ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&ln!==null&&t.mode&1&&!(t.flags&128))rN(),Vl(),t.flags|=98560,a=!1;else if(a=ih(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(G(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(G(317));a[li]=t}else Vl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;br(t),a=!1}else Bn!==null&&(xx(Bn),Bn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Ut===0&&(Ut=3):t_())),t.updateQueue!==null&&(t.flags|=4),br(t),null);case 4:return $l(),dx(e,t),e===null&&Hc(t.stateNode.containerInfo),br(t),null;case 10:return Vw(t.type._context),br(t),null;case 17:return Yr(t.type)&&yp(),br(t),null;case 19:if(nt(ft),a=t.memoizedState,a===null)return br(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Xu(a,!1);else{if(Ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sp(e),o!==null){for(t.flags|=128,Xu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(ft,ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&It()>Ul&&(t.flags|=128,n=!0,Xu(a,!1),t.lanes=4194304)}else{if(!n)if(e=Sp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ot)return br(t),null}else 2*It()-a.renderingStartTime>Ul&&r!==1073741824&&(t.flags|=128,n=!0,Xu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=It(),t.sibling=null,r=ft.current,Qe(ft,n?r&1|2:r&1),t):(br(t),null);case 22:case 23:return e_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?nn&1073741824&&(br(t),t.subtreeFlags&6&&(t.flags|=8192)):br(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function g6(e,t){switch(Dw(t),t.tag){case 1:return Yr(t.type)&&yp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $l(),nt(Gr),nt(Cr),Bw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Uw(t),null;case 13:if(nt(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Vl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ft),null;case 4:return $l(),null;case 10:return Vw(t.type._context),null;case 22:case 23:return e_(),null;case 24:return null;default:return null}}var sh=!1,kr=!1,v6=typeof WeakSet=="function"?WeakSet:Set,ee=null;function dl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){kt(e,t,n)}else r.current=null}function fx(e,t,r){try{r()}catch(n){kt(e,t,n)}}var nP=!1;function y6(e,t){if(Y0=pp,e=B2(),Nw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Q0={focusedElem:e,selectionRange:r},pp=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,x=y.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:zn(t.type,b),x);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(T){kt(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return y=nP,nP=!1,y}function Ac(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&fx(t,r,a)}i=i.next}while(i!==n)}}function og(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function FN(e){var t=e.alternate;t!==null&&(e.alternate=null,FN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[li],delete t[Gc],delete t[Z0],delete t[e6],delete t[t6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $N(e){return e.tag===5||e.tag===3||e.tag===4}function iP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$N(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function px(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=vp));else if(n!==4&&(e=e.child,e!==null))for(px(e,t,r),e=e.sibling;e!==null;)px(e,t,r),e=e.sibling}function mx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mx(e,t,r),e=e.sibling;e!==null;)mx(e,t,r),e=e.sibling}var sr=null,Un=!1;function ka(e,t,r){for(r=r.child;r!==null;)zN(e,t,r),r=r.sibling}function zN(e,t,r){if(di&&typeof di.onCommitFiberUnmount=="function")try{di.onCommitFiberUnmount(Jm,r)}catch{}switch(r.tag){case 5:kr||dl(r,t);case 6:var n=sr,i=Un;sr=null,ka(e,t,r),sr=n,Un=i,sr!==null&&(Un?(e=sr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):sr.removeChild(r.stateNode));break;case 18:sr!==null&&(Un?(e=sr,r=r.stateNode,e.nodeType===8?Ty(e.parentNode,r):e.nodeType===1&&Ty(e,r),Bc(e)):Ty(sr,r.stateNode));break;case 4:n=sr,i=Un,sr=r.stateNode.containerInfo,Un=!0,ka(e,t,r),sr=n,Un=i;break;case 0:case 11:case 14:case 15:if(!kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&fx(r,t,o),i=i.next}while(i!==n)}ka(e,t,r);break;case 1:if(!kr&&(dl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){kt(r,t,s)}ka(e,t,r);break;case 21:ka(e,t,r);break;case 22:r.mode&1?(kr=(n=kr)||r.memoizedState!==null,ka(e,t,r),kr=n):ka(e,t,r);break;default:ka(e,t,r)}}function aP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new v6),t.forEach(function(n){var i=T6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function $n(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:sr=s.stateNode,Un=!1;break e;case 3:sr=s.stateNode.containerInfo,Un=!0;break e;case 4:sr=s.stateNode.containerInfo,Un=!0;break e}s=s.return}if(sr===null)throw Error(G(160));zN(a,o,i),sr=null,Un=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){kt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UN(t,e),t=t.sibling}function UN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),ii(e),n&4){try{Ac(3,e,e.return),og(3,e)}catch(b){kt(e,e.return,b)}try{Ac(5,e,e.return)}catch(b){kt(e,e.return,b)}}break;case 1:$n(t,e),ii(e),n&512&&r!==null&&dl(r,r.return);break;case 5:if($n(t,e),ii(e),n&512&&r!==null&&dl(r,r.return),e.flags&32){var i=e.stateNode;try{Fc(i,"")}catch(b){kt(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&c2(i,a),F0(s,o);var u=F0(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?m2(i,d):c==="dangerouslySetInnerHTML"?h2(i,d):c==="children"?Fc(i,d):xw(i,c,d,u)}switch(s){case"input":D0(i,a);break;case"textarea":d2(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?xl(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?xl(i,!!a.multiple,a.defaultValue,!0):xl(i,!!a.multiple,a.multiple?[]:"",!1))}i[Gc]=a}catch(b){kt(e,e.return,b)}}break;case 6:if($n(t,e),ii(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){kt(e,e.return,b)}}break;case 3:if($n(t,e),ii(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Bc(t.containerInfo)}catch(b){kt(e,e.return,b)}break;case 4:$n(t,e),ii(e);break;case 13:$n(t,e),ii(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Jw=It())),n&4&&aP(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(kr=(u=kr)||c,$n(t,e),kr=u):$n(t,e),ii(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ee=e,c=e.child;c!==null;){for(d=ee=c;ee!==null;){switch(h=ee,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ac(4,h,h.return);break;case 1:dl(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){kt(n,r,b)}}break;case 5:dl(h,h.return);break;case 22:if(h.memoizedState!==null){sP(d);continue}}m!==null?(m.return=h,ee=m):sP(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=p2("display",o))}catch(b){kt(e,e.return,b)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){kt(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:$n(t,e),ii(e),n&4&&aP(e);break;case 21:break;default:$n(t,e),ii(e)}}function ii(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($N(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Fc(i,""),n.flags&=-33);var a=iP(e);mx(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=iP(e);px(e,s,o);break;default:throw Error(G(161))}}catch(l){kt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function x6(e,t,r){ee=e,BN(e)}function BN(e,t,r){for(var n=(e.mode&1)!==0;ee!==null;){var i=ee,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||sh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||kr;s=sh;var u=kr;if(sh=o,(kr=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?lP(i):l!==null?(l.return=o,ee=l):lP(i);for(;a!==null;)ee=a,BN(a),a=a.sibling;ee=i,sh=s,kr=u}oP(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ee=a):oP(e)}}function oP(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kr||og(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!kr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:zn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&WS(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}WS(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Bc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}kr||t.flags&512&&hx(t)}catch(h){kt(t,t.return,h)}}if(t===e){ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,ee=r;break}ee=t.return}}function sP(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ee=r;break}ee=t.return}}function lP(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{og(4,t)}catch(l){kt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){kt(t,i,l)}}var a=t.return;try{hx(t)}catch(l){kt(t,a,l)}break;case 5:var o=t.return;try{hx(t)}catch(l){kt(t,o,l)}}}catch(l){kt(t,t.return,l)}if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}var b6=Math.ceil,Ap=la.ReactCurrentDispatcher,Qw=la.ReactCurrentOwner,An=la.ReactCurrentBatchConfig,Oe=0,rr=null,Dt=null,fr=0,nn=0,fl=yo(0),Ut=0,ed=null,cs=0,sg=0,Xw=0,Ic=null,Wr=null,Jw=0,Ul=1/0,Ii=null,Ip=!1,gx=null,Ga=null,lh=!1,Fa=null,Cp=0,Cc=0,vx=null,Wh=-1,Kh=0;function Vr(){return Oe&6?It():Wh!==-1?Wh:Wh=It()}function Ya(e){return e.mode&1?Oe&2&&fr!==0?fr&-fr:n6.transition!==null?(Kh===0&&(Kh=T2()),Kh):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:D2(e.type)),e):1}function Gn(e,t,r,n){if(50<Cc)throw Cc=0,vx=null,Error(G(185));Dd(e,r,n),(!(Oe&2)||e!==rr)&&(e===rr&&(!(Oe&2)&&(sg|=r),Ut===4&&Oa(e,fr)),Qr(e,n),r===1&&Oe===0&&!(t.mode&1)&&(Ul=It()+500,ng&&xo()))}function Qr(e,t){var r=e.callbackNode;n5(e,t);var n=hp(e,e===rr?fr:0);if(n===0)r!==null&&vS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&vS(r),t===1)e.tag===0?r6(uP.bind(null,e)):Z2(uP.bind(null,e)),J5(function(){!(Oe&6)&&xo()}),r=null;else{switch(A2(n)){case 1:r=kw;break;case 4:r=S2;break;case 16:r=fp;break;case 536870912:r=P2;break;default:r=fp}r=XN(r,WN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function WN(e,t){if(Wh=-1,Kh=0,Oe&6)throw Error(G(327));var r=e.callbackNode;if(kl()&&e.callbackNode!==r)return null;var n=hp(e,e===rr?fr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Op(e,n);else{t=n;var i=Oe;Oe|=2;var a=HN();(rr!==e||fr!==t)&&(Ii=null,Ul=It()+500,Xo(e,t));do try{E6();break}catch(s){KN(e,s)}while(!0);Lw(),Ap.current=a,Oe=i,Dt!==null?t=0:(rr=null,fr=0,t=Ut)}if(t!==0){if(t===2&&(i=W0(e),i!==0&&(n=i,t=yx(e,i))),t===1)throw r=ed,Xo(e,0),Oa(e,n),Qr(e,It()),r;if(t===6)Oa(e,n);else{if(i=e.current.alternate,!(n&30)&&!w6(i)&&(t=Op(e,n),t===2&&(a=W0(e),a!==0&&(n=a,t=yx(e,a))),t===1))throw r=ed,Xo(e,0),Oa(e,n),Qr(e,It()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:Vo(e,Wr,Ii);break;case 3:if(Oa(e,n),(n&130023424)===n&&(t=Jw+500-It(),10<t)){if(hp(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Vr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=J0(Vo.bind(null,e,Wr,Ii),t);break}Vo(e,Wr,Ii);break;case 4:if(Oa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-qn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b6(n/1960))-n,10<n){e.timeoutHandle=J0(Vo.bind(null,e,Wr,Ii),n);break}Vo(e,Wr,Ii);break;case 5:Vo(e,Wr,Ii);break;default:throw Error(G(329))}}}return Qr(e,It()),e.callbackNode===r?WN.bind(null,e):null}function yx(e,t){var r=Ic;return e.current.memoizedState.isDehydrated&&(Xo(e,t).flags|=256),e=Op(e,t),e!==2&&(t=Wr,Wr=r,t!==null&&xx(t)),e}function xx(e){Wr===null?Wr=e:Wr.push.apply(Wr,e)}function w6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Qn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Oa(e,t){for(t&=~Xw,t&=~sg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qn(t),n=1<<r;e[r]=-1,t&=~n}}function uP(e){if(Oe&6)throw Error(G(327));kl();var t=hp(e,0);if(!(t&1))return Qr(e,It()),null;var r=Op(e,t);if(e.tag!==0&&r===2){var n=W0(e);n!==0&&(t=n,r=yx(e,n))}if(r===1)throw r=ed,Xo(e,0),Oa(e,t),Qr(e,It()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Vo(e,Wr,Ii),Qr(e,It()),null}function Zw(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(Ul=It()+500,ng&&xo())}}function ds(e){Fa!==null&&Fa.tag===0&&!(Oe&6)&&kl();var t=Oe;Oe|=1;var r=An.transition,n=Fe;try{if(An.transition=null,Fe=1,e)return e()}finally{Fe=n,An.transition=r,Oe=t,!(Oe&6)&&xo()}}function e_(){nn=fl.current,nt(fl)}function Xo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,X5(r)),Dt!==null)for(r=Dt.return;r!==null;){var n=r;switch(Dw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yp();break;case 3:$l(),nt(Gr),nt(Cr),Bw();break;case 5:Uw(n);break;case 4:$l();break;case 13:nt(ft);break;case 19:nt(ft);break;case 10:Vw(n.type._context);break;case 22:case 23:e_()}r=r.return}if(rr=e,Dt=e=Qa(e.current,null),fr=nn=t,Ut=0,ed=null,Xw=sg=cs=0,Wr=Ic=null,Wo!==null){for(t=0;t<Wo.length;t++)if(r=Wo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Wo=null}return e}function KN(e,t){do{var r=Dt;try{if(Lw(),zh.current=Tp,Pp){for(var n=ht.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Pp=!1}if(us=0,er=$t=ht=null,Tc=!1,Xc=0,Qw.current=null,r===null||r.return===null){Ut=1,ed=t,Dt=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=fr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=QS(o);if(m!==null){m.flags&=-257,XS(m,o,s,a,t),m.mode&1&&YS(a,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var b=new Set;b.add(l),t.updateQueue=b}else y.add(l);break e}else{if(!(t&1)){YS(a,u,t),t_();break e}l=Error(G(426))}}else if(ot&&s.mode&1){var x=QS(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),XS(x,o,s,a,t),Rw(zl(l,s));break e}}a=l=zl(l,s),Ut!==4&&(Ut=2),Ic===null?Ic=[a]:Ic.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var v=AN(a,l,t);BS(a,v);break e;case 1:s=l;var _=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ga===null||!Ga.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=IN(a,s,t);BS(a,T);break e}}a=a.return}while(a!==null)}GN(r)}catch(I){t=I,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(!0)}function HN(){var e=Ap.current;return Ap.current=Tp,e===null?Tp:e}function t_(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),rr===null||!(cs&268435455)&&!(sg&268435455)||Oa(rr,fr)}function Op(e,t){var r=Oe;Oe|=2;var n=HN();(rr!==e||fr!==t)&&(Ii=null,Xo(e,t));do try{_6();break}catch(i){KN(e,i)}while(!0);if(Lw(),Oe=r,Ap.current=n,Dt!==null)throw Error(G(261));return rr=null,fr=0,Ut}function _6(){for(;Dt!==null;)qN(Dt)}function E6(){for(;Dt!==null&&!G$();)qN(Dt)}function qN(e){var t=QN(e.alternate,e,nn);e.memoizedProps=e.pendingProps,t===null?GN(e):Dt=t,Qw.current=null}function GN(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=g6(r,t),r!==null){r.flags&=32767,Dt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ut=6,Dt=null;return}}else if(r=m6(r,t,nn),r!==null){Dt=r;return}if(t=t.sibling,t!==null){Dt=t;return}Dt=t=e}while(t!==null);Ut===0&&(Ut=5)}function Vo(e,t,r){var n=Fe,i=An.transition;try{An.transition=null,Fe=1,k6(e,t,r,n)}finally{An.transition=i,Fe=n}return null}function k6(e,t,r,n){do kl();while(Fa!==null);if(Oe&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(i5(e,a),e===rr&&(Dt=rr=null,fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||lh||(lh=!0,XN(fp,function(){return kl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=An.transition,An.transition=null;var o=Fe;Fe=1;var s=Oe;Oe|=4,Qw.current=null,y6(e,r),UN(r,e),W5(Q0),pp=!!Y0,Q0=Y0=null,e.current=r,x6(r),Y$(),Oe=s,Fe=o,An.transition=a}else e.current=r;if(lh&&(lh=!1,Fa=e,Cp=i),a=e.pendingLanes,a===0&&(Ga=null),J$(r.stateNode),Qr(e,It()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ip)throw Ip=!1,e=gx,gx=null,e;return Cp&1&&e.tag!==0&&kl(),a=e.pendingLanes,a&1?e===vx?Cc++:(Cc=0,vx=e):Cc=0,xo(),null}function kl(){if(Fa!==null){var e=A2(Cp),t=An.transition,r=Fe;try{if(An.transition=null,Fe=16>e?16:e,Fa===null)var n=!1;else{if(e=Fa,Fa=null,Cp=0,Oe&6)throw Error(G(331));var i=Oe;for(Oe|=4,ee=e.current;ee!==null;){var a=ee,o=a.child;if(ee.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:Ac(8,c,a)}var d=c.child;if(d!==null)d.return=c,ee=d;else for(;ee!==null;){c=ee;var h=c.sibling,m=c.return;if(FN(c),c===u){ee=null;break}if(h!==null){h.return=m,ee=h;break}ee=m}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ee=o;else e:for(;ee!==null;){if(a=ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ac(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,ee=v;break e}ee=a.return}}var _=e.current;for(ee=_;ee!==null;){o=ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ee=E;else e:for(o=_;ee!==null;){if(s=ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:og(9,s)}}catch(I){kt(s,s.return,I)}if(s===o){ee=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,ee=T;break e}ee=s.return}}if(Oe=i,xo(),di&&typeof di.onPostCommitFiberRoot=="function")try{di.onPostCommitFiberRoot(Jm,e)}catch{}n=!0}return n}finally{Fe=r,An.transition=t}}return!1}function cP(e,t,r){t=zl(r,t),t=AN(e,t,1),e=qa(e,t,1),t=Vr(),e!==null&&(Dd(e,1,t),Qr(e,t))}function kt(e,t,r){if(e.tag===3)cP(e,e,r);else for(;t!==null;){if(t.tag===3){cP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ga===null||!Ga.has(n))){e=zl(r,e),e=IN(t,e,1),t=qa(t,e,1),e=Vr(),t!==null&&(Dd(t,1,e),Qr(t,e));break}}t=t.return}}function S6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Vr(),e.pingedLanes|=e.suspendedLanes&r,rr===e&&(fr&r)===r&&(Ut===4||Ut===3&&(fr&130023424)===fr&&500>It()-Jw?Xo(e,0):Xw|=r),Qr(e,t)}function YN(e,t){t===0&&(e.mode&1?(t=Jf,Jf<<=1,!(Jf&130023424)&&(Jf=4194304)):t=1);var r=Vr();e=Gi(e,t),e!==null&&(Dd(e,t,r),Qr(e,r))}function P6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),YN(e,r)}function T6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),YN(e,r)}var QN;QN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Gr.current)Hr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hr=!1,p6(e,t,r);Hr=!!(e.flags&131072)}else Hr=!1,ot&&t.flags&1048576&&eN(t,wp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bh(e,t),e=t.pendingProps;var i=Ll(t,Cr.current);El(t,r),i=Kw(null,t,n,e,i,r);var a=Hw();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yr(n)?(a=!0,xp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$w(t),i.updater=ag,t.stateNode=i,i._reactInternals=t,ax(t,n,e,r),t=lx(null,t,n,!0,a,r)):(t.tag=0,ot&&a&&jw(t),Rr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=I6(n),e=zn(n,e),i){case 0:t=sx(null,t,n,e,r);break e;case 1:t=eP(null,t,n,e,r);break e;case 11:t=JS(null,t,n,e,r);break e;case 14:t=ZS(null,t,n,zn(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),sx(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),eP(e,t,n,i,r);case 3:e:{if(jN(t),e===null)throw Error(G(387));n=t.pendingProps,a=t.memoizedState,i=a.element,oN(e,t),kp(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=zl(Error(G(423)),t),t=tP(e,t,n,r,i);break e}else if(n!==i){i=zl(Error(G(424)),t),t=tP(e,t,n,r,i);break e}else for(ln=Ha(t.stateNode.containerInfo.firstChild),dn=t,ot=!0,Bn=null,r=iN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vl(),n===i){t=Yi(e,t,r);break e}Rr(e,t,n,r)}t=t.child}return t;case 5:return sN(t),e===null&&rx(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,X0(n,i)?o=null:a!==null&&X0(n,a)&&(t.flags|=32),NN(e,t),Rr(e,t,o,r),t.child;case 6:return e===null&&rx(t),null;case 13:return DN(e,t,r);case 4:return zw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fl(t,null,n,r):Rr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),JS(e,t,n,i,r);case 7:return Rr(e,t,t.pendingProps,r),t.child;case 8:return Rr(e,t,t.pendingProps.children,r),t.child;case 12:return Rr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Qe(_p,n._currentValue),n._currentValue=o,a!==null)if(Qn(a.value,o)){if(a.children===i.children&&!Gr.current){t=Yi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=zi(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),nx(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(G(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),nx(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Rr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,El(t,r),i=On(i),n=n(i),t.flags|=1,Rr(e,t,n,r),t.child;case 14:return n=t.type,i=zn(n,t.pendingProps),i=zn(n.type,i),ZS(e,t,n,i,r);case 15:return CN(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zn(n,i),Bh(e,t),t.tag=1,Yr(n)?(e=!0,xp(t)):e=!1,El(t,r),TN(t,n,i),ax(t,n,i,r),lx(null,t,n,!0,e,r);case 19:return RN(e,t,r);case 22:return ON(e,t,r)}throw Error(G(156,t.tag))};function XN(e,t){return k2(e,t)}function A6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,r,n){return new A6(e,t,r,n)}function r_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I6(e){if(typeof e=="function")return r_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ww)return 11;if(e===_w)return 14}return 2}function Qa(e,t){var r=e.alternate;return r===null?(r=Sn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hh(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")r_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case rl:return Jo(r.children,i,a,t);case bw:o=8,i|=8;break;case I0:return e=Sn(12,r,t,i|2),e.elementType=I0,e.lanes=a,e;case C0:return e=Sn(13,r,t,i),e.elementType=C0,e.lanes=a,e;case O0:return e=Sn(19,r,t,i),e.elementType=O0,e.lanes=a,e;case s2:return lg(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a2:o=10;break e;case o2:o=9;break e;case ww:o=11;break e;case _w:o=14;break e;case Pa:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Sn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Jo(e,t,r,n){return e=Sn(7,e,n,t),e.lanes=r,e}function lg(e,t,r,n){return e=Sn(22,e,n,t),e.elementType=s2,e.lanes=r,e.stateNode={isHidden:!1},e}function Ry(e,t,r){return e=Sn(6,e,null,t),e.lanes=r,e}function My(e,t,r){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gy(0),this.expirationTimes=gy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function n_(e,t,r,n,i,a,o,s,l){return e=new C6(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Sn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$w(a),e}function O6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JN(e){if(!e)return ao;e=e._reactInternals;e:{if(Is(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(Yr(r))return J2(e,r,t)}return t}function ZN(e,t,r,n,i,a,o,s,l){return e=n_(r,n,!0,e,i,a,o,s,l),e.context=JN(null),r=e.current,n=Vr(),i=Ya(r),a=zi(n,i),a.callback=t??null,qa(r,a,i),e.current.lanes=i,Dd(e,i,n),Qr(e,n),e}function ug(e,t,r,n){var i=t.current,a=Vr(),o=Ya(i);return r=JN(r),t.context===null?t.context=r:t.pendingContext=r,t=zi(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qa(i,t,o),e!==null&&(Gn(e,i,o,a),$h(e,i,o)),o}function Np(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function i_(e,t){dP(e,t),(e=e.alternate)&&dP(e,t)}function N6(){return null}var ej=typeof reportError=="function"?reportError:function(e){console.error(e)};function a_(e){this._internalRoot=e}cg.prototype.render=a_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));ug(e,t,null,null)};cg.prototype.unmount=a_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ds(function(){ug(null,e,null,null)}),t[qi]=null}};function cg(e){this._internalRoot=e}cg.prototype.unstable_scheduleHydration=function(e){if(e){var t=O2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ca.length&&t!==0&&t<Ca[r].priority;r++);Ca.splice(r,0,e),r===0&&j2(e)}};function o_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function dg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fP(){}function j6(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Np(o);a.call(u)}}var o=ZN(t,n,e,0,null,!1,!1,"",fP);return e._reactRootContainer=o,e[qi]=o.current,Hc(e.nodeType===8?e.parentNode:e),ds(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Np(l);s.call(u)}}var l=n_(e,0,!1,null,null,!1,!1,"",fP);return e._reactRootContainer=l,e[qi]=l.current,Hc(e.nodeType===8?e.parentNode:e),ds(function(){ug(t,l,r,n)}),l}function fg(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Np(o);s.call(l)}}ug(t,o,e,i)}else o=j6(r,t,e,i,n);return Np(o)}I2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dc(t.pendingLanes);r!==0&&(Sw(t,r|1),Qr(t,It()),!(Oe&6)&&(Ul=It()+500,xo()))}break;case 13:ds(function(){var n=Gi(e,1);if(n!==null){var i=Vr();Gn(n,e,1,i)}}),i_(e,1)}};Pw=function(e){if(e.tag===13){var t=Gi(e,134217728);if(t!==null){var r=Vr();Gn(t,e,134217728,r)}i_(e,134217728)}};C2=function(e){if(e.tag===13){var t=Ya(e),r=Gi(e,t);if(r!==null){var n=Vr();Gn(r,e,t,n)}i_(e,t)}};O2=function(){return Fe};N2=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}};z0=function(e,t,r){switch(t){case"input":if(D0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=rg(n);if(!i)throw Error(G(90));u2(n),D0(n,i)}}}break;case"textarea":d2(e,r);break;case"select":t=r.value,t!=null&&xl(e,!!r.multiple,t,!1)}};y2=Zw;x2=ds;var D6={usingClientEntryPoint:!1,Events:[Md,ol,rg,g2,v2,Zw]},Ju={findFiberByHostInstance:Bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},R6={bundleType:Ju.bundleType,version:Ju.version,rendererPackageName:Ju.rendererPackageName,rendererConfig:Ju.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:la.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_2(e),e===null?null:e.stateNode},findFiberByHostInstance:Ju.findFiberByHostInstance||N6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Jm=uh.inject(R6),di=uh}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D6;mn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!o_(t))throw Error(G(200));return O6(e,t,null,r)};mn.createRoot=function(e,t){if(!o_(e))throw Error(G(299));var r=!1,n="",i=ej;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=n_(e,1,!1,null,null,r,!1,n,i),e[qi]=t.current,Hc(e.nodeType===8?e.parentNode:e),new a_(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=_2(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return ds(e)};mn.hydrate=function(e,t,r){if(!dg(t))throw Error(G(200));return fg(null,e,t,!0,r)};mn.hydrateRoot=function(e,t,r){if(!o_(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=ej;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ZN(t,null,e,1,r??null,i,!1,a,o),e[qi]=t.current,Hc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new cg(t)};mn.render=function(e,t,r){if(!dg(t))throw Error(G(200));return fg(null,e,t,!1,r)};mn.unmountComponentAtNode=function(e){if(!dg(e))throw Error(G(40));return e._reactRootContainer?(ds(function(){fg(null,null,e,!1,function(){e._reactRootContainer=null,e[qi]=null})}),!0):!1};mn.unstable_batchedUpdates=Zw;mn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!dg(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return fg(e,t,r,!1,n)};mn.version="18.3.1-next-f1338f8080-20240426";function tj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tj)}catch(e){console.error(e)}}tj(),t2.exports=mn;var hg=t2.exports,hP=hg;T0.createRoot=hP.createRoot,T0.hydrateRoot=hP.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},td.apply(this,arguments)}var $a;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($a||($a={}));const pP="popstate";function M6(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return bx("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:jp(i)}return V6(t,r,null,e)}function pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function s_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L6(){return Math.random().toString(36).substr(2,8)}function mP(e,t){return{usr:e.state,key:e.key,idx:t}}function bx(e,t,r,n){return r===void 0&&(r=null),td({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cu(t):t,{state:r,key:t&&t.key||n||L6()})}function jp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function cu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function V6(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=$a.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(td({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=$a.Pop;let x=c(),v=x==null?null:x-u;u=x,l&&l({action:s,location:b.location,delta:v})}function h(x,v){s=$a.Push;let _=bx(b.location,x,v);u=c()+1;let E=mP(_,u),T=b.createHref(_);try{o.pushState(E,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}a&&l&&l({action:s,location:b.location,delta:1})}function m(x,v){s=$a.Replace;let _=bx(b.location,x,v);u=c();let E=mP(_,u),T=b.createHref(_);o.replaceState(E,"",T),a&&l&&l({action:s,location:b.location,delta:0})}function y(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:jp(x);return _=_.replace(/ $/,"%20"),pt(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let b={get action(){return s},get location(){return e(i,o)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pP,d),l=x,()=>{i.removeEventListener(pP,d),l=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let v=y(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(x){return o.go(x)}};return b}var gP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(gP||(gP={}));function F6(e,t,r){return r===void 0&&(r="/"),$6(e,t,r)}function $6(e,t,r,n){let i=typeof t=="string"?cu(t):t,a=Bl(i.pathname||"/",r);if(a==null)return null;let o=rj(e);z6(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=J6(a);s=Q6(o[l],u)}return s}function rj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Xa([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),rj(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:G6(u,a.index),routesMeta:c})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of nj(a.path))i(a,o,l)}),t}function nj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=nj(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function z6(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Y6(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const U6=/^:[\w-]+$/,B6=3,W6=2,K6=1,H6=10,q6=-2,vP=e=>e==="*";function G6(e,t){let r=e.split("/"),n=r.length;return r.some(vP)&&(n+=q6),t&&(n+=W6),r.filter(i=>!vP(i)).reduce((i,a)=>i+(U6.test(a)?B6:a===""?K6:H6),n)}function Y6(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Q6(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=wx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Xa([a,d.pathname]),pathnameBase:nz(Xa([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=Xa([a,d.pathnameBase]))}return o}function wx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=X6(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let b=s[d]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=s[d];return m&&!y?u[h]=void 0:u[h]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function X6(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),s_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function J6(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return s_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Bl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Z6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ez=e=>Z6.test(e);function tz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?cu(e):e,a;if(r)if(ez(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),s_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=yP(r.substring(1),"/"):a=yP(r,t)}else a=t;return{pathname:a,search:iz(n),hash:az(i)}}function yP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ly(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function l_(e,t){let r=rz(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function u_(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=cu(e):(i=td({},e),pt(!i.pathname||!i.pathname.includes("?"),Ly("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Ly("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Ly("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=tz(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Xa=e=>e.join("/").replace(/\/\/+/g,"/"),nz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),iz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,az=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ij=["post","put","patch","delete"];new Set(ij);const sz=["get",...ij];new Set(sz);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rd.apply(this,arguments)}const pg=g.createContext(null),aj=g.createContext(null),ua=g.createContext(null),mg=g.createContext(null),bo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),oj=g.createContext(null);function lz(e,t){let{relative:r}=t===void 0?{}:t;du()||pt(!1);let{basename:n,navigator:i}=g.useContext(ua),{hash:a,pathname:o,search:s}=gg(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Xa([n,o])),i.createHref({pathname:l,search:s,hash:a})}function du(){return g.useContext(mg)!=null}function Cs(){return du()||pt(!1),g.useContext(mg).location}function sj(e){g.useContext(ua).static||g.useLayoutEffect(e)}function c_(){let{isDataRoute:e}=g.useContext(bo);return e?wz():uz()}function uz(){du()||pt(!1);let e=g.useContext(pg),{basename:t,future:r,navigator:n}=g.useContext(ua),{matches:i}=g.useContext(bo),{pathname:a}=Cs(),o=JSON.stringify(l_(i,r.v7_relativeSplatPath)),s=g.useRef(!1);return sj(()=>{s.current=!0}),g.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=u_(u,JSON.parse(o),a,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Xa([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,a,e])}function gg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(ua),{matches:i}=g.useContext(bo),{pathname:a}=Cs(),o=JSON.stringify(l_(i,n.v7_relativeSplatPath));return g.useMemo(()=>u_(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function cz(e,t){return dz(e,t)}function dz(e,t,r,n){du()||pt(!1);let{navigator:i}=g.useContext(ua),{matches:a}=g.useContext(bo),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Cs(),c;if(t){var d;let x=typeof t=="string"?cu(t):t;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||pt(!1),c=x}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=F6(e,{pathname:m}),b=gz(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:Xa([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:Xa([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&b?g.createElement(mg.Provider,{value:{location:rd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$a.Pop}},b):b}function fz(){let e=bz(),t=oz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:i},r):null,null)}const hz=g.createElement(fz,null);class pz extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(bo.Provider,{value:this.props.routeContext},g.createElement(oj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mz(e){let{routeContext:t,match:r,children:n}=e,i=g.useContext(pg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(bo.Provider,{value:t},n)}function gz(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||pt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=r,y=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,y=!1,b=null,x=null;r&&(m=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||hz,l&&(u<0&&h===0?(_z("route-fallback"),y=!0,x=null):u===h&&(y=!0,x=d.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),_=()=>{let E;return m?E=b:y?E=x:d.route.Component?E=g.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,g.createElement(mz,{match:d,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:E})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(pz,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var lj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lj||{}),uj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uj||{});function vz(e){let t=g.useContext(pg);return t||pt(!1),t}function yz(e){let t=g.useContext(aj);return t||pt(!1),t}function xz(e){let t=g.useContext(bo);return t||pt(!1),t}function cj(e){let t=xz(),r=t.matches[t.matches.length-1];return r.route.id||pt(!1),r.route.id}function bz(){var e;let t=g.useContext(oj),r=yz(),n=cj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function wz(){let{router:e}=vz(lj.UseNavigateStable),t=cj(uj.UseNavigateStable),r=g.useRef(!1);return sj(()=>{r.current=!0}),g.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,rd({fromRouteId:t},a)))},[e,t])}const xP={};function _z(e,t,r){xP[e]||(xP[e]=!0)}function Ez(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kz(e){let{to:t,replace:r,state:n,relative:i}=e;du()||pt(!1);let{future:a,static:o}=g.useContext(ua),{matches:s}=g.useContext(bo),{pathname:l}=Cs(),u=c_(),c=u_(t,l_(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return g.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function Ai(e){pt(!1)}function Sz(e){let{basename:t="/",children:r=null,location:n,navigationType:i=$a.Pop,navigator:a,static:o=!1,future:s}=e;du()&&pt(!1);let l=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:a,static:o,future:rd({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=cu(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:y="default"}=n,b=g.useMemo(()=>{let x=Bl(c,l);return x==null?null:{location:{pathname:x,search:d,hash:h,state:m,key:y},navigationType:i}},[l,c,d,h,m,y,i]);return b==null?null:g.createElement(ua.Provider,{value:u},g.createElement(mg.Provider,{children:r,value:b}))}function Pz(e){let{children:t,location:r}=e;return cz(_x(t),r)}new Promise(()=>{});function _x(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,i)=>{if(!g.isValidElement(n))return;let a=[...t,i];if(n.type===g.Fragment){r.push.apply(r,_x(n.props.children,a));return}n.type!==Ai&&pt(!1),!n.props.index||!n.props.children||pt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=_x(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dp(){return Dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dp.apply(this,arguments)}function dj(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Tz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Az(e,t){return e.button===0&&(!t||t==="_self")&&!Tz(e)}const Iz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Oz="6";try{window.__reactRouterVersion=Oz}catch{}const Nz=g.createContext({isTransitioning:!1}),jz="startTransition",bP=ZO[jz];function Dz(e){let{basename:t,children:r,future:n,window:i}=e,a=g.useRef();a.current==null&&(a.current=M6({window:i,v5Compat:!0}));let o=a.current,[s,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=g.useCallback(d=>{u&&bP?bP(()=>l(d)):l(d)},[l,u]);return g.useLayoutEffect(()=>o.listen(c),[o,c]),g.useEffect(()=>Ez(n),[n]),g.createElement(Sz,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const Rz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lz=g.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=dj(t,Iz),{basename:m}=g.useContext(ua),y,b=!1;if(typeof u=="string"&&Mz.test(u)&&(y=u,Rz))try{let E=new URL(window.location.href),T=u.startsWith("//")?new URL(E.protocol+u):new URL(u),I=Bl(T.pathname,m);T.origin===E.origin&&I!=null?u=I+T.search+T.hash:b=!0}catch{}let x=lz(u,{relative:i}),v=Fz(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(E){n&&n(E),E.defaultPrevented||v(E)}return g.createElement("a",Dp({},h,{href:y||x,onClick:b||a?n:_,ref:r,target:l}))}),wP=g.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,viewTransition:u,children:c}=t,d=dj(t,Cz),h=gg(l,{relative:d.relative}),m=Cs(),y=g.useContext(aj),{navigator:b,basename:x}=g.useContext(ua),v=y!=null&&$z(h)&&u===!0,_=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,E=m.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(E=E.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&x&&(T=Bl(T,x)||T);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let D=E===_||!o&&E.startsWith(_)&&E.charAt(I)==="/",P=T!=null&&(T===_||!o&&T.startsWith(_)&&T.charAt(_.length)==="/"),S={isActive:D,isPending:P,isTransitioning:v},C=D?n:void 0,O;typeof a=="function"?O=a(S):O=[a,D?"active":null,P?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let j=typeof s=="function"?s(S):s;return g.createElement(Lz,Dp({},d,{"aria-current":C,className:O,ref:r,style:j,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var Ex;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ex||(Ex={}));var _P;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_P||(_P={}));function Vz(e){let t=g.useContext(pg);return t||pt(!1),t}function Fz(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,l=c_(),u=Cs(),c=gg(e,{relative:o});return g.useCallback(d=>{if(Az(d,r)){d.preventDefault();let h=n!==void 0?n:jp(u)===jp(c);l(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,n,i,r,e,a,o,s])}function $z(e,t){t===void 0&&(t={});let r=g.useContext(Nz);r==null&&pt(!1);let{basename:n}=Vz(Ex.useViewTransitionState),i=gg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Bl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Bl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return wx(i.pathname,o)!=null||wx(i.pathname,a)!=null}var EP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},zz=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],s=e[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},hj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),n.push(r[c],r[d],r[h],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(fj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):zz(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new Uz;const h=a<<2|s>>4;if(n.push(h),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const y=u<<6&192|d;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Uz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bz=function(e){const t=fj(e);return hj.encodeByteArray(t,!0)},Rp=function(e){return Bz(e).replace(/\./g,"")},pj=function(e){try{return hj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kz=()=>Wz().__FIREBASE_DEFAULTS__,Hz=()=>{if(typeof process>"u"||typeof EP>"u")return;const e=EP.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},qz=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&pj(e[1]);return t&&JSON.parse(t)},vg=()=>{try{return Kz()||Hz()||qz()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},mj=e=>{var t,r;return(r=(t=vg())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},Gz=e=>{const t=mj(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},gj=()=>{var e;return(e=vg())===null||e===void 0?void 0:e.config},vj=e=>{var t;return(t=vg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qz(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Rp(JSON.stringify(r)),Rp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Xz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Or())}function Jz(){var e;const t=(e=vg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Zz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eU(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function tU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rU(){const e=Or();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function nU(){return!Jz()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iU(){try{return typeof indexedDB=="object"}catch{return!1}}function aU(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU="FirebaseError";class ca extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=oU,Object.setPrototypeOf(this,ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vd.prototype.create)}}class Vd{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?sU(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ca(i,s,n)}}function sU(e,t){return e.replace(lU,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const lU=/\{\$([^}]+)}/g;function uU(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mp(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(kP(a)&&kP(o)){if(!Mp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function kP(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function hc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function pc(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function cU(e,t){const r=new dU(e,t);return r.subscribe.bind(r)}class dU{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");fU(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=Vy),i.error===void 0&&(i.error=Vy),i.complete===void 0&&(i.complete=Vy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fU(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Vy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(e){return e&&e._delegate?e._delegate:e}class fs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hU=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new Yz;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mU(t))try{this.getOrInitializeService({instanceIdentifier:Fo})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Fo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fo){return this.instances.has(t)}getOptions(t=Fo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:pU(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Fo){return this.component?this.component.multipleInstances?t:Fo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function pU(e){return e===Fo?void 0:e}function mU(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new hU(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));const vU={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},yU=Te.INFO,xU={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},bU=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=xU[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class d_{constructor(t){this.name=t,this._logLevel=yU,this._logHandler=bU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vU[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const wU=(e,t)=>t.some(r=>e instanceof r);let SP,PP;function _U(){return SP||(SP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EU(){return PP||(PP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yj=new WeakMap,kx=new WeakMap,xj=new WeakMap,Fy=new WeakMap,f_=new WeakMap;function kU(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Ja(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&yj.set(r,e)}).catch(()=>{}),f_.set(t,e),t}function SU(e){if(kx.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});kx.set(e,t)}let Sx={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return kx.get(e);if(t==="objectStoreNames")return e.objectStoreNames||xj.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ja(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function PU(e){Sx=e(Sx)}function TU(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call($y(this),t,...r);return xj.set(n,t.sort?t.sort():[t]),Ja(n)}:EU().includes(e)?function(...t){return e.apply($y(this),t),Ja(yj.get(this))}:function(...t){return Ja(e.apply($y(this),t))}}function AU(e){return typeof e=="function"?TU(e):(e instanceof IDBTransaction&&SU(e),wU(e,_U())?new Proxy(e,Sx):e)}function Ja(e){if(e instanceof IDBRequest)return kU(e);if(Fy.has(e))return Fy.get(e);const t=AU(e);return t!==e&&(Fy.set(e,t),f_.set(t,e)),t}const $y=e=>f_.get(e);function IU(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Ja(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ja(o.result),l.oldVersion,l.newVersion,Ja(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const CU=["get","getKey","getAll","getAllKeys","count"],OU=["put","add","delete","clear"],zy=new Map;function TP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(zy.get(t))return zy.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=OU.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||CU.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return zy.set(t,a),a}PU(e=>({...e,get:(t,r,n)=>TP(t,r)||e.get(t,r,n),has:(t,r)=>!!TP(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(jU(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function jU(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Px="@firebase/app",AP="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new d_("@firebase/app"),DU="@firebase/app-compat",RU="@firebase/analytics-compat",MU="@firebase/analytics",LU="@firebase/app-check-compat",VU="@firebase/app-check",FU="@firebase/auth",$U="@firebase/auth-compat",zU="@firebase/database",UU="@firebase/data-connect",BU="@firebase/database-compat",WU="@firebase/functions",KU="@firebase/functions-compat",HU="@firebase/installations",qU="@firebase/installations-compat",GU="@firebase/messaging",YU="@firebase/messaging-compat",QU="@firebase/performance",XU="@firebase/performance-compat",JU="@firebase/remote-config",ZU="@firebase/remote-config-compat",eB="@firebase/storage",tB="@firebase/storage-compat",rB="@firebase/firestore",nB="@firebase/vertexai-preview",iB="@firebase/firestore-compat",aB="firebase",oB="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="[DEFAULT]",sB={[Px]:"fire-core",[DU]:"fire-core-compat",[MU]:"fire-analytics",[RU]:"fire-analytics-compat",[VU]:"fire-app-check",[LU]:"fire-app-check-compat",[FU]:"fire-auth",[$U]:"fire-auth-compat",[zU]:"fire-rtdb",[UU]:"fire-data-connect",[BU]:"fire-rtdb-compat",[WU]:"fire-fn",[KU]:"fire-fn-compat",[HU]:"fire-iid",[qU]:"fire-iid-compat",[GU]:"fire-fcm",[YU]:"fire-fcm-compat",[QU]:"fire-perf",[XU]:"fire-perf-compat",[JU]:"fire-rc",[ZU]:"fire-rc-compat",[eB]:"fire-gcs",[tB]:"fire-gcs-compat",[rB]:"fire-fst",[iB]:"fire-fst-compat",[nB]:"fire-vertex","fire-js":"fire-js",[aB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=new Map,lB=new Map,Ax=new Map;function IP(e,t){try{e.container.addComponent(t)}catch(r){Qi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Wl(e){const t=e.name;if(Ax.has(t))return Qi.debug(`There were multiple attempts to register component ${t}.`),!1;Ax.set(t,e);for(const r of Lp.values())IP(r,e);for(const r of lB.values())IP(r,e);return!0}function h_(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function ui(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new Vd("app","Firebase",uB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=oB;function bj(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Tx,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw Za.create("bad-app-name",{appName:String(i)});if(r||(r=gj()),!r)throw Za.create("no-options");const a=Lp.get(i);if(a){if(Mp(r,a.options)&&Mp(n,a.config))return a;throw Za.create("duplicate-app",{appName:i})}const o=new gU(i);for(const l of Ax.values())o.addComponent(l);const s=new cB(r,n,o);return Lp.set(i,s),s}function wj(e=Tx){const t=Lp.get(e);if(!t&&e===Tx&&gj())return bj();if(!t)throw Za.create("no-app",{appName:e});return t}function eo(e,t,r){var n;let i=(n=sB[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${t}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Qi.warn(s.join(" "));return}Wl(new fs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB="firebase-heartbeat-database",fB=1,nd="firebase-heartbeat-store";let Uy=null;function _j(){return Uy||(Uy=IU(dB,fB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(nd)}catch(r){console.warn(r)}}}}).catch(e=>{throw Za.create("idb-open",{originalErrorMessage:e.message})})),Uy}async function hB(e){try{const r=(await _j()).transaction(nd),n=await r.objectStore(nd).get(Ej(e));return await r.done,n}catch(t){if(t instanceof ca)Qi.warn(t.message);else{const r=Za.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Qi.warn(r.message)}}}async function CP(e,t){try{const n=(await _j()).transaction(nd,"readwrite");await n.objectStore(nd).put(t,Ej(e)),await n.done}catch(r){if(r instanceof ca)Qi.warn(r.message);else{const n=Za.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Qi.warn(n.message)}}}function Ej(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=1024,mB=30*24*60*60*1e3;class gB{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yB(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=OP();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=mB}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Qi.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=OP(),{heartbeatsToSend:n,unsentEntries:i}=vB(this._heartbeatsCache.heartbeats),a=Rp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return Qi.warn(r),""}}}function OP(){return new Date().toISOString().substring(0,10)}function vB(e,t=pB){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),NP(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),NP(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class yB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iU()?aU().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await hB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return CP(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return CP(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function NP(e){return Rp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xB(e){Wl(new fs("platform-logger",t=>new NU(t),"PRIVATE")),Wl(new fs("heartbeat",t=>new gB(t),"PRIVATE")),eo(Px,AP,e),eo(Px,AP,"esm2017"),eo("fire-js","")}xB("");function p_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function kj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bB=kj,Sj=new Vd("auth","Firebase",kj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=new d_("@firebase/auth");function wB(e,...t){Vp.logLevel<=Te.WARN&&Vp.warn(`Auth (${fu}): ${e}`,...t)}function qh(e,...t){Vp.logLevel<=Te.ERROR&&Vp.error(`Auth (${fu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(e,...t){throw m_(e,...t)}function hi(e,...t){return m_(e,...t)}function Pj(e,t,r){const n=Object.assign(Object.assign({},bB()),{[t]:r});return new Vd("auth","Firebase",n).create(t,{appName:e.name})}function Ui(e){return Pj(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function m_(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return Sj.create(e,...t)}function ce(e,t,...r){if(!e)throw m_(t,...r)}function Mi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw qh(t),new Error(t)}function Xi(e,t){e||Mi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function _B(){return jP()==="http:"||jP()==="https:"}function jP(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_B()||eU()||"connection"in navigator)?navigator.onLine:!0}function kB(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(t,r){this.shortDelay=t,this.longDelay=r,Xi(r>t,"Short delay should be less than long delay!"),this.isMobile=Xz()||tU()}get(){return EB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(e,t){Xi(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB=new $d(3e4,6e4);function da(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ei(e,t,r,n,i={}){return Aj(e,i,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const s=Fd(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},a);return Zz()||(u.referrerPolicy="no-referrer"),Tj.fetch()(Ij(e,e.config.apiHost,r,s),u)})}async function Aj(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},SB),t);try{const i=new AB(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw ch(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ch(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw ch(e,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Pj(e,c,u);Xn(e,c)}}catch(i){if(i instanceof ca)throw i;Xn(e,"network-request-failed",{message:String(i)})}}async function zd(e,t,r,n,i={}){const a=await ei(e,t,r,n,i);return"mfaPendingCredential"in a&&Xn(e,"multi-factor-auth-required",{_serverResponse:a}),a}function Ij(e,t,r,n){const i=`${t}${r}?${n}`;return e.config.emulator?g_(e.config,i):`${e.config.apiScheme}://${i}`}function TB(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AB{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(hi(this.auth,"network-request-failed")),PB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ch(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=hi(e,t,n);return i.customData._tokenResponse=r,i}function DP(e){return e!==void 0&&e.enterprise!==void 0}class IB{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return TB(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function CB(e,t){return ei(e,"GET","/v2/recaptchaConfig",da(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB(e,t){return ei(e,"POST","/v1/accounts:delete",t)}async function Cj(e,t){return ei(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function NB(e,t=!1){const r=vt(e),n=await r.getIdToken(t),i=v_(n);ce(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Oc(By(i.auth_time)),issuedAtTime:Oc(By(i.iat)),expirationTime:Oc(By(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function By(e){return Number(e)*1e3}function v_(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=pj(r);return i?JSON.parse(i):(qh("Failed to decode base64 JWT payload"),null)}catch(i){return qh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function RP(e){const t=v_(e);return ce(t,"internal-error"),ce(typeof t.exp<"u","internal-error"),ce(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hs(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof ca&&jB(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function jB({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fp(e){var t;const r=e.auth,n=await e.getIdToken(),i=await hs(e,Cj(r,{idToken:n}));ce(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?Oj(a.providerUserInfo):[],s=MB(e.providerData,o),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Cx(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function RB(e){const t=vt(e);await Fp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function MB(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function Oj(e){return e.map(t=>{var{providerId:r}=t,n=p_(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LB(e,t){const r=await Aj(e,{},async()=>{const n=Fd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=Ij(e,i,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",Tj.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function VB(e,t){return ei(e,"POST","/v2/accounts:revokeToken",da(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ce(t.idToken,"internal-error"),ce(typeof t.idToken<"u","internal-error"),ce(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):RP(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){ce(t.length!==0,"internal-error");const r=RP(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await LB(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Sl;return n&&(ce(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(ce(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(ce(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Sl,this.toJSON())}_performRefresh(){return Mi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(e,t){ce(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Li{constructor(t){var{uid:r,auth:n,stsTokenManager:i}=t,a=p_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new DB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await hs(this,this.stsTokenManager.getToken(this.auth,t));return ce(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return NB(this,t)}reload(){return RB(this)}_assign(t){this!==t&&(ce(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Li(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Fp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(Ui(this.auth));const t=await this.getIdToken();return await hs(this,OB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,i,a,o,s,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,y=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(s=r.tenantId)!==null&&s!==void 0?s:void 0,x=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=r.createdAt)!==null&&u!==void 0?u:void 0,_=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:T,isAnonymous:I,providerData:D,stsTokenManager:P}=r;ce(E&&P,t,"internal-error");const S=Sl.fromJSON(this.name,P);ce(typeof E=="string",t,"internal-error"),Sa(d,t.name),Sa(h,t.name),ce(typeof T=="boolean",t,"internal-error"),ce(typeof I=="boolean",t,"internal-error"),Sa(m,t.name),Sa(y,t.name),Sa(b,t.name),Sa(x,t.name),Sa(v,t.name),Sa(_,t.name);const C=new Li({uid:E,auth:t,email:h,emailVerified:T,displayName:d,isAnonymous:I,photoURL:y,phoneNumber:m,tenantId:b,stsTokenManager:S,createdAt:v,lastLoginAt:_});return D&&Array.isArray(D)&&(C.providerData=D.map(O=>Object.assign({},O))),x&&(C._redirectEventId=x),C}static async _fromIdTokenResponse(t,r,n=!1){const i=new Sl;i.updateFromServerResponse(r);const a=new Li({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Fp(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];ce(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?Oj(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Sl;s.updateFromIdToken(n);const l=new Li({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Cx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=new Map;function Vi(e){Xi(e instanceof Function,"Expected a class definition");let t=MP.get(e);return t?(Xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,MP.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}Nj.type="NONE";const LP=Nj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(e,t,r){return`firebase:${e}:${t}:${r}`}class Pl{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Gh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Li._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Pl(Vi(LP),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Vi(LP);const o=Gh(n,t.config.apiKey,t.name);let s=null;for(const u of r)try{const c=await u._get(o);if(c){const d=Li._fromJSON(t,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Pl(a,t,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Pl(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Mj(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jj(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vj(t))return"Blackberry";if(Fj(t))return"Webos";if(Dj(t))return"Safari";if((t.includes("chrome/")||Rj(t))&&!t.includes("edge/"))return"Chrome";if(Lj(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function jj(e=Or()){return/firefox\//i.test(e)}function Dj(e=Or()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Rj(e=Or()){return/crios\//i.test(e)}function Mj(e=Or()){return/iemobile/i.test(e)}function Lj(e=Or()){return/android/i.test(e)}function Vj(e=Or()){return/blackberry/i.test(e)}function Fj(e=Or()){return/webos/i.test(e)}function y_(e=Or()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function FB(e=Or()){var t;return y_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $B(){return rU()&&document.documentMode===10}function $j(e=Or()){return y_(e)||Lj(e)||Fj(e)||Vj(e)||/windows phone/i.test(e)||Mj(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(e,t=[]){let r;switch(e){case"Browser":r=VP(Or());break;case"Worker":r=`${VP(Or())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${fu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,s)=>{try{const l=t(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UB(e,t={}){return ei(e,"GET","/v2/passwordPolicy",da(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=6;class WB{constructor(t){var r,n,i,a;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:BB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FP(this),this.idTokenSubscription=new FP(this),this.beforeStateQueue=new zB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sj,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Vi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Pl.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Cj(this,{idToken:t}),n=await Li._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(ui(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Fp(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ui(this.app))return Promise.reject(Ui(this));const r=t?vt(t):null;return r&&ce(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&ce(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(Ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ui(this.app)?Promise.reject(Ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UB(this),r=new WB(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Vd("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await VB(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Vi(t)||this._popupRedirectResolver;ce(r,this,"argument-error"),this.redirectPersistenceManager=await Pl.create(this,[Vi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=t.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&wB(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Os(e){return vt(e)}class FP{constructor(t){this.auth=t,this.observer=null,this.addObserver=cU(r=>this.observer=r)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HB(e){yg=e}function Uj(e){return yg.loadJS(e)}function qB(){return yg.recaptchaEnterpriseScript}function GB(){return yg.gapiScript}function YB(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const QB="recaptcha-enterprise",XB="NO_RECAPTCHA";class JB{constructor(t){this.type=QB,this.auth=Os(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{CB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new IB(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;DP(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{o(u)}).catch(()=>{o(XB)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&DP(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=qB();l.length!==0&&(l+=s),Uj(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function $P(e,t,r,n=!1){const i=new JB(e);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ox(e,t,r,n){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await $P(e,t,r,r==="getOobCode");return n(e,a)}else return n(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $P(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZB(e,t){const r=h_(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Mp(a,t??{}))return i;Xn(i,"already-initialized")}return r.initialize({options:t})}function e9(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Vi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function t9(e,t,r){const n=Os(e);ce(n._canInitEmulator,n,"emulator-config-failed"),ce(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=Bj(t),{host:o,port:s}=r9(t),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),n9()}function Bj(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function r9(e){const t=Bj(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:zP(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:zP(o)}}}function zP(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function n9(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Mi("not implemented")}_getIdTokenResponse(t){return Mi("not implemented")}_linkToIdToken(t,r){return Mi("not implemented")}_getReauthenticationResolver(t){return Mi("not implemented")}}async function i9(e,t){return ei(e,"POST","/v1/accounts:update",t)}async function a9(e,t){return ei(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(e,t){return zd(e,"POST","/v1/accounts:signInWithPassword",da(e,t))}async function s9(e,t){return ei(e,"POST","/v1/accounts:sendOobCode",da(e,t))}async function l9(e,t){return s9(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(e,t){return zd(e,"POST","/v1/accounts:signInWithEmailLink",da(e,t))}async function c9(e,t){return zd(e,"POST","/v1/accounts:signInWithEmailLink",da(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends x_{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new id(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new id(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ox(t,r,"signInWithPassword",o9);case"emailLink":return u9(t,{email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ox(t,n,"signUpPassword",a9);case"emailLink":return c9(t,{idToken:r,email:this._email,oobCode:this._password});default:Xn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(e,t){return zd(e,"POST","/v1/accounts:signInWithIdp",da(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d9="http://localhost";class ps extends x_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new ps(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Xn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=r,a=p_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new ps(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Tl(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Tl(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Tl(t,r)}buildRequest(){const t={requestUri:d9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Fd(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h9(e){const t=hc(pc(e)).link,r=t?hc(pc(t)).deep_link_id:null,n=hc(pc(e)).deep_link_id;return(n?hc(pc(n)).link:null)||n||r||t||e}class b_{constructor(t){var r,n,i,a,o,s;const l=hc(pc(t)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=f9((i=l.mode)!==null&&i!==void 0?i:null);ce(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const r=h9(t);try{return new b_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(){this.providerId=Ns.PROVIDER_ID}static credential(t,r){return id._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=b_.parseLink(r);return ce(n,"argument-error"),id._fromEmailAndCode(t,n.code,n.tenantId)}}Ns.PROVIDER_ID="password";Ns.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ns.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Wj{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Ud{constructor(){super("facebook.com")}static credential(t){return ps._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Na.credentialFromTaggedObject(t)}static credentialFromError(t){return Na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Na.credential(t.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Ud{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ps._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return ja.credentialFromTaggedObject(t)}static credentialFromError(t){return ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return ja.credential(r,n)}catch{return null}}}ja.GOOGLE_SIGN_IN_METHOD="google.com";ja.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Ud{constructor(){super("github.com")}static credential(t){return ps._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Da.credential(t.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra extends Ud{constructor(){super("twitter.com")}static credential(t,r){return ps._fromParams({providerId:Ra.PROVIDER_ID,signInMethod:Ra.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ra.credentialFromTaggedObject(t)}static credentialFromError(t){return Ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Ra.credential(r,n)}catch{return null}}}Ra.TWITTER_SIGN_IN_METHOD="twitter.com";Ra.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p9(e,t){return zd(e,"POST","/v1/accounts:signUp",da(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await Li._fromIdTokenResponse(t,n,i),o=UP(n);return new ms({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=UP(n);return new ms({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function UP(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p extends ca{constructor(t,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,$p.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new $p(t,r,n,i)}}function Kj(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?$p._fromErrorAndOperation(e,a,t,n):a})}async function m9(e,t,r=!1){const n=await hs(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return ms._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hj(e,t,r=!1){const{auth:n}=e;if(ui(n.app))return Promise.reject(Ui(n));const i="reauthenticate";try{const a=await hs(e,Kj(n,i,t,e),r);ce(a.idToken,n,"internal-error");const o=v_(a.idToken);ce(o,n,"internal-error");const{sub:s}=o;return ce(e.uid===s,n,"user-mismatch"),ms._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Xn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(e,t,r=!1){if(ui(e.app))return Promise.reject(Ui(e));const n="signIn",i=await Kj(e,n,t),a=await ms._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function g9(e,t){return qj(Os(e),t)}async function v9(e,t){return Hj(vt(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gj(e){const t=Os(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function y9(e,t,r){if(ui(e.app))return Promise.reject(Ui(e));const n=Os(e),o=await Ox(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",p9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Gj(e),l}),s=await ms._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function x9(e,t,r){return ui(e.app)?Promise.reject(Ui(e)):g9(vt(e),Ns.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Gj(e),n})}async function Yj(e,t){const r=vt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:a}=await l9(r.auth,i);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(e,t){return ei(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=vt(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await hs(n,b9(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function _9(e,t){return E9(vt(e),null,t)}async function E9(e,t,r){const{auth:n}=e,a={idToken:await e.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const o=await hs(e,i9(n,a));await e._updateTokensIfNecessary(o,!0)}function k9(e,t,r,n){return vt(e).onIdTokenChanged(t,r,n)}function S9(e,t,r){return vt(e).beforeAuthStateChanged(t,r)}function P9(e,t,r,n){return vt(e).onAuthStateChanged(t,r,n)}function Qj(e){return vt(e).signOut()}const zp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(zp,"1"),this.storage.removeItem(zp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=1e3,A9=10;class Jj extends Xj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$j(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);$B()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,A9):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},T9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}Jj.type="LOCAL";const I9=Jj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj extends Xj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}Zj.type="SESSION";const eD=Zj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new xg(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await C9(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=w_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function N9(e){pi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function j9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function D9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function R9(){return tD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="firebaseLocalStorageDb",M9=1,Up="firebaseLocalStorage",nD="fbase_key";class Bd{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function bg(e,t){return e.transaction([Up],t?"readwrite":"readonly").objectStore(Up)}function L9(){const e=indexedDB.deleteDatabase(rD);return new Bd(e).toPromise()}function Nx(){const e=indexedDB.open(rD,M9);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Up,{keyPath:nD})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Up)?t(n):(n.close(),await L9(),t(await Nx()))})})}async function BP(e,t,r){const n=bg(e,!0).put({[nD]:t,value:r});return new Bd(n).toPromise()}async function V9(e,t){const r=bg(e,!1).get(t),n=await new Bd(r).toPromise();return n===void 0?null:n.value}function WP(e,t){const r=bg(e,!0).delete(t);return new Bd(r).toPromise()}const F9=800,$9=3;class iD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nx(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>$9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(R9()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await j9(),!this.activeServiceWorker)return;this.sender=new O9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||D9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Nx();return await BP(t,zp,"1"),await WP(t,zp),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>BP(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>V9(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>WP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=bg(i,!1).getAll();return new Bd(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),F9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iD.type="LOCAL";const z9=iD;new $d(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(e,t){return t?Vi(t):(ce(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __ extends x_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Tl(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Tl(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Tl(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function B9(e){return qj(e.auth,new __(e),e.bypassAuthState)}function W9(e){const{auth:t,user:r}=e;return ce(r,t,"internal-error"),Hj(r,new __(e),e.bypassAuthState)}async function K9(e){const{auth:t,user:r}=e;return ce(r,t,"internal-error"),m9(r,new __(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return B9;case"linkViaPopup":case"linkViaRedirect":return K9;case"reauthViaPopup":case"reauthViaRedirect":return W9;default:Xn(this.auth,"internal-error")}}resolve(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new $d(2e3,1e4);class hl extends aD{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,hl.currentPopupAction&&hl.currentPopupAction.cancel(),hl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ce(t,this.auth,"internal-error"),t}async onExecution(){Xi(this.filter.length===1,"Popup operations only handle one event");const t=w_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,H9.get())};t()}}hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="pendingRedirect",Yh=new Map;class G9 extends aD{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=Yh.get(this.auth._key());if(!t){try{const n=await Y9(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}Yh.set(this.auth._key(),t)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Y9(e,t){const r=J9(t),n=X9(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function Q9(e,t){Yh.set(e._key(),t)}function X9(e){return Vi(e._redirectPersistence)}function J9(e){return Gh(q9,e.config.apiKey,e.name)}async function Z9(e,t,r=!1){if(ui(e.app))return Promise.reject(Ui(e));const n=Os(e),i=U9(n,t),o=await new G9(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e8=10*60*1e3;class t8{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!r8(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!oD(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(hi(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=e8&&this.cachedEventUids.clear(),this.cachedEventUids.has(KP(t))}saveEventToCache(t){this.cachedEventUids.add(KP(t)),this.lastProcessedEventTime=Date.now()}}function KP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function oD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function r8(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n8(e,t={}){return ei(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i8=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a8=/^https?/;async function o8(e){if(e.config.emulator)return;const{authorizedDomains:t}=await n8(e);for(const r of t)try{if(s8(r))return}catch{}Xn(e,"unauthorized-domain")}function s8(e){const t=Ix(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!a8.test(r))return!1;if(i8.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l8=new $d(3e4,6e4);function HP(){const e=pi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function u8(e){return new Promise((t,r)=>{var n,i,a;function o(){HP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HP(),r(hi(e,"network-request-failed"))},timeout:l8.get()})}if(!((i=(n=pi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((a=pi().gapi)===null||a===void 0)&&a.load)o();else{const s=YB("iframefcb");return pi()[s]=()=>{gapi.load?o():r(hi(e,"network-request-failed"))},Uj(`${GB()}?onload=${s}`).catch(l=>r(l))}}).catch(t=>{throw Qh=null,t})}let Qh=null;function c8(e){return Qh=Qh||u8(e),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=new $d(5e3,15e3),f8="__/auth/iframe",h8="emulator/auth/iframe",p8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g8(e){const t=e.config;ce(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?g_(t,h8):`https://${e.config.authDomain}/${f8}`,n={apiKey:t.apiKey,appName:e.name,v:fu},i=m8.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Fd(n).slice(1)}`}async function v8(e){const t=await c8(e),r=pi().gapi;return ce(r,e,"internal-error"),t.open({where:document.body,url:g8(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p8,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=hi(e,"network-request-failed"),s=pi().setTimeout(()=>{a(o)},d8.get());function l(){pi().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},x8=500,b8=600,w8="_blank",_8="http://localhost";class qP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E8(e,t,r,n=x8,i=b8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},y8),{width:n.toString(),height:i.toString(),top:a,left:o}),u=Or().toLowerCase();r&&(s=Rj(u)?w8:r),jj(u)&&(t=t||_8,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[m,y])=>`${h}${m}=${y},`,"");if(FB(u)&&s!=="_self")return k8(t||"",s),new qP(null);const d=window.open(t||"",s,c);ce(d,e,"popup-blocked");try{d.focus()}catch{}return new qP(d)}function k8(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S8="__/auth/handler",P8="emulator/auth/handler",T8=encodeURIComponent("fac");async function GP(e,t,r,n,i,a){ce(e.config.authDomain,e,"auth-domain-config-required"),ce(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:fu,eventId:i};if(t instanceof Wj){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",uU(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof Ud){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${T8}=${encodeURIComponent(l)}`:"";return`${A8(e)}?${Fd(s).slice(1)}${u}`}function A8({config:e}){return e.emulator?g_(e,P8):`https://${e.authDomain}/${S8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="webStorageSupport";class I8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eD,this._completeRedirectFn=Z9,this._overrideRedirectResult=Q9}async _openPopup(t,r,n,i){var a;Xi((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await GP(t,r,n,Ix(),i);return E8(t,o,w_())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await GP(t,r,n,Ix(),i);return N9(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Xi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await v8(t),n=new t8(t);return r.register("authEvent",i=>(ce(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(Wy,{type:Wy},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Wy];o!==void 0&&r(!!o),Xn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=o8(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return $j()||Dj()||y_()}}const C8=I8;var YP="@firebase/auth",QP="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j8(e){Wl(new fs("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zj(e)},u=new KB(n,i,a,l);return e9(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Wl(new fs("auth-internal",t=>{const r=Os(t.getProvider("auth").getImmediate());return(n=>new O8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),eo(YP,QP,N8(e)),eo(YP,QP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D8=5*60,R8=vj("authIdTokenMaxAge")||D8;let XP=null;const M8=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>R8)return;const i=r==null?void 0:r.token;XP!==i&&(XP=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function L8(e=wj()){const t=h_(e,"auth");if(t.isInitialized())return t.getImmediate();const r=ZB(e,{popupRedirectResolver:C8,persistence:[z9,I9,eD]}),n=vj("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=M8(a.toString());S9(r,o,()=>o(r.currentUser)),k9(r,s=>o(s))}}const i=mj("auth");return i&&t9(r,`http://${i}`),r}function V8(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}HB({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=hi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",V8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j8("Browser");var F8="firebase",$8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo(F8,$8,"app");var JP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zo,sD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(P,S){function C(){}C.prototype=S.prototype,P.D=S.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(O,j,A){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return S.prototype[j].apply(O,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,S,C){C||(C=0);var O=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)O[j]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(j=0;16>j;++j)O[j]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=P.g[0],C=P.g[1],j=P.g[2];var A=P.g[3],N=S+(A^C&(j^A))+O[0]+3614090360&4294967295;S=C+(N<<7&4294967295|N>>>25),N=A+(j^S&(C^j))+O[1]+3905402710&4294967295,A=S+(N<<12&4294967295|N>>>20),N=j+(C^A&(S^C))+O[2]+606105819&4294967295,j=A+(N<<17&4294967295|N>>>15),N=C+(S^j&(A^S))+O[3]+3250441966&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(A^C&(j^A))+O[4]+4118548399&4294967295,S=C+(N<<7&4294967295|N>>>25),N=A+(j^S&(C^j))+O[5]+1200080426&4294967295,A=S+(N<<12&4294967295|N>>>20),N=j+(C^A&(S^C))+O[6]+2821735955&4294967295,j=A+(N<<17&4294967295|N>>>15),N=C+(S^j&(A^S))+O[7]+4249261313&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(A^C&(j^A))+O[8]+1770035416&4294967295,S=C+(N<<7&4294967295|N>>>25),N=A+(j^S&(C^j))+O[9]+2336552879&4294967295,A=S+(N<<12&4294967295|N>>>20),N=j+(C^A&(S^C))+O[10]+4294925233&4294967295,j=A+(N<<17&4294967295|N>>>15),N=C+(S^j&(A^S))+O[11]+2304563134&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(A^C&(j^A))+O[12]+1804603682&4294967295,S=C+(N<<7&4294967295|N>>>25),N=A+(j^S&(C^j))+O[13]+4254626195&4294967295,A=S+(N<<12&4294967295|N>>>20),N=j+(C^A&(S^C))+O[14]+2792965006&4294967295,j=A+(N<<17&4294967295|N>>>15),N=C+(S^j&(A^S))+O[15]+1236535329&4294967295,C=j+(N<<22&4294967295|N>>>10),N=S+(j^A&(C^j))+O[1]+4129170786&4294967295,S=C+(N<<5&4294967295|N>>>27),N=A+(C^j&(S^C))+O[6]+3225465664&4294967295,A=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(A^S))+O[11]+643717713&4294967295,j=A+(N<<14&4294967295|N>>>18),N=C+(A^S&(j^A))+O[0]+3921069994&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(j^A&(C^j))+O[5]+3593408605&4294967295,S=C+(N<<5&4294967295|N>>>27),N=A+(C^j&(S^C))+O[10]+38016083&4294967295,A=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(A^S))+O[15]+3634488961&4294967295,j=A+(N<<14&4294967295|N>>>18),N=C+(A^S&(j^A))+O[4]+3889429448&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(j^A&(C^j))+O[9]+568446438&4294967295,S=C+(N<<5&4294967295|N>>>27),N=A+(C^j&(S^C))+O[14]+3275163606&4294967295,A=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(A^S))+O[3]+4107603335&4294967295,j=A+(N<<14&4294967295|N>>>18),N=C+(A^S&(j^A))+O[8]+1163531501&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(j^A&(C^j))+O[13]+2850285829&4294967295,S=C+(N<<5&4294967295|N>>>27),N=A+(C^j&(S^C))+O[2]+4243563512&4294967295,A=S+(N<<9&4294967295|N>>>23),N=j+(S^C&(A^S))+O[7]+1735328473&4294967295,j=A+(N<<14&4294967295|N>>>18),N=C+(A^S&(j^A))+O[12]+2368359562&4294967295,C=j+(N<<20&4294967295|N>>>12),N=S+(C^j^A)+O[5]+4294588738&4294967295,S=C+(N<<4&4294967295|N>>>28),N=A+(S^C^j)+O[8]+2272392833&4294967295,A=S+(N<<11&4294967295|N>>>21),N=j+(A^S^C)+O[11]+1839030562&4294967295,j=A+(N<<16&4294967295|N>>>16),N=C+(j^A^S)+O[14]+4259657740&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(C^j^A)+O[1]+2763975236&4294967295,S=C+(N<<4&4294967295|N>>>28),N=A+(S^C^j)+O[4]+1272893353&4294967295,A=S+(N<<11&4294967295|N>>>21),N=j+(A^S^C)+O[7]+4139469664&4294967295,j=A+(N<<16&4294967295|N>>>16),N=C+(j^A^S)+O[10]+3200236656&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(C^j^A)+O[13]+681279174&4294967295,S=C+(N<<4&4294967295|N>>>28),N=A+(S^C^j)+O[0]+3936430074&4294967295,A=S+(N<<11&4294967295|N>>>21),N=j+(A^S^C)+O[3]+3572445317&4294967295,j=A+(N<<16&4294967295|N>>>16),N=C+(j^A^S)+O[6]+76029189&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(C^j^A)+O[9]+3654602809&4294967295,S=C+(N<<4&4294967295|N>>>28),N=A+(S^C^j)+O[12]+3873151461&4294967295,A=S+(N<<11&4294967295|N>>>21),N=j+(A^S^C)+O[15]+530742520&4294967295,j=A+(N<<16&4294967295|N>>>16),N=C+(j^A^S)+O[2]+3299628645&4294967295,C=j+(N<<23&4294967295|N>>>9),N=S+(j^(C|~A))+O[0]+4096336452&4294967295,S=C+(N<<6&4294967295|N>>>26),N=A+(C^(S|~j))+O[7]+1126891415&4294967295,A=S+(N<<10&4294967295|N>>>22),N=j+(S^(A|~C))+O[14]+2878612391&4294967295,j=A+(N<<15&4294967295|N>>>17),N=C+(A^(j|~S))+O[5]+4237533241&4294967295,C=j+(N<<21&4294967295|N>>>11),N=S+(j^(C|~A))+O[12]+1700485571&4294967295,S=C+(N<<6&4294967295|N>>>26),N=A+(C^(S|~j))+O[3]+2399980690&4294967295,A=S+(N<<10&4294967295|N>>>22),N=j+(S^(A|~C))+O[10]+4293915773&4294967295,j=A+(N<<15&4294967295|N>>>17),N=C+(A^(j|~S))+O[1]+2240044497&4294967295,C=j+(N<<21&4294967295|N>>>11),N=S+(j^(C|~A))+O[8]+1873313359&4294967295,S=C+(N<<6&4294967295|N>>>26),N=A+(C^(S|~j))+O[15]+4264355552&4294967295,A=S+(N<<10&4294967295|N>>>22),N=j+(S^(A|~C))+O[6]+2734768916&4294967295,j=A+(N<<15&4294967295|N>>>17),N=C+(A^(j|~S))+O[13]+1309151649&4294967295,C=j+(N<<21&4294967295|N>>>11),N=S+(j^(C|~A))+O[4]+4149444226&4294967295,S=C+(N<<6&4294967295|N>>>26),N=A+(C^(S|~j))+O[11]+3174756917&4294967295,A=S+(N<<10&4294967295|N>>>22),N=j+(S^(A|~C))+O[2]+718787259&4294967295,j=A+(N<<15&4294967295|N>>>17),N=C+(A^(j|~S))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(j+(N<<21&4294967295|N>>>11))&4294967295,P.g[2]=P.g[2]+j&4294967295,P.g[3]=P.g[3]+A&4294967295}n.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var C=S-this.blockSize,O=this.B,j=this.h,A=0;A<S;){if(j==0)for(;A<=C;)i(this,P,A),A+=this.blockSize;if(typeof P=="string"){for(;A<S;)if(O[j++]=P.charCodeAt(A++),j==this.blockSize){i(this,O),j=0;break}}else for(;A<S;)if(O[j++]=P[A++],j==this.blockSize){i(this,O),j=0;break}}this.h=j,this.o+=S},n.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var C=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=C&255,C/=256;for(this.u(P),P=Array(16),S=C=0;4>S;++S)for(var O=0;32>O;O+=8)P[C++]=this.g[S]>>>O&255;return P};function a(P,S){var C=s;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=S(P)}function o(P,S){this.h=S;for(var C=[],O=!0,j=P.length-1;0<=j;j--){var A=P[j]|0;O&&A==S||(C[j]=A,O=!1)}this.g=C}var s={};function l(P){return-128<=P&&128>P?a(P,function(S){return new o([S|0],0>S?-1:0)}):new o([P|0],0>P?-1:0)}function u(P){if(isNaN(P)||!isFinite(P))return d;if(0>P)return x(u(-P));for(var S=[],C=1,O=0;P>=C;O++)S[O]=P/C|0,C*=4294967296;return new o(S,0)}function c(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return x(c(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(S,8)),O=d,j=0;j<P.length;j+=8){var A=Math.min(8,P.length-j),N=parseInt(P.substring(j,j+A),S);8>A?(A=u(Math.pow(S,A)),O=O.j(A).add(u(N))):(O=O.j(C),O=O.add(u(N)))}return O}var d=l(0),h=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(b(this))return-x(this).m();for(var P=0,S=1,C=0;C<this.g.length;C++){var O=this.i(C);P+=(0<=O?O:4294967296+O)*S,S*=4294967296}return P},e.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(y(this))return"0";if(b(this))return"-"+x(this).toString(P);for(var S=u(Math.pow(P,6)),C=this,O="";;){var j=T(C,S).g;C=v(C,j.j(S));var A=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=j,y(C))return A+O;for(;6>A.length;)A="0"+A;O=A+O}},e.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function y(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function b(P){return P.h==-1}e.l=function(P){return P=v(this,P),b(P)?-1:y(P)?0:1};function x(P){for(var S=P.g.length,C=[],O=0;O<S;O++)C[O]=~P.g[O];return new o(C,~P.h).add(h)}e.abs=function(){return b(this)?x(this):this},e.add=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],O=0,j=0;j<=S;j++){var A=O+(this.i(j)&65535)+(P.i(j)&65535),N=(A>>>16)+(this.i(j)>>>16)+(P.i(j)>>>16);O=N>>>16,A&=65535,N&=65535,C[j]=N<<16|A}return new o(C,C[C.length-1]&-2147483648?-1:0)};function v(P,S){return P.add(x(S))}e.j=function(P){if(y(this)||y(P))return d;if(b(this))return b(P)?x(this).j(x(P)):x(x(this).j(P));if(b(P))return x(this.j(x(P)));if(0>this.l(m)&&0>P.l(m))return u(this.m()*P.m());for(var S=this.g.length+P.g.length,C=[],O=0;O<2*S;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(var j=0;j<P.g.length;j++){var A=this.i(O)>>>16,N=this.i(O)&65535,V=P.i(j)>>>16,U=P.i(j)&65535;C[2*O+2*j]+=N*U,_(C,2*O+2*j),C[2*O+2*j+1]+=A*U,_(C,2*O+2*j+1),C[2*O+2*j+1]+=N*V,_(C,2*O+2*j+1),C[2*O+2*j+2]+=A*V,_(C,2*O+2*j+2)}for(O=0;O<S;O++)C[O]=C[2*O+1]<<16|C[2*O];for(O=S;O<2*S;O++)C[O]=0;return new o(C,0)};function _(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function E(P,S){this.g=P,this.h=S}function T(P,S){if(y(S))throw Error("division by zero");if(y(P))return new E(d,d);if(b(P))return S=T(x(P),S),new E(x(S.g),x(S.h));if(b(S))return S=T(P,x(S)),new E(x(S.g),S.h);if(30<P.g.length){if(b(P)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var C=h,O=S;0>=O.l(P);)C=I(C),O=I(O);var j=D(C,1),A=D(O,1);for(O=D(O,2),C=D(C,2);!y(O);){var N=A.add(O);0>=N.l(P)&&(j=j.add(C),A=N),O=D(O,1),C=D(C,1)}return S=v(P,j.j(S)),new E(j,S)}for(j=d;0<=P.l(S);){for(C=Math.max(1,Math.floor(P.m()/S.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),A=u(C),N=A.j(S);b(N)||0<N.l(P);)C-=O,A=u(C),N=A.j(S);y(A)&&(A=h),j=j.add(A),P=v(P,N)}return new E(j,P)}e.A=function(P){return T(this,P).h},e.and=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)&P.i(O);return new o(C,this.h&P.h)},e.or=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)|P.i(O);return new o(C,this.h|P.h)},e.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),C=[],O=0;O<S;O++)C[O]=this.i(O)^P.i(O);return new o(C,this.h^P.h)};function I(P){for(var S=P.g.length+1,C=[],O=0;O<S;O++)C[O]=P.i(O)<<1|P.i(O-1)>>>31;return new o(C,P.h)}function D(P,S){var C=S>>5;S%=32;for(var O=P.g.length-C,j=[],A=0;A<O;A++)j[A]=0<S?P.i(A+C)>>>S|P.i(A+C+1)<<32-S:P.i(A+C);return new o(j,P.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,sD=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,Zo=o}).apply(typeof JP<"u"?JP:typeof self<"u"?self:typeof window<"u"?window:{});var dh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lD,mc,uD,Xh,jx,cD,dD,fD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,k){return f==Array.prototype||f==Object.prototype||(f[w]=k.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof dh=="object"&&dh];for(var w=0;w<f.length;++w){var k=f[w];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var n=r(this);function i(f,w){if(w)e:{var k=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var M=f[R];if(!(M in k))break e;k=k[M]}f=f[f.length-1],R=k[f],w=w(R),w!=R&&w!=null&&t(k,f,{configurable:!0,writable:!0,value:w})}}function a(f,w){f instanceof String&&(f+="");var k=0,R=!1,M={next:function(){if(!R&&k<f.length){var $=k++;return{value:w($,f[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}i("Array.prototype.values",function(f){return f||function(){return a(this,function(w,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function u(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,k){return f.call.apply(f.bind,arguments)}function d(f,w,k){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,R),f.apply(w,M)}}return function(){return f.apply(w,arguments)}}function h(f,w,k){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function m(f,w){var k=Array.prototype.slice.call(arguments,1);return function(){var R=k.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function y(f,w){function k(){}k.prototype=w.prototype,f.aa=w.prototype,f.prototype=new k,f.prototype.constructor=f,f.Qb=function(R,M,$){for(var X=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)X[Ke-2]=arguments[Ke];return w.prototype[M].apply(R,X)}}function b(f){const w=f.length;if(0<w){const k=Array(w);for(let R=0;R<w;R++)k[R]=f[R];return k}return[]}function x(f,w){for(let k=1;k<arguments.length;k++){const R=arguments[k];if(l(R)){const M=f.length||0,$=R.length||0;f.length=M+$;for(let X=0;X<$;X++)f[M+X]=R[X]}else f.push(R)}}class v{constructor(w,k){this.i=w,this.j=k,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function T(f){return T[" "](f),f}T[" "]=function(){};var I=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function D(f,w,k){for(const R in f)w.call(k,f[R],R,f)}function P(f,w){for(const k in f)w.call(void 0,f[k],k,f)}function S(f){const w={};for(const k in f)w[k]=f[k];return w}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,w){let k,R;for(let M=1;M<arguments.length;M++){R=arguments[M];for(k in R)f[k]=R[k];for(let $=0;$<C.length;$++)k=C[$],Object.prototype.hasOwnProperty.call(R,k)&&(f[k]=R[k])}}function j(f){var w=1;f=f.split(":");const k=[];for(;0<w&&f.length;)k.push(f.shift()),w--;return f.length&&k.push(f.join(":")),k}function A(f){s.setTimeout(()=>{throw f},0)}function N(){var f=H;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class V{constructor(){this.h=this.g=null}add(w,k){const R=U.get();R.set(w,k),this.h?this.h.next=R:this.g=R,this.h=R}}var U=new v(()=>new Y,f=>f.reset());class Y{constructor(){this.next=this.g=this.h=null}set(w,k){this.h=w,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,z=!1,H=new V,J=()=>{const f=s.Promise.resolve(void 0);Q=()=>{f.then(ue)}};var ue=()=>{for(var f;f=N();){try{f.h.call(f.g)}catch(k){A(k)}var w=U;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}z=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Le=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const k=()=>{};s.addEventListener("test",k,w),s.removeEventListener("test",k,w)}catch{}return f}();function ct(f,w){if(we.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var k=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(I){e:{try{T(w.nodeName);var M=!0;break e}catch{}M=!1}M||(w=null)}}else k=="mouseover"?w=f.fromElement:k=="mouseout"&&(w=f.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:bt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ct.aa.h.call(this)}}y(ct,we);var bt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),en=0;function B(f,w,k,R,M){this.listener=f,this.proxy=null,this.src=w,this.type=k,this.capture=!!R,this.ha=M,this.key=++en,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,w,k,R,M){var $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);var X=it(f,w,R,M);return-1<X?(w=f[X],k||(w.fa=!1)):(w=new B(w,this.src,$,!!R,M),w.fa=k,f.push(w)),w};function K(f,w){var k=w.type;if(k in f.g){var R=f.g[k],M=Array.prototype.indexOf.call(R,w,void 0),$;($=0<=M)&&Array.prototype.splice.call(R,M,1),$&&(de(w),f.g[k].length==0&&(delete f.g[k],f.h--))}}function it(f,w,k,R){for(var M=0;M<f.length;++M){var $=f[M];if(!$.da&&$.listener==w&&$.capture==!!k&&$.ha==R)return M}return-1}var le="closure_lm_"+(1e6*Math.random()|0),ze={};function Re(f,w,k,R,M){if(Array.isArray(w)){for(var $=0;$<w.length;$++)Re(f,w[$],k,R,M);return null}return k=Ot(k),f&&f[ke]?f.K(w,k,u(R)?!!R.capture:!1,M):gr(f,w,k,!1,R,M)}function gr(f,w,k,R,M,$){if(!w)throw Error("Invalid event type");var X=u(M)?!!M.capture:!!M,Ke=be(f);if(Ke||(f[le]=Ke=new ge(f)),k=Ke.add(w,k,R,X,$),k.proxy)return k;if(R=vn(),k.proxy=R,R.src=f,R.listener=k,f.addEventListener)Le||(M=X),M===void 0&&(M=!1),f.addEventListener(w.toString(),R,M);else if(f.attachEvent)f.attachEvent(ae(w.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return k}function vn(){function f(k){return w.call(f.src,f.listener,k)}const w=_e;return f}function Po(f,w,k,R,M){if(Array.isArray(w))for(var $=0;$<w.length;$++)Po(f,w[$],k,R,M);else R=u(R)?!!R.capture:!!R,k=Ot(k),f&&f[ke]?(f=f.i,w=String(w).toString(),w in f.g&&($=f.g[w],k=it($,k,R,M),-1<k&&(de($[k]),Array.prototype.splice.call($,k,1),$.length==0&&(delete f.g[w],f.h--)))):f&&(f=be(f))&&(w=f.g[w.toString()],f=-1,w&&(f=it(w,k,R,M)),(k=-1<f?w[f]:null)&&F(k))}function F(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[ke])K(w.i,f);else{var k=f.type,R=f.proxy;w.removeEventListener?w.removeEventListener(k,R,f.capture):w.detachEvent?w.detachEvent(ae(k),R):w.addListener&&w.removeListener&&w.removeListener(R),(k=be(w))?(K(k,f),k.h==0&&(k.src=null,w[le]=null)):de(f)}}}function ae(f){return f in ze?ze[f]:ze[f]="on"+f}function _e(f,w){if(f.da)f=!0;else{w=new ct(w,this);var k=f.listener,R=f.ha||f.src;f.fa&&F(f),f=k.call(R,w)}return f}function be(f){return f=f[le],f instanceof ge?f:null}var ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ot(f){return typeof f=="function"?f:(f[ye]||(f[ye]=function(w){return f.handleEvent(w)}),f[ye])}function ve(){oe.call(this),this.i=new ge(this),this.M=this,this.F=null}y(ve,oe),ve.prototype[ke]=!0,ve.prototype.removeEventListener=function(f,w,k,R){Po(this,f,w,k,R)};function Ue(f,w){var k,R=f.F;if(R)for(k=[];R;R=R.F)k.push(R);if(f=f.M,R=w.type||w,typeof w=="string")w=new we(w,f);else if(w instanceof we)w.target=w.target||f;else{var M=w;w=new we(R,f),O(w,M)}if(M=!0,k)for(var $=k.length-1;0<=$;$--){var X=w.g=k[$];M=ir(X,R,!0,w)&&M}if(X=w.g=f,M=ir(X,R,!0,w)&&M,M=ir(X,R,!1,w)&&M,k)for($=0;$<k.length;$++)X=w.g=k[$],M=ir(X,R,!1,w)&&M}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var k=f.g[w],R=0;R<k.length;R++)de(k[R]);delete f.g[w],f.h--}}this.F=null},ve.prototype.K=function(f,w,k,R){return this.i.add(String(f),w,!1,k,R)},ve.prototype.L=function(f,w,k,R){return this.i.add(String(f),w,!0,k,R)};function ir(f,w,k,R){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var M=!0,$=0;$<w.length;++$){var X=w[$];if(X&&!X.da&&X.capture==k){var Ke=X.listener,ar=X.ha||X.src;X.fa&&K(f.i,X),M=Ke.call(ar,R)!==!1&&M}}return M&&!R.defaultPrevented}function jr(f,w,k){if(typeof f=="function")k&&(f=h(f,k));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(f,w||0)}function Vn(f){f.g=jr(()=>{f.g=null,f.i&&(f.i=!1,Vn(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class wa extends oe{constructor(w,k){super(),this.m=w,this.l=k,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(f){oe.call(this),this.h=f,this.g={}}y(yn,oe);var To=[];function Iu(f){D(f.g,function(w,k){this.g.hasOwnProperty(k)&&F(w)},f),f.g={}}yn.prototype.N=function(){yn.aa.N.call(this),Iu(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cu=s.JSON.stringify,If=s.JSON.parse,Cf=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Ao(){}Ao.prototype.h=null;function Of(f){return f.h||(f.h=f.i())}function Ou(){}var Io={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zs(){we.call(this,"d")}y(zs,we);function Gt(){we.call(this,"c")}y(Gt,we);var wt={},Co=null;function Be(){return Co=Co||new ve}wt.La="serverreachability";function tn(f){we.call(this,wt.La,f)}y(tn,we);function Oo(f){const w=Be();Ue(w,new tn(w))}wt.STAT_EVENT="statevent";function Us(f,w){we.call(this,wt.STAT_EVENT,f),this.stat=w}y(Us,we);function Yt(f){const w=Be();Ue(w,new Us(w,f))}wt.Ma="timingevent";function Nu(f,w){we.call(this,wt.Ma,f),this.size=w}y(Nu,we);function Si(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},w)}function ri(){this.g=!0}ri.prototype.xa=function(){this.g=!1};function ju(f,w,k,R,M,$){f.info(function(){if(f.g)if($)for(var X="",Ke=$.split("&"),ar=0;ar<Ke.length;ar++){var Ne=Ke[ar].split("=");if(1<Ne.length){var vr=Ne[0];Ne=Ne[1];var yr=vr.split("_");X=2<=yr.length&&yr[1]=="type"?X+(vr+"="+Ne+"&"):X+(vr+"=redacted&")}}else X=null;else X=$;return"XMLHTTP REQ ("+R+") [attempt "+M+"]: "+w+`
`+k+`
`+X})}function Du(f,w,k,R,M,$,X){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+M+"]: "+w+`
`+k+`
`+$+" "+X})}function ni(f,w,k,R){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Ru(f,k)+(R?" "+R:"")})}function ey(f,w){f.info(function(){return"TIMEOUT: "+w})}ri.prototype.info=function(){};function Ru(f,w){if(!f.g)return w;if(!w)return null;try{var k=JSON.parse(w);if(k){for(f=0;f<k.length;f++)if(Array.isArray(k[f])){var R=k[f];if(!(2>R.length)){var M=R[1];if(Array.isArray(M)&&!(1>M.length)){var $=M[0];if($!="noop"&&$!="stop"&&$!="close")for(var X=1;X<M.length;X++)M[X]=""}}}}return Cu(k)}catch{return w}}var No={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mu;function xe(){}y(xe,Ao),xe.prototype.g=function(){return new XMLHttpRequest},xe.prototype.i=function(){return{}},Mu=new xe;function Me(f,w,k,R){this.j=f,this.i=w,this.l=k,this.R=R||1,this.U=new yn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Br={},Dr={};function jo(f,w,k){f.L=1,f.v=Vf(Pi(w)),f.m=k,f.P=!0,jf(f,null)}function jf(f,w){f.F=Date.now(),Rf(f),f.A=Pi(f.v);var k=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),Lk(k.i,"t",R),f.C=0,k=f.j.J,f.h=new dt,f.g=tS(f.j,k?w:null,!f.m),0<f.O&&(f.M=new wa(h(f.Y,f,f.g),f.O)),w=f.U,k=f.g,R=f.ca;var M="readystatechange";Array.isArray(M)||(M&&(To[0]=M.toString()),M=To);for(var $=0;$<M.length;$++){var X=Re(k,M[$],R||w.handleEvent,!1,w.h||w);if(!X)break;w.g[X.key]=X}w=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),Oo(),ju(f.i,f.u,f.A,f.l,f.R,f.m)}Me.prototype.ca=function(f){f=f.target;const w=this.M;w&&Ti(f)==3?w.j():this.Y(f)},Me.prototype.Y=function(f){try{if(f==this.g)e:{const yr=Ti(this.g);var w=this.g.Ba();const Ks=this.g.Z();if(!(3>yr)&&(yr!=3||this.g&&(this.h.h||this.g.oa()||Wk(this.g)))){this.J||yr!=4||w==7||(w==8||0>=Ks?Oo(3):Oo(2)),ty(this);var k=this.g.Z();this.X=k;t:if(Df(this)){var R=Wk(this.g);f="";var M=R.length,$=Ti(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Do(this),Lu(this);var X="";break t}this.h.i=new s.TextDecoder}for(w=0;w<M;w++)this.h.h=!0,f+=this.h.i.decode(R[w],{stream:!($&&w==M-1)});R.length=0,this.h.g+=f,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=k==200,Du(this.i,this.u,this.A,this.l,this.R,yr,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,ar=this.g;if((Ke=ar.g?ar.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ke)){var Ne=Ke;break t}}Ne=null}if(k=Ne)ni(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ry(this,k);else{this.o=!1,this.s=3,Yt(12),Do(this),Lu(this);break e}}if(this.P){k=!0;let Fn;for(;!this.J&&this.C<X.length;)if(Fn=B3(this,X),Fn==Dr){yr==4&&(this.s=4,Yt(14),k=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==Br){this.s=4,Yt(15),ni(this.i,this.l,X,"[Invalid Chunk]"),k=!1;break}else ni(this.i,this.l,Fn,null),ry(this,Fn);if(Df(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yr!=4||X.length!=0||this.h.h||(this.s=1,Yt(16),k=!1),this.o=this.o&&k,!k)ni(this.i,this.l,X,"[Invalid Chunked Response]"),Do(this),Lu(this);else if(0<X.length&&!this.W){this.W=!0;var vr=this.j;vr.g==this&&vr.ba&&!vr.M&&(vr.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),ly(vr),vr.M=!0,Yt(11))}}else ni(this.i,this.l,X,null),ry(this,X);yr==4&&Do(this),this.o&&!this.J&&(yr==4?Xk(this.j,this):(this.o=!1,Rf(this)))}else o$(this.g),k==400&&0<X.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),Do(this),Lu(this)}}}catch{}finally{}};function Df(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function B3(f,w){var k=f.C,R=w.indexOf(`
`,k);return R==-1?Dr:(k=Number(w.substring(k,R)),isNaN(k)?Br:(R+=1,R+k>w.length?Dr:(w=w.slice(R,R+k),f.C=R+k,w)))}Me.prototype.cancel=function(){this.J=!0,Do(this)};function Rf(f){f.S=Date.now()+f.I,Sk(f,f.I)}function Sk(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Si(h(f.ba,f),w)}function ty(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Me.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ey(this.i,this.A),this.L!=2&&(Oo(),Yt(17)),Do(this),this.s=2,Lu(this)):Sk(this,this.S-f)};function Lu(f){f.j.G==0||f.J||Xk(f.j,f)}function Do(f){ty(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,Iu(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function ry(f,w){try{var k=f.j;if(k.G!=0&&(k.g==f||ny(k.h,f))){if(!f.K&&ny(k.h,f)&&k.G==3){try{var R=k.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var M=R;if(M[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<f.F)Wf(k),Uf(k);else break e;sy(k),Yt(18)}}else k.za=M[1],0<k.za-k.T&&37500>M[2]&&k.F&&k.v==0&&!k.C&&(k.C=Si(h(k.Za,k),6e3));if(1>=Ak(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Mo(k,11)}else if((f.K||k.g==f)&&Wf(k),!_(w))for(M=k.Da.g.parse(w),w=0;w<M.length;w++){let Ne=M[w];if(k.T=Ne[0],Ne=Ne[1],k.G==2)if(Ne[0]=="c"){k.K=Ne[1],k.ia=Ne[2];const vr=Ne[3];vr!=null&&(k.la=vr,k.j.info("VER="+k.la));const yr=Ne[4];yr!=null&&(k.Aa=yr,k.j.info("SVER="+k.Aa));const Ks=Ne[5];Ks!=null&&typeof Ks=="number"&&0<Ks&&(R=1.5*Ks,k.L=R,k.j.info("backChannelRequestTimeoutMs_="+R)),R=k;const Fn=f.g;if(Fn){const Hf=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hf){var $=R.h;$.g||Hf.indexOf("spdy")==-1&&Hf.indexOf("quic")==-1&&Hf.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(iy($,$.h),$.h=null))}if(R.D){const uy=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;uy&&(R.ya=uy,Je(R.I,R.D,uy))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-f.F,k.j.info("Handshake RTT: "+k.R+"ms")),R=k;var X=f;if(R.qa=eS(R,R.J?R.ia:null,R.W),X.K){Ik(R.h,X);var Ke=X,ar=R.L;ar&&(Ke.I=ar),Ke.B&&(ty(Ke),Rf(Ke)),R.g=X}else Yk(R);0<k.i.length&&Bf(k)}else Ne[0]!="stop"&&Ne[0]!="close"||Mo(k,7);else k.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Mo(k,7):oy(k):Ne[0]!="noop"&&k.l&&k.l.ta(Ne),k.v=0)}}Oo(4)}catch{}}var W3=class{constructor(f,w){this.g=f,this.map=w}};function Pk(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tk(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ak(f){return f.h?1:f.g?f.g.size:0}function ny(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function iy(f,w){f.g?f.g.add(w):f.h=w}function Ik(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Pk.prototype.cancel=function(){if(this.i=Ck(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Ck(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const k of f.g.values())w=w.concat(k.D);return w}return b(f.i)}function K3(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var w=[],k=f.length,R=0;R<k;R++)w.push(f[R]);return w}w=[],k=0;for(R in f)w[k++]=f[R];return w}function H3(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var w=[];f=f.length;for(var k=0;k<f;k++)w.push(k);return w}w=[],k=0;for(const R in f)w[k++]=R;return w}}}function Ok(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var k=H3(f),R=K3(f),M=R.length,$=0;$<M;$++)w.call(void 0,R[$],k&&k[$],f)}var Nk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function q3(f,w){if(f){f=f.split("&");for(var k=0;k<f.length;k++){var R=f[k].indexOf("="),M=null;if(0<=R){var $=f[k].substring(0,R);M=f[k].substring(R+1)}else $=f[k];w($,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Ro(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ro){this.h=f.h,Mf(this,f.j),this.o=f.o,this.g=f.g,Lf(this,f.s),this.l=f.l;var w=f.i,k=new $u;k.i=w.i,w.g&&(k.g=new Map(w.g),k.h=w.h),jk(this,k),this.m=f.m}else f&&(w=String(f).match(Nk))?(this.h=!1,Mf(this,w[1]||"",!0),this.o=Vu(w[2]||""),this.g=Vu(w[3]||"",!0),Lf(this,w[4]),this.l=Vu(w[5]||"",!0),jk(this,w[6]||"",!0),this.m=Vu(w[7]||"")):(this.h=!1,this.i=new $u(null,this.h))}Ro.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Fu(w,Dk,!0),":");var k=this.g;return(k||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Fu(w,Dk,!0),"@"),f.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&f.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&f.push("/"),f.push(Fu(k,k.charAt(0)=="/"?Q3:Y3,!0))),(k=this.i.toString())&&f.push("?",k),(k=this.m)&&f.push("#",Fu(k,J3)),f.join("")};function Pi(f){return new Ro(f)}function Mf(f,w,k){f.j=k?Vu(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Lf(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function jk(f,w,k){w instanceof $u?(f.i=w,Z3(f.i,f.h)):(k||(w=Fu(w,X3)),f.i=new $u(w,f.h))}function Je(f,w,k){f.i.set(w,k)}function Vf(f){return Je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Vu(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Fu(f,w,k){return typeof f=="string"?(f=encodeURI(f).replace(w,G3),k&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function G3(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Dk=/[#\/\?@]/g,Y3=/[#\?:]/g,Q3=/[#\?]/g,X3=/[#\?@]/g,J3=/#/g;function $u(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function _a(f){f.g||(f.g=new Map,f.h=0,f.i&&q3(f.i,function(w,k){f.add(decodeURIComponent(w.replace(/\+/g," ")),k)}))}e=$u.prototype,e.add=function(f,w){_a(this),this.i=null,f=Bs(this,f);var k=this.g.get(f);return k||this.g.set(f,k=[]),k.push(w),this.h+=1,this};function Rk(f,w){_a(f),w=Bs(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function Mk(f,w){return _a(f),w=Bs(f,w),f.g.has(w)}e.forEach=function(f,w){_a(this),this.g.forEach(function(k,R){k.forEach(function(M){f.call(w,M,R,this)},this)},this)},e.na=function(){_a(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),k=[];for(let R=0;R<w.length;R++){const M=f[R];for(let $=0;$<M.length;$++)k.push(w[R])}return k},e.V=function(f){_a(this);let w=[];if(typeof f=="string")Mk(this,f)&&(w=w.concat(this.g.get(Bs(this,f))));else{f=Array.from(this.g.values());for(let k=0;k<f.length;k++)w=w.concat(f[k])}return w},e.set=function(f,w){return _a(this),this.i=null,f=Bs(this,f),Mk(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},e.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function Lk(f,w,k){Rk(f,w),0<k.length&&(f.i=null,f.g.set(Bs(f,w),b(k)),f.h+=k.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var k=0;k<w.length;k++){var R=w[k];const $=encodeURIComponent(String(R)),X=this.V(R);for(R=0;R<X.length;R++){var M=$;X[R]!==""&&(M+="="+encodeURIComponent(String(X[R]))),f.push(M)}}return this.i=f.join("&")};function Bs(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function Z3(f,w){w&&!f.j&&(_a(f),f.i=null,f.g.forEach(function(k,R){var M=R.toLowerCase();R!=M&&(Rk(this,R),Lk(this,M,k))},f)),f.j=w}function e$(f,w){const k=new ri;if(s.Image){const R=new Image;R.onload=m(Ea,k,"TestLoadImage: loaded",!0,w,R),R.onerror=m(Ea,k,"TestLoadImage: error",!1,w,R),R.onabort=m(Ea,k,"TestLoadImage: abort",!1,w,R),R.ontimeout=m(Ea,k,"TestLoadImage: timeout",!1,w,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else w(!1)}function t$(f,w){const k=new ri,R=new AbortController,M=setTimeout(()=>{R.abort(),Ea(k,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:R.signal}).then($=>{clearTimeout(M),$.ok?Ea(k,"TestPingServer: ok",!0,w):Ea(k,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(M),Ea(k,"TestPingServer: error",!1,w)})}function Ea(f,w,k,R,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),R(k)}catch{}}function r$(){this.g=new Cf}function n$(f,w,k){const R=k||"";try{Ok(f,function(M,$){let X=M;u(M)&&(X=Cu(M)),w.push(R+$+"="+encodeURIComponent(X))})}catch(M){throw w.push(R+"type="+encodeURIComponent("_badmap")),M}}function Ff(f){this.l=f.Ub||null,this.j=f.eb||!1}y(Ff,Ao),Ff.prototype.g=function(){return new $f(this.l,this.j)},Ff.prototype.i=function(f){return function(){return f}}({});function $f(f,w){ve.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y($f,ve),e=$f.prototype,e.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,Uu(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zu(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Uu(this)),this.g&&(this.readyState=3,Uu(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vk(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vk(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?zu(this):Uu(this),this.readyState==3&&Vk(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,zu(this))},e.Qa=function(f){this.g&&(this.response=f,zu(this))},e.ga=function(){this.g&&zu(this)};function zu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Uu(f)}e.setRequestHeader=function(f,w){this.u.append(f,w)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var k=w.next();!k.done;)k=k.value,f.push(k[0]+": "+k[1]),k=w.next();return f.join(`\r
`)};function Uu(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty($f.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fk(f){let w="";return D(f,function(k,R){w+=R,w+=":",w+=k,w+=`\r
`}),w}function ay(f,w,k){e:{for(R in k){var R=!1;break e}R=!0}R||(k=Fk(k),typeof f=="string"?k!=null&&encodeURIComponent(String(k)):Je(f,w,k))}function _t(f){ve.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(_t,ve);var i$=/^https?$/i,a$=["POST","PUT"];e=_t.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,w,k,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mu.g(),this.v=this.o?Of(this.o):Of(Mu),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch($){$k(this,$);return}if(f=k||"",k=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var M in R)k.set(M,R[M]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())k.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(k.keys()).find($=>$.toLowerCase()=="content-type"),M=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(a$,w,void 0))||R||M||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,X]of k)this.g.setRequestHeader($,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bk(this),this.u=!0,this.g.send(f),this.u=!1}catch($){$k(this,$)}};function $k(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,zk(f),zf(f)}function zk(f){f.A||(f.A=!0,Ue(f,"complete"),Ue(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ue(this,"complete"),Ue(this,"abort"),zf(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zf(this,!0)),_t.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Uk(this):this.bb())},e.bb=function(){Uk(this)};function Uk(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Ti(f)!=4||f.Z()!=2)){if(f.u&&Ti(f)==4)jr(f.Ea,0,f);else if(Ue(f,"readystatechange"),Ti(f)==4){f.h=!1;try{const X=f.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var k;if(!(k=w)){var R;if(R=X===0){var M=String(f.D).match(Nk)[1]||null;!M&&s.self&&s.self.location&&(M=s.self.location.protocol.slice(0,-1)),R=!i$.test(M?M.toLowerCase():"")}k=R}if(k)Ue(f,"complete"),Ue(f,"success");else{f.m=6;try{var $=2<Ti(f)?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.Z()+"]",zk(f)}}finally{zf(f)}}}}function zf(f,w){if(f.g){Bk(f);const k=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Ue(f,"ready");try{k.onreadystatechange=R}catch{}}}function Bk(f){f.I&&(s.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Ti(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Ti(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),If(w)}};function Wk(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function o$(f){const w={};f=(f.g&&2<=Ti(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(_(f[R]))continue;var k=j(f[R]);const M=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const $=w[M]||[];w[M]=$,$.push(k)}P(w,function(R){return R.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bu(f,w,k){return k&&k.internalChannelParams&&k.internalChannelParams[f]||w}function Kk(f){this.Aa=0,this.i=[],this.j=new ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bu("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bu("baseRetryDelayMs",5e3,f),this.cb=Bu("retryDelaySeedMs",1e4,f),this.Wa=Bu("forwardChannelMaxRetries",2,f),this.wa=Bu("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Pk(f&&f.concurrentRequestLimit),this.Da=new r$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Kk.prototype,e.la=8,e.G=1,e.connect=function(f,w,k,R){Yt(0),this.W=f,this.H=w||{},k&&R!==void 0&&(this.H.OSID=k,this.H.OAID=R),this.F=this.X,this.I=eS(this,null,this.W),Bf(this)};function oy(f){if(Hk(f),f.G==3){var w=f.U++,k=Pi(f.I);if(Je(k,"SID",f.K),Je(k,"RID",w),Je(k,"TYPE","terminate"),Wu(f,k),w=new Me(f,f.j,w),w.L=2,w.v=Vf(Pi(k)),k=!1,s.navigator&&s.navigator.sendBeacon)try{k=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!k&&s.Image&&(new Image().src=w.v,k=!0),k||(w.g=tS(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Rf(w)}Zk(f)}function Uf(f){f.g&&(ly(f),f.g.cancel(),f.g=null)}function Hk(f){Uf(f),f.u&&(s.clearTimeout(f.u),f.u=null),Wf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Bf(f){if(!Tk(f.h)&&!f.s){f.s=!0;var w=f.Ga;Q||J(),z||(Q(),z=!0),H.add(w,f),f.B=0}}function s$(f,w){return Ak(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Si(h(f.Ga,f,w),Jk(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const M=new Me(this,this.j,f);let $=this.o;if(this.S&&($?($=S($),O($,this.S)):$=this.S),this.m!==null||this.O||(M.H=$,$=null),this.P)e:{for(var w=0,k=0;k<this.i.length;k++){t:{var R=this.i[k];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=k;break e}if(w===4096||k===this.i.length-1){w=k+1;break e}}w=1e3}else w=1e3;w=Gk(this,M,w),k=Pi(this.I),Je(k,"RID",f),Je(k,"CVER",22),this.D&&Je(k,"X-HTTP-Session-Id",this.D),Wu(this,k),$&&(this.O?w="headers="+encodeURIComponent(String(Fk($)))+"&"+w:this.m&&ay(k,this.m,$)),iy(this.h,M),this.Ua&&Je(k,"TYPE","init"),this.P?(Je(k,"$req",w),Je(k,"SID","null"),M.T=!0,jo(M,k,null)):jo(M,k,w),this.G=2}}else this.G==3&&(f?qk(this,f):this.i.length==0||Tk(this.h)||qk(this))};function qk(f,w){var k;w?k=w.l:k=f.U++;const R=Pi(f.I);Je(R,"SID",f.K),Je(R,"RID",k),Je(R,"AID",f.T),Wu(f,R),f.m&&f.o&&ay(R,f.m,f.o),k=new Me(f,f.j,k,f.B+1),f.m===null&&(k.H=f.o),w&&(f.i=w.D.concat(f.i)),w=Gk(f,k,1e3),k.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),iy(f.h,k),jo(k,R,w)}function Wu(f,w){f.H&&D(f.H,function(k,R){Je(w,R,k)}),f.l&&Ok({},function(k,R){Je(w,R,k)})}function Gk(f,w,k){k=Math.min(f.i.length,k);var R=f.l?h(f.l.Na,f.l,f):null;e:{var M=f.i;let $=-1;for(;;){const X=["count="+k];$==-1?0<k?($=M[0].g,X.push("ofs="+$)):$=0:X.push("ofs="+$);let Ke=!0;for(let ar=0;ar<k;ar++){let Ne=M[ar].g;const vr=M[ar].map;if(Ne-=$,0>Ne)$=Math.max(0,M[ar].g-100),Ke=!1;else try{n$(vr,X,"req"+Ne+"_")}catch{R&&R(vr)}}if(Ke){R=X.join("&");break e}}}return f=f.i.splice(0,k),w.D=f,R}function Yk(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;Q||J(),z||(Q(),z=!0),H.add(w,f),f.v=0}}function sy(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Si(h(f.Fa,f),Jk(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,Qk(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Si(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Uf(this),Qk(this))};function ly(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function Qk(f){f.g=new Me(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Pi(f.qa);Je(w,"RID","rpc"),Je(w,"SID",f.K),Je(w,"AID",f.T),Je(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&Je(w,"TO",f.ja),Je(w,"TYPE","xmlhttp"),Wu(f,w),f.m&&f.o&&ay(w,f.m,f.o),f.L&&(f.g.I=f.L);var k=f.g;f=f.ia,k.L=1,k.v=Vf(Pi(w)),k.m=null,k.P=!0,jf(k,f)}e.Za=function(){this.C!=null&&(this.C=null,Uf(this),sy(this),Yt(19))};function Wf(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function Xk(f,w){var k=null;if(f.g==w){Wf(f),ly(f),f.g=null;var R=2}else if(ny(f.h,w))k=w.D,Ik(f.h,w),R=1;else return;if(f.G!=0){if(w.o)if(R==1){k=w.m?w.m.length:0,w=Date.now()-w.F;var M=f.B;R=Be(),Ue(R,new Nu(R,k)),Bf(f)}else Yk(f);else if(M=w.s,M==3||M==0&&0<w.X||!(R==1&&s$(f,w)||R==2&&sy(f)))switch(k&&0<k.length&&(w=f.h,w.i=w.i.concat(k)),M){case 1:Mo(f,5);break;case 4:Mo(f,10);break;case 3:Mo(f,6);break;default:Mo(f,2)}}}function Jk(f,w){let k=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(k*=2),k*w}function Mo(f,w){if(f.j.info("Error code "+w),w==2){var k=h(f.fb,f),R=f.Xa;const M=!R;R=new Ro(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Mf(R,"https"),Vf(R),M?e$(R.toString(),k):t$(R.toString(),k)}else Yt(2);f.G=0,f.l&&f.l.sa(w),Zk(f),Hk(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Zk(f){if(f.G=0,f.ka=[],f.l){const w=Ck(f.h);(w.length!=0||f.i.length!=0)&&(x(f.ka,w),x(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function eS(f,w,k){var R=k instanceof Ro?Pi(k):new Ro(k);if(R.g!="")w&&(R.g=w+"."+R.g),Lf(R,R.s);else{var M=s.location;R=M.protocol,w=w?w+"."+M.hostname:M.hostname,M=+M.port;var $=new Ro(null);R&&Mf($,R),w&&($.g=w),M&&Lf($,M),k&&($.l=k),R=$}return k=f.D,w=f.ya,k&&w&&Je(R,k,w),Je(R,"VER",f.la),Wu(f,R),R}function tS(f,w,k){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new _t(new Ff({eb:k})):new _t(f.pa),w.Ha(f.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function rS(){}e=rS.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Kf(){}Kf.prototype.g=function(f,w){return new rn(f,w)};function rn(f,w){ve.call(this),this.g=new Kk(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!_(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Ws(this)}y(rn,ve),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){oy(this.g)},rn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var k={};k.__data__=f,f=k}else this.u&&(k={},k.__data__=Cu(f),f=k);w.i.push(new W3(w.Ya++,f)),w.G==3&&Bf(w)},rn.prototype.N=function(){this.g.l=null,delete this.j,oy(this.g),delete this.g,rn.aa.N.call(this)};function nS(f){zs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const k in w){f=k;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}y(nS,zs);function iS(){Gt.call(this),this.status=1}y(iS,Gt);function Ws(f){this.g=f}y(Ws,rS),Ws.prototype.ua=function(){Ue(this.g,"a")},Ws.prototype.ta=function(f){Ue(this.g,new nS(f))},Ws.prototype.sa=function(f){Ue(this.g,new iS)},Ws.prototype.ra=function(){Ue(this.g,"b")},Kf.prototype.createWebChannel=Kf.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,fD=function(){return new Kf},dD=function(){return Be()},cD=wt,jx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},No.NO_ERROR=0,No.TIMEOUT=8,No.HTTP_ERROR=6,Xh=No,Nf.COMPLETE="complete",uD=Nf,Ou.EventType=Io,Io.OPEN="a",Io.CLOSE="b",Io.ERROR="c",Io.MESSAGE="d",ve.prototype.listen=ve.prototype.K,mc=Ou,_t.prototype.listenOnce=_t.prototype.L,_t.prototype.getLastError=_t.prototype.Ka,_t.prototype.getLastErrorCode=_t.prototype.Ba,_t.prototype.getStatus=_t.prototype.Z,_t.prototype.getResponseJson=_t.prototype.Oa,_t.prototype.getResponseText=_t.prototype.oa,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Ha,lD=_t}).apply(typeof dh<"u"?dh:typeof self<"u"?self:typeof window<"u"?window:{});const ZP="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Er=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new d_("@firebase/firestore");function Zu(){return gs.logLevel}function ie(e,...t){if(gs.logLevel<=Te.DEBUG){const r=t.map(E_);gs.debug(`Firestore (${hu}): ${e}`,...r)}}function Ji(e,...t){if(gs.logLevel<=Te.ERROR){const r=t.map(E_);gs.error(`Firestore (${hu}): ${e}`,...r)}}function Kl(e,...t){if(gs.logLevel<=Te.WARN){const r=t.map(E_);gs.warn(`Firestore (${hu}): ${e}`,...r)}}function E_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(e="Unexpected state"){const t=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: `+e;throw Ji(t),new Error(t)}function $e(e,t){e||fe()}function me(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends ca{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class z8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Er.UNAUTHENTICATED))}shutdown(){}}class U8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class B8{constructor(t){this.t=t,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){$e(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new to;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new to,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new to)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?($e(typeof n.accessToken=="string"),new hD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $e(t===null||typeof t=="string"),new Er(t)}}class W8{constructor(t,r,n){this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class K8{constructor(t,r,n){this.l=t,this.h=r,this.P=n}getToken(){return Promise.resolve(new W8(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Er.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H8{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q8{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){$e(this.o===void 0);const n=a=>{a.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?($e(typeof r.token=="string"),this.R=r.token,new H8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G8(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=G8(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%t.length))}return n}}function je(e,t){return e<t?-1:e>t?1:0}function Hl(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new re(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new re(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new re(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Bt.fromMillis(Date.now())}static fromDate(t){return Bt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*r));return new Bt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?je(this.nanoseconds,t.nanoseconds):je(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pe(t)}static min(){return new pe(new Bt(0,0))}static max(){return new pe(new Bt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t,r,n){r===void 0?r=0:r>t.length&&fe(),n===void 0?n=t.length-r:n>t.length-r&&fe(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return ad.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ad?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=t.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class rt extends ad{construct(t,r,n){return new rt(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new re(W.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new rt(r)}static emptyPath(){return new rt([])}}const Y8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends ad{construct(t,r,n){return new cr(t,r,n)}static isValidIdentifier(t){return Y8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cr(["__name__"])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new re(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new re(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new re(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new cr(r)}static emptyPath(){return new cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.path=t}static fromPath(t){return new se(rt.fromString(t))}static fromName(t){return new se(rt.fromString(t).popFirst(5))}static empty(){return new se(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&rt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return rt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new se(new rt(t.slice()))}}function Q8(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(n===1e9?new Bt(r+1,0):new Bt(r,n));return new oo(i,se.empty(),t)}function X8(e){return new oo(e.readTime,e.key,-1)}class oo{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new oo(pe.min(),se.empty(),-1)}static max(){return new oo(pe.max(),se.empty(),-1)}}function J8(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=se.comparator(e.documentKey,t.documentKey),r!==0?r:je(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class e7{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wd(e){if(e.code!==W.FAILED_PRECONDITION||e.message!==Z8)throw e;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new q((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof q?r:q.resolve(r)}catch(r){return q.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):q.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):q.reject(r)}static resolve(t){return new q((r,n)=>{r(t)})}static reject(t){return new q((r,n)=>{n(t)})}static waitFor(t){return new q((r,n)=>{let i=0,a=0,o=!1;t.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(t){let r=q.resolve(!1);for(const n of t)r=r.next(i=>i?q.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new q((n,i)=>{const a=t.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(t,r){return new q((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function t7(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Kd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}k_.oe=-1;function wg(e){return e==null}function Bp(e){return e===0&&1/e==-1/0}function r7(e){return typeof e=="number"&&Number.isInteger(e)&&!Bp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function js(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function mD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,r){this.comparator=t,this.root=r||ur.EMPTY}insert(t,r){return new yt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ur.BLACK,null,null))}remove(t){return new yt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ur.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fh(this.root,t,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fh(this.root,t,this.comparator,!0)}}class fh{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ur{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??ur.RED,this.left=i??ur.EMPTY,this.right=a??ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new ur(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ur.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return ur.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const t=this.left.check();if(t!==this.right.check())throw fe();return t+(this.isRed()?0:1)}}ur.EMPTY=null,ur.RED=!0,ur.BLACK=!1;ur.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(t,r,n,i,a){return this}insert(t,r,n){return new ur(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(t){this.comparator=t,this.data=new yt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(t){return new tT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof hr)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new hr(this.comparator);return r.data=t,r}}class tT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t){this.fields=t,t.sort(cr.comparator)}static empty(){return new un([])}unionWith(t){let r=new hr(cr.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new un(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Hl(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new gD("Invalid base64 string: "+a):a}}(t);return new mr(r)}static fromUint8Array(t){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new mr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const n7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(e){if($e(!!e),typeof e=="string"){let t=0;const r=n7.exec(e);if($e(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:At(e.seconds),nanos:At(e.nanos)}}function At(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function vs(e){return typeof e=="string"?mr.fromBase64String(e):mr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function P_(e){const t=e.mapValue.fields.__previous_value__;return S_(t)?P_(t):t}function od(e){const t=so(e.mapValue.fields.__local_write_time__.timestampValue);return new Bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(t,r,n,i,a,o,s,l,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class sd{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof sd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh={mapValue:{}};function ys(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?S_(e)?4:o7(e)?9007199254740991:a7(e)?10:11:fe()}function xi(e,t){if(e===t)return!0;const r=ys(e);if(r!==ys(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return od(e).isEqual(od(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=so(i.timestampValue),s=so(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return vs(i.bytesValue).isEqual(vs(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return At(i.geoPointValue.latitude)===At(a.geoPointValue.latitude)&&At(i.geoPointValue.longitude)===At(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return At(i.integerValue)===At(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=At(i.doubleValue),s=At(a.doubleValue);return o===s?Bp(o)===Bp(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Hl(e.arrayValue.values||[],t.arrayValue.values||[],xi);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(eT(o)!==eT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!xi(o[l],s[l])))return!1;return!0}(e,t);default:return fe()}}function ld(e,t){return(e.values||[]).find(r=>xi(r,t))!==void 0}function ql(e,t){if(e===t)return 0;const r=ys(e),n=ys(t);if(r!==n)return je(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return je(e.booleanValue,t.booleanValue);case 2:return function(a,o){const s=At(a.integerValue||a.doubleValue),l=At(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return rT(e.timestampValue,t.timestampValue);case 4:return rT(od(e),od(t));case 5:return je(e.stringValue,t.stringValue);case 6:return function(a,o){const s=vs(a),l=vs(o);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=je(s[u],l[u]);if(c!==0)return c}return je(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,o){const s=je(At(a.latitude),At(o.latitude));return s!==0?s:je(At(a.longitude),At(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return nT(e.arrayValue,t.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},h=o.fields||{},m=(s=d.value)===null||s===void 0?void 0:s.arrayValue,y=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=je(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:nT(m,y)}(e.mapValue,t.mapValue);case 11:return function(a,o){if(a===hh.mapValue&&o===hh.mapValue)return 0;if(a===hh.mapValue)return 1;if(o===hh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=je(l[d],c[d]);if(h!==0)return h;const m=ql(s[l[d]],u[c[d]]);if(m!==0)return m}return je(l.length,c.length)}(e.mapValue,t.mapValue);default:throw fe()}}function rT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return je(e,t);const r=so(e),n=so(t),i=je(r.seconds,n.seconds);return i!==0?i:je(r.nanos,n.nanos)}function nT(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ql(r[i],n[i]);if(a)return a}return je(r.length,n.length)}function Gl(e){return Dx(e)}function Dx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=so(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return vs(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return se.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Dx(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Dx(r.fields[o])}`;return i+"}"}(e.mapValue):fe()}function iT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Rx(e){return!!e&&"integerValue"in e}function T_(e){return!!e&&"arrayValue"in e}function aT(e){return!!e&&"nullValue"in e}function oT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jh(e){return!!e&&"mapValue"in e}function a7(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Nc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return js(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Nc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Nc(e.arrayValue.values[r]);return t}return Object.assign({},e)}function o7(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(t){this.value=t}static empty(){return new Kr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Jh(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nc(r)}setAll(t){let r=cr.emptyPath(),n={},i=[];t.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Nc(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());Jh(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return xi(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];Jh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){js(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Kr(Nc(this.value))}}function vD(e){const t=[];return js(e.fields,(r,n)=>{const i=new cr([r]);if(Jh(n)){const a=vD(n.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)}),new un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(t,r,n,i,a,o,s){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new Sr(t,0,pe.min(),pe.min(),pe.min(),Kr.empty(),0)}static newFoundDocument(t,r,n,i){return new Sr(t,1,r,pe.min(),n,i,0)}static newNoDocument(t,r){return new Sr(t,2,r,pe.min(),pe.min(),Kr.empty(),0)}static newUnknownDocument(t,r){return new Sr(t,3,r,pe.min(),pe.min(),Kr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t,r){this.position=t,this.inclusive=r}}function sT(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?n=se.comparator(se.fromName(o.referenceValue),r.key):n=ql(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function lT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!xi(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(t,r="asc"){this.field=t,this.dir=r}}function s7(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{}class Rt extends yD{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new u7(t,r,n):r==="array-contains"?new f7(t,n):r==="in"?new h7(t,n):r==="not-in"?new p7(t,n):r==="array-contains-any"?new m7(t,n):new Rt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new c7(t,n):new d7(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ql(r,this.value)):r!==null&&ys(this.value)===ys(r)&&this.matchesComparison(ql(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends yD{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new Jn(t,r)}matches(t){return xD(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function xD(e){return e.op==="and"}function bD(e){return l7(e)&&xD(e)}function l7(e){for(const t of e.filters)if(t instanceof Jn)return!1;return!0}function Mx(e){if(e instanceof Rt)return e.field.canonicalString()+e.op.toString()+Gl(e.value);if(bD(e))return e.filters.map(t=>Mx(t)).join(",");{const t=e.filters.map(r=>Mx(r)).join(",");return`${e.op}(${t})`}}function wD(e,t){return e instanceof Rt?function(n,i){return i instanceof Rt&&n.op===i.op&&n.field.isEqual(i.field)&&xi(n.value,i.value)}(e,t):e instanceof Jn?function(n,i){return i instanceof Jn&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&wD(o,i.filters[s]),!0):!1}(e,t):void fe()}function _D(e){return e instanceof Rt?function(r){return`${r.field.canonicalString()} ${r.op} ${Gl(r.value)}`}(e):e instanceof Jn?function(r){return r.op.toString()+" {"+r.getFilters().map(_D).join(" ,")+"}"}(e):"Filter"}class u7 extends Rt{constructor(t,r,n){super(t,r,n),this.key=se.fromName(n.referenceValue)}matches(t){const r=se.comparator(t.key,this.key);return this.matchesComparison(r)}}class c7 extends Rt{constructor(t,r){super(t,"in",r),this.keys=ED("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class d7 extends Rt{constructor(t,r){super(t,"not-in",r),this.keys=ED("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function ED(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>se.fromName(n.referenceValue))}class f7 extends Rt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return T_(r)&&ld(r.arrayValue,this.value)}}class h7 extends Rt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&ld(this.value.arrayValue,r)}}class p7 extends Rt{constructor(t,r){super(t,"not-in",r)}matches(t){if(ld(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!ld(this.value.arrayValue,r)}}class m7 extends Rt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!T_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>ld(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(t,r=null,n=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function uT(e,t=null,r=[],n=[],i=null,a=null,o=null){return new g7(e,t,r,n,i,a,o)}function A_(e){const t=me(e);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Mx(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),wg(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Gl(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Gl(n)).join(",")),t.ue=r}return t.ue}function I_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!s7(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!wD(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!lT(e.startAt,t.startAt)&&lT(e.endAt,t.endAt)}function Lx(e){return se.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(t,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function v7(e,t,r,n,i,a,o,s){return new Hd(e,t,r,n,i,a,o,s)}function _g(e){return new Hd(e)}function cT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function kD(e){return e.collectionGroup!==null}function jc(e){const t=me(e);if(t.ce===null){t.ce=[];const r=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new hr(cr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.ce.push(new Kp(a,n))}),r.has(cr.keyField().canonicalString())||t.ce.push(new Kp(cr.keyField(),n))}return t.ce}function mi(e){const t=me(e);return t.le||(t.le=y7(t,jc(e))),t.le}function y7(e,t){if(e.limitType==="F")return uT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Kp(i.field,a)});const r=e.endAt?new Wp(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Wp(e.startAt.position,e.startAt.inclusive):null;return uT(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Vx(e,t){const r=e.filters.concat([t]);return new Hd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Fx(e,t,r){return new Hd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Eg(e,t){return I_(mi(e),mi(t))&&e.limitType===t.limitType}function SD(e){return`${A_(mi(e))}|lt:${e.limitType}`}function Xs(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>_D(i)).join(", ")}]`),wg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>Gl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>Gl(i)).join(",")),`Target(${n})`}(mi(e))}; limitType=${e.limitType})`}function kg(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):se.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of jc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=sT(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,jc(n),i)||n.endAt&&!function(o,s,l){const u=sT(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,jc(n),i))}(e,t)}function x7(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function PD(e){return(t,r)=>{let n=!1;for(const i of jc(e)){const a=b7(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function b7(e,t,r){const n=e.field.isKeyField()?se.comparator(t.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?ql(l,u):fe()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){js(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return mD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w7=new yt(se.comparator);function Zi(){return w7}const TD=new yt(se.comparator);function gc(...e){let t=TD;for(const r of e)t=t.insert(r.key,r);return t}function AD(e){let t=TD;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ho(){return Dc()}function ID(){return Dc()}function Dc(){return new pu(e=>e.toString(),(e,t)=>e.isEqual(t))}const _7=new yt(se.comparator),E7=new hr(se.comparator);function Se(...e){let t=E7;for(const r of e)t=t.add(r);return t}const k7=new hr(je);function S7(){return k7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(t)?"-0":t}}function CD(e){return{integerValue:""+e}}function P7(e,t){return r7(t)?CD(t):C_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(){this._=void 0}}function T7(e,t,r){return e instanceof ud?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&S_(a)&&(a=P_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,t):e instanceof cd?ND(e,t):e instanceof dd?jD(e,t):function(i,a){const o=OD(i,a),s=dT(o)+dT(i.Pe);return Rx(o)&&Rx(i.Pe)?CD(s):C_(i.serializer,s)}(e,t)}function A7(e,t,r){return e instanceof cd?ND(e,t):e instanceof dd?jD(e,t):r}function OD(e,t){return e instanceof Hp?function(n){return Rx(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class ud extends Sg{}class cd extends Sg{constructor(t){super(),this.elements=t}}function ND(e,t){const r=DD(t);for(const n of e.elements)r.some(i=>xi(i,n))||r.push(n);return{arrayValue:{values:r}}}class dd extends Sg{constructor(t){super(),this.elements=t}}function jD(e,t){let r=DD(t);for(const n of e.elements)r=r.filter(i=>!xi(i,n));return{arrayValue:{values:r}}}class Hp extends Sg{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function dT(e){return At(e.integerValue||e.doubleValue)}function DD(e){return T_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I7{constructor(t,r){this.field=t,this.transform=r}}function C7(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof cd&&i instanceof cd||n instanceof dd&&i instanceof dd?Hl(n.elements,i.elements,xi):n instanceof Hp&&i instanceof Hp?xi(n.Pe,i.Pe):n instanceof ud&&i instanceof ud}(e.transform,t.transform)}class O7{constructor(t,r){this.version=t,this.transformResults=r}}class In{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new In}static exists(t){return new In(void 0,t)}static updateTime(t){return new In(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Pg{}function RD(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new O_(e.key,In.none()):new qd(e.key,e.data,In.none());{const r=e.data,n=Kr.empty();let i=new hr(cr.comparator);for(let a of t.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new wo(e.key,n,new un(i.toArray()),In.none())}}function N7(e,t,r){e instanceof qd?function(i,a,o){const s=i.value.clone(),l=hT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,r):e instanceof wo?function(i,a,o){if(!Zh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=hT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(MD(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function Rc(e,t,r,n){return e instanceof qd?function(a,o,s,l){if(!Zh(a.precondition,o))return s;const u=a.value.clone(),c=pT(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof wo?function(a,o,s,l){if(!Zh(a.precondition,o))return s;const u=pT(a.fieldTransforms,l,o),c=o.data;return c.setAll(MD(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,o,s){return Zh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,r)}function j7(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=OD(n.transform,i||null);a!=null&&(r===null&&(r=Kr.empty()),r.set(n.field,a))}return r||null}function fT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Hl(n,i,(a,o)=>C7(a,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qd extends Pg{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends Pg{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function MD(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function hT(e,t,r){const n=new Map;$e(e.length===r.length);for(let i=0;i<r.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,A7(o,s,r[i]))}return n}function pT(e,t,r){const n=new Map;for(const i of e){const a=i.transform,o=r.data.field(i.field);n.set(i.field,T7(a,o,t))}return n}class O_ extends Pg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D7 extends Pg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&N7(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Rc(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Rc(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=ID();return this.mutations.forEach(i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=RD(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Se())}isEqual(t){return this.batchId===t.batchId&&Hl(this.mutations,t.mutations,(r,n)=>fT(r,n))&&Hl(this.baseMutations,t.baseMutations,(r,n)=>fT(r,n))}}class N_{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){$e(t.mutations.length===n.length);let i=function(){return _7}();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new N_(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M7{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L7{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Ce;function V7(e){switch(e){default:return fe();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function LD(e){if(e===void 0)return Ji("GRPC error has no .code"),W.UNKNOWN;switch(e){case Nt.OK:return W.OK;case Nt.CANCELLED:return W.CANCELLED;case Nt.UNKNOWN:return W.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return W.INTERNAL;case Nt.UNAVAILABLE:return W.UNAVAILABLE;case Nt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Nt.NOT_FOUND:return W.NOT_FOUND;case Nt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Nt.ABORTED:return W.ABORTED;case Nt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Nt.DATA_LOSS:return W.DATA_LOSS;default:return fe()}}(Ce=Nt||(Nt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $7=new Zo([4294967295,4294967295],0);function mT(e){const t=F7().encode(e),r=new sD;return r.update(t),new Uint8Array(r.digest())}function gT(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Zo([r,n],0),new Zo([i,a],0)]}class j_{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new vc(`Invalid padding: ${r}`);if(n<0)throw new vc(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new vc(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new vc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=Zo.fromNumber(this.Ie)}Ee(t,r,n){let i=t.add(r.multiply(Zo.fromNumber(n)));return i.compare($7)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=mT(t),[n,i]=gT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new j_(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.Ie===0)return;const r=mT(t),[n,i]=gT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class vc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Gd.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Tg(pe.min(),i,new yt(je),Zi(),Se())}}class Gd{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Gd(n,r,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(t,r,n,i){this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=i}}class VD{constructor(t,r){this.targetId=t,this.me=r}}class FD{constructor(t,r,n=mr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class vT{constructor(){this.fe=0,this.ge=xT(),this.pe=mr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Se(),r=Se(),n=Se();return this.ge.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:fe()}}),new Gd(this.pe,this.ye,t,r,n)}Ce(){this.we=!1,this.ge=xT()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class z7{constructor(t){this.Le=t,this.Be=new Map,this.ke=Zi(),this.qe=yT(),this.Qe=new yt(je)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const n=this.Ge(r);switch(t.state){case 0:this.ze(r)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(t.resumeToken));break;default:fe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(t){const r=t.targetId,n=t.me.count,i=this.Je(r);if(i){const a=i.target;if(Lx(a))if(n===0){const o=new se(a.path);this.Ue(r,o,Sr.newNoDocument(o,pe.min()))}else $e(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(t),l=s?this.Xe(s,t,o):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=vs(n).toUint8Array()}catch(l){if(l instanceof gD)return Kl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new j_(o,i,a)}catch(l){return Kl(l instanceof vc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,r,n){return r.me.count===n-this.nt(t,r.targetId)?0:2}nt(t,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(t){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&Lx(s.target)){const l=new se(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Sr.newNoDocument(l,t))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Se();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(t));const i=new Tg(t,r,this.Qe,this.ke,n);return this.ke=Zi(),this.qe=yT(),this.Qe=new yt(je),i}$e(t,r){if(!this.ze(t))return;const n=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new vT,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new hr(je),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||ie("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new vT),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function yT(){return new yt(se.comparator)}function xT(){return new yt(se.comparator)}const U7={asc:"ASCENDING",desc:"DESCENDING"},B7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W7={and:"AND",or:"OR"};class K7{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function $x(e,t){return e.useProto3Json||wg(t)?t:{value:t}}function qp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $D(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function H7(e,t){return qp(e,t.toTimestamp())}function gi(e){return $e(!!e),pe.fromTimestamp(function(r){const n=so(r);return new Bt(n.seconds,n.nanos)}(e))}function D_(e,t){return zx(e,t).canonicalString()}function zx(e,t){const r=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function zD(e){const t=rt.fromString(e);return $e(HD(t)),t}function Ux(e,t){return D_(e.databaseId,t.path)}function Ky(e,t){const r=zD(t);if(r.get(1)!==e.databaseId.projectId)throw new re(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new re(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new se(BD(r))}function UD(e,t){return D_(e.databaseId,t)}function q7(e){const t=zD(e);return t.length===4?rt.emptyPath():BD(t)}function Bx(e){return new rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function BD(e){return $e(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function bT(e,t,r){return{name:Ux(e,t),fields:r.value.mapValue.fields}}function G7(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:fe()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?($e(c===void 0||typeof c=="string"),mr.fromBase64String(c||"")):($e(c===void 0||c instanceof Buffer||c instanceof Uint8Array),mr.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(u){const c=u.code===void 0?W.UNKNOWN:LD(u.code);return new re(c,u.message||"")}(o);r=new FD(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=Ky(e,n.document.name),a=gi(n.document.updateTime),o=n.document.createTime?gi(n.document.createTime):pe.min(),s=new Kr({mapValue:{fields:n.document.fields}}),l=Sr.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new ep(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=Ky(e,n.document),a=n.readTime?gi(n.readTime):pe.min(),o=Sr.newNoDocument(i,a),s=n.removedTargetIds||[];r=new ep([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=Ky(e,n.document),a=n.removedTargetIds||[];r=new ep([],a,i,null)}else{if(!("filter"in t))return fe();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new L7(i,a),s=n.targetId;r=new VD(s,o)}}return r}function Y7(e,t){let r;if(t instanceof qd)r={update:bT(e,t.key,t.value)};else if(t instanceof O_)r={delete:Ux(e,t.key)};else if(t instanceof wo)r={update:bT(e,t.key,t.data),updateMask:iW(t.fieldMask)};else{if(!(t instanceof D7))return fe();r={verify:Ux(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof ud)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof cd)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof dd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Hp)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw fe()}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:H7(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:fe()}(e,t.precondition)),r}function Q7(e,t){return e&&e.length>0?($e(t!==void 0),e.map(r=>function(i,a){let o=i.updateTime?gi(i.updateTime):gi(a);return o.isEqual(pe.min())&&(o=gi(a)),new O7(o,i.transformResults||[])}(r,t))):[]}function X7(e,t){return{documents:[UD(e,t.path)]}}function J7(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=UD(e,i);const a=function(u){if(u.length!==0)return KD(Jn.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Js(h.field),direction:tW(h.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=$x(e,t.limit);return s!==null&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:r,parent:i}}function Z7(e){let t=q7(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){$e(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const h=WD(d);return h instanceof Jn&&bD(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(y){return new Kp(Zs(y.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,wg(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new Wp(m,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new Wp(m,h)}(r.endAt)),v7(t,i,o,a,s,"F",l,u)}function eW(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function WD(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Zs(r.unaryFilter.field);return Rt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Zs(r.unaryFilter.field);return Rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zs(r.unaryFilter.field);return Rt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zs(r.unaryFilter.field);return Rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(e):e.fieldFilter!==void 0?function(r){return Rt.create(Zs(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Jn.create(r.compositeFilter.filters.map(n=>WD(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return fe()}}(r.compositeFilter.op))}(e):fe()}function tW(e){return U7[e]}function rW(e){return B7[e]}function nW(e){return W7[e]}function Js(e){return{fieldPath:e.canonicalString()}}function Zs(e){return cr.fromServerFormat(e.fieldPath)}function KD(e){return e instanceof Rt?function(r){if(r.op==="=="){if(oT(r.value))return{unaryFilter:{field:Js(r.field),op:"IS_NAN"}};if(aT(r.value))return{unaryFilter:{field:Js(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(oT(r.value))return{unaryFilter:{field:Js(r.field),op:"IS_NOT_NAN"}};if(aT(r.value))return{unaryFilter:{field:Js(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Js(r.field),op:rW(r.op),value:r.value}}}(e):e instanceof Jn?function(r){const n=r.getFilters().map(i=>KD(i));return n.length===1?n[0]:{compositeFilter:{op:nW(r.op),filters:n}}}(e):fe()}function iW(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function HD(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,r,n,i,a=pe.min(),o=pe.min(),s=mr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new za(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(t){this.ct=t}}function oW(e){const t=Z7({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fx(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(){this.un=new lW}addToCollectionParentIndex(t,r){return this.un.add(r),q.resolve()}getCollectionParents(t,r){return q.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return q.resolve()}deleteFieldIndex(t,r){return q.resolve()}deleteAllFieldIndexes(t){return q.resolve()}createTargetIndexes(t,r){return q.resolve()}getDocumentsMatchingTarget(t,r){return q.resolve(null)}getIndexType(t,r){return q.resolve(0)}getFieldIndexes(t,r){return q.resolve([])}getNextCollectionGroupToUpdate(t){return q.resolve(null)}getMinOffset(t,r){return q.resolve(oo.min())}getMinOffsetFromCollectionGroup(t,r){return q.resolve(oo.min())}updateCollectionGroup(t,r,n){return q.resolve()}updateIndexEntries(t,r){return q.resolve()}}class lW{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new hr(rt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new hr(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yl(0)}static kn(){return new Yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(){this.changes=new pu(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Sr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?q.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dW{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Rc(n.mutation,i,un.empty(),Bt.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Se()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Se()){const i=Ho();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let o=gc();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const n=Ho();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Se()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(t,r,n,i){let a=Zi();const o=Dc(),s=function(){return Dc()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof wo)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Rc(c.mutation,u,c.mutation.getFieldMask(),Bt.now())):o.set(u.key,un.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>{var d;return s.set(u,new cW(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(t,r){const n=Dc();let i=new yt((o,s)=>o-s),a=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||un.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||Se()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=ID();c.forEach(h=>{if(!a.has(h)){const m=RD(r.get(h),n.get(h));m!==null&&d.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return q.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):kD(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):q.resolve(Ho());let s=-1,l=a;return o.next(u=>q.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?q.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,Se())).next(c=>({batchId:s,changes:AD(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new se(r)).next(n=>{let i=gc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let o=gc();return this.indexManager.getCollectionParents(t,a).next(s=>q.forEach(s,l=>{const u=function(d,h){return new Hd(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Sr.newInvalidDocument(c)))});let s=gc();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Rc(c.mutation,u,un.empty(),Bt.now()),kg(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fW{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return q.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:gi(i.createTime)}}(r)),q.resolve()}getNamedQuery(t,r){return q.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:oW(i.bundledQuery),readTime:gi(i.readTime)}}(r)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(){this.overlays=new yt(se.comparator),this.Ir=new Map}getOverlay(t,r){return q.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ho();return q.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.ht(t,r,a)}),q.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),q.resolve()}getOverlaysForCollection(t,r,n){const i=Ho(),a=r.length+1,o=new se(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return q.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new yt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ho(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ho(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return q.resolve(s)}ht(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new M7(r,n));let a=this.Ir.get(r);a===void 0&&(a=Se(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(t){return q.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.Tr=new hr(Jt.Er),this.dr=new hr(Jt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const n=new Jt(t,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Vr(new Jt(t,r))}mr(t,r){t.forEach(n=>this.removeReference(n,r))}gr(t){const r=new se(new rt([])),n=new Jt(r,t),i=new Jt(r,t+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new se(new rt([])),n=new Jt(r,t),i=new Jt(r,t+1);let a=Se();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(t){const r=new Jt(t,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Jt{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return se.comparator(t.key,r.key)||je(t.wr,r.wr)}static Ar(t,r){return je(t.wr,r.wr)||se.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new hr(Jt.Er)}checkEmpty(t){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new R7(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Jt(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return q.resolve(o)}lookupMutationBatch(t,r){return q.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Jt(r,0),i=new Jt(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new hr(je);return r.forEach(i=>{const a=new Jt(i,0),o=new Jt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),q.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;se.isDocumentKey(a)||(a=a.child(""));const o=new Jt(new se(a),0);let s=new hr(je);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),q.resolve(this.Cr(s))}Cr(t){const r=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){$e(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return q.forEach(r.mutations,i=>{const a=new Jt(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,r){const n=new Jt(r,0),i=this.br.firstAfterOrEqual(n);return q.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,q.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(t){this.Mr=t,this.docs=function(){return new yt(se.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return q.resolve(n?n.document.mutableCopy():Sr.newInvalidDocument(r))}getEntries(t,r){let n=Zi();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Sr.newInvalidDocument(i))}),q.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=Zi();const o=r.path,s=new se(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||J8(X8(c),n)<=0||(i.has(c.key)||kg(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(t,r,n,i){fe()}Or(t,r){return q.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new vW(this)}getSize(t){return q.resolve(this.size)}}class vW extends uW{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),q.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(t){this.persistence=t,this.Nr=new pu(r=>A_(r),I_),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new R_,this.targetCount=0,this.kr=Yl.Bn()}forEachTarget(t,r){return this.Nr.forEach((n,i)=>r(i)),q.resolve()}getLastRemoteSnapshotVersion(t){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return q.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),q.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new Yl(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,q.resolve()}updateTargetData(t,r){return this.Kn(r),q.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,q.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),q.waitFor(a).next(()=>i)}getTargetCount(t){return q.resolve(this.targetCount)}getTargetData(t,r){const n=this.Nr.get(r)||null;return q.resolve(n)}addMatchingKeys(t,r,n){return this.Br.Rr(r,n),q.resolve()}removeMatchingKeys(t,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(t,o))}),q.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),q.resolve()}getMatchingKeysForTargetId(t,r){const n=this.Br.yr(r);return q.resolve(n)}containsKey(t,r){return q.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(t,r){this.qr={},this.overlays={},this.Qr=new k_(0),this.Kr=!1,this.Kr=!0,this.$r=new pW,this.referenceDelegate=t(this),this.Ur=new yW(this),this.indexManager=new sW,this.remoteDocumentCache=function(i){return new gW(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new aW(r),this.Gr=new fW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new hW,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.qr[t.toKey()];return n||(n=new mW(r,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,n){ie("MemoryPersistence","Starting transaction:",t);const i=new bW(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(t,r){return q.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,r)))}}class bW extends e7{constructor(t){super(),this.currentSequenceNumber=t}}class M_{constructor(t){this.persistence=t,this.Jr=new R_,this.Yr=null}static Zr(t){return new M_(t)}get Xr(){if(this.Yr)return this.Yr;throw fe()}addReference(t,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),q.resolve()}removeReference(t,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),q.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),q.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,n=>{const i=se.fromPath(n);return this.ei(t,i).next(a=>{a||r.removeEntry(i,pe.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return q.or([()=>q.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(t,r){let n=Se(),i=Se();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new L_(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nU()?8:t7(Or())>0?6:4}()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.Yi(t,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(t,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new wW;return this.Xi(t,r,o).next(s=>{if(a.result=s,this.zi)return this.es(t,r,o,s.size)})}).next(()=>a.result)}es(t,r,n,i){return n.documentReadCount<this.ji?(Zu()<=Te.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Xs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(Zu()<=Te.DEBUG&&ie("QueryEngine","Query:",Xs(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Zu()<=Te.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Xs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,mi(r))):q.resolve())}Yi(t,r){if(cT(r))return q.resolve(null);let n=mi(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Fx(r,null,"F"),n=mi(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const o=Se(...a);return this.Ji.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,o,l.readTime)?this.Yi(t,Fx(r,null,"F")):this.rs(t,u,r,l)}))})))}Zi(t,r,n,i){return cT(r)||i.isEqual(pe.min())?q.resolve(null):this.Ji.getDocuments(t,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?q.resolve(null):(Zu()<=Te.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xs(r)),this.rs(t,o,r,Q8(i,-1)).next(s=>s))})}ts(t,r){let n=new hr(PD(t));return r.forEach((i,a)=>{kg(t,a)&&(n=n.add(a))}),n}ns(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(t,r,n){return Zu()<=Te.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Xs(r)),this.Ji.getDocumentsMatchingQuery(t,r,oo.min(),n)}rs(t,r,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(t,r,n,i){this.persistence=t,this.ss=r,this.serializer=i,this.os=new yt(je),this._s=new pu(a=>A_(a),I_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dW(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function kW(e,t,r,n){return new EW(e,t,r,n)}async function qD(e,t){const r=me(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Se();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function SW(e,t){const r=me(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let m=q.resolve();return h.forEach(y=>{m=m.next(()=>c.getEntry(l,y)).next(b=>{const x=u.docVersions.get(y);$e(x!==null),b.version.compareTo(x)<0&&(d.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Se();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function GD(e){const t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function PW(e,t){const r=me(e),n=t.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,d)));let m=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(mr.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(b,x,v){return b.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,m,c)&&s.push(r.Ur.updateTargetData(a,m))});let l=Zi(),u=Se();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(TW(a,o,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(pe.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return q.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function TW(e,t,r){let n=Se(),i=Se();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let o=Zi();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(pe.min())?(t.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(s,l)):ie("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function AW(e,t){const r=me(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function IW(e,t){const r=me(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,t).next(a=>a?(i=a,q.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new za(t,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(t,n.targetId)),n})}async function Wx(e,t,r){const n=me(e),i=n.os.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Kd(o))throw o;ie("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function wT(e,t,r){const n=me(e);let i=pe.min(),a=Se();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=me(l),h=d._s.get(c);return h!==void 0?q.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(n,o,mi(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,t,r?i:pe.min(),r?a:Se())).next(s=>(CW(n,x7(t),s),{documents:s,Ts:a})))}function CW(e,t,r){let n=e.us.get(t)||pe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.us.set(t,n)}class _T{constructor(){this.activeTargetIds=S7()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class OW{constructor(){this.so=new _T,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,n){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new _T,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function Hy(){return ph===null?ph=function(){return 268435456+Math.round(2147483648*Math.random())}():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DW{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="WebChannelConnection";class RW extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=Hy(),l=this.xo(r,n.toUriEncodedString());ie("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,l,u,i).then(c=>(ie("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw Kl("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=jW[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,n,i){const a=Hy();return new Promise((o,s)=>{const l=new lD;l.setWithCredentials(!0),l.listenOnce(uD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Xh.NO_ERROR:const c=l.getResponseJson();ie(wr,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(c)),o(c);break;case Xh.TIMEOUT:ie(wr,`RPC '${t}' ${a} timed out`),s(new re(W.DEADLINE_EXCEEDED,"Request time out"));break;case Xh.HTTP_ERROR:const d=l.getStatus();if(ie(wr,`RPC '${t}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const y=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(v)>=0?v:W.UNKNOWN}(m.status);s(new re(y,m.message))}else s(new re(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new re(W.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ie(wr,`RPC '${t}' ${a} completed.`)}});const u=JSON.stringify(i);ie(wr,`RPC '${t}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(t,r,n){const i=Hy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=fD(),s=dD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");ie(wr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,m=!1;const y=new DW({Io:x=>{m?ie(wr,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(h||(ie(wr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),ie(wr,`RPC '${t}' stream ${i} sending:`,x),d.send(x))},To:()=>d.close()}),b=(x,v,_)=>{x.listen(v,E=>{try{_(E)}catch(T){setTimeout(()=>{throw T},0)}})};return b(d,mc.EventType.OPEN,()=>{m||(ie(wr,`RPC '${t}' stream ${i} transport opened.`),y.yo())}),b(d,mc.EventType.CLOSE,()=>{m||(m=!0,ie(wr,`RPC '${t}' stream ${i} transport closed`),y.So())}),b(d,mc.EventType.ERROR,x=>{m||(m=!0,Kl(wr,`RPC '${t}' stream ${i} transport errored:`,x),y.So(new re(W.UNAVAILABLE,"The operation could not be completed")))}),b(d,mc.EventType.MESSAGE,x=>{var v;if(!m){const _=x.data[0];$e(!!_);const E=_,T=E.error||((v=E[0])===null||v===void 0?void 0:v.error);if(T){ie(wr,`RPC '${t}' stream ${i} received error:`,T);const I=T.status;let D=function(C){const O=Nt[C];if(O!==void 0)return LD(O)}(I),P=T.message;D===void 0&&(D=W.INTERNAL,P="Unknown error status: "+I+" with message "+T.message),m=!0,y.So(new re(D,P)),d.close()}else ie(wr,`RPC '${t}' stream ${i} received:`,_),y.bo(_)}}),b(s,cD.STAT_EVENT,x=>{x.stat===jx.PROXY?ie(wr,`RPC '${t}' stream ${i} detected buffering proxy`):x.stat===jx.NOPROXY&&ie(wr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function qy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(e){return new K7(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,r,n=1e3,i=1.5,a=6e4){this.ui=t,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,r,n,i,a,o,s,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YD(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===W.RESOURCE_EXHAUSTED?(Ji(r.toString()),Ji("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{t(()=>{const i=new re(W.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,r){const n=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ie("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MW extends QD{constructor(t,r,n,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=G7(this.serializer,t),n=function(a){if(!("targetChange"in a))return pe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?gi(o.readTime):pe.min()}(t);return this.listener.d_(r,n)}A_(t){const r={};r.database=Bx(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Lx(l)?{documents:X7(a,l)}:{query:J7(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=$D(a,o.resumeToken);const u=$x(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){s.readTime=qp(a,o.snapshotVersion.toTimestamp());const u=$x(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const n=eW(this.serializer,t);n&&(r.labels=n),this.a_(r)}R_(t){const r={};r.database=Bx(this.serializer),r.removeTarget=t,this.a_(r)}}class LW extends QD{constructor(t,r,n,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return $e(!!t.streamToken),this.lastStreamToken=t.streamToken,$e(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){$e(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=Q7(t.writeResults,t.commitTime),n=gi(t.commitTime);return this.listener.g_(n,r)}p_(){const t={};t.database=Bx(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>Y7(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW extends class{}{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(t,zx(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(W.UNKNOWN,a.toString())})}Lo(t,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(t,zx(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class FW{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ji(r),this.D_=!1):ie("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{Ds(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=me(l);u.L_.add(4),await Yd(u),u.q_.set("Unknown"),u.L_.delete(4),await Ig(u)}(this))})}),this.q_=new FW(n,i)}}async function Ig(e){if(Ds(e))for(const t of e.B_)await t(!0)}async function Yd(e){for(const t of e.B_)await t(!1)}function XD(e,t){const r=me(e);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),z_(r)?$_(r):mu(r).r_()&&F_(r,t))}function V_(e,t){const r=me(e),n=mu(r);r.N_.delete(t),n.r_()&&JD(r,t),r.N_.size===0&&(n.r_()?n.o_():Ds(r)&&r.q_.set("Unknown"))}function F_(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}mu(e).A_(t)}function JD(e,t){e.Q_.xe(t),mu(e).R_(t)}function $_(e){e.Q_=new z7({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),mu(e).start(),e.q_.v_()}function z_(e){return Ds(e)&&!mu(e).n_()&&e.N_.size>0}function Ds(e){return me(e).L_.size===0}function ZD(e){e.Q_=void 0}async function zW(e){e.q_.set("Online")}async function UW(e){e.N_.forEach((t,r)=>{F_(e,t)})}async function BW(e,t){ZD(e),z_(e)?(e.q_.M_(t),$_(e)):e.q_.set("Unknown")}async function WW(e,t,r){if(e.q_.set("Online"),t instanceof FD&&t.state===2&&t.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(e,t)}catch(n){ie("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Gp(e,n)}else if(t instanceof ep?e.Q_.Ke(t):t instanceof VD?e.Q_.He(t):e.Q_.We(t),!r.isEqual(pe.min()))try{const n=await GD(e.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(mr.EMPTY_BYTE_STRING,c.snapshotVersion)),JD(a,l);const d=new za(c.target,l,u,c.sequenceNumber);F_(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(e,r)}catch(n){ie("RemoteStore","Failed to raise snapshot:",n),await Gp(e,n)}}async function Gp(e,t,r){if(!Kd(t))throw t;e.L_.add(1),await Yd(e),e.q_.set("Offline"),r||(r=()=>GD(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await r(),e.L_.delete(1),await Ig(e)})}function eR(e,t){return t().catch(r=>Gp(e,r,t))}async function Cg(e){const t=me(e),r=lo(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;KW(t);)try{const i=await AW(t.localStore,n);if(i===null){t.O_.length===0&&r.o_();break}n=i.batchId,HW(t,i)}catch(i){await Gp(t,i)}tR(t)&&rR(t)}function KW(e){return Ds(e)&&e.O_.length<10}function HW(e,t){e.O_.push(t);const r=lo(e);r.r_()&&r.V_&&r.m_(t.mutations)}function tR(e){return Ds(e)&&!lo(e).n_()&&e.O_.length>0}function rR(e){lo(e).start()}async function qW(e){lo(e).p_()}async function GW(e){const t=lo(e);for(const r of e.O_)t.m_(r.mutations)}async function YW(e,t,r){const n=e.O_.shift(),i=N_.from(n,t,r);await eR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Cg(e)}async function QW(e,t){t&&lo(e).V_&&await async function(n,i){if(function(o){return V7(o)&&o!==W.ABORTED}(i.code)){const a=n.O_.shift();lo(n).s_(),await eR(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Cg(n)}}(e,t),tR(e)&&rR(e)}async function kT(e,t){const r=me(e);r.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const n=Ds(r);r.L_.add(3),await Yd(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await Ig(r)}async function XW(e,t){const r=me(e);t?(r.L_.delete(2),await Ig(r)):t||(r.L_.add(2),await Yd(r),r.q_.set("Unknown"))}function mu(e){return e.K_||(e.K_=function(r,n,i){const a=me(r);return a.w_(),new MW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:zW.bind(null,e),Ro:UW.bind(null,e),mo:BW.bind(null,e),d_:WW.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),z_(e)?$_(e):e.q_.set("Unknown")):(await e.K_.stop(),ZD(e))})),e.K_}function lo(e){return e.U_||(e.U_=function(r,n,i){const a=me(r);return a.w_(),new LW(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qW.bind(null,e),mo:QW.bind(null,e),f_:GW.bind(null,e),g_:YW.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Cg(e)):(await e.U_.stop(),e.O_.length>0&&(ie("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new to,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const o=Date.now()+n,s=new U_(t,r,o,i,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function B_(e,t){if(Ji("AsyncQueue",`${t}: ${e}`),Kd(e))return new re(W.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this.comparator=t?(r,n)=>t(r,n)||se.comparator(r.key,n.key):(r,n)=>se.comparator(r.key,n.key),this.keyedMap=gc(),this.sortedSet=new yt(this.comparator)}static emptySet(t){return new Al(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Al)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Al;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(){this.W_=new yt(se.comparator)}track(t){const r=t.doc.key,n=this.W_.get(r);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(r,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(r):t.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):fe():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,n)=>{t.push(n)}),t}}class Ql{constructor(t,r,n,i,a,o,s,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Ql(t,r,Al.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class ZW{constructor(){this.queries=PT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=me(r),a=i.queries;i.queries=PT(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new re(W.ABORTED,"Firestore shutting down"))}}function PT(){return new pu(e=>SD(e),Eg)}async function nR(e,t){const r=me(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.H_()&&t.J_()&&(n=2):(a=new JW,n=t.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=B_(o,`Initialization of query '${Xs(t.query)}' failed`);return void t.onError(s)}r.queries.set(i,a),a.j_.push(t),t.Z_(r.onlineState),a.z_&&t.X_(a.z_)&&W_(r)}async function iR(e,t){const r=me(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(t);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function eK(e,t){const r=me(e);let n=!1;for(const i of t){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&W_(r)}function tK(e,t,r){const n=me(e),i=n.queries.get(t);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(t)}function W_(e){e.Y_.forEach(t=>{t.next()})}var Kx,TT;(TT=Kx||(Kx={})).ea="default",TT.Cache="cache";class aR{constructor(t,r,n){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new Ql(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=Ql.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Kx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.key=t}}class sR{constructor(t){this.key=t}}class rK{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=PD(t),this.Ra=new Al(this.Aa)}get Va(){return this.Ta}ma(t,r){const n=r?r.fa:new ST,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),m=kg(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;h&&m?h.data.isEqual(m.data)?y!==b&&(n.track({type:3,doc:m}),x=!0):this.ga(h,m)||(n.track({type:2,doc:m}),x=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!h&&m?(n.track({type:0,doc:m}),x=!0):h&&!m&&(n.track({type:1,doc:h}),x=!0,(l||u)&&(s=!0)),x&&(m?(o=o.add(m),a=b?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,d)=>function(m,y){const b=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return b(m)-b(y)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ql(this.query,t.Ra,a,o,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ST,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Se(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return t.forEach(n=>{this.da.has(n)||r.push(new sR(n))}),this.da.forEach(n=>{t.has(n)||r.push(new oR(n))}),r}ba(t){this.Ta=t.Ts,this.da=Se();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Ql.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class nK{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class iK{constructor(t){this.key=t,this.va=!1}}class aK{constructor(t,r,n,i,a,o){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new pu(s=>SD(s),Eg),this.Ma=new Map,this.xa=new Set,this.Oa=new yt(se.comparator),this.Na=new Map,this.La=new R_,this.Ba={},this.ka=new Map,this.qa=Yl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oK(e,t,r=!0){const n=hR(e);let i;const a=n.Fa.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await lR(n,t,r,!0),i}async function sK(e,t){const r=hR(e);await lR(r,t,!0,!1)}async function lR(e,t,r,n){const i=await IW(e.localStore,mi(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await lK(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&r&&XD(e.remoteStore,i),s}async function lK(e,t,r,n,i){e.Ka=(d,h,m)=>async function(b,x,v,_){let E=x.view.ma(v);E.ns&&(E=await wT(b.localStore,x.query,!1).then(({documents:P})=>x.view.ma(P,E)));const T=_&&_.targetChanges.get(x.targetId),I=_&&_.targetMismatches.get(x.targetId)!=null,D=x.view.applyChanges(E,b.isPrimaryClient,T,I);return IT(b,x.targetId,D.wa),D.snapshot}(e,d,h,m);const a=await wT(e.localStore,t,!0),o=new rK(t,a.Ts),s=o.ma(a.documents),l=Gd.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=o.applyChanges(s,e.isPrimaryClient,l);IT(e,r,u.wa);const c=new nK(t,r,o);return e.Fa.set(t,c),e.Ma.has(r)?e.Ma.get(r).push(t):e.Ma.set(r,[t]),u.snapshot}async function uK(e,t,r){const n=me(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!Eg(o,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Wx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&V_(n.remoteStore,i.targetId),Hx(n,i.targetId)}).catch(Wd)):(Hx(n,i.targetId),await Wx(n.localStore,i.targetId,!0))}async function cK(e,t){const r=me(e),n=r.Fa.get(t),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),V_(r.remoteStore,n.targetId))}async function dK(e,t,r){const n=yK(e);try{const i=await function(o,s){const l=me(o),u=Bt.now(),c=s.reduce((m,y)=>m.add(y.key),Se());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Zi(),b=Se();return l.cs.getEntries(m,c).next(x=>{y=x,y.forEach((v,_)=>{_.isValidDocument()||(b=b.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(x=>{d=x;const v=[];for(const _ of s){const E=j7(_,d.get(_.key).overlayedDocument);E!=null&&v.push(new wo(_.key,E,vD(E.value.mapValue),In.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,v,s)}).next(x=>{h=x;const v=x.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(m,x.batchId,v)})}).then(()=>({batchId:h.batchId,changes:AD(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new yt(je)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(n,i.batchId,r),await Qd(n,i.changes),await Cg(n.remoteStore)}catch(i){const a=B_(i,"Failed to persist write");r.reject(a)}}async function uR(e,t){const r=me(e);try{const n=await PW(r.localStore,t);t.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?$e(o.va):i.removedDocuments.size>0&&($e(o.va),o.va=!1))}),await Qd(r,n,t)}catch(n){await Wd(n)}}function AT(e,t,r){const n=me(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=me(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&W_(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function fK(e,t,r){const n=me(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Na.get(t),a=i&&i.key;if(a){let o=new yt(se.comparator);o=o.insert(a,Sr.newNoDocument(a,pe.min()));const s=Se().add(a),l=new Tg(pe.min(),new Map,new yt(je),o,s);await uR(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(t),K_(n)}else await Wx(n.localStore,t,!1).then(()=>Hx(n,t,r)).catch(Wd)}async function hK(e,t){const r=me(e),n=t.batch.batchId;try{const i=await SW(r.localStore,t);dR(r,n,null),cR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Qd(r,i)}catch(i){await Wd(i)}}async function pK(e,t,r){const n=me(e);try{const i=await function(o,s){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>($e(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);dR(n,t,r),cR(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Qd(n,i)}catch(i){await Wd(i)}}function cR(e,t){(e.ka.get(t)||[]).forEach(r=>{r.resolve()}),e.ka.delete(t)}function dR(e,t,r){const n=me(e);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function Hx(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),r&&e.Ca.$a(n,r);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(n=>{e.La.containsKey(n)||fR(e,n)})}function fR(e,t){e.xa.delete(t.path.canonicalString());const r=e.Oa.get(t);r!==null&&(V_(e.remoteStore,r),e.Oa=e.Oa.remove(t),e.Na.delete(r),K_(e))}function IT(e,t,r){for(const n of r)n instanceof oR?(e.La.addReference(n.key,t),mK(e,n)):n instanceof sR?(ie("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||fR(e,n.key)):fe()}function mK(e,t){const r=t.key,n=r.path.canonicalString();e.Oa.get(r)||e.xa.has(n)||(ie("SyncEngine","New document in limbo: "+r),e.xa.add(n),K_(e))}function K_(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const r=new se(rt.fromString(t)),n=e.qa.next();e.Na.set(n,new iK(r)),e.Oa=e.Oa.insert(r,n),XD(e.remoteStore,new za(mi(_g(r.path)),n,"TargetPurposeLimboResolution",k_.oe))}}async function Qd(e,t,r){const n=me(e),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=L_.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>q.forEach(u,h=>q.forEach(h.$i,m=>c.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>q.forEach(h.Ui,m=>c.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!Kd(d))throw d;ie("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const m=c.os.get(h),y=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(h,b)}}}(n.localStore,a))}async function gK(e,t){const r=me(e);if(!r.currentUser.isEqual(t)){ie("SyncEngine","User change. New user:",t.toKey());const n=await qD(r.localStore,t);r.currentUser=t,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new re(W.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Qd(r,n.hs)}}function vK(e,t){const r=me(e),n=r.Na.get(t);if(n&&n.va)return Se().add(n.key);{let i=Se();const a=r.Ma.get(t);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function hR(e){const t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=uR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fK.bind(null,t),t.Ca.d_=eK.bind(null,t.eventManager),t.Ca.$a=tK.bind(null,t.eventManager),t}function yK(e){const t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pK.bind(null,t),t}class Yp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ag(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return kW(this.persistence,new _W,t.initialUser,this.serializer)}Ga(t){return new xW(M_.Zr,this.serializer)}Wa(t){return new OW}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yp.provider={build:()=>new Yp};class qx{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>AT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gK.bind(null,this.syncEngine),await XW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ZW}()}createDatastore(t){const r=Ag(t.databaseInfo.databaseId),n=function(a){return new RW(a)}(t.databaseInfo);return function(a,o,s,l){return new VW(a,o,s,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,o,s){return new $W(n,i,a,o,s)}(this.localStore,this.datastore,t.asyncQueue,r=>AT(this.syncEngine,r,0),function(){return ET.D()?new ET:new NW}())}createSyncEngine(t,r){return function(i,a,o,s,l,u,c){const d=new aK(i,a,o,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=me(i);ie("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Yd(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}qx.provider={build:()=>new qx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):Ji("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xK{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Er.UNAUTHENTICATED,this.clientId=pD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new to;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=B_(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function Gy(e,t){e.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await qD(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function CT(e,t){e.asyncQueue.verifyOperationInProgress();const r=await bK(e);ie("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>kT(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>kT(t.remoteStore,i)),e._onlineComponents=t}async function bK(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gy(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Kl("Error using user provided cache. Falling back to memory cache: "+r),await Gy(e,new Yp)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await Gy(e,new Yp);return e._offlineComponents}async function mR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await CT(e,e._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await CT(e,new qx))),e._onlineComponents}function wK(e){return mR(e).then(t=>t.syncEngine)}async function Gx(e){const t=await mR(e),r=t.eventManager;return r.onListen=oK.bind(null,t.syncEngine),r.onUnlisten=uK.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=sK.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=cK.bind(null,t.syncEngine),r}function _K(e,t,r={}){const n=new to;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new pR({next:h=>{c.Za(),o.enqueueAndForget(()=>iR(a,d));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new re(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new re(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new aR(_g(s.path),c,{includeMetadataChanges:!0,_a:!0});return nR(a,d)}(await Gx(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(e,t,r){if(!r)throw new re(W.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function EK(e,t,r,n){if(t===!0&&n===!0)throw new re(W.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function NT(e){if(!se.isDocumentKey(e))throw new re(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function jT(e){if(se.isDocumentKey(e))throw new re(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Og(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fe()}function Cn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new re(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Og(e);throw new re(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new re(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new re(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EK("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gR((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new re(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new re(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new re(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ng{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new re(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new z8;switch(n.type){case"firstParty":return new K8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new re(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=OT.get(r);n&&(ie("ComponentProvider","Removing Datastore"),OT.delete(r),n.terminate())}(this),Promise.resolve()}}function kK(e,t,r,n={}){var i;const a=(e=Cn(e,Ng))._getSettings(),o=`${t}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Kl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=Er.MOCK_USER;else{s=Qz(n.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new re(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Er(u)}e._authCredentials=new U8(new hD(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new gu(this.firestore,t,this._query)}}class Ar{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ar(this.firestore,t,this._key)}}class ro extends gu{constructor(t,r,n){super(t,r,_g(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ar(this.firestore,null,new se(t))}withConverter(t){return new ro(this.firestore,t,this._path)}}function Tr(e,t,...r){if(e=vt(e),vR("collection","path",t),e instanceof Ng){const n=rt.fromString(t,...r);return jT(n),new ro(e,null,n)}{if(!(e instanceof Ar||e instanceof ro))throw new re(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rt.fromString(t,...r));return jT(n),new ro(e.firestore,null,n)}}function Pt(e,t,...r){if(e=vt(e),arguments.length===1&&(t=pD.newId()),vR("doc","path",t),e instanceof Ng){const n=rt.fromString(t,...r);return NT(n),new Ar(e,null,new se(n))}{if(!(e instanceof Ar||e instanceof ro))throw new re(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rt.fromString(t,...r));return NT(n),new Ar(e.firestore,e instanceof ro?e.converter:null,new se(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new YD(this,"async_queue_retry"),this.Vu=()=>{const n=qy();n&&ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const r=qy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=qy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new to;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Kd(t))throw t;ie("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw Ji("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(t,r,n){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const i=U_.createAndSchedule(this,t,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&fe()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function MT(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class uo extends Ng{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new RT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new RT(t),this._firestoreClient=void 0,await t}}}function SK(e,t){const r=typeof e=="object"?e:wj(),n=typeof e=="string"?e:"(default)",i=h_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Gz("firestore");a&&kK(i,...a)}return i}function H_(e){if(e._terminated)throw new re(W.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||PK(e),e._firestoreClient}function PK(e){var t,r,n;const i=e._freezeSettings(),a=function(s,l,u,c){return new i7(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,gR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new xK(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xl(mr.fromBase64String(t))}catch(r){throw new re(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Xl(mr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new re(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new re(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new re(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return je(this._lat,t._lat)||je(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=/^__.*__$/;class AK{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new wo(t,this.data,this.fieldMask,r,this.fieldTransforms):new qd(t,this.data,r,this.fieldTransforms)}}class yR{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new wo(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function xR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class Y_{constructor(t,r,n,i,a,o){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new Y_(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Qp(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(xR(this.Cu)&&TK.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class IK{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Ag(t)}Qu(t,r,n,i=!1){return new Y_({Cu:t,methodName:r,qu:n,path:cr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rg(e){const t=e._freezeSettings(),r=Ag(e._databaseId);return new IK(e._databaseId,!!t.ignoreUndefinedProperties,r)}function bR(e,t,r,n,i,a={}){const o=e.Qu(a.merge||a.mergeFields?2:0,t,r,i);X_("Data must be an object, but it was:",o,n);const s=wR(n,o);let l,u;if(a.merge)l=new un(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const h=Yx(t,d,r);if(!o.contains(h))throw new re(W.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ER(c,h)||c.push(h)}l=new un(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new AK(new Kr(s),l,u)}class Mg extends Dg{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mg}}class Q_ extends Dg{_toFieldTransform(t){return new I7(t.path,new ud)}isEqual(t){return t instanceof Q_}}function CK(e,t,r,n){const i=e.Qu(1,t,r);X_("Data must be an object, but it was:",i,n);const a=[],o=Kr.empty();js(n,(l,u)=>{const c=J_(t,l,r);u=vt(u);const d=i.Nu(c);if(u instanceof Mg)a.push(c);else{const h=Xd(u,d);h!=null&&(a.push(c),o.set(c,h))}});const s=new un(a);return new yR(o,s,i.fieldTransforms)}function OK(e,t,r,n,i,a){const o=e.Qu(1,t,r),s=[Yx(t,n,r)],l=[i];if(a.length%2!=0)throw new re(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Yx(t,a[h])),l.push(a[h+1]);const u=[],c=Kr.empty();for(let h=s.length-1;h>=0;--h)if(!ER(u,s[h])){const m=s[h];let y=l[h];y=vt(y);const b=o.Nu(m);if(y instanceof Mg)u.push(m);else{const x=Xd(y,b);x!=null&&(u.push(m),c.set(m,x))}}const d=new un(u);return new yR(c,d,o.fieldTransforms)}function NK(e,t,r,n=!1){return Xd(r,e.Qu(n?4:3,t))}function Xd(e,t){if(_R(e=vt(e)))return X_("Unsupported field value:",t,e),wR(e,t);if(e instanceof Dg)return function(n,i){if(!xR(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Xd(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return P7(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Bt.fromDate(n);return{timestampValue:qp(i.serializer,a)}}if(n instanceof Bt){const a=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qp(i.serializer,a)}}if(n instanceof q_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xl)return{bytesValue:$D(i.serializer,n._byteString)};if(n instanceof Ar){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:D_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof G_)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return C_(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Og(n)}`)}(e,t)}function wR(e,t){const r={};return mD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):js(e,(n,i)=>{const a=Xd(i,t.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function _R(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Bt||e instanceof q_||e instanceof Xl||e instanceof Ar||e instanceof Dg||e instanceof G_)}function X_(e,t,r){if(!_R(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Og(r);throw n==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function Yx(e,t,r){if((t=vt(t))instanceof jg)return t._internalPath;if(typeof t=="string")return J_(e,t);throw Qp("Field path arguments must be of type string or ",e,!1,void 0,r)}const jK=new RegExp("[~\\*/\\[\\]]");function J_(e,t,r){if(t.search(jK)>=0)throw Qp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new jg(...t.split("."))._internalPath}catch{throw Qp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Qp(e,t,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new re(W.INVALID_ARGUMENT,s+e+l)}function ER(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ar(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Z_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class DK extends kR{data(){return super.data()}}function Z_(e,t){return typeof t=="string"?J_(e,t):t instanceof jg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RK(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new re(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e1{}class MK extends e1{}function vi(e,t,...r){let n=[];t instanceof e1&&n.push(t),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof t1).length,s=a.filter(l=>l instanceof Lg).length;if(o>1||o>0&&s>0)throw new re(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class Lg extends MK{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Lg(t,r,n)}_apply(t){const r=this._parse(t);return SR(t._query,r),new gu(t.firestore,t.converter,Vx(t._query,r))}_parse(t){const r=Rg(t.firestore);return function(a,o,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new re(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){VT(d,c);const m=[];for(const y of d)m.push(LT(l,a,y));h={arrayValue:{values:m}}}else h=LT(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||VT(d,c),h=NK(s,o,d,c==="in"||c==="not-in");return Rt.create(u,c,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function on(e,t,r){const n=t,i=Z_("where",e);return Lg._create(i,n,r)}class t1 extends e1{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new t1(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Jn.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)SR(o,l),o=Vx(o,l)}(t._query,r),new gu(t.firestore,t.converter,Vx(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function LT(e,t,r){if(typeof(r=vt(r))=="string"){if(r==="")throw new re(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kD(t)&&r.indexOf("/")!==-1)throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(rt.fromString(r));if(!se.isDocumentKey(n))throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return iT(e,new se(n))}if(r instanceof Ar)return iT(e,r._key);throw new re(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Og(r)}.`)}function VT(e,t){if(!Array.isArray(e)||e.length===0)throw new re(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function SR(e,t){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new re(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new re(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class LK{convertValue(t,r="none"){switch(ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return At(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(vs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw fe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return js(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var r,n,i;const a=(i=(n=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>At(o.doubleValue));return new G_(a)}convertGeoPoint(t){return new q_(At(t.latitude),At(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=P_(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(od(t));default:return null}}convertTimestamp(t){const r=so(t);return new Bt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=rt.fromString(t);$e(HD(n));const i=new sd(n.get(1),n.get(3)),a=new se(n.popFirst(5));return i.isEqual(r)||Ji(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class TR extends kR{constructor(t,r,n,i,a,o){super(t,r,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new tp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Z_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class tp extends TR{data(t={}){return super.data(t)}}class VK{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new yc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new tp(this._firestore,this._userDataWriter,n.key,n,new yc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new re(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new tp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new yc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new tp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new yc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:FK(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function FK(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $K(e){e=Cn(e,Ar);const t=Cn(e.firestore,uo);return _K(H_(t),e._key).then(r=>IR(t,e,r))}class AR extends LK{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ar(this.firestore,null,r)}}function es(e,t,r){e=Cn(e,Ar);const n=Cn(e.firestore,uo),i=PR(e.converter,t,r);return Fg(n,[bR(Rg(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,In.none())])}function Ma(e,t,r,...n){e=Cn(e,Ar);const i=Cn(e.firestore,uo),a=Rg(i);let o;return o=typeof(t=vt(t))=="string"||t instanceof jg?OK(a,"updateDoc",e._key,t,r,n):CK(a,"updateDoc",e._key,t),Fg(i,[o.toMutation(e._key,In.exists(!0))])}function Vg(e){return Fg(Cn(e.firestore,uo),[new O_(e._key,In.none())])}function Xp(e,t){const r=Cn(e.firestore,uo),n=Pt(e),i=PR(e.converter,t);return Fg(r,[bR(Rg(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,In.exists(!1))]).then(()=>n)}function Pn(e,...t){var r,n,i;e=vt(e);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||MT(t[o])||(a=t[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(MT(t[o])){const d=t[o];t[o]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[o+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Ar)u=Cn(e.firestore,uo),c=_g(e._key.path),l={next:d=>{t[o]&&t[o](IR(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Cn(e,gu);u=Cn(d.firestore,uo),c=d._query;const h=new AR(u);l={next:m=>{t[o]&&t[o](new VK(u,h,d,m))},error:t[o+1],complete:t[o+2]},RK(e._query)}return function(h,m,y,b){const x=new pR(b),v=new aR(m,x,y);return h.asyncQueue.enqueueAndForget(async()=>nR(await Gx(h),v)),()=>{x.Za(),h.asyncQueue.enqueueAndForget(async()=>iR(await Gx(h),v))}}(H_(u),c,s,l)}function Fg(e,t){return function(n,i){const a=new to;return n.asyncQueue.enqueueAndForget(async()=>dK(await wK(n),i,a)),a.promise}(H_(e),t)}function IR(e,t,r){const n=r.docs.get(t._key),i=new AR(e);return new TR(e,i,t._key,n,new yc(r.hasPendingWrites,r.fromCache),t.converter)}function fd(){return new Q_("serverTimestamp")}(function(t,r=!0){(function(i){hu=i})(fu),Wl(new fs("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new uo(new B8(n.getProvider("auth-internal")),new q8(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),eo(ZP,"4.7.3",t),eo(ZP,"4.7.3","esm2017")})();const zK={apiKey:"AIzaSyAausPXJhXSRr7Aa8Ob0s8AATtv2FbtM8o",authDomain:"spendwisewebapp.firebaseapp.com",projectId:"spendwisewebapp",storageBucket:"spendwisewebapp.firebasestorage.app",messagingSenderId:"391185653870",appId:"1:391185653870:web:2cf9119a304ca58f16467f"},CR=bj(zK),ts=L8(CR),Ae=SK(CR);function UK(){const[e,t]=g.useState(!0),[r,n]=g.useState(""),[i,a]=g.useState(""),[o,s]=g.useState(""),l=async u=>{u.preventDefault(),s("");try{if(e)await x9(ts,r,i);else{const c=await y9(ts,r,i);await Yj(c.user)}}catch(c){s(c.message)}};return p.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsx("h1",{className:"text-3xl font-bold text-center mb-2 bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent",children:"SpendWise"}),p.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Kiisel finans ynetiminizi basitletirin."}),o&&p.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-3 rounded-lg mb-4 text-sm",children:o}),p.jsxs("form",{onSubmit:l,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta"}),p.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:r,onChange:u=>n(u.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"ifre"}),p.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:i,onChange:u=>a(u.target.value)})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-300",children:e?"Giri Yap":"Kayt Ol"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>t(!e),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium transition-colors",children:e?"Hesabn yok mu? Kayt Ol":"Zaten hesabn var m? Giri Yap"})})]})})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),he=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>g.createElement("svg",{ref:c,...BK,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${WK(e)}`,s].join(" "),...u},[...t.map(([d,h])=>g.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=he("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=he("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=he("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=he("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=he("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=he("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=he("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=he("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=he("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=he("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=he("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=he("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=he("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=he("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=he("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=he("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=he("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=he("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=he("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=he("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=he("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=he("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=he("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const co=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=he("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=he("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=he("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=he("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=he("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=he("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=he("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=he("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function MR(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=MR(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=MR(e))&&(n&&(n+=" "),n+=t);return n}var fH=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function n1(e){if(typeof e!="string")return!1;var t=fH;return t.includes(e)}var hH=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],pH=new Set(hH);function LR(e){return typeof e!="string"?!1:pH.has(e)}function VR(e){return typeof e=="string"&&e.startsWith("data-")}function Xr(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(LR(r)||VR(r))&&(t[r]=e[r]);return t}function xs(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Xr(t)}return typeof e=="object"&&!Array.isArray(e)?Xr(e):null}function Fr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(LR(r)||VR(r)||n1(r))&&(t[r]=e[r]);return t}function mH(e){return e==null?null:g.isValidElement(e)?Fr(e.props):typeof e=="object"&&!Array.isArray(e)?Fr(e):null}var gH=["children","width","height","viewBox","className","style","title","desc"];function Jx(){return Jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jx.apply(null,arguments)}function vH(e,t){if(e==null)return{};var r,n,i=yH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var i1=g.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=vH(e,gH),d=a||{width:n,height:i,x:0,y:0},h=Pe("recharts-surface",o);return g.createElement("svg",Jx({},Fr(c),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),r)}),xH=["children","className"];function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zx.apply(null,arguments)}function bH(e,t){if(e==null)return{};var r,n,i=wH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ct=g.forwardRef((e,t)=>{var{children:r,className:n}=e,i=bH(e,xH),a=Pe("recharts-layer",n);return g.createElement("g",Zx({className:a},Fr(i),{ref:t}),r)}),FR=g.createContext(null),_H=()=>g.useContext(FR);function Ye(e){return function(){return e}}const $R=Math.cos,em=Math.sin,ti=Math.sqrt,tm=Math.PI,zg=2*tm,eb=Math.PI,tb=2*eb,$o=1e-6,EH=tb-$o;function zR(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function kH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zR;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class SH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zR:kH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>$o)if(!(Math.abs(d*l-u*c)>$o)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,y=i-s,b=l*l+u*u,x=m*m+y*y,v=Math.sqrt(b),_=Math.sqrt(h),E=a*Math.tan((eb-Math.acos((b+h-x)/(2*v*_)))/2),T=E/_,I=E/v;Math.abs(T-1)>$o&&this._append`L${t+T*c},${r+T*d}`,this._append`A${a},${a},0,0,${+(d*m>c*y)},${this._x1=t+I*l},${this._y1=r+I*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>$o||Math.abs(this._y1-c)>$o)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%tb+tb),h>EH?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:h>$o&&this._append`A${n},${n},0,${+(h>=eb)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function a1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new SH(t)}function o1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UR(e){this._context=e}UR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ug(e){return new UR(e)}function BR(e){return e[0]}function WR(e){return e[1]}function KR(e,t){var r=Ye(!0),n=null,i=Ug,a=null,o=a1(s);e=typeof e=="function"?e:e===void 0?BR:Ye(e),t=typeof t=="function"?t:t===void 0?WR:Ye(t);function s(l){var u,c=(l=o1(l)).length,d,h=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ye(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ye(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ye(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function mh(e,t,r){var n=null,i=Ye(!0),a=null,o=Ug,s=null,l=a1(u);e=typeof e=="function"?e:e===void 0?BR:Ye(+e),t=typeof t=="function"?t:Ye(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?WR:Ye(+r);function u(d){var h,m,y,b=(d=o1(d)).length,x,v=!1,_,E=new Array(b),T=new Array(b);for(a==null&&(s=o(_=l())),h=0;h<=b;++h){if(!(h<b&&i(x=d[h],h,d))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),y=h-1;y>=m;--y)s.point(E[y],T[y]);s.lineEnd(),s.areaEnd()}v&&(E[h]=+e(x,h,d),T[h]=+t(x,h,d),s.point(n?+n(x,h,d):E[h],r?+r(x,h,d):T[h]))}if(_)return s=null,_+""||null}function c(){return KR().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ye(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ye(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ye(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class HR{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function PH(e){return new HR(e,!0)}function TH(e){return new HR(e,!1)}const s1={draw(e,t){const r=ti(t/tm);e.moveTo(r,0),e.arc(0,0,r,0,zg)}},AH={draw(e,t){const r=ti(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},qR=ti(1/3),IH=qR*2,CH={draw(e,t){const r=ti(t/IH),n=r*qR;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},OH={draw(e,t){const r=ti(t),n=-r/2;e.rect(n,n,r,r)}},NH=.8908130915292852,GR=em(tm/10)/em(7*tm/10),jH=em(zg/10)*GR,DH=-$R(zg/10)*GR,RH={draw(e,t){const r=ti(t*NH),n=jH*r,i=DH*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=zg*a/5,s=$R(o),l=em(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},Qy=ti(3),MH={draw(e,t){const r=-ti(t/(Qy*3));e.moveTo(0,r*2),e.lineTo(-Qy*r,-r),e.lineTo(Qy*r,-r),e.closePath()}},xn=-.5,bn=ti(3)/2,rb=1/ti(12),LH=(rb/2+1)*3,VH={draw(e,t){const r=ti(t/LH),n=r/2,i=r*rb,a=n,o=r*rb+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(xn*n-bn*i,bn*n+xn*i),e.lineTo(xn*a-bn*o,bn*a+xn*o),e.lineTo(xn*s-bn*l,bn*s+xn*l),e.lineTo(xn*n+bn*i,xn*i-bn*n),e.lineTo(xn*a+bn*o,xn*o-bn*a),e.lineTo(xn*s+bn*l,xn*l-bn*s),e.closePath()}};function FH(e,t){let r=null,n=a1(i);e=typeof e=="function"?e:Ye(e||s1),t=typeof t=="function"?t:Ye(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ye(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ye(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function rm(){}function nm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function YR(e){this._context=e}YR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:nm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $H(e){return new YR(e)}function QR(e){this._context=e}QR.prototype={areaStart:rm,areaEnd:rm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zH(e){return new QR(e)}function XR(e){this._context=e}XR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:nm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UH(e){return new XR(e)}function JR(e){this._context=e}JR.prototype={areaStart:rm,areaEnd:rm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function BH(e){return new JR(e)}function WT(e){return e<0?-1:1}function KT(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(WT(a)+WT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function HT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xy(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function im(e){this._context=e}im.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xy(this,this._t0,HT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xy(this,HT(this,r=KT(this,e,t)),r);break;default:Xy(this,this._t0,r=KT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ZR(e){this._context=new eM(e)}(ZR.prototype=Object.create(im.prototype)).point=function(e,t){im.prototype.point.call(this,t,e)};function eM(e){this._context=e}eM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function WH(e){return new im(e)}function KH(e){return new ZR(e)}function tM(e){this._context=e}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=qT(e),i=qT(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function qT(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function HH(e){return new tM(e)}function Bg(e,t){this._context=e,this._t=t}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function qH(e){return new Bg(e,.5)}function GH(e){return new Bg(e,0)}function YH(e){return new Bg(e,1)}function bs(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function nb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function QH(e,t){return e[t]}function XH(e){const t=[];return t.key=e,t}function JH(){var e=Ye([]),t=nb,r=bs,n=QH;function i(a){var o=Array.from(e.apply(this,arguments),XH),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=o1(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ye(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ye(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?nb:typeof a=="function"?a:Ye(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??bs,i):r},i}function ZH(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}bs(e,t)}}function eq(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}bs(e,t)}}function tq(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,h=c[n-1][1]||0,m=(d-h)/2,y=0;y<s;++y){var b=e[t[y]],x=b[n][1]||0,v=b[n-1][1]||0;m+=x-v}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,bs(e,t)}}var Wg={},rM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(rM);var l1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(l1);var Kg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Kg);var Hg={},nM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(nM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nM,r=Kg;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];u?d==="\\"&&s+1<o?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=n})(Hg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rM,r=l1,n=Kg,i=Hg;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(Wg);var rq=Wg.get;const ws=sa(rq);var nq=4;function Ua(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nq,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Et(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var s=r[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+Ua(s)+a:i+a},"")}var tr=e=>e===0?0:e>0?1:-1,jn=e=>typeof e=="number"&&e!=+e,ea=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Z=e=>(typeof e=="number"||e instanceof Number)&&!jn(e),bi=e=>Z(e)||typeof e=="string",iq=0,md=e=>{var t=++iq;return"".concat(e||"").concat(t)},Ir=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&typeof t!="string")return n;var a;if(ea(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return jn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},iM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function tt(e,t,r){return Z(e)&&Z(t)?Ua(e+r*(t-e)):t}function aM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ws(n,t))===r)}var mt=e=>e===null||typeof e>"u",Jd=e=>mt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function aq(e){return e!=null}function Zd(){}var oq=["type","size","sizeType"];function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ib.apply(null,arguments)}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function YT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t,r){return(t=lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cq(e,t){if(e==null)return{};var r,n,i=dq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oM={symbolCircle:s1,symbolCross:AH,symbolDiamond:CH,symbolSquare:OH,symbolStar:RH,symbolTriangle:MH,symbolWye:VH},fq=Math.PI/180,hq=e=>{var t="symbol".concat(Jd(e));return oM[t]||s1},pq=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*fq;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},mq=(e,t)=>{oM["symbol".concat(Jd(e))]=t},u1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=cq(e,oq),a=YT(YT({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=hq(o),m=FH().type(h).size(pq(r,n,o)),y=m();if(y!==null)return y},{className:l,cx:u,cy:c}=a,d=Fr(a);return Z(u)&&Z(c)&&Z(r)?g.createElement("path",ib({},d,{className:Pe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};u1.registerSymbol=mq;var sM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,c1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{n1(i)&&(n[i]=a=>r[i](r,a))}),n},gq=(e,t,r)=>n=>(e(t,r,n),null),ef=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];n1(i)&&typeof a=="function"&&(n||(n={}),n[i]=gq(a,t,r))}),n};function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yq(e,t,r){return(t=xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=bq(e,"string");return typeof t=="symbol"?t:t+""}function bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ft(e,t){var r=vq({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function am(){return am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},am.apply(null,arguments)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){_q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _q(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _n=32,Sq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Pq(e){var{data:t,iconType:r,inactiveColor:n}=e,i=_n/2,a=_n/6,o=_n/3,s=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:_n,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(_n,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(_n/8,"h").concat(_n,"v").concat(_n*3/4,"h").concat(-_n,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var c=wq({},t);return delete c.legendIcon,g.cloneElement(t.legendIcon,c)}return g.createElement(u1,{fill:s,cx:i,cy:i,size:_n,sizeType:"diameter",type:l})}function Tq(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,s={x:0,y:0,width:_n,height:_n},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var h=c.formatter||i,m=Pe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var y=c.inactive?a:c.color,b=h?h(c.value,c,d):c.value;return g.createElement("li",am({className:m,style:l,key:"legend-item-".concat(d)},ef(e,c,d)),g.createElement(i1,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(b," legend icon")},g.createElement(Pq,{data:c,iconType:o,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},b))})}var Aq=e=>{var t=Ft(e,Sq),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(Tq,am({},t,{payload:r})))},lM={},uM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(uM);var d1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(d1);var cM={},qg={},dM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(dM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(qg);var fM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(fM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qg,r=fM;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(cM);var hM={},pM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wg;function r(n){return function(i){return t.get(i,n)}}e.property=r})(pM);var mM={},f1={},gM={},h1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(h1);var p1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(p1);var m1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(m1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h1,r=p1,n=m1;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):a(c,d,function m(y,b,x,v,_,E){const T=h(y,b,x,v,_,E);return T!==void 0?!!T:a(y,b,m,E)},new Map)}function a(c,d,h,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,h,m);case"function":return Object.keys(d).length>0?a(c,{...d},h,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,h,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,m);if(d instanceof Map)return s(c,d,h,m);if(d instanceof Set)return u(c,d,h,m);const y=Object.keys(d);if(c==null||r.isPrimitive(c))return y.length===0;if(y.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let b=0;b<y.length;b++){const x=y[b];if(!r.isPrimitive(c)&&!(x in c)||d[x]===void 0&&c[x]!==void 0||d[x]===null&&c[x]!==null||!h(c[x],d[x],x,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function s(c,d,h,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[y,b]of d.entries()){const x=c.get(y);if(h(x,b,y,c,d,m)===!1)return!1}return!0}function l(c,d,h,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const y=new Set;for(let b=0;b<d.length;b++){const x=d[b];let v=!1;for(let _=0;_<c.length;_++){if(y.has(_))continue;const E=c[_];let T=!1;if(h(E,x,b,c,d,m)&&(T=!0),T){y.add(_),v=!0;break}}if(!v)return!1}return!0}function u(c,d,h,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(gM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(f1);var vM={},g1={},yM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(yM);var v1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(v1);var y1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",m="[object Object]",y="[object Error]",b="[object DataView]",x="[object Uint8Array]",v="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",I="[object Int8Array]",D="[object Int16Array]",P="[object Int32Array]",S="[object BigInt64Array]",C="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=b,e.dateTag=s,e.errorTag=y,e.float32ArrayTag=C,e.float64ArrayTag=O,e.functionTag=d,e.int16ArrayTag=D,e.int32ArrayTag=P,e.int8ArrayTag=I,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=_,e.uint32ArrayTag=E,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=v})(y1);var xM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(xM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM,r=v1,n=y1,i=p1,a=xM;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,h,m=new Map,y=void 0){const b=y==null?void 0:y(c,d,h,m);if(b!==void 0)return b;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const x=new Array(c.length);m.set(c,x);for(let v=0;v<c.length;v++)x[v]=s(c[v],v,h,m,y);return Object.hasOwn(c,"index")&&(x.index=c.index),Object.hasOwn(c,"input")&&(x.input=c.input),x}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const x=new RegExp(c.source,c.flags);return x.lastIndex=c.lastIndex,x}if(c instanceof Map){const x=new Map;m.set(c,x);for(const[v,_]of c)x.set(v,s(_,v,h,m,y));return x}if(c instanceof Set){const x=new Set;m.set(c,x);for(const v of c)x.add(s(v,void 0,h,m,y));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const x=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,x);for(let v=0;v<c.length;v++)x[v]=s(c[v],v,h,m,y);return x}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const x=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,x),l(x,c,h,m,y),x}if(typeof File<"u"&&c instanceof File){const x=new File([c],c.name,{type:c.type});return m.set(c,x),l(x,c,h,m,y),x}if(typeof Blob<"u"&&c instanceof Blob){const x=new Blob([c],{type:c.type});return m.set(c,x),l(x,c,h,m,y),x}if(c instanceof Error){const x=new c.constructor;return m.set(c,x),x.message=c.message,x.name=c.name,x.stack=c.stack,x.cause=c.cause,l(x,c,h,m,y),x}if(c instanceof Boolean){const x=new Boolean(c.valueOf());return m.set(c,x),l(x,c,h,m,y),x}if(c instanceof Number){const x=new Number(c.valueOf());return m.set(c,x),l(x,c,h,m,y),x}if(c instanceof String){const x=new String(c.valueOf());return m.set(c,x),l(x,c,h,m,y),x}if(typeof c=="object"&&u(c)){const x=Object.create(Object.getPrototypeOf(c));return m.set(c,x),l(x,c,h,m,y),x}return c}function l(c,d,h=c,m,y){const b=[...Object.keys(d),...t.getSymbols(d)];for(let x=0;x<b.length;x++){const v=b[x],_=Object.getOwnPropertyDescriptor(c,v);(_==null||_.writable)&&(c[v]=s(d[v],v,h,m,y))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(g1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(vM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f1,r=vM;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(mM);var bM={},wM={},_M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g1,r=y1;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(_M);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_M;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(wM);var EM={},x1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(x1);var kM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v1;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(kM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l1,r=x1,n=kM,i=Hg;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(EM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f1,r=Kg,n=wM,i=Wg,a=EM;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(bM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d1,r=pM,n=mM,i=bM;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(hM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM,r=d1,n=cM,i=hM;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(lM);var Iq=lM.uniqBy;const JT=sa(Iq);function SM(e,t,r){return t===!0?JT(e,r):typeof t=="function"?JT(e,t):e}var PM={exports:{}},TM={},AM={exports:{}},IM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=g;function Cq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oq=typeof Object.is=="function"?Object.is:Cq,Nq=Zl.useState,jq=Zl.useEffect,Dq=Zl.useLayoutEffect,Rq=Zl.useDebugValue;function Mq(e,t){var r=t(),n=Nq({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Dq(function(){i.value=r,i.getSnapshot=t,Jy(i)&&a({inst:i})},[e,r,t]),jq(function(){return Jy(i)&&a({inst:i}),e(function(){Jy(i)&&a({inst:i})})},[e]),Rq(r),r}function Jy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Oq(e,r)}catch{return!0}}function Lq(e,t){return t()}var Vq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Lq:Mq;IM.useSyncExternalStore=Zl.useSyncExternalStore!==void 0?Zl.useSyncExternalStore:Vq;AM.exports=IM;var Fq=AM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=g,$q=Fq;function zq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uq=typeof Object.is=="function"?Object.is:zq,Bq=$q.useSyncExternalStore,Wq=Gg.useRef,Kq=Gg.useEffect,Hq=Gg.useMemo,qq=Gg.useDebugValue;TM.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Wq(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Hq(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return d=y}return d=m}if(y=d,Uq(c,m))return y;var b=n(m);return i!==void 0&&i(y,b)?(c=m,y):(c=m,d=b)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var s=Bq(e,a[0],a[1]);return Kq(function(){o.hasValue=!0,o.value=s},[s]),qq(s),s};PM.exports=TM;var Gq=PM.exports,b1=g.createContext(null),Yq=e=>e,Xe=()=>{var e=g.useContext(b1);return e?e.store.dispatch:Yq},np=()=>{},Qq=()=>np,Xq=(e,t)=>e===t;function ne(e){var t=g.useContext(b1);return Gq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Qq,t?t.store.getState:np,t?t.store.getState:np,t?e:np,Xq)}function Jq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Zq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function eG(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var ZT=e=>Array.isArray(e)?e:[e];function tG(e){const t=Array.isArray(e[0])?e[0]:e;return eG(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function rG(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var nG=class{constructor(e){this.value=e}deref(){return this.value}},iG=typeof WeakRef<"u"?WeakRef:nG,aG=0,eA=1;function gh(){return{s:aG,v:void 0,o:null,p:null}}function CM(e,t={}){let r=gh();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let b=s.o;b===null&&(s.o=b=new WeakMap);const x=b.get(y);x===void 0?(s=gh(),b.set(y,s)):s=x}else{let b=s.p;b===null&&(s.p=b=new Map);const x=b.get(y);x===void 0?(s=gh(),b.set(y,s)):s=x}}const u=s;let c;if(s.s===eA)c=s.v;else if(c=e.apply(null,arguments),a++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new iG(c):c}return u.s=eA,u.v=c,c}return o.clearCache=()=>{r=gh(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function oG(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Jq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:m=CM,argsMemoizeOptions:y=[]}=c,b=ZT(h),x=ZT(y),v=tG(i),_=d(function(){return a++,u.apply(null,arguments)},...b),E=m(function(){o++;const I=rG(v,arguments);return s=_.apply(null,I),s},...x);return Object.assign(E,{resultFunc:u,memoizedResultFunc:_,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=oG(CM),sG=Object.assign((e,t=L)=>{Zq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>sG}),OM={},NM={},jM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(jM);var DM={},w1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(w1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(DM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jM,r=DM,n=Hg;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,y)=>{let b=m;for(let x=0;x<y.length&&b!=null;++x)b=b[y[x]];return b},c=(m,y)=>y==null||m==null?y:typeof m=="object"&&"key"in m?Object.hasOwn(y,m.key)?y[m.key]:u(y,m.path):typeof m=="function"?m(y):Array.isArray(m)?u(y,m):typeof y=="object"?y[m]:y,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(y=>c(y,m))})).slice().sort((m,y)=>{for(let b=0;b<d.length;b++){const x=t.compareValues(m.criteria[b],y.criteria[b],s[b]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=i})(NM);var RM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(RM);var _1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x1,r=qg,n=h1,i=m1;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(_1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NM,r=RM,n=_1;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(OM);var lG=OM.sortBy;const Yg=sa(lG);var MM=e=>e.legend.settings,uG=e=>e.legend.size,cG=e=>e.legend.payload,dG=L([cG,MM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Yg(n,r):n});function fG(){return ne(dG)}var vh=1;function LM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>vh||Math.abs(o.left-t.left)>vh||Math.abs(o.top-t.top)>vh||Math.abs(o.width-t.width)>vh)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function or(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hG=typeof Symbol=="function"&&Symbol.observable||"@@observable",tA=hG,Zy=()=>Math.random().toString(36).substring(7).split("").join("."),pG={INIT:`@@redux/INIT${Zy()}`,REPLACE:`@@redux/REPLACE${Zy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zy()}`},om=pG;function E1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function VM(e,t,r){if(typeof e!="function")throw new Error(or(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(or(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(or(1));return r(VM)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((x,v)=>{o.set(v,x)}))}function c(){if(l)throw new Error(or(3));return i}function d(x){if(typeof x!="function")throw new Error(or(4));if(l)throw new Error(or(5));let v=!0;u();const _=s++;return o.set(_,x),function(){if(v){if(l)throw new Error(or(6));v=!1,u(),o.delete(_),a=null}}}function h(x){if(!E1(x))throw new Error(or(7));if(typeof x.type>"u")throw new Error(or(8));if(typeof x.type!="string")throw new Error(or(17));if(l)throw new Error(or(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=o).forEach(_=>{_()}),x}function m(x){if(typeof x!="function")throw new Error(or(10));n=x,h({type:om.REPLACE})}function y(){const x=d;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(or(11));function _(){const T=v;T.next&&T.next(c())}return _(),{unsubscribe:x(_)}},[tA](){return this}}}return h({type:om.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:m,[tA]:y}}function mG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:om.INIT})>"u")throw new Error(or(12));if(typeof r(void 0,{type:om.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(or(13))})}function FM(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{mG(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],h=r[d],m=o[d],y=h(m,s);if(typeof y>"u")throw s&&s.type,new Error(or(14));u[d]=y,l=l||y!==m}return l=l||n.length!==Object.keys(o).length,l?u:o}}function sm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function gG(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(or(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=sm(...s)(i.dispatch),{...i,dispatch:a}}}function $M(e){return E1(e)&&"type"in e&&typeof e.type=="string"}var zM=Symbol.for("immer-nothing"),rA=Symbol.for("immer-draftable"),$r=Symbol.for("immer-state");function Wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var cn=Object,eu=cn.getPrototypeOf,lm="constructor",Qg="prototype",ab="configurable",um="enumerable",ip="writable",gd="value",ta=e=>!!e&&!!e[$r];function Zn(e){var t;return e?UM(e)||Xg(e)||!!e[rA]||!!((t=e[lm])!=null&&t[rA])||Jg(e)||Zg(e):!1}var vG=cn[Qg][lm].toString(),nA=new WeakMap;function UM(e){if(!e||!k1(e))return!1;const t=eu(e);if(t===null||t===cn[Qg])return!0;const r=cn.hasOwnProperty.call(t,lm)&&t[lm];if(r===Object)return!0;if(!el(r))return!1;let n=nA.get(r);return n===void 0&&(n=Function.toString.call(r),nA.set(r,n)),n===vG}function tf(e,t,r=!0){rf(e)===0?(r?Reflect.ownKeys(e):cn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function rf(e){const t=e[$r];return t?t.type_:Xg(e)?1:Jg(e)?2:Zg(e)?3:0}var iA=(e,t,r=rf(e))=>r===2?e.has(t):cn[Qg].hasOwnProperty.call(e,t),ob=(e,t,r=rf(e))=>r===2?e.get(t):e[t],cm=(e,t,r,n=rf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function yG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Xg=Array.isArray,Jg=e=>e instanceof Map,Zg=e=>e instanceof Set,k1=e=>typeof e=="object",el=e=>typeof e=="function",e0=e=>typeof e=="boolean";function xG(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Oi=e=>e.copy_||e.base_,S1=e=>e.modified_?e.copy_:e.base_;function sb(e,t){if(Jg(e))return new Map(e);if(Zg(e))return new Set(e);if(Xg(e))return Array[Qg].slice.call(e);const r=UM(e);if(t===!0||t==="class_only"&&!r){const n=cn.getOwnPropertyDescriptors(e);delete n[$r];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[ip]===!1&&(s[ip]=!0,s[ab]=!0),(s.get||s.set)&&(n[o]={[ab]:!0,[ip]:!0,[um]:s[um],[gd]:e[o]})}return cn.create(eu(e),n)}else{const n=eu(e);if(n!==null&&r)return{...e};const i=cn.create(n);return cn.assign(i,e)}}function P1(e,t=!1){return ev(e)||ta(e)||!Zn(e)||(rf(e)>1&&cn.defineProperties(e,{set:yh,add:yh,clear:yh,delete:yh}),cn.freeze(e),t&&tf(e,(r,n)=>{P1(n,!0)},!1)),e}function bG(){Wn(2)}var yh={[gd]:bG};function ev(e){return e===null||!k1(e)?!0:cn.isFrozen(e)}var dm="MapSet",lb="Patches",aA="ArrayMethods",BM={};function _s(e){const t=BM[e];return t||Wn(0,e),t}var oA=e=>!!BM[e],vd,WM=()=>vd,wG=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:oA(dm)?_s(dm):void 0,arrayMethodsPlugin_:oA(aA)?_s(aA):void 0});function sA(e,t){t&&(e.patchPlugin_=_s(lb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ub(e){cb(e),e.drafts_.forEach(_G),e.drafts_=null}function cb(e){e===vd&&(vd=e.parent_)}var lA=e=>vd=wG(vd,e);function _G(e){const t=e[$r];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[$r].modified_&&(ub(t),Wn(4)),Zn(e)&&(e=cA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[$r].base_,e,t)}else e=cA(t,r);return EG(t,e,!0),ub(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zM?e:void 0}function cA(e,t){if(ev(t))return t;const r=t[$r];if(!r)return T1(t,e.handledSet_,e);if(!tv(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);qM(r,e)}return r.copy_}function EG(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&P1(t,r)}function KM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var tv=(e,t)=>e.scope_===t,kG=[];function HM(e,t,r,n){const i=Oi(e),a=e.type_;if(n!==void 0&&ob(i,n,a)===t){cm(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;tf(i,(l,u)=>{if(ta(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=e.draftLocations_.get(t)??kG;for(const s of o)cm(i,s,r,a)}function SG(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!tv(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=S1(a);HM(e,a.draft_??a,o,r),qM(a,i)})}function qM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}KM(e)}}function PG(e,t,r){const{scope_:n}=e;if(ta(r)){const i=r[$r];tv(i,n)&&i.callbacks_.push(function(){ap(e);const o=S1(i);HM(e,r,o,t)})}else Zn(r)&&e.callbacks_.push(function(){const a=Oi(e);ob(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&T1(ob(e.copy_,t,e.type_),n.handledSet_,n)})}function T1(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ta(e)||t.has(e)||!Zn(e)||ev(e)||(t.add(e),tf(e,(n,i)=>{if(ta(i)){const a=i[$r];if(tv(a,r)){const o=S1(a);cm(e,n,o,e.type_),KM(a)}}else Zn(i)&&T1(i,t,r)})),e}function TG(e,t){const r=Xg(e),n={type_:r?1:0,scope_:t?t.scope_:WM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=A1;r&&(i=[n],a=yd);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var A1={get(e,t){if(t===$r)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Oi(e);if(!iA(i,t,e.type_))return AG(e,i,t);const a=i[t];if(e.finalized_||!Zn(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&xG(t))return a;if(a===t0(e.base_,t)){ap(e);const o=e.type_===1?+t:t,s=fb(e.scope_,a,e,o);return e.copy_[o]=s}return a},has(e,t){return t in Oi(e)},ownKeys(e){return Reflect.ownKeys(Oi(e))},set(e,t,r){const n=GM(Oi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=t0(Oi(e),t),a=i==null?void 0:i[$r];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(yG(r,i)&&(r!==void 0||iA(e.base_,t,e.type_)))return!0;ap(e),db(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),PG(e,t,r)),!0},deleteProperty(e,t){return ap(e),t0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),db(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Oi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[ip]:!0,[ab]:e.type_!==1||t!=="length",[um]:n[um],[gd]:r[t]}},defineProperty(){Wn(11)},getPrototypeOf(e){return eu(e.base_)},setPrototypeOf(){Wn(12)}},yd={};tf(A1,(e,t)=>{yd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});yd.deleteProperty=function(e,t){return yd.set.call(this,e,t,void 0)};yd.set=function(e,t,r){return A1.set.call(this,e[0],t,r,e[0])};function t0(e,t){const r=e[$r];return(r?Oi(r):e)[t]}function AG(e,t,r){var i;const n=GM(t,r);return n?gd in n?n[gd]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function GM(e,t){if(!(t in e))return;let r=eu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=eu(r)}}function db(e){e.modified_||(e.modified_=!0,e.parent_&&db(e.parent_))}function ap(e){e.copy_||(e.assigned_=new Map,e.copy_=sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(el(r)&&!el(n)){const o=n;n=r;const s=this;return function(u=o,...c){return s.produce(u,d=>n.call(this,d,...c))}}el(n)||Wn(6),i!==void 0&&!el(i)&&Wn(7);let a;if(Zn(r)){const o=lA(this),s=fb(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?ub(o):cb(o)}return sA(o,i),uA(a,o)}else if(!r||!k1(r)){if(a=n(r),a===void 0&&(a=r),a===zM&&(a=void 0),this.autoFreeze_&&P1(a,!0),i){const o=[],s=[];_s(lb).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else Wn(1,r)},this.produceWithPatches=(r,n)=>{if(el(r))return(s,...l)=>this.produceWithPatches(s,u=>r(u,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},e0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),e0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),e0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Zn(t)||Wn(8),ta(t)&&(t=Yn(t));const r=lA(this),n=fb(r,t,void 0);return n[$r].isManual_=!0,cb(r),n}finishDraft(t,r){const n=t&&t[$r];(!n||!n.isManual_)&&Wn(9);const{scope_:i}=n;return sA(i,r),uA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=_s(lb).applyPatches_;return ta(t)?i(t,r):this.produce(t,a=>i(a,r))}};function fb(e,t,r,n){const[i,a]=Jg(t)?_s(dm).proxyMap_(t,r):Zg(t)?_s(dm).proxySet_(t,r):TG(t,r);return((r==null?void 0:r.scope_)??WM()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?SG(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Yn(e){return ta(e)||Wn(10,e),YM(e)}function YM(e){if(!Zn(e)||ev(e))return e;const t=e[$r];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=sb(e,!0);return tf(r,(i,a)=>{cm(r,i,YM(a))},n),t&&(t.finalized_=!1),r}var CG=new IG,QM=CG.produce;function XM(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var OG=XM(),NG=XM,jG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?sm:sm.apply(null,arguments)};function Dn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(fn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>$M(n)&&n.type===e,r}var JM=class xc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,xc.prototype)}static get[Symbol.species](){return xc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new xc(...t[0].concat(this)):new xc(...t.concat(this))}};function dA(e){return Zn(e)?QM(e,()=>{}):e}function xh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function DG(e){return typeof e=="boolean"}var RG=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new JM;return r&&(DG(r)?o.push(OG):o.push(NG(r.extraArgument))),o},ZM="RTK_autoBatch",at=()=>e=>({payload:e,meta:{[ZM]:!0}}),fA=e=>t=>{setTimeout(t,e)},eL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fA(10):e.type==="callback"?e.queueNotification:fA(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),h=n.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[ZM]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},MG=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new JM(e);return n&&i.push(eL(typeof n=="object"?n:void 0)),i};function LG(e){const t=RG(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(E1(r))s=FM(r);else throw new Error(fn(1));let l;typeof n=="function"?l=n(t):l=t();let u=sm;i&&(u=jG({trace:!1,...typeof i=="object"&&i}));const c=gG(...l),d=MG(c);let h=typeof o=="function"?o(d):d();const m=u(...h);return VM(s,a,m)}function tL(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(fn(28));if(s in t)throw new Error(fn(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function VG(e){return typeof e=="function"}function FG(e,t){let[r,n,i]=tL(t),a;if(VG(e))a=()=>dA(e());else{const s=dA(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(ta(c)){const m=d(c,l);return m===void 0?c:m}else{if(Zn(c))return QM(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return o.getInitialState=a,o}var $G="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zG=(e=21)=>{let t="",r=e;for(;r--;)t+=$G[Math.random()*64|0];return t},UG=Symbol.for("rtk-slice-createasyncthunk");function BG(e,t){return`${e}/${t}`}function WG({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[UG];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(fn(11));const s=(typeof i.reducers=="function"?i.reducers(HG()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(T,I){const D=typeof T=="string"?T:T.type;if(!D)throw new Error(fn(12));if(D in u.sliceCaseReducersByType)throw new Error(fn(13));return u.sliceCaseReducersByType[D]=I,c},addMatcher(T,I){return u.sliceMatchers.push({matcher:T,reducer:I}),c},exposeAction(T,I){return u.actionCreators[T]=I,c},exposeCaseReducer(T,I){return u.sliceCaseReducersByName[T]=I,c}};l.forEach(T=>{const I=s[T],D={reducerName:T,type:BG(a,T),createNotation:typeof i.reducers=="function"};GG(I)?QG(D,I,c,t):qG(D,I,c)});function d(){const[T={},I=[],D=void 0]=typeof i.extraReducers=="function"?tL(i.extraReducers):[i.extraReducers],P={...T,...u.sliceCaseReducersByType};return FG(i.initialState,S=>{for(let C in P)S.addCase(C,P[C]);for(let C of u.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of I)S.addMatcher(C.matcher,C.reducer);D&&S.addDefaultCase(D)})}const h=T=>T,m=new Map,y=new WeakMap;let b;function x(T,I){return b||(b=d()),b(T,I)}function v(){return b||(b=d()),b.getInitialState()}function _(T,I=!1){function D(S){let C=S[T];return typeof C>"u"&&I&&(C=xh(y,D,v)),C}function P(S=h){const C=xh(m,I,()=>new WeakMap);return xh(C,S,()=>{const O={};for(const[j,A]of Object.entries(i.selectors??{}))O[j]=KG(A,S,()=>xh(y,S,v),I);return O})}return{reducerPath:T,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const E={name:a,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,..._(o),injectInto(T,{reducerPath:I,...D}={}){const P=I??o;return T.inject({reducerPath:P,reducer:x},D),{...E,..._(P,!0)}}};return E}}function KG(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Jr=WG();function HG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function qG({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!YG(n))throw new Error(fn(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Dn(e,o):Dn(e))}function GG(e){return e._reducerDefinitionType==="asyncThunk"}function YG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function QG({type:e,reducerName:t},r,n,i){if(!i)throw new Error(fn(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||bh,pending:s||bh,rejected:l||bh,settled:u||bh})}function bh(){}var XG="task",rL="listener",nL="completed",I1="cancelled",JG=`task-${I1}`,ZG=`task-${nL}`,hb=`${rL}-${I1}`,eY=`${rL}-${nL}`,rv=class{constructor(e){cy(this,"name","TaskAbortError");cy(this,"message");this.code=e,this.message=`${XG} ${I1} (reason: ${e})`}},C1=(e,t)=>{if(typeof e!="function")throw new TypeError(fn(32))},fm=()=>{},iL=(e,t=fm)=>(e.catch(t),e),aL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),rs=e=>{if(e.aborted)throw new rv(e.reason)};function oL(e,t){let r=fm;return new Promise((n,i)=>{const a=()=>i(new rv(e.reason));if(e.aborted){a();return}r=aL(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=fm})}var tY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof rv?"cancelled":"rejected",error:r}}finally{t==null||t()}},hm=e=>t=>iL(oL(e,t).then(r=>(rs(e),r))),sL=e=>{const t=hm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Cl}=Object,hA={},nv="listenerMiddleware",rY=(e,t)=>{const r=n=>aL(e,()=>n.abort(e.reason));return(n,i)=>{C1(n);const a=new AbortController;r(a);const o=tY(async()=>{rs(e),rs(a.signal);const s=await n({pause:hm(a.signal),delay:sL(a.signal),signal:a.signal});return rs(a.signal),s},()=>a.abort(ZG));return i!=null&&i.autoJoin&&t.push(o.catch(fm)),{result:hm(e)(o),cancel(){a.abort(JG)}}}},nY=(e,t)=>{const r=async(n,i)=>{rs(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await oL(t,Promise.race(s));return rs(t),l}finally{a()}};return(n,i)=>iL(r(n,i))},lL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Dn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(fn(21));return C1(a),{predicate:i,type:t,effect:a}},uL=Cl(e=>{const{type:t,predicate:r,effect:n}=lL(e);return{id:zG(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(fn(22))}}},{withTypes:()=>uL}),pA=(e,t)=>{const{type:r,effect:n,predicate:i}=lL(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},pb=e=>{e.pending.forEach(t=>{t.abort(hb)})},iY=(e,t)=>()=>{for(const r of t.keys())pb(r);e.clear()},mA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},cL=Cl(Dn(`${nv}/add`),{withTypes:()=>cL}),aY=Dn(`${nv}/removeAll`),dL=Cl(Dn(`${nv}/remove`),{withTypes:()=>dL}),oY=(...e)=>{console.error(`${nv}/error`,...e)},nf=(e={})=>{const t=new Map,r=new Map,n=m=>{const y=r.get(m)??0;r.set(m,y+1)},i=m=>{const y=r.get(m)??1;y===1?r.delete(m):r.set(m,y-1)},{extra:a,onError:o=oY}=e;C1(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),y=>{m.unsubscribe(),y!=null&&y.cancelActive&&pb(m)}),l=m=>{const y=pA(t,m)??uL(m);return s(y)};Cl(l,{withTypes:()=>l});const u=m=>{const y=pA(t,m);return y&&(y.unsubscribe(),m.cancelActive&&pb(y)),!!y};Cl(u,{withTypes:()=>u});const c=async(m,y,b,x)=>{const v=new AbortController,_=nY(l,v.signal),E=[];try{m.pending.add(v),n(m),await Promise.resolve(m.effect(y,Cl({},b,{getOriginalState:x,condition:(T,I)=>_(T,I).then(Boolean),take:_,delay:sL(v.signal),pause:hm(v.signal),extra:a,signal:v.signal,fork:rY(v.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,I,D)=>{T!==v&&(T.abort(hb),D.delete(T))})},cancel:()=>{v.abort(hb),m.pending.delete(v)},throwIfCancelled:()=>{rs(v.signal)}})))}catch(T){T instanceof rv||mA(o,T,{raisedBy:"effect"})}finally{await Promise.all(E),v.abort(eY),i(m),m.pending.delete(v)}},d=iY(t,r);return{middleware:m=>y=>b=>{if(!$M(b))return y(b);if(cL.match(b))return l(b.payload);if(aY.match(b)){d();return}if(dL.match(b))return u(b.payload);let x=m.getState();const v=()=>{if(x===hA)throw new Error(fn(23));return x};let _;try{if(_=y(b),t.size>0){const E=m.getState(),T=Array.from(t.values());for(const I of T){let D=!1;try{D=I.predicate(b,E,x)}catch(P){D=!1,mA(o,P,{raisedBy:"predicate"})}D&&c(I,b,m,v)}}}finally{x=hA}return _},startListening:l,stopListening:u,clearListeners:d}};function fn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fL=Jr({name:"chartLayout",initialState:sY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:lY,setLayout:uY,setChartSize:cY,setScale:dY}=fL.actions,fY=fL.reducer;function hL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function qe(e){return Number.isFinite(e)}function wi(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){hY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hY(e,t,r){return(t=pY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function We(e,t,r){return mt(e)||mt(t)?r:bi(t)?ws(e,t,r):typeof t=="function"?t(e):r}var gY=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&Z(e[a]))return pl(pl({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&Z(e[o]))return pl(pl({},e),{},{[o]:e[o]+(i||0)})}return e},fa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",pL=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},mL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:m}=e;if(!o)return null;var y=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=i==="category"&&o.bandwidth?o.bandwidth()/y:0;if(b=m==="angleAxis"&&a&&a.length>=2?tr(a[0]-a[1])*2*b:b,d||h){var x=(d||h||[]).map((v,_)=>{var E=n?n.indexOf(v):v;return{coordinate:o(E)+b,value:v,offset:b,index:_}});return x.filter(v=>!jn(v.coordinate))}return l&&u?u.map((v,_)=>({coordinate:o(v)+b,value:v,index:_,offset:b})):o.ticks&&c!=null?o.ticks(c).map((v,_)=>({coordinate:o(v)+b,value:v,offset:b,index:_})):o.domain().map((v,_)=>({coordinate:o(v)+b,value:n?n[v]:v,index:_,offset:b}))},vA=1e-4,vY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-vA,a=Math.max(n[0],n[1])+vA,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},yY=(e,t)=>{if(!t||t.length!==2||!Z(t[0])||!Z(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(i[0]=r),(!Z(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},xY=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,s=0;s<r;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],h=jn(c)?d:c;h>=0?(u[0]=a,u[1]=a+h,a=c):(u[0]=o,u[1]=o+h,o=c)}}}},bY=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var s=e[o],l=s==null?void 0:s[i];if(l!=null){var u=jn(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},wY={sign:xY,expand:ZH,none:bs,silhouette:eq,wiggle:tq,positive:bY},_Y=(e,t,r)=>{var n,i=(n=wY[r])!==null&&n!==void 0?n:bs,a=JH().keys(t).value((s,l)=>Number(We(s,l,0))).order(nb).offset(i),o=a(e);return o.forEach((s,l)=>{s.forEach((u,c)=>{var d=We(e[c],t[l],0);Array.isArray(d)&&d.length===2&&Z(d[0])&&Z(d[1])&&(u[0]=d[0],u[1]=d[1])})}),o};function gL(e){return e==null?void 0:String(e)}function yA(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!mt(i[t.dataKey])){var s=aM(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=We(i,mt(o)?t.dataKey:o);return mt(l)?null:t.scale(l)}var xA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=We(a,t.dataKey,t.scale.domain()[o]);return mt(s)?null:t.scale(s)-i/2+n},EY=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},kY=e=>{var t=e.flat(2).filter(Z);return[Math.min(...t),Math.max(...t)]},SY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],PY=(e,t,r)=>{if(e!=null)return SY(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,s=o.reduce((l,u)=>{var c=hL(u,t,r),d=kY(c);return!qe(d[0])||!qe(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},bA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tu=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Yg(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function _A(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return pl(pl({},t),{},{dataKey:r,payload:n,value:i,name:a})}function vu(e,t){if(e)return String(e);if(typeof t=="string")return t}var TY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},AY=(e,t)=>t==="centric"?e.angle:e.radius,ha=e=>e.layout.width,pa=e=>e.layout.height,IY=e=>e.layout.scale,vL=e=>e.layout.margin,iv=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),av=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yL="data-recharts-item-index",xL="data-recharts-item-id",af=60;function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){CY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CY(e,t,r){return(t=OY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=NY(e,"string");return typeof t=="symbol"?t:t+""}function NY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jY=e=>e.brush.height;function DY(e){var t=av(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:af;return r+i}return r},0)}function RY(e){var t=av(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:af;return r+i}return r},0)}function MY(e){var t=iv(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function LY(e){var t=iv(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Wt=L([ha,pa,vL,jY,DY,RY,MY,LY,MM,uG],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=wh(wh({},d),c),m=h.bottom;h.bottom+=n,h=gY(h,l,u);var y=e-h.left-h.right,b=t-h.top-h.bottom;return wh(wh({brushBottom:m},h),{},{width:Math.max(y,0),height:Math.max(b,0)})}),VY=L(Wt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),O1=L(ha,pa,(e,t)=>({x:0,y:0,width:e,height:t})),FY=g.createContext(null),Nr=()=>g.useContext(FY)!=null,ov=e=>e.brush,sv=L([ov,Wt,vL],(e,t,r)=>({height:e.height,x:Z(e.x)?e.x:t.left,y:Z(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Z(e.width)?e.width:t.width})),bL={},wL={},_L={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},y=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{y(),o=void 0,s=null},x=()=>{c()},v=function(..._){if(i!=null&&i.aborted)return;o=this,s=_;const E=h==null;m(),l&&E&&c()};return v.schedule=m,v.cancel=b,v.flush=x,i==null||i.addEventListener("abort",b,{once:!0}),v}e.debounce=t})(_L);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_L;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(...b){c=n.apply(this,b),d=null},i,{edges:u}),m=function(...b){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,b),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,b),c)},y=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=y,m}e.debounce=r})(wL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wL;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(bL);var $Y=bL.throttle;const zY=sa($Y);var pm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},EL=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=ea(n)?e:Number(n),l=ea(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},UY={width:0,height:0,overflow:"visible"},BY={width:0,overflowX:"visible"},WY={height:0,overflowY:"visible"},KY={},HY=e=>{var{width:t,height:r}=e,n=ea(t),i=ea(r);return n&&i?UY:n?BY:i?WY:KY};function qY(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(null,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){GY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GY(e,t,r){return(t=YY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kL=g.createContext({width:-1,height:-1});function XY(e){return wi(e.width)&&wi(e.height)}function SL(e){var{children:t,width:r,height:n}=e,i=g.useMemo(()=>({width:r,height:n}),[r,n]);return XY(i)?g.createElement(kL.Provider,{value:i},t):null}var N1=()=>g.useContext(kL),JY=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:m,style:y={}}=e,b=g.useRef(null),x=g.useRef();x.current=m,g.useImperativeHandle(t,()=>b.current);var[v,_]=g.useState({containerWidth:n.width,containerHeight:n.height}),E=g.useCallback((S,C)=>{_(O=>{var j=Math.round(S),A=Math.round(C);return O.containerWidth===j&&O.containerHeight===A?O:{containerWidth:j,containerHeight:A}})},[]);g.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Zd;var S=A=>{var N,{width:V,height:U}=A[0].contentRect;E(V,U),(N=x.current)===null||N===void 0||N.call(x,V,U)};c>0&&(S=zY(S,c,{trailing:!0,leading:!1}));var C=new ResizeObserver(S),{width:O,height:j}=b.current.getBoundingClientRect();return E(O,j),C.observe(b.current),()=>{C.disconnect()}},[E,c]);var{containerWidth:T,containerHeight:I}=v;pm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:P}=EL(T,I,{width:i,height:a,aspect:r,maxHeight:l});return pm(D!=null&&D>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,P,i,a,o,s,r),g.createElement("div",{id:d?"".concat(d):void 0,className:Pe("recharts-responsive-container",h),style:SA(SA({},y),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:b},g.createElement("div",{style:HY({width:i,height:a})},g.createElement(SL,{width:D,height:P},u)))}),Ol=g.forwardRef((e,t)=>{var r=N1();if(wi(r.width)&&wi(r.height))return e.children;var{width:n,height:i}=qY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=EL(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Z(a)&&Z(o)?g.createElement(SL,{width:a,height:o},e.children):g.createElement(JY,mb({},e,{width:n,height:i,ref:t}))});function PL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var lv=()=>{var e,t=Nr(),r=ne(VY),n=ne(sv),i=(e=ne(ov))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},ZY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TL=()=>{var e;return(e=ne(Wt))!==null&&e!==void 0?e:ZY},j1=()=>ne(ha),D1=()=>ne(pa),eQ=()=>ne(e=>e.layout.margin),Ie=e=>e.layout.layoutType,Rs=()=>ne(Ie),tQ=()=>{var e=Rs();if(e==="horizontal"||e==="vertical")return e},rQ=()=>{var e=Rs();return e!==void 0},uv=e=>{var t=Xe(),r=Nr(),{width:n,height:i}=e,a=N1(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),g.useEffect(()=>{!r&&wi(o)&&wi(s)&&t(cY({width:o,height:s}))},[t,r,o,s]),null},AL=Symbol.for("immer-nothing"),PA=Symbol.for("immer-draftable"),pn=Symbol.for("immer-state");function Kn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xd=Object.getPrototypeOf;function ru(e){return!!e&&!!e[pn]}function Es(e){var t;return e?IL(e)||Array.isArray(e)||!!e[PA]||!!((t=e.constructor)!=null&&t[PA])||of(e)||dv(e):!1}var nQ=Object.prototype.constructor.toString(),TA=new WeakMap;function IL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=TA.get(r);return n===void 0&&(n=Function.toString.call(r),TA.set(r,n)),n===nQ}function mm(e,t,r=!0){cv(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function cv(e){const t=e[pn];return t?t.type_:Array.isArray(e)?1:of(e)?2:dv(e)?3:0}function gb(e,t){return cv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function CL(e,t,r){const n=cv(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function iQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function of(e){return e instanceof Map}function dv(e){return e instanceof Set}function zo(e){return e.copy_||e.base_}function vb(e,t){if(of(e))return new Map(e);if(dv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=IL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[pn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(xd(e),n)}else{const n=xd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function R1(e,t=!1){return fv(e)||ru(e)||!Es(e)||(cv(e)>1&&Object.defineProperties(e,{set:_h,add:_h,clear:_h,delete:_h}),Object.freeze(e),t&&Object.values(e).forEach(r=>R1(r,!0))),e}function aQ(){Kn(2)}var _h={value:aQ};function fv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var oQ={};function ks(e){const t=oQ[e];return t||Kn(0,e),t}var bd;function OL(){return bd}function sQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function AA(e,t){t&&(ks("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yb(e){xb(e),e.drafts_.forEach(lQ),e.drafts_=null}function xb(e){e===bd&&(bd=e.parent_)}function IA(e){return bd=sQ(bd,e)}function lQ(e){const t=e[pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[pn].modified_&&(yb(t),Kn(4)),Es(e)&&(e=gm(t,e),t.parent_||vm(t,e)),t.patches_&&ks("Patches").generateReplacementPatches_(r[pn].base_,e,t.patches_,t.inversePatches_)):e=gm(t,r,[]),yb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AL?e:void 0}function gm(e,t,r){if(fv(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[pn];if(!i)return mm(t,(a,o)=>OA(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return vm(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),mm(o,(l,u)=>OA(e,i,a,l,u,r,s),n),vm(e,a,!1),r&&e.patches_&&ks("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function OA(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=fv(i);if(!(s&&!o)){if(ru(i)){const l=a&&t&&t.type_!==3&&!gb(t.assigned_,n)?a.concat(n):void 0,u=gm(e,i,l);if(CL(r,n,u),ru(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(Es(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;gm(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(of(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&vm(e,i)}}}function vm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&R1(t,r)}function uQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:OL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=M1;r&&(i=[n],a=wd);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var M1={get(e,t){if(t===pn)return e;const r=zo(e);if(!gb(r,t))return cQ(e,r,t);const n=r[t];return e.finalized_||!Es(n)?n:n===r0(e.base_,t)?(n0(e),e.copy_[t]=wb(n,e)):n},has(e,t){return t in zo(e)},ownKeys(e){return Reflect.ownKeys(zo(e))},set(e,t,r){const n=NL(zo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=r0(zo(e),t),a=i==null?void 0:i[pn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(iQ(r,i)&&(r!==void 0||gb(e.base_,t)))return!0;n0(e),bb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return r0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,n0(e),bb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=zo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Kn(11)},getPrototypeOf(e){return xd(e.base_)},setPrototypeOf(){Kn(12)}},wd={};mm(M1,(e,t)=>{wd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});wd.deleteProperty=function(e,t){return wd.set.call(this,e,t,void 0)};wd.set=function(e,t,r){return M1.set.call(this,e[0],t,r,e[0])};function r0(e,t){const r=e[pn];return(r?zo(r):e)[t]}function cQ(e,t,r){var i;const n=NL(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function NL(e,t){if(!(t in e))return;let r=xd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=xd(r)}}function bb(e){e.modified_||(e.modified_=!0,e.parent_&&bb(e.parent_))}function n0(e){e.copy_||(e.copy_=vb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var dQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Kn(6),n!==void 0&&typeof n!="function"&&Kn(7);let i;if(Es(t)){const a=IA(this),o=wb(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?yb(a):xb(a)}return AA(a,n),CA(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===AL&&(i=void 0),this.autoFreeze_&&R1(i,!0),n){const a=[],o=[];ks("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Kn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Es(e)||Kn(8),ru(e)&&(e=fQ(e));const t=IA(this),r=wb(e,void 0);return r[pn].isManual_=!0,xb(t),r}finishDraft(e,t){const r=e&&e[pn];(!r||!r.isManual_)&&Kn(9);const{scope_:n}=r;return AA(n,t),CA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ks("Patches").applyPatches_;return ru(e)?n(e,t):this.produce(e,i=>n(i,t))}};function wb(e,t){const r=of(e)?ks("MapSet").proxyMap_(e,t):dv(e)?ks("MapSet").proxySet_(e,t):uQ(e,t);return(t?t.scope_:OL()).drafts_.push(r),r}function fQ(e){return ru(e)||Kn(10,e),jL(e)}function jL(e){if(!Es(e)||fv(e))return e;const t=e[pn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=vb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=vb(e,!0);return mm(r,(i,a)=>{CL(r,i,jL(a))},n),t&&(t.finalized_=!1),r}var hQ=new dQ;hQ.produce;var pQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},DL=Jr({name:"legend",initialState:pQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:at()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Yn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:at()},removeLegendPayload:{reducer(e,t){var r=Yn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:at()}}}),{setLegendSize:NA,setLegendSettings:mQ,addLegendPayload:RL,replaceLegendPayload:ML,removeLegendPayload:LL}=DL.actions,gQ=DL.reducer,vQ=["contextPayload"];function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(null,arguments)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wQ(e,t){if(e==null)return{};var r,n,i=_Q(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EQ(e){return e.value}function kQ(e){var{contextPayload:t}=e,r=wQ(e,vQ),n=SM(t,e.payloadUniqBy,EQ),i=nu(nu({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,i):typeof e.content=="function"?g.createElement(e.content,i):g.createElement(Aq,i)}function SQ(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),nu(nu({},u),c)}function PQ(e){var t=Xe();return g.useEffect(()=>{t(mQ(e))},[t,e]),null}function TQ(e){var t=Xe();return g.useEffect(()=>(t(NA(e)),()=>{t(NA({width:0,height:0}))}),[t,e]),null}function AQ(e,t,r,n){return e==="vertical"&&Z(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var IQ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function L1(e){var t=Ft(e,IQ),r=fG(),n=_H(),i=eQ(),{width:a,height:o,wrapperStyle:s,portal:l}=t,[u,c]=LM([r]),d=j1(),h=D1();if(d==null||h==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),y=AQ(t.layout,o,a,m),b=l?s:nu(nu({position:"absolute",width:(y==null?void 0:y.width)||a||"auto",height:(y==null?void 0:y.height)||o||"auto"},SQ(s,t,i,d,h,u)),s),x=l??n;if(x==null||r==null)return null;var v=g.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:c},g.createElement(PQ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(TQ,{width:u.width,height:u.height}),g.createElement(kQ,_b({},t,y,{margin:i,chartWidth:d,chartHeight:h,contextPayload:r})));return hg.createPortal(v,x)}L1.displayName="Legend";function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eb.apply(null,arguments)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){CQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CQ(e,t,r){return(t=OQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jQ(e){return Array.isArray(e)&&bi(e[0])&&bi(e[1])?e.join(" ~ "):e}var DQ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var I={padding:0,margin:0},D=(s?Yg(a,s):a).map((P,S)=>{if(P.type==="none")return null;var C=P.formatter||o||jQ,{value:O,name:j}=P,A=O,N=j;if(C){var V=C(O,j,P,S,a);if(Array.isArray(V))[A,N]=V;else if(V!=null)A=V;else return null}var U=i0({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:U},bi(N)?g.createElement("span",{className:"recharts-tooltip-item-name"},N):null,bi(N)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},A),g.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:I},D)}return null},y=i0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=i0({margin:0},i),x=!mt(c),v=x?c:"",_=Pe("recharts-default-tooltip",l),E=Pe("recharts-tooltip-label",u);x&&d&&a!==void 0&&a!==null&&(v=d(c,a));var T=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Eb({className:_,style:y},T),g.createElement("p",{className:E,style:b},g.isValidElement(v)?v:"".concat(v)),m())},ec="recharts-tooltip-wrapper",RQ={visibility:"hidden"};function MQ(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pe(ec,{["".concat(ec,"-right")]:Z(r)&&t&&Z(t.x)&&r>=t.x,["".concat(ec,"-left")]:Z(r)&&t&&Z(t.x)&&r<t.x,["".concat(ec,"-bottom")]:Z(n)&&t&&Z(t.y)&&n>=t.y,["".concat(ec,"-top")]:Z(n)&&t&&Z(t.y)&&n<t.y})}function RA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&Z(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var h=l[n];if(h==null)return 0;if(o[n]){var m=c,y=h;return m<y?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var b=d+s,x=h+u;return b>x?Math.max(c,h):Math.max(d,h)}function LQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function VQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=RA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=RA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=LQ({translateX:c,translateY:d,useTranslate3d:s})):u=RQ,{cssProperties:u,cssClasses:MQ({translateX:c,translateY:d,coordinate:r})}}function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kb(e,t,r){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zQ extends g.PureComponent{constructor(){super(...arguments),kb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),kb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:m,wrapperStyle:y,lastBoundingBox:b,innerRef:x,hasPortalFromProps:v}=this.props,{cssClasses:_,cssProperties:E}=VQ({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),T=v?{}:Eh(Eh({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),I=Eh(Eh({},T),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},y);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:I,ref:x},a)}}var VL=()=>{var e;return(e=ne(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(null,arguments)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FA={curveBasisClosed:zH,curveBasisOpen:UH,curveBasis:$H,curveBumpX:PH,curveBumpY:TH,curveLinearClosed:BH,curveLinear:Ug,curveMonotoneX:WH,curveMonotoneY:KH,curveNatural:HH,curveStep:qH,curveStepAfter:YH,curveStepBefore:GH},ym=e=>qe(e.x)&&qe(e.y),$A=e=>e.base!=null&&ym(e.base)&&ym(e),tc=e=>e.x,rc=e=>e.y,KQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Jd(e));return(r==="curveMonotone"||r==="curveBump")&&t?FA["".concat(r).concat(t==="vertical"?"Y":"X")]:FA[r]||Ug},HQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=KQ(t,i),s=a?r.filter(ym):r,l;if(Array.isArray(n)){var u=r.map((m,y)=>VA(VA({},m),{},{base:n[y]}));i==="vertical"?l=mh().y(rc).x1(tc).x0(m=>m.base.x):l=mh().x(tc).y1(rc).y0(m=>m.base.y);var c=l.defined($A).curve(o),d=a?u.filter($A):u;return c(d)}i==="vertical"&&Z(n)?l=mh().y(rc).x1(tc).x0(n):Z(n)?l=mh().x(tc).y1(rc).y0(n):l=KR().x(tc).y(rc);var h=l.defined(ym).curve(o);return h(s)},Nl=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Rs();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},s=r&&r.length?HQ(o):n;return g.createElement("path",Sb({},Xr(e),c1(e),{className:Pe("recharts-curve",t),d:s===null?void 0:s,ref:i}))},qQ=["x","y","top","left","width","height","className"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(null,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){YQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JQ(e,t){if(e==null)return{};var r,n,i=ZQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eX=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),tX=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=JQ(e,qQ),u=GQ({x:t,y:r,top:n,left:i,width:a,height:o},l);return!Z(t)||!Z(r)||!Z(a)||!Z(o)||!Z(n)||!Z(i)?null:g.createElement("path",Pb({},Fr(u),{className:Pe("recharts-cross",s),d:eX(t,r,a,o,n,i)}))};function rX(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function UA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UA(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return(t=iX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oX=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),FL=(e,t,r)=>e.map(n=>"".concat(oX(n)," ").concat(t,"ms ").concat(r)).join(","),sX=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),_d=(e,t)=>Object.keys(t).reduce((r,n)=>BA(BA({},r),{},{[n]:e(n,t[n])}),{});function WA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xm=(e,t,r)=>e+(t-e)*r,Tb=e=>{var{from:t,to:r}=e;return t!==r},$L=(e,t,r)=>{var n=_d((i,a)=>{if(Tb(a)){var[o,s]=e(a.from,a.to,a.velocity);return zt(zt({},a),{},{from:o,velocity:s})}return a},t);return r<1?_d((i,a)=>Tb(a)&&n[i]!=null?zt(zt({},a),{},{velocity:xm(a.velocity,n[i].velocity,r),from:xm(a.from,n[i].from,r)}):a,t):$L(e,n,r-1)};function dX(e,t,r,n,i,a){var o,s=n.reduce((h,m)=>zt(zt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>_d((h,m)=>m.from,s),u=()=>!Object.values(s).filter(Tb).length,c=null,d=h=>{o||(o=h);var m=h-o,y=m/r.dt;s=$L(r,s,y),i(zt(zt(zt({},e),t),l())),o=h,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function fX(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,h)=>{var m=e[h],y=t[h];return m==null||y==null?d:zt(zt({},d),{},{[h]:[m,y]})},{}),u,c=d=>{u||(u=d);var h=(d-u)/n,m=_d((b,x)=>xm(...x,r(h)),l);if(a(zt(zt(zt({},e),t),m)),h<1)s=o.setTimeout(c);else{var y=_d((b,x)=>xm(...x,r(1)),l);a(zt(zt(zt({},e),t),y))}};return()=>(s=o.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const hX=(e,t,r,n,i,a)=>{var o=sX(e,t);return r==null?()=>(i(zt(zt({},e),t)),()=>{}):r.isStepper===!0?dX(e,t,r,o,i,a):fX(e,t,r,n,o,i,a)};var bm=1e-4,zL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],UL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),KA=(e,t)=>r=>{var n=zL(e,t);return UL(n,r)},pX=(e,t)=>r=>{var n=zL(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return UL(i,r)},mX=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},gX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=mX(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},vX=(e,t,r,n)=>{var i=KA(e,r),a=KA(t,n),o=pX(e,r),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var m=i(d)-c,y=o(d);if(Math.abs(m-c)<bm||y<bm)return a(d);d=s(d-m/y)}return a(d)};return l.isStepper=!1,l},HA=function(){return vX(...gX(...arguments))},yX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<bm&&Math.abs(d)<bm?[s,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},xX=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HA(e);case"spring":return yX();default:if(e.split("(")[0]==="cubic-bezier")return HA(e)}return typeof e=="function"?e:null};function bX(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class wX{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function _X(){return bX(new wX)}var EX=g.createContext(_X);function kX(e,t){var r=g.useContext(EX);return g.useMemo(()=>t??r(e),[e,t,r])}var SX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),sf={isSsr:SX()},PX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qA={t:0},a0={t:1};function lf(e){var t=Ft(e,PX),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=r==="auto"?!sf.isSsr:r,d=kX(t.animationId,t.animationManager),[h,m]=g.useState(c?qA:a0),y=g.useRef(null);return g.useEffect(()=>{c||m(a0)},[c]),g.useEffect(()=>{if(!c||!n)return Zd;var b=hX(qA,a0,xX(a),i,m,d.getTimeoutController()),x=()=>{y.current=b()};return d.start([l,o,x,i,s]),()=>{d.stop(),y.current&&y.current(),s()}},[c,n,i,a,o,l,s,d]),u(h.t)}function uf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(md(t)),n=g.useRef(e);return n.current!==e&&(r.current=md(t),n.current=e),r.current}var TX=["radius"],AX=["radius"],GA,YA,QA,XA,JA,ZA,eI,tI,rI,nI;function iI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(r),!0).forEach(function(n){IX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wm(){return wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wm.apply(null,arguments)}function oI(e,t){if(e==null)return{};var r,n,i=NX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ai(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sI=(e,t,r,n,i)=>{var a=Ua(r),o=Ua(n),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),l=o>=0?1:-1,u=a>=0?1:-1,c=o>=0&&a>=0||o<0&&a<0?1:0,d;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,y=4;m<y;m++)h[m]=i[m]>s?s:i[m];d=Et(GA||(GA=ai(["M",",",""])),e,t+l*h[0]),h[0]>0&&(d+=Et(YA||(YA=ai(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),d+=Et(QA||(QA=ai(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(d+=Et(XA||(XA=ai(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+l*h[1])),d+=Et(JA||(JA=ai(["L ",",",""])),e+r,t+n-l*h[2]),h[2]>0&&(d+=Et(ZA||(ZA=ai(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-u*h[2],t+n)),d+=Et(eI||(eI=ai(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(d+=Et(tI||(tI=ai(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-l*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);d=Et(rI||(rI=ai(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*b,b,b,c,e+u*b,t,e+r-u*b,t,b,b,c,e+r,t+l*b,e+r,t+n-l*b,b,b,c,e+r-u*b,t+n,e+u*b,t+n,b,b,c,e,t+n-l*b)}else d=Et(nI||(nI=ai(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},lI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BL=e=>{var t=Ft(e,lI),r=g.useRef(null),[n,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:m,isAnimationActive:y,isUpdateAnimationActive:b}=t,x=g.useRef(s),v=g.useRef(l),_=g.useRef(a),E=g.useRef(o),T=g.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),I=uf(T,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var D=Pe("recharts-rectangle",c);if(!b){var P=Fr(t),{radius:S}=P,C=oI(P,TX);return g.createElement("path",wm({},C,{x:Ua(a),y:Ua(o),width:Ua(s),height:Ua(l),radius:typeof u=="number"?u:void 0,className:D,d:sI(a,o,s,l,u)}))}var O=x.current,j=v.current,A=_.current,N=E.current,V="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),Y=FL(["strokeDasharray"],h,typeof d=="string"?d:lI.animationEasing);return g.createElement(lf,{animationId:I,key:I,canBegin:n>0,duration:h,easing:d,isActive:b,begin:m},Q=>{var z=tt(O,s,Q),H=tt(j,l,Q),J=tt(A,a,Q),ue=tt(N,o,Q);r.current&&(x.current=z,v.current=H,_.current=J,E.current=ue);var oe;y?Q>0?oe={transition:Y,strokeDasharray:U}:oe={strokeDasharray:V}:oe={strokeDasharray:U};var we=Fr(t),{radius:Le}=we,ct=oI(we,AX);return g.createElement("path",wm({},ct,{radius:typeof u=="number"?u:void 0,className:D,d:sI(J,ue,z,H,u),ref:r,style:aI(aI({},oe),t.style)}))})};function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){jX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jX(e,t,r){return(t=DX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _m=Math.PI/180,MX=e=>e*180/Math.PI,Mt=(e,t,r,n)=>({x:e+Math.cos(-_m*n)*r,y:t+Math.sin(-_m*n)*r}),WL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},LX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},VX=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=LX({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:MX(l),angleInRadian:l}},FX=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},$X=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},zX=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=VX({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=FX(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?cI(cI({},t),{},{radius:i,angle:$X(c,t)}):null};function KL(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Mt(t,r,n,i),s=Mt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var dI,fI,hI,pI,mI,gI,vI;function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ab.apply(null,arguments)}function qo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var UX=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},kh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/_m,d=l?i:i+a*c,h=Mt(t,r,u,d),m=Mt(t,r,n,d),y=l?i-a*c:i,b=Mt(t,r,u*Math.cos(c*_m),y);return{center:h,circleTangency:m,lineTangency:b,theta:c}},HL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=UX(a,o),l=a+s,u=Mt(t,r,i,a),c=Mt(t,r,i,l),d=Et(dI||(dI=qo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(a>l),c.x,c.y);if(n>0){var h=Mt(t,r,n,a),m=Mt(t,r,n,l);d+=Et(fI||(fI=qo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(s)>180),+(a<=l),h.x,h.y)}else d+=Et(hI||(hI=qo(["L ",","," Z"])),t,r);return d},BX=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=tr(u-l),{circleTangency:d,lineTangency:h,theta:m}=kh({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:y,lineTangency:b,theta:x}=kh({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),v=s?Math.abs(l-u):Math.abs(l-u)-m-x;if(v<0)return o?Et(pI||(pI=qo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):HL({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var _=Et(mI||(mI=qo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(c<0),d.x,d.y,i,i,+(v>180),+(c<0),y.x,y.y,a,a,+(c<0),b.x,b.y);if(n>0){var{circleTangency:E,lineTangency:T,theta:I}=kh({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:D,lineTangency:P,theta:S}=kh({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),C=s?Math.abs(l-u):Math.abs(l-u)-I-S;if(C<0&&a===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+=Et(gI||(gI=qo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),P.x,P.y,a,a,+(c<0),D.x,D.y,n,n,+(C>180),+(c>0),E.x,E.y,a,a,+(c<0),T.x,T.y)}else _+=Et(vI||(vI=qo(["L",",","Z"])),t,r);return _},WX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},qL=e=>{var t=Ft(e,WX),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var h=Pe("recharts-sector",d),m=a-i,y=Ir(o,m,0,!0),b;return y>0&&Math.abs(u-c)<360?b=BX({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(y,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):b=HL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),g.createElement("path",Ab({},Fr(t),{className:h,d:b}))};function KX(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(sM(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=Mt(n,i,a,s),u=Mt(n,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return KL(t)}}var GL={},YL={},QL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=w1;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(QL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QL;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(YL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_1,r=YL;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(GL);var HX=GL.range;const XL=sa(HX);function no(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function V1(e){let t,r,n;e.length!==2?(t=no,r=(s,l)=>no(e(s),l),n=(s,l)=>e(s)-l):(t=e===no||e===qX?e:GX,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function GX(){return 0}function JL(e){return e===null?NaN:+e}function*YX(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const QX=V1(no),cf=QX.right;V1(JL).center;class yI extends Map{constructor(t,r=ZX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(xI(this,t))}has(t){return super.has(xI(this,t))}set(t,r){return super.set(XX(this,t),r)}delete(t){return super.delete(JX(this,t))}}function xI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function XX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function JX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function ZX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eJ(e=no){if(e===no)return ZL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ZL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tJ=Math.sqrt(50),rJ=Math.sqrt(10),nJ=Math.sqrt(2);function Em(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=tJ?10:a>=rJ?5:a>=nJ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Em(e,t,r*2):[s,l,u]}function Ib(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Em(t,e,r):Em(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Cb(e,t,r){return t=+t,e=+e,r=+r,Em(e,t,r)[2]}function Ob(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Cb(t,e,r):Cb(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function bI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function e4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?ZL:eJ(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+h)),y=Math.min(n,Math.floor(t+(l-u)*d/l+h));e4(e,t,m,y,i)}const a=e[t];let o=r,s=n;for(nc(e,r,t),i(e[n],a)>0&&nc(e,r,n);o<s;){for(nc(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?nc(e,r,s):(++s,nc(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function nc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function iJ(e,t,r){if(e=Float64Array.from(YX(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wI(e);if(t>=1)return bI(e);var n,i=(n-1)*t,a=Math.floor(i),o=bI(e4(e,a).subarray(0,a+1)),s=wI(e.subarray(a+1));return o+(s-o)*(i-a)}}function aJ(e,t,r=JL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function oJ(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Mn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Nb=Symbol("implicit");function F1(){var e=new yI,t=[],r=[],n=Nb;function i(a){let o=e.get(a);if(o===void 0){if(n!==Nb)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new yI;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return F1(t,r).unknown(n)},Mn.apply(i,arguments),i}function $1(){var e=F1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,m=i<n,y=m?i:n,b=m?n:i;a=(b-y)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),y+=(b-y-a*(h-l))*c,o=a*(1-l),s&&(y=Math.round(y),o=Math.round(o));var x=oJ(h).map(function(v){return y+a*v});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return $1(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Mn.apply(d(),arguments)}function t4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t4(t())},e}function sJ(){return t4($1.apply(null,arguments).paddingInner(1))}function z1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function r4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function df(){}var Ed=.7,km=1/Ed,jl="\\s*([+-]?\\d+)\\s*",kd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lJ=/^#([0-9a-f]{3,8})$/,uJ=new RegExp(`^rgb\\(${jl},${jl},${jl}\\)$`),cJ=new RegExp(`^rgb\\(${yi},${yi},${yi}\\)$`),dJ=new RegExp(`^rgba\\(${jl},${jl},${jl},${kd}\\)$`),fJ=new RegExp(`^rgba\\(${yi},${yi},${yi},${kd}\\)$`),hJ=new RegExp(`^hsl\\(${kd},${yi},${yi}\\)$`),pJ=new RegExp(`^hsla\\(${kd},${yi},${yi},${kd}\\)$`),_I={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};z1(df,Sd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:EI,formatHex:EI,formatHex8:mJ,formatHsl:gJ,formatRgb:kI,toString:kI});function EI(){return this.rgb().formatHex()}function mJ(){return this.rgb().formatHex8()}function gJ(){return n4(this).formatHsl()}function kI(){return this.rgb().formatRgb()}function Sd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=lJ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?SI(t):r===3?new qr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Sh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Sh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uJ.exec(e))?new qr(t[1],t[2],t[3],1):(t=cJ.exec(e))?new qr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dJ.exec(e))?Sh(t[1],t[2],t[3],t[4]):(t=fJ.exec(e))?Sh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hJ.exec(e))?AI(t[1],t[2]/100,t[3]/100,1):(t=pJ.exec(e))?AI(t[1],t[2]/100,t[3]/100,t[4]):_I.hasOwnProperty(e)?SI(_I[e]):e==="transparent"?new qr(NaN,NaN,NaN,0):null}function SI(e){return new qr(e>>16&255,e>>8&255,e&255,1)}function Sh(e,t,r,n){return n<=0&&(e=t=r=NaN),new qr(e,t,r,n)}function vJ(e){return e instanceof df||(e=Sd(e)),e?(e=e.rgb(),new qr(e.r,e.g,e.b,e.opacity)):new qr}function jb(e,t,r,n){return arguments.length===1?vJ(e):new qr(e,t,r,n??1)}function qr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}z1(qr,jb,r4(df,{brighter(e){return e=e==null?km:Math.pow(km,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ed:Math.pow(Ed,e),new qr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qr(ns(this.r),ns(this.g),ns(this.b),Sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:PI,formatHex:PI,formatHex8:yJ,formatRgb:TI,toString:TI}));function PI(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}`}function yJ(){return`#${Go(this.r)}${Go(this.g)}${Go(this.b)}${Go((isNaN(this.opacity)?1:this.opacity)*255)}`}function TI(){const e=Sm(this.opacity);return`${e===1?"rgb(":"rgba("}${ns(this.r)}, ${ns(this.g)}, ${ns(this.b)}${e===1?")":`, ${e})`}`}function Sm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ns(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Go(e){return e=ns(e),(e<16?"0":"")+e.toString(16)}function AI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hn(e,t,r,n)}function n4(e){if(e instanceof Hn)return new Hn(e.h,e.s,e.l,e.opacity);if(e instanceof df||(e=Sd(e)),!e)return new Hn;if(e instanceof Hn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Hn(o,s,l,e.opacity)}function xJ(e,t,r,n){return arguments.length===1?n4(e):new Hn(e,t,r,n??1)}function Hn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}z1(Hn,xJ,r4(df,{brighter(e){return e=e==null?km:Math.pow(km,e),new Hn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ed:Math.pow(Ed,e),new Hn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new qr(o0(e>=240?e-240:e+120,i,n),o0(e,i,n),o0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Hn(II(this.h),Ph(this.s),Ph(this.l),Sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Sm(this.opacity);return`${e===1?"hsl(":"hsla("}${II(this.h)}, ${Ph(this.s)*100}%, ${Ph(this.l)*100}%${e===1?")":`, ${e})`}`}}));function II(e){return e=(e||0)%360,e<0?e+360:e}function Ph(e){return Math.max(0,Math.min(1,e||0))}function o0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const U1=e=>()=>e;function bJ(e,t){return function(r){return e+r*t}}function wJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function _J(e){return(e=+e)==1?i4:function(t,r){return r-t?wJ(t,r,e):U1(isNaN(t)?r:t)}}function i4(e,t){var r=t-e;return r?bJ(e,r):U1(isNaN(e)?t:e)}const CI=function e(t){var r=_J(t);function n(i,a){var o=r((i=jb(i)).r,(a=jb(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=i4(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function EJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function kJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function SJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=yu(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function PJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Pm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function TJ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=yu(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Db=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,s0=new RegExp(Db.source,"g");function AJ(e){return function(){return e}}function IJ(e){return function(t){return e(t)+""}}function CJ(e,t){var r=Db.lastIndex=s0.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Db.exec(e))&&(i=s0.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:Pm(n,i)})),r=s0.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?IJ(l[0].x):AJ(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function yu(e,t){var r=typeof t,n;return t==null||r==="boolean"?U1(t):(r==="number"?Pm:r==="string"?(n=Sd(t))?(t=n,CI):CJ:t instanceof Sd?CI:t instanceof Date?PJ:kJ(t)?EJ:Array.isArray(t)?SJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?TJ:Pm)(e,t)}function B1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function OJ(e,t){t===void 0&&(t=e,e=yu);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function NJ(e){return function(){return e}}function Tm(e){return+e}var OI=[0,1];function Lr(e){return e}function Rb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NJ(isNaN(t)?NaN:.5)}function jJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function DJ(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Rb(i,n),a=r(o,a)):(n=Rb(n,i),a=r(a,o)),function(s){return a(n(s))}}function RJ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Rb(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=cf(e,s,1,n)-1;return a[l](i[l](s))}}function ff(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function hv(){var e=OI,t=OI,r=yu,n,i,a,o=Lr,s,l,u;function c(){var h=Math.min(e.length,t.length);return o!==Lr&&(o=jJ(e[0],e[h-1])),s=h>2?RJ:DJ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(i((u||(u=s(t,e.map(n),Pm)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Tm),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=B1,c()},d.clamp=function(h){return arguments.length?(o=h?!0:Lr,c()):o!==Lr},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,m){return n=h,i=m,c()}}function W1(){return hv()(Lr,Lr)}function MJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Am(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function iu(e){return e=Am(Math.abs(e)),e?e[1]:NaN}function LJ(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function VJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var FJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pd(e){if(!(t=FJ.exec(e)))throw new Error("invalid format: "+e);var t;return new K1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pd.prototype=K1.prototype;function K1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}K1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $J(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var a4;function zJ(e,t){var r=Am(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(a4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Am(e,Math.max(0,t+a-1))[0]}function NI(e,t){var r=Am(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const jI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:MJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>NI(e*100,t),r:NI,s:zJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DI(e){return e}var RI=Array.prototype.map,MI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function UJ(e){var t=e.grouping===void 0||e.thousands===void 0?DI:LJ(RI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?DI:VJ(RI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Pd(d);var h=d.fill,m=d.align,y=d.sign,b=d.symbol,x=d.zero,v=d.width,_=d.comma,E=d.precision,T=d.trim,I=d.type;I==="n"?(_=!0,I="g"):jI[I]||(E===void 0&&(E=12),T=!0,I="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var D=b==="$"?r:b==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",P=b==="$"?n:/[%p]/.test(I)?o:"",S=jI[I],C=/[defgprs%]/.test(I);E=E===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(j){var A=D,N=P,V,U,Y;if(I==="c")N=S(j)+N,j="";else{j=+j;var Q=j<0||1/j<0;if(j=isNaN(j)?l:S(Math.abs(j),E),T&&(j=$J(j)),Q&&+j==0&&y!=="+"&&(Q=!1),A=(Q?y==="("?y:s:y==="-"||y==="("?"":y)+A,N=(I==="s"?MI[8+a4/3]:"")+N+(Q&&y==="("?")":""),C){for(V=-1,U=j.length;++V<U;)if(Y=j.charCodeAt(V),48>Y||Y>57){N=(Y===46?i+j.slice(V+1):j.slice(V))+N,j=j.slice(0,V);break}}}_&&!x&&(j=t(j,1/0));var z=A.length+j.length+N.length,H=z<v?new Array(v-z+1).join(h):"";switch(_&&x&&(j=t(H+j,H.length?v-N.length:1/0),H=""),m){case"<":j=A+j+N+H;break;case"=":j=A+H+j+N;break;case"^":j=H.slice(0,z=H.length>>1)+A+j+N+H.slice(z);break;default:j=H+A+j+N;break}return a(j)}return O.toString=function(){return d+""},O}function c(d,h){var m=u((d=Pd(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(iu(h)/3)))*3,b=Math.pow(10,-y),x=MI[8+y/3];return function(v){return m(b*v)+x}}return{format:u,formatPrefix:c}}var Th,H1,o4;BJ({thousands:",",grouping:[3],currency:["$",""]});function BJ(e){return Th=UJ(e),H1=Th.format,o4=Th.formatPrefix,Th}function WJ(e){return Math.max(0,-iu(Math.abs(e)))}function KJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(iu(t)/3)))*3-iu(Math.abs(e)))}function HJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,iu(t)-iu(e))+1}function s4(e,t,r,n){var i=Ob(e,t,r),a;switch(n=Pd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=KJ(i,o))&&(n.precision=a),o4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=HJ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=WJ(i))&&(n.precision=a-(n.type==="%")*2);break}}return H1(n)}function _o(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ib(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return s4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Cb(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function l4(){var e=W1();return e.copy=function(){return ff(e,l4())},Mn.apply(e,arguments),_o(e)}function u4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Tm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return u4(e).unknown(t)},e=arguments.length?Array.from(e,Tm):[0,1],_o(r)}function c4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function LI(e){return Math.log(e)}function VI(e){return Math.exp(e)}function qJ(e){return-Math.log(-e)}function GJ(e){return-Math.exp(-e)}function YJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QJ(e){return e===10?YJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FI(e){return(t,r)=>-e(-t,r)}function q1(e){const t=e(LI,VI),r=t.domain;let n=10,i,a;function o(){return i=XJ(n),a=QJ(n),r()[0]<0?(i=FI(i),a=FI(a),e(qJ,GJ)):e(LI,VI),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),y,b;const x=s==null?10:+s;let v=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(y=1;y<n;++y)if(b=h<0?y/a(-h):y*a(h),!(b<u)){if(b>c)break;v.push(b)}}else for(;h<=m;++h)for(y=n-1;y>=1;--y)if(b=h>0?y/a(-h):y*a(h),!(b<u)){if(b>c)break;v.push(b)}v.length*2<x&&(v=Ib(u,c,x))}else v=Ib(h,m,Math.min(m-h,x)).map(a);return d?v.reverse():v},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Pd(l)).precision==null&&(l.trim=!0),l=H1(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(c4(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function d4(){const e=q1(hv()).domain([1,10]);return e.copy=()=>ff(e,d4()).base(e.base()),Mn.apply(e,arguments),e}function $I(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function zI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function G1(e){var t=1,r=e($I(t),zI(t));return r.constant=function(n){return arguments.length?e($I(t=+n),zI(t)):t},_o(r)}function f4(){var e=G1(hv());return e.copy=function(){return ff(e,f4()).constant(e.constant())},Mn.apply(e,arguments)}function UI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function ZJ(e){return e<0?-e*e:e*e}function Y1(e){var t=e(Lr,Lr),r=1;function n(){return r===1?e(Lr,Lr):r===.5?e(JJ,ZJ):e(UI(r),UI(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},_o(t)}function Q1(){var e=Y1(hv());return e.copy=function(){return ff(e,Q1()).exponent(e.exponent())},Mn.apply(e,arguments),e}function eZ(){return Q1.apply(null,arguments).exponent(.5)}function BI(e){return Math.sign(e)*e*e}function tZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function h4(){var e=W1(),t=[0,1],r=!1,n;function i(a){var o=tZ(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(BI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Tm)).map(BI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return h4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Mn.apply(i,arguments),_o(i)}function p4(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=aJ(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[cf(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(no),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return p4().domain(e).range(t).unknown(n)},Mn.apply(a,arguments)}function m4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[cf(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return m4().domain([e,t]).range(i).unknown(a)},Mn.apply(_o(o),arguments)}function g4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[cf(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return g4().domain(e).range(t).unknown(r)},Mn.apply(i,arguments)}const l0=new Date,u0=new Date;function Kt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Kt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(l0.setTime(+a),u0.setTime(+o),e(l0),e(u0),Math.floor(r(l0,u0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Im=Kt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Im.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Im);Im.range;const Fi=1e3,Tn=Fi*60,$i=Tn*60,ra=$i*24,X1=ra*7,WI=ra*30,c0=ra*365,Yo=Kt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fi)},(e,t)=>(t-e)/Fi,e=>e.getUTCSeconds());Yo.range;const J1=Kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getMinutes());J1.range;const Z1=Kt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tn)},(e,t)=>(t-e)/Tn,e=>e.getUTCMinutes());Z1.range;const eE=Kt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fi-e.getMinutes()*Tn)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getHours());eE.range;const tE=Kt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*$i)},(e,t)=>(t-e)/$i,e=>e.getUTCHours());tE.range;const hf=Kt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tn)/ra,e=>e.getDate()-1);hf.range;const pv=Kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>e.getUTCDate()-1);pv.range;const v4=Kt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ra,e=>Math.floor(e/ra));v4.range;function Ms(e){return Kt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tn)/X1)}const mv=Ms(0),Cm=Ms(1),rZ=Ms(2),nZ=Ms(3),au=Ms(4),iZ=Ms(5),aZ=Ms(6);mv.range;Cm.range;rZ.range;nZ.range;au.range;iZ.range;aZ.range;function Ls(e){return Kt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/X1)}const gv=Ls(0),Om=Ls(1),oZ=Ls(2),sZ=Ls(3),ou=Ls(4),lZ=Ls(5),uZ=Ls(6);gv.range;Om.range;oZ.range;sZ.range;ou.range;lZ.range;uZ.range;const rE=Kt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());rE.range;const nE=Kt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());nE.range;const na=Kt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());na.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});na.range;const ia=Kt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ia.range;function y4(e,t,r,n,i,a){const o=[[Yo,1,Fi],[Yo,5,5*Fi],[Yo,15,15*Fi],[Yo,30,30*Fi],[a,1,Tn],[a,5,5*Tn],[a,15,15*Tn],[a,30,30*Tn],[i,1,$i],[i,3,3*$i],[i,6,6*$i],[i,12,12*$i],[n,1,ra],[n,2,2*ra],[r,1,X1],[t,1,WI],[t,3,3*WI],[e,1,c0]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),y=m?m.range(u,+c+1):[];return h?y.reverse():y}function l(u,c,d){const h=Math.abs(c-u)/d,m=V1(([,,x])=>x).right(o,h);if(m===o.length)return e.every(Ob(u/c0,c/c0,d));if(m===0)return Im.every(Math.max(Ob(u,c,d),1));const[y,b]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return y.every(b)}return[s,l]}const[cZ,dZ]=y4(ia,nE,gv,v4,tE,Z1),[fZ,hZ]=y4(na,rE,mv,hf,eE,J1);function d0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ic(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function pZ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=ac(i),c=oc(i),d=ac(a),h=oc(a),m=ac(o),y=oc(o),b=ac(s),x=oc(s),v=ac(l),_=oc(l),E={a:Q,A:z,b:H,B:J,c:null,d:QI,e:QI,f:LZ,g:qZ,G:YZ,H:DZ,I:RZ,j:MZ,L:x4,m:VZ,M:FZ,p:ue,q:oe,Q:ZI,s:eC,S:$Z,u:zZ,U:UZ,V:BZ,w:WZ,W:KZ,x:null,X:null,y:HZ,Y:GZ,Z:QZ,"%":JI},T={a:we,A:Le,b:ct,B:bt,c:null,d:XI,e:XI,f:eee,g:cee,G:fee,H:XZ,I:JZ,j:ZZ,L:w4,m:tee,M:ree,p:ke,q:en,Q:ZI,s:eC,S:nee,u:iee,U:aee,V:oee,w:see,W:lee,x:null,X:null,y:uee,Y:dee,Z:hee,"%":JI},I={a:O,A:j,b:A,B:N,c:V,d:GI,e:GI,f:CZ,g:qI,G:HI,H:YI,I:YI,j:PZ,L:IZ,m:SZ,M:TZ,p:C,q:kZ,Q:NZ,s:jZ,S:AZ,u:xZ,U:bZ,V:wZ,w:yZ,W:_Z,x:U,X:Y,y:qI,Y:HI,Z:EZ,"%":OZ};E.x=D(r,E),E.X=D(n,E),E.c=D(t,E),T.x=D(r,T),T.X=D(n,T),T.c=D(t,T);function D(B,de){return function(ge){var K=[],it=-1,le=0,ze=B.length,Re,gr,vn;for(ge instanceof Date||(ge=new Date(+ge));++it<ze;)B.charCodeAt(it)===37&&(K.push(B.slice(le,it)),(gr=KI[Re=B.charAt(++it)])!=null?Re=B.charAt(++it):gr=Re==="e"?" ":"0",(vn=de[Re])&&(Re=vn(ge,gr)),K.push(Re),le=it+1);return K.push(B.slice(le,it)),K.join("")}}function P(B,de){return function(ge){var K=ic(1900,void 0,1),it=S(K,B,ge+="",0),le,ze;if(it!=ge.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(de&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(le=f0(ic(K.y,0,1)),ze=le.getUTCDay(),le=ze>4||ze===0?Om.ceil(le):Om(le),le=pv.offset(le,(K.V-1)*7),K.y=le.getUTCFullYear(),K.m=le.getUTCMonth(),K.d=le.getUTCDate()+(K.w+6)%7):(le=d0(ic(K.y,0,1)),ze=le.getDay(),le=ze>4||ze===0?Cm.ceil(le):Cm(le),le=hf.offset(le,(K.V-1)*7),K.y=le.getFullYear(),K.m=le.getMonth(),K.d=le.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ze="Z"in K?f0(ic(K.y,0,1)).getUTCDay():d0(ic(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ze+5)%7:K.w+K.U*7-(ze+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,f0(K)):d0(K)}}function S(B,de,ge,K){for(var it=0,le=de.length,ze=ge.length,Re,gr;it<le;){if(K>=ze)return-1;if(Re=de.charCodeAt(it++),Re===37){if(Re=de.charAt(it++),gr=I[Re in KI?de.charAt(it++):Re],!gr||(K=gr(B,ge,K))<0)return-1}else if(Re!=ge.charCodeAt(K++))return-1}return K}function C(B,de,ge){var K=u.exec(de.slice(ge));return K?(B.p=c.get(K[0].toLowerCase()),ge+K[0].length):-1}function O(B,de,ge){var K=m.exec(de.slice(ge));return K?(B.w=y.get(K[0].toLowerCase()),ge+K[0].length):-1}function j(B,de,ge){var K=d.exec(de.slice(ge));return K?(B.w=h.get(K[0].toLowerCase()),ge+K[0].length):-1}function A(B,de,ge){var K=v.exec(de.slice(ge));return K?(B.m=_.get(K[0].toLowerCase()),ge+K[0].length):-1}function N(B,de,ge){var K=b.exec(de.slice(ge));return K?(B.m=x.get(K[0].toLowerCase()),ge+K[0].length):-1}function V(B,de,ge){return S(B,t,de,ge)}function U(B,de,ge){return S(B,r,de,ge)}function Y(B,de,ge){return S(B,n,de,ge)}function Q(B){return o[B.getDay()]}function z(B){return a[B.getDay()]}function H(B){return l[B.getMonth()]}function J(B){return s[B.getMonth()]}function ue(B){return i[+(B.getHours()>=12)]}function oe(B){return 1+~~(B.getMonth()/3)}function we(B){return o[B.getUTCDay()]}function Le(B){return a[B.getUTCDay()]}function ct(B){return l[B.getUTCMonth()]}function bt(B){return s[B.getUTCMonth()]}function ke(B){return i[+(B.getUTCHours()>=12)]}function en(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var de=D(B+="",E);return de.toString=function(){return B},de},parse:function(B){var de=P(B+="",!1);return de.toString=function(){return B},de},utcFormat:function(B){var de=D(B+="",T);return de.toString=function(){return B},de},utcParse:function(B){var de=P(B+="",!0);return de.toString=function(){return B},de}}}var KI={"-":"",_:" ",0:"0"},nr=/^\s*\d+/,mZ=/^%/,gZ=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function vZ(e){return e.replace(gZ,"\\$&")}function ac(e){return new RegExp("^(?:"+e.map(vZ).join("|")+")","i")}function oc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yZ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function xZ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function bZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function wZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function _Z(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function HI(e,t,r){var n=nr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qI(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function EZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function kZ(e,t,r){var n=nr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function SZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function GI(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function PZ(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function YI(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function TZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function AZ(e,t,r){var n=nr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function IZ(e,t,r){var n=nr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function CZ(e,t,r){var n=nr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function OZ(e,t,r){var n=mZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function NZ(e,t,r){var n=nr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function jZ(e,t,r){var n=nr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function QI(e,t){return De(e.getDate(),t,2)}function DZ(e,t){return De(e.getHours(),t,2)}function RZ(e,t){return De(e.getHours()%12||12,t,2)}function MZ(e,t){return De(1+hf.count(na(e),e),t,3)}function x4(e,t){return De(e.getMilliseconds(),t,3)}function LZ(e,t){return x4(e,t)+"000"}function VZ(e,t){return De(e.getMonth()+1,t,2)}function FZ(e,t){return De(e.getMinutes(),t,2)}function $Z(e,t){return De(e.getSeconds(),t,2)}function zZ(e){var t=e.getDay();return t===0?7:t}function UZ(e,t){return De(mv.count(na(e)-1,e),t,2)}function b4(e){var t=e.getDay();return t>=4||t===0?au(e):au.ceil(e)}function BZ(e,t){return e=b4(e),De(au.count(na(e),e)+(na(e).getDay()===4),t,2)}function WZ(e){return e.getDay()}function KZ(e,t){return De(Cm.count(na(e)-1,e),t,2)}function HZ(e,t){return De(e.getFullYear()%100,t,2)}function qZ(e,t){return e=b4(e),De(e.getFullYear()%100,t,2)}function GZ(e,t){return De(e.getFullYear()%1e4,t,4)}function YZ(e,t){var r=e.getDay();return e=r>=4||r===0?au(e):au.ceil(e),De(e.getFullYear()%1e4,t,4)}function QZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function XI(e,t){return De(e.getUTCDate(),t,2)}function XZ(e,t){return De(e.getUTCHours(),t,2)}function JZ(e,t){return De(e.getUTCHours()%12||12,t,2)}function ZZ(e,t){return De(1+pv.count(ia(e),e),t,3)}function w4(e,t){return De(e.getUTCMilliseconds(),t,3)}function eee(e,t){return w4(e,t)+"000"}function tee(e,t){return De(e.getUTCMonth()+1,t,2)}function ree(e,t){return De(e.getUTCMinutes(),t,2)}function nee(e,t){return De(e.getUTCSeconds(),t,2)}function iee(e){var t=e.getUTCDay();return t===0?7:t}function aee(e,t){return De(gv.count(ia(e)-1,e),t,2)}function _4(e){var t=e.getUTCDay();return t>=4||t===0?ou(e):ou.ceil(e)}function oee(e,t){return e=_4(e),De(ou.count(ia(e),e)+(ia(e).getUTCDay()===4),t,2)}function see(e){return e.getUTCDay()}function lee(e,t){return De(Om.count(ia(e)-1,e),t,2)}function uee(e,t){return De(e.getUTCFullYear()%100,t,2)}function cee(e,t){return e=_4(e),De(e.getUTCFullYear()%100,t,2)}function dee(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function fee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ou(e):ou.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function hee(){return"+0000"}function JI(){return"%"}function ZI(e){return+e}function eC(e){return Math.floor(+e/1e3)}var qs,E4,k4;pee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pee(e){return qs=pZ(e),E4=qs.format,qs.parse,k4=qs.utcFormat,qs.utcParse,qs}function mee(e){return new Date(e)}function gee(e){return e instanceof Date?+e:+new Date(+e)}function iE(e,t,r,n,i,a,o,s,l,u){var c=W1(),d=c.invert,h=c.domain,m=u(".%L"),y=u(":%S"),b=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),_=u("%b %d"),E=u("%B"),T=u("%Y");function I(D){return(l(D)<D?m:s(D)<D?y:o(D)<D?b:a(D)<D?x:n(D)<D?i(D)<D?v:_:r(D)<D?E:T)(D)}return c.invert=function(D){return new Date(d(D))},c.domain=function(D){return arguments.length?h(Array.from(D,gee)):h().map(mee)},c.ticks=function(D){var P=h();return e(P[0],P[P.length-1],D??10)},c.tickFormat=function(D,P){return P==null?I:u(P)},c.nice=function(D){var P=h();return(!D||typeof D.range!="function")&&(D=t(P[0],P[P.length-1],D??10)),D?h(c4(P,D)):c},c.copy=function(){return ff(c,iE(e,t,r,n,i,a,o,s,l,u))},c}function vee(){return Mn.apply(iE(fZ,hZ,na,rE,mv,hf,eE,J1,Yo,E4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yee(){return Mn.apply(iE(cZ,dZ,ia,nE,gv,pv,tE,Z1,Yo,k4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vv(){var e=0,t=1,r,n,i,a,o=Lr,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(h){var m,y;return arguments.length?([m,y]=h,o=d(m,y),u):[o(0),o(1)]}}return u.range=c(yu),u.rangeRound=c(B1),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Eo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function S4(){var e=_o(vv()(Lr));return e.copy=function(){return Eo(e,S4())},ma.apply(e,arguments)}function P4(){var e=q1(vv()).domain([1,10]);return e.copy=function(){return Eo(e,P4()).base(e.base())},ma.apply(e,arguments)}function T4(){var e=G1(vv());return e.copy=function(){return Eo(e,T4()).constant(e.constant())},ma.apply(e,arguments)}function aE(){var e=Y1(vv());return e.copy=function(){return Eo(e,aE()).exponent(e.exponent())},ma.apply(e,arguments)}function xee(){return aE.apply(null,arguments).exponent(.5)}function A4(){var e=[],t=Lr;function r(n){if(n!=null&&!isNaN(n=+n))return t((cf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(no),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>iJ(e,a/n))},r.copy=function(){return A4(t).domain(e)},ma.apply(r,arguments)}function yv(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=Lr,c,d=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-a)*(n*b<n*a?s:l),u(d?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(d=!!b,m):d},m.interpolator=function(b){return arguments.length?(u=b,m):u};function y(b){return function(x){var v,_,E;return arguments.length?([v,_,E]=x,u=OJ(b,[v,_,E]),m):[u(0),u(.5),u(1)]}}return m.range=y(yu),m.rangeRound=y(B1),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return c=b,i=b(e),a=b(t),o=b(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function I4(){var e=_o(yv()(Lr));return e.copy=function(){return Eo(e,I4())},ma.apply(e,arguments)}function C4(){var e=q1(yv()).domain([.1,1,10]);return e.copy=function(){return Eo(e,C4()).base(e.base())},ma.apply(e,arguments)}function O4(){var e=G1(yv());return e.copy=function(){return Eo(e,O4()).constant(e.constant())},ma.apply(e,arguments)}function oE(){var e=Y1(yv());return e.copy=function(){return Eo(e,oE()).exponent(e.exponent())},ma.apply(e,arguments)}function bee(){return oE.apply(null,arguments).exponent(.5)}const bc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$1,scaleDiverging:I4,scaleDivergingLog:C4,scaleDivergingPow:oE,scaleDivergingSqrt:bee,scaleDivergingSymlog:O4,scaleIdentity:u4,scaleImplicit:Nb,scaleLinear:l4,scaleLog:d4,scaleOrdinal:F1,scalePoint:sJ,scalePow:Q1,scaleQuantile:p4,scaleQuantize:m4,scaleRadial:h4,scaleSequential:S4,scaleSequentialLog:P4,scaleSequentialPow:aE,scaleSequentialQuantile:A4,scaleSequentialSqrt:xee,scaleSequentialSymlog:T4,scaleSqrt:eZ,scaleSymlog:f4,scaleThreshold:g4,scaleTime:vee,scaleUtc:yee,tickFormat:s4},Symbol.toStringTag,{value:"Module"}));var ga=e=>e.chartData,xv=L([ga],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),N4=(e,t,r,n)=>n?xv(e):ga(e),j4=(e,t,r)=>r?xv(e):ga(e);function fo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(qe(t)&&qe(r))return!0}return!1}function tC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function D4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(qe(r))i=r;else if(typeof r=="function")return;if(qe(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(fo(o))return o}}function wee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(fo(n))return tC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Z(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&bA.test(i)){var l=bA.exec(i);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(Z(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&wA.test(a)){var c=wA.exec(a);if(c==null||c[1]==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[o,s];if(fo(h))return t==null?h:tC(h,t,r)}}}var xu=1e9,_ee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lE,st=!0,Rn="[DecimalError] ",is=Rn+"Invalid argument: ",sE=Rn+"Exponent out of range: ",bu=Math.floor,Uo=Math.pow,Eee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sn,Zt=1e7,et=7,R4=9007199254740991,Nm=bu(R4/et),te={};te.absoluteValue=te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};te.comparedTo=te.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};te.decimalPlaces=te.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};te.dividedBy=te.div=function(e){return Wi(this,new this.constructor(e))};te.dividedToIntegerBy=te.idiv=function(e){var t=this,r=t.constructor;return He(Wi(t,new r(e),0,1),r.precision)};te.equals=te.eq=function(e){return!this.cmp(e)};te.exponent=function(){return Vt(this)};te.greaterThan=te.gt=function(e){return this.cmp(e)>0};te.greaterThanOrEqualTo=te.gte=function(e){return this.cmp(e)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(e){return this.cmp(e)<0};te.lessThanOrEqualTo=te.lte=function(e){return this.cmp(e)<1};te.logarithm=te.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sn))throw Error(Rn+"NaN");if(r.s<1)throw Error(Rn+(r.s?"NaN":"-Infinity"));return r.eq(sn)?new n(0):(st=!1,t=Wi(Td(r,a),Td(e,a),a),st=!0,He(t,i))};te.minus=te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?V4(t,e):M4(t,(e.s=-e.s,e))};te.modulo=te.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Rn+"NaN");return r.s?(st=!1,t=Wi(r,e,0,1).times(e),st=!0,r.minus(t)):He(new n(r),i)};te.naturalExponential=te.exp=function(){return L4(this)};te.naturalLogarithm=te.ln=function(){return Td(this)};te.negated=te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};te.plus=te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?M4(t,e):V4(t,(e.s=-e.s,e))};te.precision=te.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(is+e);if(t=Vt(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};te.squareRoot=te.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Rn+"NaN")}for(e=Vt(s),st=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=ci(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=bu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Wi(s,a,o+2)).times(.5),ci(a.d).slice(0,o)===(t=ci(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(He(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return st=!0,He(n,r)};te.times=te.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,h=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+m[n]*h[i-n-1]+t,a[i--]=s%Zt|0,t=s/Zt|0;a[i]=(a[i]+t)%Zt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,st?He(e,d.precision):e};te.toDecimalPlaces=te.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(_i(e,0,xu),t===void 0?t=n.rounding:_i(t,0,8),He(r,e+Vt(r)+1,t))};te.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ss(n,!0):(_i(e,0,xu),t===void 0?t=i.rounding:_i(t,0,8),n=He(new i(n),e+1,t),r=Ss(n,!0,e+1)),r};te.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Ss(i):(_i(e,0,xu),t===void 0?t=a.rounding:_i(t,0,8),n=He(new a(i),e+Vt(i)+1,t),r=Ss(n.abs(),!1,e+Vt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};te.toInteger=te.toint=function(){var e=this,t=e.constructor;return He(new t(e),Vt(e)+1,t.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(sn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Rn+"Infinity");return s}if(s.eq(sn))return s;if(n=l.precision,e.eq(sn))return He(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=R4){for(i=new l(sn),t=Math.ceil(n/et+4),st=!1;r%2&&(i=i.times(s),nC(i.d,t)),r=bu(r/2),r!==0;)s=s.times(s),nC(s.d,t);return st=!0,e.s<0?new l(sn).div(i):He(i,n)}}else if(a<0)throw Error(Rn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,st=!1,i=e.times(Td(s,n+u)),st=!0,i=L4(i),i.s=a,i};te.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Vt(i),n=Ss(i,r<=a.toExpNeg||r>=a.toExpPos)):(_i(e,1,xu),t===void 0?t=a.rounding:_i(t,0,8),i=He(new a(i),e,t),r=Vt(i),n=Ss(i,e<=r||r<=a.toExpNeg,e)),n};te.toSignificantDigits=te.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(_i(e,1,xu),t===void 0?t=n.rounding:_i(t,0,8)),He(new n(r),e,t)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vt(e),r=e.constructor;return Ss(e,t<=r.toExpNeg||t>=r.toExpPos)};function M4(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),st?He(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/et),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/Zt|0,l[a]%=Zt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,st?He(t,d):t}function _i(e,t,r){if(e!==~~e||e<t||e>r)throw Error(is+e)}function ci(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=et-n.length,r&&(a+=Aa(r)),a+=n;o=e[t],n=o+"",r=et-n.length,r&&(a+=Aa(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Wi=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%Zt|0,o=a/Zt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Zt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,h,m,y,b,x,v,_,E,T,I,D,P,S,C=n.constructor,O=n.s==i.s?1:-1,j=n.d,A=i.d;if(!n.s)return new C(n);if(!i.s)throw Error(Rn+"Division by zero");for(l=n.e-i.e,P=A.length,I=j.length,m=new C(O),y=m.d=[],u=0;A[u]==(j[u]||0);)++u;if(A[u]>(j[u]||0)&&--l,a==null?_=a=C.precision:o?_=a+(Vt(n)-Vt(i))+1:_=a,_<0)return new C(0);if(_=_/et+2|0,u=0,P==1)for(c=0,A=A[0],_++;(u<I||c)&&_--;u++)E=c*Zt+(j[u]||0),y[u]=E/A|0,c=E%A|0;else{for(c=Zt/(A[0]+1)|0,c>1&&(A=e(A,c),j=e(j,c),P=A.length,I=j.length),T=P,b=j.slice(0,P),x=b.length;x<P;)b[x++]=0;S=A.slice(),S.unshift(0),D=A[0],A[1]>=Zt/2&&++D;do c=0,s=t(A,b,P,x),s<0?(v=b[0],P!=x&&(v=v*Zt+(b[1]||0)),c=v/D|0,c>1?(c>=Zt&&(c=Zt-1),d=e(A,c),h=d.length,x=b.length,s=t(d,b,h,x),s==1&&(c--,r(d,P<h?S:A,h))):(c==0&&(s=c=1),d=A.slice()),h=d.length,h<x&&d.unshift(0),r(b,d,x),s==-1&&(x=b.length,s=t(A,b,P,x),s<1&&(c++,r(b,P<x?S:A,x))),x=b.length):s===0&&(c++,b=[0]),y[u++]=c,s&&b[0]?b[x++]=j[T]||0:(b=[j[T]],x=1);while((T++<I||b[0]!==void 0)&&_--)}return y[0]||y.shift(),m.e=l,He(m,o?a+Vt(m)+1:a)}}();function L4(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(Vt(e)>16)throw Error(sE+Vt(e));if(!e.s)return new c(sn);for(st=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Uo(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(sn),c.precision=s;;){if(i=He(i.times(e),s),r=r.times(++l),o=a.plus(Wi(i,r,s)),ci(o.d).slice(0,s)===ci(a.d).slice(0,s)){for(;u--;)a=He(a.times(a),s);return c.precision=d,t==null?(st=!0,He(a,d)):a}a=o}}function Vt(e){for(var t=e.e*et,r=e.d[0];r>=10;r/=10)t++;return t}function h0(e,t,r){if(t>e.LN10.sd())throw st=!0,r&&(e.precision=r),Error(Rn+"LN10 precision limit exceeded");return He(new e(e.LN10),t)}function Aa(e){for(var t="";e--;)t+="0";return t}function Td(e,t){var r,n,i,a,o,s,l,u,c,d=1,h=10,m=e,y=m.d,b=m.constructor,x=b.precision;if(m.s<1)throw Error(Rn+(m.s?"NaN":"-Infinity"));if(m.eq(sn))return new b(0);if(t==null?(st=!1,u=x):u=t,m.eq(10))return t==null&&(st=!0),h0(b,u);if(u+=h,b.precision=u,r=ci(y),n=r.charAt(0),a=Vt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=ci(m.d),n=r.charAt(0),d++;a=Vt(m),n>1?(m=new b("0."+r),a++):m=new b(n+"."+r.slice(1))}else return l=h0(b,u+2,x).times(a+""),m=Td(new b(n+"."+r.slice(1)),u-h).plus(l),b.precision=x,t==null?(st=!0,He(m,x)):m;for(s=o=m=Wi(m.minus(sn),m.plus(sn),u),c=He(m.times(m),u),i=3;;){if(o=He(o.times(c),u),l=s.plus(Wi(o,new b(i),u)),ci(l.d).slice(0,u)===ci(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(h0(b,u+2,x).times(a+""))),s=Wi(s,new b(d),u),b.precision=x,t==null?(st=!0,He(s,x)):s;s=l,i+=2}}function rC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=bu(r/et),e.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=et;n<i;)e.d.push(+t.slice(n,n+=et));t=t.slice(n),n=et-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),st&&(e.e>Nm||e.e<-Nm))throw Error(sE+r)}else e.s=0,e.e=0,e.d=[0];return e}function He(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=et,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/et),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=et,i=n-et+o}if(r!==void 0&&(a=Uo(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Uo(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Vt(e),d.length=1,t=t-a-1,d[0]=Uo(10,(et-t%et)%et),e.e=bu(-t/et)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Uo(10,et-n),d[c]=i>0?(u/Uo(10,o-i)%Uo(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==Zt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=Zt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(st&&(e.e>Nm||e.e<-Nm))throw Error(sE+Vt(e));return e}function V4(e,t){var r,n,i,a,o,s,l,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),st?He(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/et),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=Zt-1;--l[a],l[i]+=Zt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,st?He(t,m):t):new h(0)}function Ss(e,t,r){var n,i=Vt(e),a=ci(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Aa(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Aa(-i-1)+a,r&&(n=r-o)>0&&(a+=Aa(n))):i>=o?(a+=Aa(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Aa(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Aa(n))),e.s<0?"-"+a:a}function nC(e,t){if(e.length>t)return e.length=t,!0}function F4(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(is+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return rC(o,a.toString())}else if(typeof a!="string")throw Error(is+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Eee.test(a))rC(o,a);else throw Error(is+a)}if(i.prototype=te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=F4,i.config=i.set=kee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function kee(e){if(!e||typeof e!="object")throw Error(Rn+"Object expected");var t,r,n,i=["precision",1,xu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(bu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(is+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(is+r+": "+n);return this}var lE=F4(_ee);sn=new lE(1);const Ve=lE;var See=e=>e,$4={},z4=e=>e===$4,iC=e=>function t(){return arguments.length===0||arguments.length===1&&z4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},U4=(e,t)=>e===1?t:iC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==$4).length;return a>=e?t(...n):U4(e-a,iC(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>z4(c)?s.shift():c);return t(...u,...s)}))}),Pee=e=>U4(e.length,e),Mb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Tee=Pee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Aee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return See;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}};function B4(e){var t;return e===0?t=1:t=Math.floor(new Ve(e).abs().log(10).toNumber())+1,t}function W4(e,t,r){for(var n=new Ve(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var K4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},H4=(e,t,r)=>{if(e.lte(0))return new Ve(0);var n=B4(e.toNumber()),i=new Ve(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Ve(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new Ve(l.toNumber()):new Ve(Math.ceil(l.toNumber()))},Iee=(e,t,r)=>{var n=new Ve(1),i=new Ve(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ve(10).pow(B4(e)-1),i=new Ve(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ve(Math.floor(e)))}else e===0?i=new Ve(Math.floor((t-1)/2)):r||(i=new Ve(Math.floor(e)));var o=Math.floor((t-1)/2),s=Aee(Tee(l=>i.add(new Ve(l-o).mul(n)).toNumber()),Mb);return s(0,t)},q4=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var o=H4(new Ve(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Ve(0):(s=new Ve(t).add(r).div(2),s=s.sub(new Ve(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Ve(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?q4(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new Ve(l).mul(o)),tickMax:s.add(new Ve(u).mul(o))})},Cee=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=K4([r,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...Mb(0,i-1).map(()=>1/0)]:[...Mb(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(s===l)return Iee(s,i,a);var{step:c,tickMin:d,tickMax:h}=q4(s,l,o,a,0),m=W4(d,h.add(new Ve(.1).mul(c)),c);return r>n?m.reverse():m},Oee=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=K4([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),u=H4(new Ve(s).sub(o).div(l-1),a,0),c=[...W4(new Ve(o),new Ve(s),u),s];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?c.reverse():c},G4=e=>e.rootProps.maxBarSize,Nee=e=>e.rootProps.barGap,Y4=e=>e.rootProps.barCategoryGap,jee=e=>e.rootProps.barSize,pf=e=>e.rootProps.stackOffset,Q4=e=>e.rootProps.reverseStackOrder,uE=e=>e.options.chartName,cE=e=>e.rootProps.syncId,X4=e=>e.rootProps.syncMethod,dE=e=>e.options.eventEmitter,Dee=e=>e.rootProps.baseValue,Lt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ni={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},an={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},bv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Ree={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ni.angleAxisId,includeHidden:!1,name:void 0,reversed:Ni.reversed,scale:Ni.scale,tick:Ni.tick,tickCount:void 0,ticks:void 0,type:Ni.type,unit:void 0},Mee={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:an.type,unit:void 0},Lee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ni.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ni.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ni.scale,tick:Ni.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Vee={allowDataOverflow:an.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:an.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:an.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:an.scale,tick:an.tick,tickCount:an.tickCount,ticks:void 0,type:"category",unit:void 0},fE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Lee:Ree,hE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Vee:Mee,wv=e=>e.polarOptions,pE=L([ha,pa,Wt],WL),J4=L([wv,pE],(e,t)=>{if(e!=null)return Ir(e.innerRadius,t,0)}),Z4=L([wv,pE],(e,t)=>{if(e!=null)return Ir(e.outerRadius,t,t*.8)}),Fee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},eV=L([wv],Fee);L([fE,eV],bv);var tV=L([pE,J4,Z4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});L([hE,tV],bv);var rV=L([Ie,wv,J4,Z4,ha,pa],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:Ir(o,i,i/2),cy:Ir(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),lt=(e,t)=>t,mf=(e,t,r)=>r;function _v(e){return e==null?void 0:e.id}function nV(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=_v(s);u.forEach((d,h)=>{var m=a==null||i?h:String(We(d,a,null)),y=We(d,s.dataKey,0),b;o.has(m)?b=o.get(m):b={},Object.assign(b,{[c]:y}),o.set(m,b)})}}),Array.from(o.values())}function Ev(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var kv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Sv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $ee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ht=e=>{var t=Ie(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},wu=e=>e.tooltip.settings.axisId;function aC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aC(Object(r),!0).forEach(function(n){zee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zee(e,t,r){return(t=Uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uee(e){var t=Bee(e,"string");return typeof t=="symbol"?t:t+""}function Bee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lb=[0,"auto"],Qt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},iV=(e,t)=>e.cartesianAxis.xAxis[t],va=(e,t)=>{var r=iV(e,t);return r??Qt},Xt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Lb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:af},aV=(e,t)=>e.cartesianAxis.yAxis[t],ya=(e,t)=>{var r=aV(e,t);return r??Xt},Wee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},mE=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Wee},xt=(e,t,r)=>{switch(t){case"xAxis":return va(e,r);case"yAxis":return ya(e,r);case"zAxis":return mE(e,r);case"angleAxis":return fE(e,r);case"radiusAxis":return hE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Kee=(e,t,r)=>{switch(t){case"xAxis":return va(e,r);case"yAxis":return ya(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gf=(e,t,r)=>{switch(t){case"xAxis":return va(e,r);case"yAxis":return ya(e,r);case"angleAxis":return fE(e,r);case"radiusAxis":return hE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},oV=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function gE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Pv=e=>e.graphicalItems.cartesianItems,Hee=L([lt,mf],gE),vE=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),vf=L([Pv,xt,Hee],vE,{memoizeOptions:{resultEqualityCheck:Sv}}),sV=L([vf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ev)),lV=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),qee=L([vf],lV),yE=e=>e.map(t=>t.data).filter(Boolean).flat(1),Gee=L([vf],yE,{memoizeOptions:{resultEqualityCheck:Sv}}),xE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},bE=L([Gee,N4],xE),wE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:We(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:We(i,n)}))):e.map(n=>({value:n})),Tv=L([bE,xt,vf],wE);function uV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function op(e){if(bi(e)||e instanceof Date){var t=Number(e);if(qe(t))return t}}function oC(e){if(Array.isArray(e)){var t=[op(e[0]),op(e[1])];return fo(t)?t:void 0}var r=op(e);if(r!=null)return[r,r]}function aa(e){return e.map(op).filter(aq)}function Yee(e,t,r){return!r||typeof t!="number"||jn(t)?[]:r.length?aa(r.flatMap(n=>{var i=We(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!qe(a)||!qe(o)))return[t-a,t+o]})):[]}var qt=e=>{var t=Ht(e),r=wu(e);return gf(e,t,r)},yf=L([qt],e=>e==null?void 0:e.dataKey),Qee=L([sV,N4,qt],nV),cV=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=n?[...l].reverse():l,c=u.map(_v);return[s,{stackedData:_Y(e,c,r),graphicalItems:u}]}))},Dm=L([Qee,sV,pf,Q4],cV),dV=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=PY(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Xee=L([xt],e=>e.allowDataOverflow),_E=e=>{var t;if(e==null||!("domain"in e))return Lb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=aa(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Lb},EE=L([xt],_E),kE=L([EE,Xee],D4),Jee=L([Dm,ga,lt,kE],dV,{memoizeOptions:{resultEqualityCheck:kv}}),Av=e=>e.errorBars,Zee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>uV(r,n)),Rm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},SE=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(v=>uV(i,v)),h=We(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=Yee(s,h,d);if(m.length>=2){var y=Math.min(...m),b=Math.max(...m);(a==null||y<a)&&(a=y),(o==null||b>o)&&(o=b)}var x=oC(h);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=oC(We(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),qe(a)&&qe(o))return[a,o]},ete=L([bE,xt,qee,Av,lt],SE,{memoizeOptions:{resultEqualityCheck:kv}});function tte(e){var{value:t}=e;if(bi(t)||t instanceof Date)return t}var rte=(e,t,r)=>{var n=e.map(tte).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&iM(n))?XL(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},fV=e=>e.referenceElements.dots,_u=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),nte=L([fV,lt,mf],_u),hV=e=>e.referenceElements.areas,ite=L([hV,lt,mf],_u),pV=e=>e.referenceElements.lines,ate=L([pV,lt,mf],_u),mV=(e,t)=>{if(e!=null){var r=aa(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},ote=L(nte,lt,mV),gV=(e,t)=>{if(e!=null){var r=aa(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},ste=L([ite,lt],gV);function lte(e){var t;if(e.x!=null)return aa([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:aa(r)}function ute(e){var t;if(e.y!=null)return aa([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:aa(r)}var vV=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?lte(n):ute(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},cte=L([ate,lt],vV),dte=L(ote,cte,ste,(e,t,r)=>Rm(e,r,t)),PE=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?Rm(n,a,i):Rm(a,i);return wee(t,u,e.allowDataOverflow)},fte=L([xt,EE,kE,Jee,ete,dte,Ie,lt],PE,{memoizeOptions:{resultEqualityCheck:kv}}),hte=[0,1],TE=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=fa(t,a);if(u&&s==null){var c;return XL(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?rte(n,e,u):i==="expand"?hte:o}},AE=L([xt,Ie,bE,Tv,pf,lt,fte],TE),yV=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(Jd(a));return s in bc?s:"point"}}},Eu=L([xt,Ie,oV,uE,lt],yV);function pte(e){if(e!=null){if(e in bc)return bc[e]();var t="scale".concat(Jd(e));if(t in bc)return bc[t]()}}function IE(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=pte(t);if(i!=null){var a=i.domain(r).range(n);return vY(a),a}}}var CE=(e,t,r)=>{var n=_E(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fo(e))return Cee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fo(e))return Oee(e,t.tickCount,t.allowDecimals)}},OE=L([AE,gf,Eu],CE),NE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},mte=L([xt,AE,OE,lt],NE),gte=L(Tv,xt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(aa(e.map(d=>d.value))).sort((d,h)=>d-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s],u=n[s+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/o}}),xV=L(gte,Ie,Y4,Wt,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!qe(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Ir(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),vte=(e,t,r)=>{var n=va(e,t);return n==null||typeof n.padding!="string"?0:xV(e,"xAxis",t,r,n.padding)},yte=(e,t,r)=>{var n=ya(e,t);return n==null||typeof n.padding!="string"?0:xV(e,"yAxis",t,r,n.padding)},xte=L(va,vte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),bte=L(ya,yte,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),wte=L([Wt,xte,sv,ov,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),_te=L([Wt,Ie,bte,sv,ov,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),xf=(e,t,r,n)=>{var i;switch(t){case"xAxis":return wte(e,r,n);case"yAxis":return _te(e,r,n);case"zAxis":return(i=mE(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return eV(e);case"radiusAxis":return tV(e,r);default:return}},bV=L([xt,xf],bv),Iv=L([xt,Eu,mte,bV],IE);L([vf,Av,lt],Zee);function wV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cv=(e,t)=>t,Ov=(e,t,r)=>r,Ete=L(iv,Cv,Ov,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(wV)),kte=L(av,Cv,Ov,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(wV)),_V=(e,t)=>({width:e.width,height:t.height}),Ste=(e,t)=>{var r=typeof t.width=="number"?t.width:af;return{width:r,height:e.height}},EV=L(Wt,va,_V),Pte=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Tte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Ate=L(pa,Wt,Ete,Cv,Ov,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=_V(t,s);o==null&&(o=Pte(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),Ite=L(ha,Wt,kte,Cv,Ov,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=Ste(t,s);o==null&&(o=Tte(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),Cte=(e,t)=>{var r=va(e,t);if(r!=null)return Ate(e,r.orientation,r.mirror)},Ote=L([Wt,va,Cte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),Nte=(e,t)=>{var r=ya(e,t);if(r!=null)return Ite(e,r.orientation,r.mirror)},jte=L([Wt,ya,Nte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),kV=L(Wt,ya,(e,t)=>{var r=typeof t.width=="number"?t.width:af;return{width:r,height:e.height}}),sC=(e,t,r)=>{switch(t){case"xAxis":return EV(e,r).width;case"yAxis":return kV(e,r).height;default:return}},SV=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=fa(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&iM(l))return l}},jE=L([Ie,Tv,xt,lt],SV),PV=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=fa(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},DE=L([Ie,Tv,gf,lt],PV),lC=L([Ie,Kee,Eu,Iv,jE,DE,xf,OE,lt],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var u=fa(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),Dte=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=fa(e,l),{type:c,ticks:d,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,y=c==="category"&&n.bandwidth?n.bandwidth()/m:0;y=l==="angleAxis"&&a!=null&&a.length>=2?tr(a[0]-a[1])*2*y:y;var b=d||i;if(b){var x=b.map((v,_)=>{var E=o?o.indexOf(v):v;return{index:_,coordinate:n(E)+y,value:v,offset:y}});return x.filter(v=>qe(v.coordinate))}return u&&s?s.map((v,_)=>({coordinate:n(v)+y,value:v,index:_,offset:y})).filter(v=>qe(v.coordinate)):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+y,value:v,offset:y})):n.domain().map((v,_)=>({coordinate:n(v)+y,value:o?o[v]:v,index:_,offset:y}))}},TV=L([Ie,gf,Eu,Iv,OE,xf,jE,DE,lt],Dte),Rte=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=fa(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?tr(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},ho=L([Ie,gf,Iv,xf,jE,DE,lt],Rte),po=L(xt,Iv,(e,t)=>{if(!(e==null||t==null))return jm(jm({},e),{},{scale:t})}),Mte=L([xt,Eu,AE,bV],IE);L((e,t,r)=>mE(e,r),Mte,(e,t)=>{if(!(e==null||t==null))return jm(jm({},e),{},{scale:t})});var Lte=L([Ie,iv,av],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),AV=e=>e.options.defaultTooltipEventType,IV=e=>e.options.validateTooltipEventTypes;function CV(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function RE(e,t){var r=AV(e),n=IV(e);return CV(t,r,n)}function Vte(e){return ne(t=>RE(t,e))}var OV=(e,t)=>{var r,n=Number(t);if(!(jn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Fte=e=>e.tooltip.settings,La={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$te={itemInteraction:{click:La,hover:La},axisInteraction:{click:La,hover:La},keyboardInteraction:La,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},NV=Jr({name:"tooltip",initialState:$te,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:at()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Yn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:at()},removeTooltipEntrySettings:{reducer(e,t){var r=Yn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:at()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:zte,replaceTooltipEntrySettings:Ute,removeTooltipEntrySettings:Bte,setTooltipSettingsState:Wte,setActiveMouseOverItemIndex:jV,mouseLeaveItem:Kte,mouseLeaveChart:DV,setActiveClickItemIndex:Hte,setMouseOverAxisIndex:RV,setMouseClickAxisIndex:qte,setSyncInteraction:Vb,setKeyboardInteraction:Fb}=NV.actions,Gte=NV.reducer;function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){Yte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yte(e,t,r){return(t=Qte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qte(e){var t=Xte(e,"string");return typeof t=="symbol"?t:t+""}function Xte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Zte(e){return e.index!=null}var MV=(e,t,r,n)=>{if(t==null)return La;var i=Jte(e,t,r);if(i==null)return La;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Zte(i)){if(a)return Ah(Ah({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Ah(Ah({},La),{},{coordinate:i.coordinate})};function ere(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function tre(e,t){var r=ere(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function rre(e,t,r){if(r==null||t==null)return!0;var n=We(e,t);return n==null||!fo(r)?!0:tre(n,r)}var ME=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!qe(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),u=t[l];return u==null||rre(u,r,n)?String(l):null},LV=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},VV=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},bf=e=>e.options.tooltipPayloadSearcher,ku=e=>e.tooltip;function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){nre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nre(e,t,r){return(t=ire(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ire(e){var t=are(e,"string");return typeof t=="symbol"?t:t+""}function are(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ore(e,t){return e??t}var FV=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((h,m)=>{var y,{dataDefinedOnItem:b,settings:x}=m,v=ore(b,s),_=Array.isArray(v)?hL(v,u,c):v,E=(y=x==null?void 0:x.dataKey)!==null&&y!==void 0?y:n,T=x==null?void 0:x.nameKey,I;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&o==="axis"?I=aM(_,n,i):I=a(_,t,l,T),Array.isArray(I))I.forEach(P=>{var S=dC(dC({},x),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(_A({tooltipEntrySettings:S,dataKey:P.dataKey,payload:P.payload,value:We(P.payload,P.dataKey),name:P.name}))});else{var D;h.push(_A({tooltipEntrySettings:x,dataKey:E,payload:I,value:We(I,E),name:(D=We(I,T))!==null&&D!==void 0?D:x==null?void 0:x.name}))}return h},d)}},LE=L([qt,Ie,oV,uE,Ht],yV),sre=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lre=L([Ht,wu],gE),Su=L([sre,qt,lre],vE,{memoizeOptions:{resultEqualityCheck:Sv}}),ure=L([Su],e=>e.filter(Ev)),cre=L([Su],yE,{memoizeOptions:{resultEqualityCheck:Sv}}),Pu=L([cre,ga],xE),dre=L([ure,ga,qt],nV),VE=L([Pu,qt,Su],wE),$V=L([qt],_E),fre=L([qt],e=>e.allowDataOverflow),zV=L([$V,fre],D4),hre=L([Su],e=>e.filter(Ev)),pre=L([dre,hre,pf,Q4],cV),mre=L([pre,ga,Ht,zV],dV),gre=L([Su],lV),vre=L([Pu,qt,gre,Av,Ht],SE,{memoizeOptions:{resultEqualityCheck:kv}}),yre=L([fV,Ht,wu],_u),xre=L([yre,Ht],mV),bre=L([hV,Ht,wu],_u),wre=L([bre,Ht],gV),_re=L([pV,Ht,wu],_u),Ere=L([_re,Ht],vV),kre=L([xre,Ere,wre],Rm),Sre=L([qt,$V,zV,mre,vre,kre,Ie,Ht],PE),wf=L([qt,Ie,Pu,VE,pf,Ht,Sre],TE),Pre=L([wf,qt,LE],CE),Tre=L([qt,wf,Pre,Ht],NE),UV=e=>{var t=Ht(e),r=wu(e),n=!1;return xf(e,t,r,n)},BV=L([qt,UV],bv),WV=L([qt,LE,Tre,BV],IE),Are=L([Ie,VE,qt,Ht],SV),Ire=L([Ie,VE,qt,Ht],PV),Cre=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=fa(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?tr(i[0]-i[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:a?a[h]:h,index:m,offset:d}))}}},xa=L([Ie,qt,LE,WV,UV,Are,Ire,Ht],Cre),FE=L([AV,IV,Fte],(e,t,r)=>CV(r.shared,e,t)),KV=e=>e.tooltip.settings.trigger,$E=e=>e.tooltip.settings.defaultIndex,_f=L([ku,FE,KV,$E],MV),mo=L([_f,Pu,yf,wf],ME),HV=L([xa,mo],OV),zE=L([_f],e=>{if(e)return e.dataKey}),Ore=L([_f],e=>{if(e)return e.graphicalItemId}),qV=L([ku,FE,KV,$E],VV),Nre=L([ha,pa,Ie,Wt,xa,$E,qV,bf],LV),jre=L([_f,Nre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Dre=L([_f],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),Rre=L([qV,mo,ga,yf,HV,bf,FE],FV),Mre=L([Rre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function fC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(r),!0).forEach(function(n){Lre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lre(e,t,r){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vre(e){var t=Fre(e,"string");return typeof t=="symbol"?t:t+""}function Fre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $re=()=>ne(qt),zre=()=>{var e=$re(),t=ne(xa),r=ne(WV);return tu(!e||!r?void 0:hC(hC({},e),{},{scale:r}),t)};function pC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pC(Object(r),!0).forEach(function(n){Ure(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ure(e,t,r){return(t=Bre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kre=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Hre=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Gs(Gs(Gs({},n),Mt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return Gs(Gs(Gs({},n),Mt(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function qre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var GV=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,c,d,h,m=s>0?(l=r[s-1])===null||l===void 0?void 0:l.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,y=(c=r[s])===null||c===void 0?void 0:c.coordinate,b=s>=o-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,x=void 0;if(!(m==null||y==null||b==null))if(tr(y-m)!==tr(b-y)){var v=[];if(tr(b-y)===tr(i[1]-i[0])){x=b;var _=y+i[1]-i[0];v[0]=Math.min(_,(_+m)/2),v[1]=Math.max(_,(_+m)/2)}else{x=m;var E=b+i[1]-i[0];v[0]=Math.min(y,(E+y)/2),v[1]=Math.max(y,(E+y)/2)}var T=[Math.min(y,(x+y)/2),Math.max(y,(x+y)/2)];if(e>T[0]&&e<=T[1]||e>=v[0]&&e<=v[1]){var I;return(I=r[s])===null||I===void 0?void 0:I.index}}else{var D=Math.min(m,b),P=Math.max(m,b);if(e>(D+y)/2&&e<=(P+y)/2){var S;return(S=r[s])===null||S===void 0?void 0:S.index}}}else if(t)for(var C=0;C<o;C++){var O=t[C];if(O!=null){var j=t[C+1],A=t[C-1];if(C===0&&j!=null&&e<=(O.coordinate+j.coordinate)/2||C===o-1&&A!=null&&e>(O.coordinate+A.coordinate)/2||C>0&&C<o-1&&A!=null&&j!=null&&e>(O.coordinate+A.coordinate)/2&&e<=(O.coordinate+j.coordinate)/2)return O.index}}return-1},YV=()=>ne(uE),UE=(e,t)=>t,QV=(e,t,r)=>r,BE=(e,t,r,n)=>n,Gre=L(xa,e=>Yg(e,t=>t.coordinate)),WE=L([ku,UE,QV,BE],MV),KE=L([WE,Pu,yf,wf],ME),Yre=(e,t,r)=>{if(t!=null){var n=ku(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},XV=L([ku,UE,QV,BE],VV),Mm=L([ha,pa,Ie,Wt,xa,BE,XV,bf],LV),Qre=L([WE,Mm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),JV=L([xa,KE],OV),Xre=L([XV,KE,ga,yf,JV,bf,UE],FV),Jre=L([WE,KE],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Zre=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&qre(e,o)){var s=TY(e,t),l=GV(s,a,i,r,n),u=Kre(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},ene=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=zX(e,r);if(s){var l=AY(s,t),u=GV(l,o,a,n,i),c=Hre(t,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},tne=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Zre(e,t,n,i,a,o,s):ene(e,t,r,n,i,a,o)},rne=L(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),nne=L(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Lt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:$ee}});function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){ine(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ine(e,t,r){return(t=ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ane(e){var t=one(e,"string");return typeof t=="symbol"?t:t+""}function one(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sne={},lne={zIndexMap:Object.values(Lt).reduce((e,t)=>gC(gC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),sne)},une=new Set(Object.values(Lt));function cne(e){return une.has(e)}var ZV=Jr({name:"zIndex",initialState:lne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:at()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!cne(r)&&delete e.zIndexMap[r])},prepare:at()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:at()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:at()}}}),{registerZIndexPortal:dne,unregisterZIndexPortal:fne,registerZIndexPortalElement:hne,unregisterZIndexPortalElement:pne}=ZV.actions,mne=ZV.reducer;function Zr(e){var{zIndex:t,children:r}=e,n=rQ(),i=n&&t!==void 0&&t!==0,a=Nr(),o=Xe();g.useLayoutEffect(()=>i?(o(dne({zIndex:t})),()=>{o(fne({zIndex:t}))}):Zd,[o,t,i]);var s=ne(l=>rne(l,t,a));return i?s?hg.createPortal(r,s):null:r}function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(null,arguments)}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){gne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t,r){return(t=vne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xne(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function bne(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,h=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var y,b,x;if(c==="ScatterChart")y=d,b=tX,x=Lt.cursorLine;else if(c==="BarChart")y=rX(s,d,a,o),b=BL,x=Lt.cursorRectangle;else if(s==="radial"&&sM(d)){var{cx:v,cy:_,radius:E,startAngle:T,endAngle:I}=KL(d);y={cx:v,cy:_,startAngle:T,endAngle:I,innerRadius:E,outerRadius:E},b=qL,x=Lt.cursorLine}else y={points:KX(s,d,a)},b=Nl,x=Lt.cursorLine;var D=typeof l=="object"&&"className"in l?l.className:void 0,P=Ih(Ih(Ih(Ih({stroke:"#ccc",pointerEvents:"none"},a),y),xs(l)),{},{payload:h,payloadIndex:m,className:Pe("recharts-tooltip-cursor",D)});return g.createElement(Zr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},g.createElement(xne,{cursor:l,cursorComp:b,cursorProps:P}))}function wne(e){var t=zre(),r=TL(),n=Rs(),i=YV();return t==null||r==null||n==null||i==null?null:g.createElement(bne,$b({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var eF=g.createContext(null),_ne=()=>g.useContext(eF),tF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),y=r?r+u:u;return l._events[y]?l._events[y].fn?l._events[y]=[l._events[y],m]:l._events[y].push(m):(l._events[y]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,y=new Array(m);h<m;h++)y[h]=d[h].fn;return y},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,y){var b=r?r+u:u;if(!this._events[b])return!1;var x=this._events[b],v=arguments.length,_,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,h),!0;case 5:return x.fn.call(x.context,c,d,h,m),!0;case 6:return x.fn.call(x.context,c,d,h,m,y),!0}for(E=1,_=new Array(v-1);E<v;E++)_[E-1]=arguments[E];x.fn.apply(x.context,_)}else{var T=x.length,I;for(E=0;E<T;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),v){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,d);break;case 4:x[E].fn.call(x[E].context,c,d,h);break;default:if(!_)for(I=1,_=new Array(v-1);I<v;I++)_[I-1]=arguments[I];x[E].fn.apply(x[E].context,_)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===c&&(!h||y.once)&&(!d||y.context===d)&&o(this,m);else{for(var b=0,x=[],v=y.length;b<v;b++)(y[b].fn!==c||h&&!y[b].once||d&&y[b].context!==d)&&x.push(y[b]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(tF);var Ene=tF.exports;const kne=sa(Ene);var Ad=new kne,zb="recharts.syncEvent.tooltip",yC="recharts.syncEvent.brush";function HE(e,t){if(t){var r=Number.parseInt(t,10);if(!jn(r))return e==null?void 0:e[r]}}var Sne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},rF=Jr({name:"options",initialState:Sne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Pne=rF.reducer,{createEventEmitter:Tne}=rF.actions;function Ane(e){return e.tooltip.syncInteraction}var Ine={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},nF=Jr({name:"chartData",initialState:Ine,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:xC,setDataStartEndIndexes:Cne,setComputedData:lhe}=nF.actions,One=nF.reducer,Nne=["x","y"];function bC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bC(Object(r),!0).forEach(function(n){jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jne(e,t,r){return(t=Dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mne(e,t){if(e==null)return{};var r,n,i=Lne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vne(){var e=ne(cE),t=ne(dE),r=Xe(),n=ne(X4),i=ne(xa),a=Rs(),o=lv(),s=ne(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return Zd;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var h;if(o&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:y,y:b}=m,x=Mne(m,Nne),{x:v,y:_,width:E,height:T}=c.payload.sourceViewBox,I=Ys(Ys({},x),{},{x:o.x+(E?(y-v)/E:0)*o.width,y:o.y+(T?(b-_)/T:0)*o.height});r(Ys(Ys({},c),{},{payload:Ys(Ys({},c.payload),{},{coordinate:I})}))}else r(c);return}if(i!=null){var D;if(typeof n=="function"){var P={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(i,P);D=i[S]}else n==="value"&&(D=i.find(Y=>String(Y.value)===c.payload.label));var{coordinate:C}=c.payload;if(D==null||c.payload.active===!1||C==null||o==null){r(Vb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:j}=C,A=Math.min(O,o.x+o.width),N=Math.min(j,o.y+o.height),V={x:a==="horizontal"?D.coordinate:A,y:a==="horizontal"?N:D.coordinate},U=Vb({active:c.payload.active,coordinate:V,dataKey:c.payload.dataKey,index:String(D.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(U)}}};return Ad.on(zb,l),()=>{Ad.off(zb,l)}},[s,r,t,e,n,i,a,o])}function Fne(){var e=ne(cE),t=ne(dE),r=Xe();g.useEffect(()=>{if(e==null)return Zd;var n=(i,a,o)=>{t!==o&&e===i&&r(Cne(a))};return Ad.on(yC,n),()=>{Ad.off(yC,n)}},[r,t,e])}function $ne(){var e=Xe();g.useEffect(()=>{e(Tne())},[e]),Vne(),Fne()}function zne(e,t,r,n,i,a){var o=ne(m=>Yre(m,e,t)),s=ne(dE),l=ne(cE),u=ne(X4),c=ne(Ane),d=c==null?void 0:c.active,h=lv();g.useEffect(()=>{if(!d&&l!=null&&s!=null){var m=Vb({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Ad.emit(zb,l,m,s)}},[d,r,o,i,n,s,l,u,a,h])}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _C(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){Une(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Une(e,t,r){return(t=Bne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=Wne(e,"string");return typeof t=="symbol"?t:t+""}function Wne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kne(e){return e.dataKey}function Hne(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(DQ,t)}var EC=[],qne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Dl(e){var t,r,n=Ft(e,qne),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:m,reverseDirection:y,useTranslate3d:b,wrapperStyle:x,cursor:v,shared:_,trigger:E,defaultIndex:T,portal:I,axisId:D}=n,P=Xe(),S=typeof T=="number"?String(T):T;g.useEffect(()=>{P(Wte({shared:_,trigger:E,axisId:D,active:i,defaultIndex:S}))},[P,_,E,D,i,S]);var C=lv(),O=VL(),j=Vte(_),{activeIndex:A,isActive:N}=(t=ne(ke=>Jre(ke,j,E,S)))!==null&&t!==void 0?t:{},V=ne(ke=>Xre(ke,j,E,S)),U=ne(ke=>JV(ke,j,E,S)),Y=ne(ke=>Qre(ke,j,E,S)),Q=V,z=_ne(),H=(r=i??N)!==null&&r!==void 0?r:!1,[J,ue]=LM([Q,H]),oe=j==="axis"?U:void 0;zne(j,E,Y,oe,A,H);var we=I??z;if(we==null||C==null||j==null)return null;var Le=Q??EC;H||(Le=EC),u&&Le.length&&(Le=SM(Le.filter(ke=>ke.value!=null&&(ke.hide!==!0||n.includeHidden)),h,Kne));var ct=Le.length>0,bt=g.createElement(zQ,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:H,coordinate:Y,hasPayload:ct,offset:d,position:m,reverseDirection:y,useTranslate3d:b,viewBox:C,wrapperStyle:x,lastBoundingBox:J,innerRef:ue,hasPortalFromProps:!!I},Hne(l,_C(_C({},n),{},{payload:Le,label:oe,active:H,activeIndex:A,coordinate:Y,accessibilityLayer:O})));return g.createElement(g.Fragment,null,hg.createPortal(bt,we),H&&g.createElement(wne,{cursor:v,tooltipEventType:j,coordinate:Y,payload:Le,index:A}))}var Vs=e=>null;Vs.displayName="Cell";function Gne(e,t,r){return(t=Yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yne(e){var t=Qne(e,"string");return typeof t=="symbol"?t:t+""}function Qne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xne{constructor(t){Gne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){Zne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zne(e,t,r){return(t=eie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rie={cacheSize:2e3,enableCache:!0},iF=Jne({},rie),SC=new Xne(iF.cacheSize),nie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PC="recharts_measurement_span";function iie(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var TC=(e,t)=>{try{var r=document.getElementById(PC);r||(r=document.createElement("span"),r.setAttribute("id",PC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,nie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Lc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||sf.isSsr)return{width:0,height:0};if(!iF.enableCache)return TC(t,r);var n=iie(t,r),i=SC.get(n);if(i)return i;var a=TC(t,r);return SC.set(n,a),a},aF;function aie(e,t,r){return(t=oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oie(e){var t=sie(e,"string");return typeof t=="symbol"?t:t+""}function sie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,cie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},die=["cm","mm","pt","pc","in","Q","px"];function fie(e){return die.includes(e)}var ml="NaN";function hie(e,t){return e*cie[t]}class lr{static parse(t){var r,[,n,i]=(r=uie.exec(t))!==null&&r!==void 0?r:[];return n==null?lr.NaN:new lr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,jn(t)&&(this.unit=""),r!==""&&!lie.test(r)&&(this.num=NaN,this.unit=""),fie(r)&&(this.num=hie(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new lr(NaN,""):new lr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new lr(NaN,""):new lr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new lr(NaN,""):new lr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new lr(NaN,""):new lr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return jn(this.num)}}aF=lr;aie(lr,"NaN",new aF(NaN,""));function oF(e){if(e==null||e.includes(ml))return ml;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=AC.exec(t))!==null&&r!==void 0?r:[],o=lr.parse(n??""),s=lr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return ml;t=t.replace(AC,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=IC.exec(t))!==null&&u!==void 0?u:[],m=lr.parse(c??""),y=lr.parse(h??""),b=d==="+"?m.add(y):m.subtract(y);if(b.isNaN())return ml;t=t.replace(IC,b.toString())}return t}var CC=/\(([^()]*)\)/;function pie(e){for(var t=e,r;(r=CC.exec(t))!=null;){var[,n]=r;t=t.replace(CC,oF(n))}return t}function mie(e){var t=e.replace(/\s+/g,"");return t=pie(t),t=oF(t),t}function gie(e){try{return mie(e)}catch{return ml}}function p0(e){var t=gie(e.slice(5,-1));return t===ml?"":t}var vie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],yie=["dx","dy","angle","className","breakAll"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(null,arguments)}function OC(e,t){if(e==null)return{};var r,n,i=xie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sF=/[ \f\n\r\t\v\u2028\u2029]+/,lF=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];mt(t)||(r?i=t.toString().split(""):i=t.toString().split(sF));var a=i.map(s=>({word:s,width:Lc(s,n).width})),o=r?0:Lc("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function bie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var uF=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var u={words:[o],width:s};i.push(u)}return i},[]),cF=e=>e.reduce((t,r)=>t.width>r.width?t:r),wie="",NC=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),u=lF({breakAll:r,style:n,children:l+wie});if(!u)return[!1,[]];var c=uF(u.wordsWithComputedWidth,a,o,s),d=c.length>i||cF(c).width>Number(a);return[d,c]},_ie=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=Z(a),c=String(o),d=uF(t,n,r,i);if(!u||i)return d;var h=d.length>a||cF(d).width>Number(n);if(!h)return d;for(var m=0,y=c.length-1,b=0,x;m<=y&&b<=c.length-1;){var v=Math.floor((m+y)/2),_=v-1,[E,T]=NC(c,_,l,s,a,n,r,i),[I]=NC(c,v,l,s,a,n,r,i);if(!E&&!I&&(m=v+1),E&&I&&(y=v-1),!E&&I){x=T;break}b++}return x||d},jC=e=>{var t=mt(e)?[]:e.toString().split(sF);return[{words:t,width:void 0}]},Eie=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!sf.isSsr){var s,l,u=lF({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return jC(n);return _ie({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return jC(n)},dF="#808080",kie={angle:0,breakAll:!1,capHeight:"0.71em",fill:dF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Nv=g.forwardRef((e,t)=>{var r=Ft(e,kie),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=OC(r,vie),h=g.useMemo(()=>Eie({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:y,angle:b,className:x,breakAll:v}=d,_=OC(d,yie);if(!bi(n)||!bi(i)||h.length===0)return null;var E=Number(n)+(Z(m)?m:0),T=Number(i)+(Z(y)?y:0);if(!qe(E)||!qe(T))return null;var I;switch(c){case"start":I=p0("calc(".concat(o,")"));break;case"middle":I=p0("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:I=p0("calc(".concat(h.length-1," * -").concat(a,")"));break}var D=[];if(l){var P=h[0].width,{width:S}=d;D.push("scale(".concat(Z(S)&&Z(P)?S/P:1,")"))}return b&&D.push("rotate(".concat(b,", ").concat(E,", ").concat(T,")")),D.length&&(_.transform=D.join(" ")),g.createElement("text",Ub({},Fr(_),{ref:t,x:E,y:T,className:Pe("recharts-text",x),textAnchor:u,fill:s.includes("url")?dF:s}),h.map((C,O)=>{var j=C.words.join(v?"":" ");return g.createElement("tspan",{x:E,dy:O===0?I:a,key:"".concat(j,"-").concat(O)},j)}))});Nv.displayName="Text";var Sie=["labelRef"],Pie=["content"];function DC(e,t){if(e==null)return{};var r,n,i=Tie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(r),!0).forEach(function(n){Aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aie(e,t,r){return(t=Iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iie(e){var t=Cie(e,"string");return typeof t=="symbol"?t:t+""}function Cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ji(){return ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ji.apply(null,arguments)}var fF=g.createContext(null),Oie=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return g.createElement(fF.Provider,{value:l},s)},hF=()=>{var e=g.useContext(fF),t=lv();return e||PL(t)},Nie=g.createContext(null),jie=()=>{var e=g.useContext(Nie),t=ne(rV);return e||t},Die=e=>{var{value:t,formatter:r}=e,n=mt(e.children)?t:e.children;return typeof r=="function"?r(n):n},qE=e=>e!=null&&typeof e=="function",Rie=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Mie=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:m}=i,y=(u+c)/2,b=Rie(d,h),x=b>=0?1:-1,v,_;switch(t){case"insideStart":v=d+x*a,_=m;break;case"insideEnd":v=h-x*a,_=!m;break;case"end":v=h+x*a,_=m;break;default:throw new Error("Unsupported position ".concat(t))}_=b<=0?_:!_;var E=Mt(s,l,y,v),T=Mt(s,l,y,v+(_?1:-1)*359),I="M".concat(E.x,",").concat(E.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(T.x,",").concat(T.y),D=mt(e.id)?md("recharts-radial-line-"):e.id;return g.createElement("text",ji({},n,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:D,d:I})),g.createElement("textPath",{xlinkHref:"#".concat(D)},r))},Lie=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:d}=Mt(n,i,o+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:m,y}=Mt(n,i,h,u);return{x:m,y,textAnchor:"middle",verticalAnchor:"middle"}},Bb=e=>"cx"in e&&Z(e.cx),Vie=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Bb(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=o,h=o+(l-u)/2,m=(d+h)/2,y=(l+u)/2,b=d+l/2,x=c>=0?1:-1,v=x*n,_=x>0?"end":"start",E=x>0?"start":"end",T=l>=0?1:-1,I=T*n,D=T>0?"end":"start",P=T>0?"start":"end";if(i==="top"){var S={x:d+l/2,y:s-v,textAnchor:"middle",verticalAnchor:_};return Tt(Tt({},S),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var C={x:h+u/2,y:s+c+v,textAnchor:"middle",verticalAnchor:E};return Tt(Tt({},C),a?{height:Math.max(a.y+a.height-(s+c),0),width:u}:{})}if(i==="left"){var O={x:m-I,y:s+c/2,textAnchor:D,verticalAnchor:"middle"};return Tt(Tt({},O),a?{width:Math.max(O.x-a.x,0),height:c}:{})}if(i==="right"){var j={x:m+y+I,y:s+c/2,textAnchor:P,verticalAnchor:"middle"};return Tt(Tt({},j),a?{width:Math.max(a.x+a.width-j.x,0),height:c}:{})}var A=a?{width:y,height:c}:{};return i==="insideLeft"?Tt({x:m+I,y:s+c/2,textAnchor:P,verticalAnchor:"middle"},A):i==="insideRight"?Tt({x:m+y-I,y:s+c/2,textAnchor:D,verticalAnchor:"middle"},A):i==="insideTop"?Tt({x:d+l/2,y:s+v,textAnchor:"middle",verticalAnchor:E},A):i==="insideBottom"?Tt({x:h+u/2,y:s+c-v,textAnchor:"middle",verticalAnchor:_},A):i==="insideTopLeft"?Tt({x:d+I,y:s+v,textAnchor:P,verticalAnchor:E},A):i==="insideTopRight"?Tt({x:d+l-I,y:s+v,textAnchor:D,verticalAnchor:E},A):i==="insideBottomLeft"?Tt({x:h+I,y:s+c-v,textAnchor:P,verticalAnchor:_},A):i==="insideBottomRight"?Tt({x:h+u-I,y:s+c-v,textAnchor:D,verticalAnchor:_},A):i&&typeof i=="object"&&(Z(i.x)||ea(i.x))&&(Z(i.y)||ea(i.y))?Tt({x:o+Ir(i.x,y),y:s+Ir(i.y,c),textAnchor:"end",verticalAnchor:"end"},A):Tt({x:b,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Fie={angle:0,offset:5,zIndex:Lt.label,position:"middle",textBreakAll:!1};function Ia(e){var t=Ft(e,Fie),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=jie(),d=hF(),h=n==="center"?d:c??d,m,y,b;if(r==null?m=h:Bb(r)?m=r:m=PL(r),!m||mt(i)&&mt(a)&&!g.isValidElement(o)&&typeof o!="function")return null;var x=Tt(Tt({},t),{},{viewBox:m});if(g.isValidElement(o)){var{labelRef:v}=x,_=DC(x,Sie);return g.cloneElement(o,_)}if(typeof o=="function"){var{content:E}=x,T=DC(x,Pie);if(y=g.createElement(o,T),g.isValidElement(y))return y}else y=Die(t);var I=Fr(t);if(Bb(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Mie(t,n,y,I,m);b=Lie(m,t.offset,t.position)}else b=Vie(t,m);return g.createElement(Zr,{zIndex:t.zIndex},g.createElement(Nv,ji({ref:u,className:Pe("recharts-label",s)},I,b,{textAnchor:bie(I.textAnchor)?I.textAnchor:b.textAnchor,breakAll:l}),y))}Ia.displayName="Label";var $ie=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Ia,ji({key:"label-implicit"},n)):bi(e)?g.createElement(Ia,ji({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Ia?g.cloneElement(e,Tt({key:"label-implicit"},n)):g.createElement(Ia,ji({key:"label-implicit",content:e},n)):qE(e)?g.createElement(Ia,ji({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Ia,ji({},e,{key:"label-implicit"},n)):null};function zie(e){var{label:t,labelRef:r}=e,n=hF();return $ie(t,n,r)||null}var pF={},mF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(mF);var gF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(gF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mF,r=gF,n=qg;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(pF);var Uie=pF.last;const Bie=sa(Uie);var Wie=["valueAccessor"],Kie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Lm(){return Lm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lm.apply(null,arguments)}function MC(e,t){if(e==null)return{};var r,n,i=Hie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qie=e=>Array.isArray(e.value)?Bie(e.value):e.value,vF=g.createContext(void 0),yF=vF.Provider,xF=g.createContext(void 0),Gie=xF.Provider;function Yie(){return g.useContext(vF)}function Qie(){return g.useContext(xF)}function sp(e){var{valueAccessor:t=qie}=e,r=MC(e,Wie),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=MC(r,Kie),u=Yie(),c=Qie(),d=u||c;return!d||!d.length?null:g.createElement(Zr,{zIndex:s??Lt.label},g.createElement(Ct,{className:"recharts-label-list"},d.map((h,m)=>{var y,b=mt(n)?t(h,m):We(h&&h.payload,n),x=mt(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Ia,Lm({key:"label-".concat(m)},Fr(h),l,x,{fill:(y=r.fill)!==null&&y!==void 0?y:h.fill,parentViewBox:h.parentViewBox,value:b,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}sp.displayName="LabelList";function GE(e){var{label:t}=e;return t?t===!0?g.createElement(sp,{key:"labelList-implicit"}):g.isValidElement(t)||qE(t)?g.createElement(sp,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(sp,Lm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}var bF=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Pe("recharts-dot",i);return Z(t)&&Z(r)&&Z(n)?g.createElement("circle",Wb({},Xr(e),c1(e),{className:a,cx:t,cy:r,r:n})):null},wF=e=>e.graphicalItems.polarItems,Xie=L([lt,mf],gE),jv=L([wF,xt,Xie],vE),Jie=L([jv],yE),Dv=L([Jie,xv],xE),Zie=L([Dv,xt,jv],wE);L([Dv,xt,jv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=We(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:We(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var LC=()=>{},eae=L([Dv,xt,jv,Av,lt],SE),tae=L([xt,EE,kE,LC,eae,LC,Ie,lt],PE),_F=L([xt,Ie,Dv,Zie,pf,lt,tae],TE),rae=L([_F,xt,Eu],CE);L([xt,_F,rae,lt],NE);var nae={radiusAxis:{},angleAxis:{}},EF=Jr({name:"polarAxis",initialState:nae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uhe,removeRadiusAxis:che,addAngleAxis:dhe,removeAngleAxis:fhe}=EF.actions,iae=EF.reducer;function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aae(e,t,r){return(t=oae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oae(e){var t=sae(e,"string");return typeof t=="symbol"?t:t+""}function sae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lae=(e,t)=>t,YE=L([wF,lae],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),uae=[],QE=(e,t,r)=>(r==null?void 0:r.length)===0?uae:r,kF=L([xv,YE,QE],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>FC(FC({},t.presentationProps),a.props))),i!=null)return i}}),cae=L([kF,YE,QE],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=We(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:vu(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),dae=L([kF,YE,QE,Wt],(e,t,r,n)=>{if(!(t==null||e==null))return doe({offset:n,pieSettings:t,displayedData:e,cells:r})}),SF={exports:{}},Ge={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE=Symbol.for("react.transitional.element"),JE=Symbol.for("react.portal"),Rv=Symbol.for("react.fragment"),Mv=Symbol.for("react.strict_mode"),Lv=Symbol.for("react.profiler"),Vv=Symbol.for("react.consumer"),Fv=Symbol.for("react.context"),$v=Symbol.for("react.forward_ref"),zv=Symbol.for("react.suspense"),Uv=Symbol.for("react.suspense_list"),Bv=Symbol.for("react.memo"),Wv=Symbol.for("react.lazy"),fae=Symbol.for("react.view_transition"),hae=Symbol.for("react.client.reference");function Ln(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case XE:switch(e=e.type,e){case Rv:case Lv:case Mv:case zv:case Uv:case fae:return e;default:switch(e=e&&e.$$typeof,e){case Fv:case $v:case Wv:case Bv:return e;case Vv:return e;default:return t}}case JE:return t}}}Ge.ContextConsumer=Vv;Ge.ContextProvider=Fv;Ge.Element=XE;Ge.ForwardRef=$v;Ge.Fragment=Rv;Ge.Lazy=Wv;Ge.Memo=Bv;Ge.Portal=JE;Ge.Profiler=Lv;Ge.StrictMode=Mv;Ge.Suspense=zv;Ge.SuspenseList=Uv;Ge.isContextConsumer=function(e){return Ln(e)===Vv};Ge.isContextProvider=function(e){return Ln(e)===Fv};Ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XE};Ge.isForwardRef=function(e){return Ln(e)===$v};Ge.isFragment=function(e){return Ln(e)===Rv};Ge.isLazy=function(e){return Ln(e)===Wv};Ge.isMemo=function(e){return Ln(e)===Bv};Ge.isPortal=function(e){return Ln(e)===JE};Ge.isProfiler=function(e){return Ln(e)===Lv};Ge.isStrictMode=function(e){return Ln(e)===Mv};Ge.isSuspense=function(e){return Ln(e)===zv};Ge.isSuspenseList=function(e){return Ln(e)===Uv};Ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Rv||e===Lv||e===Mv||e===zv||e===Uv||typeof e=="object"&&e!==null&&(e.$$typeof===Wv||e.$$typeof===Bv||e.$$typeof===Fv||e.$$typeof===Vv||e.$$typeof===$v||e.$$typeof===hae||e.getModuleId!==void 0)};Ge.typeOf=Ln;SF.exports=Ge;var pae=SF.exports,$C=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",zC=null,m0=null,PF=e=>{if(e===zC&&Array.isArray(m0))return m0;var t=[];return g.Children.forEach(e,r=>{mt(r)||(pae.isFragment(r)?t=t.concat(PF(r.props.children)):t.push(r))}),m0=t,zC=e,t};function ZE(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>$C(i)):n=[$C(t)],PF(e).forEach(i=>{var a=ws(i,"type.displayName")||ws(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var TF=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,AF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(AF);var mae=AF.isPlainObject;const gae=sa(mae);var UC,BC,WC,KC,HC;function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){vae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vae(e,t,r){return(t=yae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yae(e){var t=xae(e,"string");return typeof t=="symbol"?t:t+""}function xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vm.apply(null,arguments)}function sc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var YC=(e,t,r,n,i)=>{var a=r-n,o;return o=Et(UC||(UC=sc(["M ",",",""])),e,t),o+=Et(BC||(BC=sc(["L ",",",""])),e+r,t),o+=Et(WC||(WC=sc(["L ",",",""])),e+r-a/2,t+i),o+=Et(KC||(KC=sc(["L ",",",""])),e+r-a/2-n,t+i),o+=Et(HC||(HC=sc(["L ",","," Z"])),e,t),o},bae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wae=e=>{var t=Ft(e,bae),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=g.useRef(null),[m,y]=g.useState(-1),b=g.useRef(i),x=g.useRef(a),v=g.useRef(o),_=g.useRef(r),E=g.useRef(n),T=uf(e,"trapezoid-");if(g.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var V=h.current.getTotalLength();V&&y(V)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var I=Pe("recharts-trapezoid",s);if(!d)return g.createElement("g",null,g.createElement("path",Vm({},Fr(t),{className:I,d:YC(r,n,i,a,o)})));var D=b.current,P=x.current,S=v.current,C=_.current,O=E.current,j="0px ".concat(m===-1?1:m,"px"),A="".concat(m,"px 0px"),N=FL(["strokeDasharray"],u,l);return g.createElement(lf,{animationId:T,key:T,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},V=>{var U=tt(D,i,V),Y=tt(P,a,V),Q=tt(S,o,V),z=tt(C,r,V),H=tt(O,n,V);h.current&&(b.current=U,x.current=Y,v.current=Q,_.current=z,E.current=H);var J=V>0?{transition:N,strokeDasharray:A}:{strokeDasharray:j};return g.createElement("path",Vm({},Fr(t),{className:I,d:YC(z,H,U,Y,Q),ref:h,style:GC(GC({},J),t.style)}))})},_ae=["option","shapeType","activeClassName"];function Eae(e,t){if(e==null)return{};var r,n,i=kae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){Sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sae(e,t,r){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aae(e,t){return Fm(Fm({},t),e)}function Iae(e,t){return e==="symbols"}function XC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(BL,r);case"trapezoid":return g.createElement(wae,r);case"sector":return g.createElement(qL,r);case"symbols":if(Iae(t))return g.createElement(u1,r);break;case"curve":return g.createElement(Nl,r);default:return null}}function Cae(e){return g.isValidElement(e)?e.props:e}function IF(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=Eae(e,_ae),a;if(g.isValidElement(t))a=g.cloneElement(t,Fm(Fm({},i),Cae(t)));else if(typeof t=="function")a=t(i,i.index);else if(gae(t)&&typeof t!="boolean"){var o=Aae(t,i);a=g.createElement(XC,{shapeType:r,elementProps:o})}else{var s=i;a=g.createElement(XC,{shapeType:r,elementProps:s})}return i.isActive?g.createElement(Ct,{className:n},a):a}var ek=(e,t,r)=>{var n=Xe();return(i,a)=>o=>{e==null||e(i,a,o),n(jV({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},tk=e=>{var t=Xe();return(r,n)=>i=>{e==null||e(r,n,i),t(Kte())}},rk=(e,t,r)=>{var n=Xe();return(i,a)=>o=>{e==null||e(i,a,o),n(Hte({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function nk(e){var{tooltipEntrySettings:t}=e,r=Xe(),n=Nr(),i=g.useRef(null);return g.useLayoutEffect(()=>{n||(i.current===null?r(zte(t)):i.current!==t&&r(Ute({prev:i.current,next:t})),i.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{i.current&&(r(Bte(i.current)),i.current=null)},[r]),null}function CF(e){var{legendPayload:t}=e,r=Xe(),n=Nr(),i=g.useRef(null);return g.useLayoutEffect(()=>{n||(i.current===null?r(RL(t)):i.current!==t&&r(ML({prev:i.current,next:t})),i.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{i.current&&(r(LL(i.current)),i.current=null)},[r]),null}function Oae(e){var{legendPayload:t}=e,r=Xe(),n=ne(Ie),i=g.useRef(null);return g.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(RL(t)):i.current!==t&&r(ML({prev:i.current,next:t})),i.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{i.current&&(r(LL(i.current)),i.current=null)},[r]),null}var g0,Nae=()=>{var[e]=g.useState(()=>md("uid-"));return e},jae=(g0=ZO.useId)!==null&&g0!==void 0?g0:Nae;function Dae(e,t){var r=jae();return t||(e?"".concat(e,"-").concat(r):r)}var Rae=g.createContext(void 0),ik=e=>{var{id:t,type:r,children:n}=e,i=Dae("recharts-".concat(r),t);return g.createElement(Rae.Provider,{value:i},n(i))},Mae={cartesianItems:[],polarItems:[]},OF=Jr({name:"graphicalItems",initialState:Mae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:at()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Yn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:at()},removeCartesianGraphicalItem:{reducer(e,t){var r=Yn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:at()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:at()},removePolarGraphicalItem:{reducer(e,t){var r=Yn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:at()}}}),{addCartesianGraphicalItem:Lae,replaceCartesianGraphicalItem:Vae,removeCartesianGraphicalItem:Fae,addPolarGraphicalItem:$ae,removePolarGraphicalItem:zae}=OF.actions,Uae=OF.reducer,Bae=e=>{var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Lae(e)):r.current!==e&&t(Vae({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(Fae(r.current)),r.current=null)},[t]),null},NF=g.memo(Bae);function Wae(e){var t=Xe();return g.useLayoutEffect(()=>(t($ae(e)),()=>{t(zae(e))}),[t,e]),null}var Kae=["key"],Hae=["onMouseEnter","onClick","onMouseLeave"],qae=["id"],Gae=["id"];function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){Yae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yae(e,t,r){return(t=Qae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},go.apply(null,arguments)}function Kv(e,t){if(e==null)return{};var r,n,i=Jae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zae(e){var t=g.useMemo(()=>ZE(e.children,Vs),[e.children]),r=ne(n=>cae(n,e.id,t));return r==null?null:g.createElement(Oae,{legendPayload:r})}var eoe=g.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:vu(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:c}};return g.createElement(nk,{tooltipEntrySettings:d})}),toe=(e,t)=>e>t?"start":e<t?"end":"middle",roe=(e,t,r)=>Ir(typeof t=="function"?t(e):t,r,r*.8),noe=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=WL(a,o),l=i+Ir(e.cx,a,a/2),u=n+Ir(e.cy,o,o/2),c=Ir(e.innerRadius,s,0),d=roe(r,e.outerRadius,s),h=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:h}},ioe=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function aoe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ooe=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Pe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Kv(t,Kae);return g.createElement(Nl,go({},i,{type:"linear",className:r}))},soe=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var i=Pe("recharts-pie-label-text",aoe(e));return g.createElement(Nv,go({},t,{alignmentBaseline:"middle",className:i}),n)};function loe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=Xr(r),l=xs(i),u=xs(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((h,m)=>{var y=(h.startAngle+h.endAngle)/2,b=Mt(h.cx,h.cy,h.outerRadius+c,y),x=St(St(St(St({},s),h),{},{stroke:"none"},l),{},{index:m,textAnchor:toe(b.x,h.cx)},b),v=St(St(St(St({},s),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Mt(h.cx,h.cy,h.outerRadius,y),b],key:"line"});return g.createElement(Zr,{zIndex:Lt.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},g.createElement(Ct,null,a&&ooe(a,v),soe(i,x,We(h,o))))});return g.createElement(Ct,{className:"recharts-pie-labels"},d)}function uoe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(GE,{label:i}):g.createElement(loe,{sectors:t,props:r,showLabels:n})}function coe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,s=ne(mo),l=ne(zE),u=ne(Ore),{onMouseEnter:c,onClick:d,onMouseLeave:h}=i,m=Kv(i,Hae),y=ek(c,i.dataKey,o),b=tk(h),x=rk(d,i.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((v,_)=>{if((v==null?void 0:v.startAngle)===0&&(v==null?void 0:v.endAngle)===0&&t.length!==1)return null;var E=u==null||u===o,T=String(_)===s&&(l==null||i.dataKey===l)&&E,I=s?n:null,D=r&&T?r:I,P=St(St({},v),{},{stroke:v.stroke,tabIndex:-1,[yL]:_,[xL]:o});return g.createElement(Ct,go({key:"sector-".concat(v==null?void 0:v.startAngle,"-").concat(v==null?void 0:v.endAngle,"-").concat(v.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},ef(m,v,_),{onMouseEnter:y(v,_),onMouseLeave:b(v,_),onClick:x(v,_)}),g.createElement(IF,go({option:a??D,index:_,shapeType:"sector",isActive:T},P)))}))}function doe(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,h=Math.abs(r.minAngle),m=ioe(s,l),y=Math.abs(m),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(D=>We(D,u,0)!==0).length,v=(y>=360?x:x-1)*b,_=y-x*h-v,E=n.reduce((D,P)=>{var S=We(P,u,0);return D+(Z(S)?S:0)},0),T;if(E>0){var I;T=n.map((D,P)=>{var S=We(D,u,0),C=We(D,c,P),O=noe(r,a,D),j=(Z(S)?S:0)/E,A,N=St(St({},D),i&&i[P]&&i[P].props);P?A=I.endAngle+tr(m)*b*(S!==0?1:0):A=s;var V=A+tr(m)*((S!==0?h:0)+j*_),U=(A+V)/2,Y=(O.innerRadius+O.outerRadius)/2,Q=[{name:C,value:S,payload:N,dataKey:u,type:d,graphicalItemId:r.id}],z=Mt(O.cx,O.cy,Y,U);return I=St(St(St(St({},r.presentationProps),{},{percent:j,cornerRadius:typeof o=="string"?parseFloat(o):o,name:C,tooltipPayload:Q,midAngle:U,middleRadius:Y,tooltipPosition:z},N),O),{},{value:S,dataKey:u,startAngle:A,endAngle:V,payload:N,paddingAngle:tr(m)*b}),I})}return T}function foe(e){var{showLabels:t,sectors:r,children:n}=e,i=g.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return g.createElement(Gie,{value:t?i:void 0},n)}function hoe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=t,m=uf(t,"recharts-pie-"),y=r.current,[b,x]=g.useState(!1),v=g.useCallback(()=>{typeof h=="function"&&h(),x(!1)},[h]),_=g.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return g.createElement(foe,{showLabels:!b,sectors:i},g.createElement(lf,{animationId:m,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:_,onAnimationEnd:v,key:m},E=>{var T=[],I=i&&i[0],D=I==null?void 0:I.startAngle;return i==null||i.forEach((P,S)=>{var C=y&&y[S],O=S>0?ws(P,"paddingAngle",0):0;if(C){var j=tt(C.endAngle-C.startAngle,P.endAngle-P.startAngle,E),A=St(St({},P),{},{startAngle:D+O,endAngle:D+j+O});T.push(A),D=A.endAngle}else{var{endAngle:N,startAngle:V}=P,U=tt(0,N-V,E),Y=St(St({},P),{},{startAngle:D+O,endAngle:D+U+O});T.push(Y),D=Y.endAngle}}),r.current=T,g.createElement(Ct,null,g.createElement(coe,{sectors:T,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),g.createElement(uoe,{showLabels:!b,sectors:i,props:t}),t.children)}var poe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Lt.area};function moe(e){var{id:t}=e,r=Kv(e,qae),{hide:n,className:i,rootTabIndex:a}=e,o=g.useMemo(()=>ZE(e.children,Vs),[e.children]),s=ne(c=>dae(c,t,o)),l=g.useRef(null),u=Pe("recharts-pie",i);return n||s==null?(l.current=null,g.createElement(Ct,{tabIndex:a,className:u})):g.createElement(Zr,{zIndex:e.zIndex},g.createElement(eoe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Ct,{tabIndex:a,className:u},g.createElement(hoe,{props:St(St({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function Hv(e){var t=Ft(e,poe),{id:r}=t,n=Kv(t,Gae),i=Xr(n);return g.createElement(ik,{id:r,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(Wae,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),g.createElement(Zae,go({},n,{id:a})),g.createElement(moe,go({},n,{id:a}))))}Hv.displayName="Pie";var goe=["points"];function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function v0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){voe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function voe(e,t,r){return(t=yoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yoe(e){var t=xoe(e,"string");return typeof t=="symbol"?t:t+""}function xoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $m(){return $m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$m.apply(null,arguments)}function boe(e,t){if(e==null)return{};var r,n,i=woe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function woe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _oe(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Pe(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,s=boe(a,goe);return g.createElement(bF,$m({},s,{className:i}))}function Eoe(e,t){return e==null?!1:t?!0:e.length===1}function koe(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:u=Lt.scatter}=e;if(!Eoe(t,r))return null;var c=TF(r),d=mH(r),h=t.map((y,b)=>{var x,v,_=v0(v0(v0({r:3},o),d),{},{index:b,cx:(x=y.x)!==null&&x!==void 0?x:void 0,cy:(v=y.y)!==null&&v!==void 0?v:void 0,dataKey:a,value:y.value,payload:y.payload,points:t});return g.createElement(_oe,{key:"dot-".concat(b),option:r,dotProps:_,className:i})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),g.createElement(Zr,{zIndex:u},g.createElement(Ct,$m({className:n},m),h))}function eO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(r),!0).forEach(function(n){Soe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Soe(e,t,r){return(t=Poe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Poe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jF=0,Aoe={xAxis:{},yAxis:{},zAxis:{}},DF=Jr({name:"cartesianAxis",initialState:Aoe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:at()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:at()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:at()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:at()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:at()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:at()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:at()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:at()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:at()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=tO(tO({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:Ioe,replaceXAxis:Coe,removeXAxis:Ooe,addYAxis:Noe,replaceYAxis:joe,removeYAxis:Doe,addZAxis:hhe,replaceZAxis:phe,removeZAxis:mhe,updateYAxisWidth:Roe}=DF.actions,Moe=DF.reducer,Loe=L([Wt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Voe=L([Loe,ha,pa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),ak=()=>ne(Voe),Foe=()=>ne(Mre);function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function y0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){$oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $oe(e,t,r){return(t=zoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zoe(e){var t=Uoe(e,"string");return typeof t=="symbol"?t:t+""}function Uoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Boe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=y0(y0(y0({},s),xs(i)),c1(i)),u;return g.isValidElement(i)?u=g.cloneElement(i,l):typeof i=="function"?u=i(l):u=g.createElement(bF,l),g.createElement(Ct,{className:"recharts-active-dot",clipPath:o},u)};function nO(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=Lt.activeDot}=e,s=ne(mo),l=Foe();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return mt(u)?null:g.createElement(Zr,{zIndex:o},g.createElement(Boe,{point:u,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var iO=(e,t,r)=>{var n=r??e;if(!mt(n))return Ir(n,t,0)},Woe=(e,t,r)=>{var n={},i=e.filter(Ev),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,h=d.map(y=>y.dataKey),m=iO(t,r,d[0].barSize);return{stackId:c,dataKeys:h,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(h=>h!=null),d=iO(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]};function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){Koe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Koe(e,t,r){return(t=Hoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hoe(e){var t=qoe(e,"string");return typeof t=="symbol"?t:t+""}function qoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Goe(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Ir(e,r,0,!0),s,l=[];if(qe(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((v,_)=>v+(_.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var h=(r-d)/2>>0,m={offset:h-o,size:0};s=n.reduce((v,_)=>{var E,T={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:m.offset+m.size+o,size:u?c:(E=_.barSize)!==null&&E!==void 0?E:0}},I=[...v,T];return m=I[I.length-1].position,I},l)}else{var y=Ir(t,r,0,!0);r-2*y-(a-1)*o<=0&&(o=0);var b=(r-2*y-(a-1)*o)/a;b>1&&(b>>=0);var x=qe(i)?Math.min(b,i):b;s=n.reduce((v,_,E)=>[...v,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y+(b+o)*E+(b-x)/2,size:x}}],l)}return s}}var Yoe=(e,t,r,n,i,a,o)=>{var s=mt(o)?t:o,l=Goe(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>Ch(Ch({},u),{},{position:Ch(Ch({},u.position),{},{offset:u.position.offset-i/2})}))),l},Qoe=(e,t)=>{var r=_v(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}};function Xoe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&qe(e.zIndex)?e.zIndex:t}var RF=e=>{var{chartData:t}=e,r=Xe(),n=Nr();return g.useEffect(()=>n?()=>{}:(r(xC(t)),()=>{r(xC(void 0))}),[t,r,n]),null},oO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},MF=Jr({name:"brush",initialState:oO,reducers:{setBrushSettings(e,t){return t.payload==null?oO:t.payload}}}),{setBrushSettings:ghe}=MF.actions,Joe=MF.reducer;function Zoe(e,t,r){return(t=ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ese(e){var t=tse(e,"string");return typeof t=="symbol"?t:t+""}function tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ok{static create(t){return new ok(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Zoe(ok,"EPS",1e-4);function rse(e){return(e%180+180)%180}var nse=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=rse(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},ise={dots:[],areas:[],lines:[]},LF=Jr({name:"referenceElements",initialState:ise,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Yn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Yn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Yn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:vhe,removeDot:yhe,addArea:xhe,removeArea:bhe,addLine:whe,removeLine:_he}=LF.actions,ase=LF.reducer,ose=g.createContext(void 0),sse=e=>{var{children:t}=e,[r]=g.useState("".concat(md("recharts"),"-clip")),n=ak();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return g.createElement(ose.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function VF(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function lse(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return nse(n,r)}function use(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Id(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function cse(e,t){return VF(e,t+1)}function dse(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var y=n==null?void 0:n[l];if(y===void 0)return{v:VF(n,u)};var b=l,x,v=()=>(x===void 0&&(x=r(y,b)),x),_=y.coordinate,E=l===0||Id(e,_,v,c,s);E||(l=0,c=o,u+=1),E&&(c=_+e*(v()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function fse(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var c=(o-1)%u,d=s,h=!0,m=function(){var _=n[y],E=y,T,I=()=>(T===void 0&&(T=r(_,E)),T),D=_.coordinate,P=y===c||Id(e,D,I,d,l);if(!P)return h=!1,1;P&&(d=D+e*(I()/2+i))},y=c;y<o&&!m();y+=u);if(h){for(var b=[],x=c;x<o;x+=u)b.push(n[x]);return b}}return[]}function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){hse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hse(e,t,r){return(t=pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gse(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(h){var m=a[h],y,b=()=>(y===void 0&&(y=r(m,h)),y);if(h===o-1){var x=e*(m.coordinate+e*b()/2-l);a[h]=m=_r(_r({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else a[h]=m=_r(_r({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Id(e,m.tickCoord,b,s,l);v&&(l=m.tickCoord-e*(b()/2+i),a[h]=_r(_r({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function vse(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),h=e*(c.coordinate+e*d/2-u);if(o[s-1]=c=_r(_r({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var m=Id(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),o[s-1]=_r(_r({},c),{},{isShow:!0}))}}for(var y=a?s-1:s,b=function(_){var E=o[_],T,I=()=>(T===void 0&&(T=r(E,_)),T);if(_===0){var D=e*(E.coordinate-e*I()/2-l);o[_]=E=_r(_r({},E),{},{tickCoord:D<0?E.coordinate-D*e:E.coordinate})}else o[_]=E=_r(_r({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var P=Id(e,E.tickCoord,I,l,u);P&&(l=E.tickCoord+e*(I()/2+i),o[_]=_r(_r({},E),{},{isShow:!0}))}},x=0;x<y;x++)b(x);return o}function sk(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(Z(l)||sf.isSsr){var h;return(h=cse(i,Z(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],y=s==="top"||s==="bottom"?"width":"height",b=c&&y==="width"?Lc(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(E,T)=>{var I=typeof u=="function"?u(E.value,T):E.value;return y==="width"?lse(Lc(I,{fontSize:t,letterSpacing:r}),b,d):Lc(I,{fontSize:t,letterSpacing:r})[y]},v=i.length>=2?tr(i[1].coordinate-i[0].coordinate):1,_=use(a,v,y);return l==="equidistantPreserveStart"?dse(v,_,x,i,o):l==="equidistantPreserveEnd"?fse(v,_,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=vse(v,_,x,i,o,l==="preserveStartEnd"):m=gse(v,_,x,i,o),m.filter(E=>E.isShow))}var yse=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},xse=["axisLine","width","height","className","hide","ticks","axisType"];function bse(e,t){if(e==null)return{};var r,n,i=wse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){_se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _se(e,t,r){return(t=Ese(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ese(e){var t=kse(e,"string");return typeof t=="symbol"?t:t+""}function kse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ki={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Lt.axis};function Sse(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=jt(jt(jt({},l),Xr(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=jt(jt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=jt(jt({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return g.createElement("line",Ps({},u,{className:Pe("recharts-cartesian-axis-line",ws(s,"className"))}))}function Pse(e,t,r,n,i,a,o,s,l){var u,c,d,h,m,y,b=s?-1:1,x=e.tickSize||o,v=Z(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=r+ +!s*i,d=h-b*x,y=d-b*l,m=v;break;case"left":d=h=e.coordinate,c=t+ +!s*n,u=c-b*x,m=u-b*l,y=v;break;case"right":d=h=e.coordinate,c=t+ +s*n,u=c+b*x,m=u+b*l,y=v;break;default:u=c=e.coordinate,h=r+ +s*i,d=h+b*x,y=d+b*l,m=v;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:m,y}}}function Tse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ase(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Ise(e){var{option:t,tickProps:r,value:n}=e,i,a=Pe(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,jt(jt({},r),{},{className:a}));else if(typeof t=="function")i=t(jt(jt({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pe(o,t==null?void 0:t.className)),i=g.createElement(Nv,Ps({},r,{className:o}),n)}return i}var Cse=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:m,width:y,height:b,tickSize:x,tickMargin:v,fontSize:_,letterSpacing:E,getTicksConfig:T,events:I,axisType:D}=e,P=sk(jt(jt({},T),{},{ticks:r}),_,E),S=Tse(c,d),C=Ase(c,d),O=Xr(T),j=xs(n),A={};typeof i=="object"&&(A=i);var N=jt(jt({},O),{},{fill:"none"},A),V=P.map(Q=>jt({entry:Q},Pse(Q,h,m,y,b,c,x,d,v))),U=V.map(Q=>{var{entry:z,line:H}=Q;return g.createElement(Ct,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&g.createElement("line",Ps({},N,H,{className:Pe("recharts-cartesian-axis-tick-line",ws(i,"className"))})))}),Y=V.map((Q,z)=>{var{entry:H,tick:J}=Q,ue=jt(jt(jt(jt({textAnchor:S,verticalAnchor:C},O),{},{stroke:"none",fill:a},j),J),{},{index:z,payload:H,visibleTicksCount:P.length,tickFormatter:o,padding:l},u);return g.createElement(Ct,Ps({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},ef(I,H,z)),n&&g.createElement(Ise,{option:n,tickProps:ue,value:"".concat(typeof o=="function"?o(H.value,z):H.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},Y.length>0&&g.createElement(Zr,{zIndex:Lt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},Y)),U.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},U))}),Ose=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,u=bse(e,xse),[c,d]=g.useState(""),[h,m]=g.useState(""),y=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return yse({ticks:y.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=g.useCallback(x=>{if(x){var v=x.getElementsByClassName("recharts-cartesian-axis-tick-value");y.current=v;var _=v[0];if(_){var E=window.getComputedStyle(_),T=E.fontSize,I=E.letterSpacing;(T!==c||I!==h)&&(d(T),m(I))}}},[c,h]);return o||n!=null&&n<=0||i!=null&&i<=0?null:g.createElement(Zr,{zIndex:e.zIndex},g.createElement(Ct,{className:Pe("recharts-cartesian-axis",a)},g.createElement(Sse,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Xr(e)}),g.createElement(Cse,{ref:b,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(Oie,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(zie,{label:e.label,labelRef:e.labelRef}),e.children)))}),lk=g.forwardRef((e,t)=>{var r=Ft(e,Ki);return g.createElement(Ose,Ps({},r,{ref:t}))});lk.displayName="CartesianAxis";var Nse=["x1","y1","x2","y2","key"],jse=["offset"],Dse=["xAxisId","yAxisId"],Rse=["xAxisId","yAxisId"];function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){Mse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mse(e,t,r){return(t=Lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lse(e){var t=Vse(e,"string");return typeof t=="symbol"?t:t+""}function Vse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(null,arguments)}function zm(e,t){if(e==null)return{};var r,n,i=Fse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $se=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return g.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function FF(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=r,c=zm(r,Nse),d=(i=Xr(c))!==null&&i!==void 0?i:{},{offset:h}=d,m=zm(d,jse);n=g.createElement("line",Qo({},m,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return n}function zse(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=zm(e,Dse),l=i.map((u,c)=>{var d=Pr(Pr({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return g.createElement(FF,{key:"line-".concat(c),option:n,lineItemProps:d})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Use(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=zm(e,Rse),l=i.map((u,c)=>{var d=Pr(Pr({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return g.createElement(FF,{option:n,lineItemProps:d,key:"line-".concat(c)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Bse(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var m=!u[h+1],y=m?i+o-d:u[h+1]-d;if(y<=0)return null;var b=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:y,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Wse(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var m=!u[h+1],y=m?i+o-d:u[h+1]-d;if(y<=0)return null;var b=h%r.length;return g.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:y,height:s,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Kse=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return pL(sk(Pr(Pr(Pr({},Ki),r),{},{ticks:mL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Hse=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return pL(sk(Pr(Pr(Pr({},Ki),r),{},{ticks:mL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},qse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Lt.grid};function Um(e){var t=j1(),r=D1(),n=TL(),i=Pr(Pr({},Ft(e,qse)),{},{x:Z(e.x)?e.x:n.left,y:Z(e.y)?e.y:n.top,width:Z(e.width)?e.width:n.width,height:Z(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:m}=i,y=Nr(),b=ne(C=>lC(C,"xAxis",a,y)),x=ne(C=>lC(C,"yAxis",o,y));if(!wi(u)||!wi(c)||!Z(s)||!Z(l))return null;var v=i.verticalCoordinatesGenerator||Kse,_=i.horizontalCoordinatesGenerator||Hse,{horizontalPoints:E,verticalPoints:T}=i;if((!E||!E.length)&&typeof _=="function"){var I=h&&h.length,D=_({yAxis:x?Pr(Pr({},x),{},{ticks:I?h:x.ticks}):void 0,width:t??u,height:r??c,offset:n},I?!0:d);pm(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(E=D)}if((!T||!T.length)&&typeof v=="function"){var P=m&&m.length,S=v({xAxis:b?Pr(Pr({},b),{},{ticks:P?m:b.ticks}):void 0,width:t??u,height:r??c,offset:n},P?!0:d);pm(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(T=S)}return g.createElement(Zr,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement($se,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(Bse,Qo({},i,{horizontalPoints:E})),g.createElement(Wse,Qo({},i,{verticalPoints:T})),g.createElement(zse,Qo({},i,{offset:n,horizontalPoints:E,xAxis:b,yAxis:x})),g.createElement(Use,Qo({},i,{offset:n,verticalPoints:T,xAxis:b,yAxis:x}))))}Um.displayName="CartesianGrid";var Gse={},$F=Jr({name:"errorBars",initialState:Gse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Ehe,replaceErrorBar:khe,removeErrorBar:She}=$F.actions,Yse=$F.reducer,Qse=["children"];function Xse(e,t){if(e==null)return{};var r,n,i=Jse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ele=g.createContext(Zse);function tle(e){var{children:t}=e,r=Xse(e,Qse);return g.createElement(ele.Provider,{value:r},t)}function uk(e,t){var r,n,i=ne(u=>va(u,e)),a=ne(u=>ya(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Qt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Xt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function zF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=ak(),{needClipX:a,needClipY:o,needClip:s}=uk(t,r);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}function rle(e){var t=xs(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(s)||s<0)&&(s=n),{r:o,strokeWidth:s}}return{r,strokeWidth:n}}var nle={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ef=g;function ile(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ale=typeof Object.is=="function"?Object.is:ile,ole=Ef.useSyncExternalStore,sle=Ef.useRef,lle=Ef.useEffect,ule=Ef.useMemo,cle=Ef.useDebugValue;nle.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=sle(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=ule(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return d=y}return d=m}if(y=d,ale(c,m))return y;var b=n(m);return i!==void 0&&i(y,b)?(c=m,y):(c=m,d=b)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var s=ole(e,a[0],a[1]);return lle(function(){o.hasValue=!0,o.value=s},[s]),cle(s),s};function dle(e){e()}function fle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){dle(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var cO={notify(){},get:()=>[]};function hle(e,t){let r,n=cO,i=0,a=!1;function o(b){c();const x=n.subscribe(b);let v=!1;return()=>{v||(v=!0,x(),d())}}function s(){n.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=fle())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=cO)}function h(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const y={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return y}var ple=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mle=ple(),gle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vle=gle(),yle=()=>mle||vle?g.useLayoutEffect:g.useEffect,xle=yle();function dO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ble(e,t){if(dO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!dO(e[r[i]],t[r[i]]))return!1;return!0}var x0=Symbol.for("react-redux-context"),b0=typeof globalThis<"u"?globalThis:{};function wle(){if(!g.createContext)return{};const e=b0[x0]??(b0[x0]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var _le=wle();function Ele(e){const{children:t,context:r,serverState:n,store:i}=e,a=g.useMemo(()=>{const l=hle(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=g.useMemo(()=>i.getState(),[i]);xle(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||_le;return g.createElement(s.Provider,{value:a},t)}var kle=Ele,Sle=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Ple(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function qv(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Sle.has(n)){if(e[n]==null&&t[n]==null)continue;if(!ble(e[n],t[n]))return!1}else if(!Ple(e[n],t[n]))return!1;return!0}function Ei(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:jF}function ki(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:jF}var UF=(e,t,r)=>po(e,"xAxis",Ei(e,t),r),BF=(e,t,r)=>ho(e,"xAxis",Ei(e,t),r),WF=(e,t,r)=>po(e,"yAxis",ki(e,t),r),KF=(e,t,r)=>ho(e,"yAxis",ki(e,t),r),Tle=L([Ie,UF,WF,BF,KF],(e,t,r,n,i)=>fa(e,"xAxis")?tu(t,n,!1):tu(r,i,!1)),Ale=(e,t)=>t,HF=L([Pv,Ale],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),qF=e=>{var t=Ie(e),r=fa(t,"xAxis");return r?"yAxis":"xAxis"},Ile=(e,t)=>{var r=qF(e);return r==="yAxis"?ki(e,t):Ei(e,t)},Cle=(e,t,r)=>Dm(e,qF(e),Ile(e,t),r),Ole=L([HF,Cle],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=_v(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,o=a==null?void 0:a.find(s=>s.key===i);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),Nle=L([Ie,UF,WF,BF,KF,Ole,j4,Tle,HF,Dee],(e,t,r,n,i,a,o,s,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=o;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{data:m}=l,y;if(m&&m.length>0?y=m:y=c==null?void 0:c.slice(d,h+1),y!=null)return Xle({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:y,chartBaseValue:u,bandSize:s})}}),jle=["id"],Dle=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(null,arguments)}function GF(e,t){if(e==null)return{};var r,n,i=Rle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){Mle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mle(e,t,r){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lle(e){var t=Vle(e,"string");return typeof t=="symbol"?t:t+""}function Vle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bm(e,t){return e&&e!=="none"?e:t}var Fle=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Bm(n,i),value:vu(r,t),payload:e}]},$le=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:vu(o,t),hide:s,type:u,color:Bm(n,a),unit:l,graphicalItemId:c}};return g.createElement(nk,{tooltipEntrySettings:d})});function zle(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:o}=n,s=Xr(n);return g.createElement(koe,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:i,clipPathId:t})}function Ule(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var o,s,l={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return gl(gl({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return g.createElement(yF,{value:t?i:void 0},r)}function hO(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:o,type:s,stroke:l,connectNulls:u,isRange:c}=a,{id:d}=a,h=GF(a,jle),m=Xr(h),y=Fr(h);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Ct,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},g.createElement(Nl,as({},y,{id:d,points:t,connectNulls:u,type:s,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&g.createElement(Nl,as({},m,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&g.createElement(Nl,as({},m,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:r}))),g.createElement(zle,{points:t,props:h,clipPathId:i}))}function Ble(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:o}=e,s=(t=a[0])===null||t===void 0?void 0:t.y,l=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!qe(s)||!qe(l))return null;var u=n*Math.abs(s-l),c=Math.max(...a.map(d=>d.x||0));return Z(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.x||0),c)),Z(c)?g.createElement("rect",{x:0,y:s<l?s:s-u,width:c+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}function Wle(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:o}=e,s=(t=a[0])===null||t===void 0?void 0:t.x,l=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!qe(s)||!qe(l))return null;var u=n*Math.abs(s-l),c=Math.max(...a.map(d=>d.y||0));return Z(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.y||0),c)),Z(c)?g.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(c+(o?parseInt("".concat(o),10):1))}):null}function Kle(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?g.createElement(Ble,{alpha:t,points:n,baseLine:i,strokeWidth:a}):g.createElement(Wle,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function Hle(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:h,onAnimationEnd:m}=n,y=g.useMemo(()=>({points:o,baseLine:s}),[o,s]),b=uf(y,"recharts-area-"),x=tQ(),[v,_]=g.useState(!1),E=!v,T=g.useCallback(()=>{typeof m=="function"&&m(),_(!1)},[m]),I=g.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);if(x==null)return null;var D=i.current,P=a.current;return g.createElement(Ule,{showLabels:E,points:o},n.children,g.createElement(lf,{animationId:b,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:T,onAnimationStart:I,key:b},S=>{if(D){var C=D.length/o.length,O=S===1?o:o.map((A,N)=>{var V=Math.floor(N*C);if(D[V]){var U=D[V];return gl(gl({},A),{},{x:tt(U.x,A.x,S),y:tt(U.y,A.y,S)})}return A}),j;return Z(s)?j=tt(P,s,S):mt(s)||jn(s)?j=tt(P,0,S):j=s.map((A,N)=>{var V=Math.floor(N*C);if(Array.isArray(P)&&P[V]){var U=P[V];return gl(gl({},A),{},{x:tt(U.x,A.x,S),y:tt(U.y,A.y,S)})}return A}),S>0&&(i.current=O,a.current=j),g.createElement(hO,{points:O,baseLine:j,needClip:t,clipPathId:r,props:n})}return S>0&&(i.current=o,a.current=s),g.createElement(Ct,null,l&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(Kle,{alpha:S,points:o,baseLine:s,layout:x,strokeWidth:n.strokeWidth}))),g.createElement(Ct,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(hO,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n})))}),g.createElement(GE,{label:n.label}))}function qle(e){var{needClip:t,clipPathId:r,props:n}=e,i=g.useRef(null),a=g.useRef();return g.createElement(Hle,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class Gle extends g.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:o,needClip:s,xAxisId:l,yAxisId:u,width:c,height:d,id:h,baseLine:m,zIndex:y}=this.props;if(t)return null;var b=Pe("recharts-area",i),x=h,{r:v,strokeWidth:_}=rle(r),E=TF(r),T=v*2+_,I=s?"url(#clipPath-".concat(E?"":"dots-").concat(x,")"):void 0;return g.createElement(Zr,{zIndex:y},g.createElement(Ct,{className:b},s&&g.createElement("defs",null,g.createElement(zF,{clipPathId:x,xAxisId:l,yAxisId:u}),!E&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:o-T/2,y:a-T/2,width:c+T,height:d+T}))),g.createElement(qle,{needClip:s,clipPathId:x,props:this.props})),g.createElement(nO,{points:n,mainColor:Bm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(m)&&g.createElement(nO,{points:m,mainColor:Bm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var YF={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Lt.area};function Yle(e){var t,r=Ft(e,YF),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:h,legendType:m,stroke:y,xAxisId:b,yAxisId:x}=r,v=GF(r,Dle),_=Rs(),E=YV(),{needClip:T}=uk(b,x),I=Nr(),{points:D,isRange:P,baseLine:S}=(t=ne(V=>Nle(V,e.id,I)))!==null&&t!==void 0?t:{},C=ak();if(_!=="horizontal"&&_!=="vertical"||C==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:O,width:j,x:A,y:N}=C;return!D||!D.length?null:g.createElement(Gle,as({},v,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:S,connectNulls:s,dot:l,fill:u,fillOpacity:c,height:O,hide:d,layout:_,isAnimationActive:h==="auto"?!sf.isSsr:h,isRange:P,legendType:m,needClip:T,points:D,stroke:y,width:j,left:A,top:N,xAxisId:b,yAxisId:x}))}var Qle=(e,t,r,n,i)=>{var a=r??t;if(Z(a))return a;var o=e==="horizontal"?i:n,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function Xle(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:h,bandSize:m}=e,y=i&&i.length,b=Qle(a,o,r,s,l),x=a==="horizontal",v=!1,_=u.map((T,I)=>{var D,P,S;if(y)S=i[c+I];else{var C=We(T,n);Array.isArray(C)?(S=C,v=!0):S=[b,C]}var O=(D=(P=S)===null||P===void 0?void 0:P[1])!==null&&D!==void 0?D:null,j=O==null||y&&!t&&We(T,n)==null;return x?{x:yA({axis:s,ticks:d,bandSize:m,entry:T,index:I}),y:j?null:l.scale(O),value:S,payload:T}:{x:j?null:s.scale(O),y:yA({axis:l,ticks:h,bandSize:m,entry:T,index:I}),value:S,payload:T}}),E;return y||v?E=_.map(T=>{var I=Array.isArray(T.value)?T.value[0]:null;return x?{x:T.x,y:I!=null&&T.y!=null?l.scale(I):null,payload:T.payload}:{x:I!=null?s.scale(I):null,y:T.y,payload:T.payload}}):E=x?l.scale(b):s.scale(b),{points:_,baseLine:E,isRange:v}}function Jle(e){var t=Ft(e,YF),r=Nr();return g.createElement(ik,{id:t.id,type:"area"},n=>g.createElement(g.Fragment,null,g.createElement(CF,{legendPayload:Fle(t)}),g.createElement($le,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),g.createElement(NF,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:gL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(Yle,as({},t,{id:n}))))}var Kb=g.memo(Jle,qv);Kb.displayName="Area";var Zle="Invariant failed";function eue(e,t){throw new Error(Zle)}function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(null,arguments)}function Wm(e){return g.createElement(IF,Hb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var tue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Z(t))return t;var a=Z(n)||mt(n);return a?t(n,i):(a||eue(),r)}},rue=(e,t,r)=>r,nue=(e,t)=>t,kf=L([Pv,nue],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),iue=L([kf],e=>e==null?void 0:e.maxBarSize),aue=(e,t,r,n)=>n,oue=L([Ie,Pv,Ei,ki,rue],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),sue=(e,t,r)=>{var n=Ie(e),i=Ei(e,t),a=ki(e,t);if(!(i==null||a==null))return n==="horizontal"?Dm(e,"yAxis",a,r):Dm(e,"xAxis",i,r)},lue=(e,t)=>{var r=Ie(e),n=Ei(e,t),i=ki(e,t);if(!(n==null||i==null))return r==="horizontal"?sC(e,"xAxis",n):sC(e,"yAxis",i)},uue=L([oue,jee,lue],Woe),cue=(e,t,r)=>{var n,i,a=kf(e,t);if(a!=null){var o=Ei(e,t),s=ki(e,t);if(!(o==null||s==null)){var l=Ie(e),u=G4(e),{maxBarSize:c}=a,d=mt(c)?u:c,h,m;return l==="horizontal"?(h=po(e,"xAxis",o,r),m=ho(e,"xAxis",o,r)):(h=po(e,"yAxis",s,r),m=ho(e,"yAxis",s,r)),(n=(i=tu(h,m,!0))!==null&&i!==void 0?i:d)!==null&&n!==void 0?n:0}}},QF=(e,t,r)=>{var n=Ie(e),i=Ei(e,t),a=ki(e,t);if(!(i==null||a==null)){var o,s;return n==="horizontal"?(o=po(e,"xAxis",i,r),s=ho(e,"xAxis",i,r)):(o=po(e,"yAxis",a,r),s=ho(e,"yAxis",a,r)),tu(o,s)}},due=L([uue,G4,Nee,Y4,cue,QF,iue],Yoe),fue=(e,t,r)=>{var n=Ei(e,t);if(n!=null)return po(e,"xAxis",n,r)},hue=(e,t,r)=>{var n=ki(e,t);if(n!=null)return po(e,"yAxis",n,r)},pue=(e,t,r)=>{var n=Ei(e,t);if(n!=null)return ho(e,"xAxis",n,r)},mue=(e,t,r)=>{var n=ki(e,t);if(n!=null)return ho(e,"yAxis",n,r)},gue=L([due,kf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),vue=L([sue,kf],Qoe),yue=L([Wt,O1,fue,hue,pue,mue,gue,Ie,j4,QF,vue,kf,aue],(e,t,r,n,i,a,o,s,l,u,c,d,h)=>{var{chartData:m,dataStartIndex:y,dataEndIndex:b}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:x}=d,v;if(x!=null&&x.length>0?v=x:v=m==null?void 0:m.slice(y,b+1),v!=null)return que({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:v,offset:e,cells:h,dataStartIndex:y})}}),xue=["index"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(null,arguments)}function bue(e,t){if(e==null)return{};var r,n,i=wue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XF=g.createContext(void 0),_ue=e=>{var t=g.useContext(XF);if(t!=null)return t.stackId;if(e!=null)return gL(e)},Eue=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),kue=e=>{var t=g.useContext(XF);if(t!=null){var{stackId:r}=t;return"url(#".concat(Eue(r,e),")")}},Sue=e=>{var{index:t}=e,r=bue(e,xue),n=kue(t);return g.createElement(Ct,qb({className:"recharts-bar-stack-layer",clipPath:n},r))},Pue=["onMouseEnter","onMouseLeave","onClick"],Tue=["value","background","tooltipPosition"],Aue=["id"],Iue=["onMouseEnter","onClick","onMouseLeave"];function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oa.apply(null,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){Cue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cue(e,t,r){return(t=Oue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oue(e){var t=Nue(e,"string");return typeof t=="symbol"?t:t+""}function Nue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Km(e,t){if(e==null)return{};var r,n,i=jue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Due=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:vu(r,t),payload:e}]},Rue=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:vu(a,t),hide:o,type:l,color:i,unit:s,graphicalItemId:u}};return g.createElement(nk,{tooltipEntrySettings:c})});function Mue(e){var t=ne(mo),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=Km(a,Pue),c=ek(o,n,a.id),d=tk(s),h=rk(l,n,a.id);if(!i||r==null)return null;var m=xs(i);return g.createElement(Zr,{zIndex:Xoe(i,Lt.barBackground)},r.map((y,b)=>{var{value:x,background:v,tooltipPosition:_}=y,E=Km(y,Tue);if(!v)return null;var T=c(y,b),I=d(y,b),D=h(y,b),P=Mr(Mr(Mr(Mr(Mr({option:i,isActive:String(b)===t},E),{},{fill:"#eee"},v),m),ef(u,y,b)),{},{onMouseEnter:T,onMouseLeave:I,onClick:D,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return g.createElement(Wm,oa({key:"background-bar-".concat(b)},P))}))}function Lue(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Mr(Mr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return g.createElement(yF,{value:t?i:void 0},r)}function Vue(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=ne(mo),l=ne(zE),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return u?g.createElement(Zr,{zIndex:Lt.activeBar},g.createElement(Wm,oa({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))):g.createElement(Wm,oa({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function Fue(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return g.createElement(Wm,oa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function $ue(e){var t,{data:r,props:n}=e,i=(t=Xr(n))!==null&&t!==void 0?t:{},{id:a}=i,o=Km(i,Aue),{shape:s,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:h}=n,m=Km(n,Iue),y=ek(c,l,a),b=tk(h),x=rk(d,l,a);return r?g.createElement(g.Fragment,null,r.map((v,_)=>g.createElement(Sue,oa({index:_,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(_),className:"recharts-bar-rectangle"},ef(m,v,_),{onMouseEnter:y(v,_),onMouseLeave:b(v,_),onClick:x(v,_)}),u?g.createElement(Vue,{shape:s,activeBar:u,baseProps:o,entry:v,index:_,dataKey:l}):g.createElement(Fue,{shape:s,baseProps:o,entry:v,index:_,dataKey:l})))):null}function zue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,h=uf(t,"recharts-bar-"),[m,y]=g.useState(!1),b=!m,x=g.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),v=g.useCallback(()=>{typeof c=="function"&&c(),y(!0)},[c]);return g.createElement(Lue,{showLabels:b,rects:n},g.createElement(lf,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:v,key:h},_=>{var E=_===1?n:n==null?void 0:n.map((T,I)=>{var D=d&&d[I];if(D)return Mr(Mr({},T),{},{x:tt(D.x,T.x,_),y:tt(D.y,T.y,_),width:tt(D.width,T.width,_),height:tt(D.height,T.height,_)});if(i==="horizontal"){var P=tt(0,T.height,_),S=tt(T.stackedBarStart,T.y,_);return Mr(Mr({},T),{},{y:S,height:P})}var C=tt(0,T.width,_),O=tt(T.stackedBarStart,T.x,_);return Mr(Mr({},T),{},{width:C,x:O})});return _>0&&(r.current=E??null),E==null?null:g.createElement(Ct,null,g.createElement($ue,{props:t,data:E}))}),g.createElement(GE,{label:t.label}),t.children)}function Uue(e){var t=g.useRef(null);return g.createElement(zue,{previousRectanglesRef:t,props:e})}var JF=0,Bue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:We(e,t)}};class Wue extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=Pe("recharts-bar",i),d=u;return g.createElement(Ct,{className:c,id:u},s&&g.createElement("defs",null,g.createElement(zF,{clipPathId:d,xAxisId:a,yAxisId:o})),g.createElement(Ct,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},g.createElement(Mue,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),g.createElement(Uue,this.props)))}}var Kue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:JF,xAxisId:0,yAxisId:0,zIndex:Lt.bar};function Hue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=uk(t,r),h=Rs(),m=Nr(),y=ZE(e.children,Vs),b=ne(_=>yue(_,e.id,m,y));if(h!=="vertical"&&h!=="horizontal")return null;var x,v=b==null?void 0:b[0];return v==null||v.height==null||v.width==null?x=0:x=h==="vertical"?v.height/2:v.width/2,g.createElement(tle,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:Bue,errorBarOffset:x},g.createElement(Wue,oa({},e,{layout:h,needClip:d,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function que(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:h,cells:m,parentViewBox:y,dataStartIndex:b}=e,x=t==="horizontal"?s:o,v=c?x.scale.domain():null,_=EY({numericAxis:x}),E=x.scale(_);return d.map((T,I)=>{var D,P,S,C,O,j;if(c){var A=c[I+b];if(A==null)return null;D=yY(A,v)}else D=We(T,r),Array.isArray(D)||(D=[_,D]);var N=tue(n,JF)(D[1],I);if(t==="horizontal"){var V,[U,Y]=[s.scale(D[0]),s.scale(D[1])];P=xA({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:T,index:I}),S=(V=Y??U)!==null&&V!==void 0?V:void 0,C=i.size;var Q=U-Y;if(O=jn(Q)?0:Q,j={x:P,y:h.top,width:C,height:h.height},Math.abs(N)>0&&Math.abs(O)<Math.abs(N)){var z=tr(O||N)*(Math.abs(N)-Math.abs(O));S-=z,O+=z}}else{var[H,J]=[o.scale(D[0]),o.scale(D[1])];if(P=H,S=xA({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:T,index:I}),C=J-H,O=i.size,j={x:h.left,y:S,width:h.width,height:O},Math.abs(N)>0&&Math.abs(C)<Math.abs(N)){var ue=tr(C||N)*(Math.abs(N)-Math.abs(C));C+=ue}}if(P==null||S==null||C==null||O==null)return null;var oe=Mr(Mr({},T),{},{stackedBarStart:E,x:P,y:S,width:C,height:O,value:c?D:D[1],payload:T,background:j,tooltipPosition:{x:P+C/2,y:S+O/2},parentViewBox:y},m&&m[I]&&m[I].props);return oe}).filter(Boolean)}function Gue(e){var t=Ft(e,Kue),r=_ue(t.stackId),n=Nr();return g.createElement(ik,{id:t.id,type:"bar"},i=>g.createElement(g.Fragment,null,g.createElement(CF,{legendPayload:Due(t)}),g.createElement(Rue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),g.createElement(NF,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(Zr,{zIndex:t.zIndex},g.createElement(Hue,oa({},t,{id:i})))))}var Rl=g.memo(Gue,qv);Rl.displayName="Bar";var Yue=["domain","range"],Que=["domain","range"];function mO(e,t){if(e==null)return{};var r,n,i=Xue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function ZF(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=mO(e,Yue),{domain:a,range:o}=t,s=mO(t,Que);return!gO(r,a)||!gO(n,o)?!1:qv(i,s)}var Jue=["dangerouslySetInnerHTML","ticks","scale"],Zue=["id","scale"];function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(null,arguments)}function vO(e,t){if(e==null)return{};var r,n,i=ece(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ece(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tce(e){var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Ioe(e)):r.current!==e&&t(Coe({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Ooe(r.current)),r.current=null)},[t]),null}var rce=e=>{var{xAxisId:t,className:r}=e,n=ne(O1),i=Nr(),a="xAxis",o=ne(v=>TV(v,a,t,i)),s=ne(v=>EV(v,t)),l=ne(v=>Ote(v,t)),u=ne(v=>iV(v,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,m=vO(e,Jue),{id:y,scale:b}=u,x=vO(u,Zue);return g.createElement(lk,Gb({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:Pe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},nce={allowDataOverflow:Qt.allowDataOverflow,allowDecimals:Qt.allowDecimals,allowDuplicatedCategory:Qt.allowDuplicatedCategory,angle:Qt.angle,axisLine:Ki.axisLine,height:Qt.height,hide:!1,includeHidden:Qt.includeHidden,interval:Qt.interval,minTickGap:Qt.minTickGap,mirror:Qt.mirror,orientation:Qt.orientation,padding:Qt.padding,reversed:Qt.reversed,scale:Qt.scale,tick:Qt.tick,tickCount:Qt.tickCount,tickLine:Ki.tickLine,tickSize:Ki.tickSize,type:Qt.type,xAxisId:0},ice=e=>{var t=Ft(e,nce);return g.createElement(g.Fragment,null,g.createElement(tce,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(rce,t))},Hm=g.memo(ice,ZF);Hm.displayName="XAxis";var ace=["dangerouslySetInnerHTML","ticks","scale"],oce=["id","scale"];function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(null,arguments)}function yO(e,t){if(e==null)return{};var r,n,i=sce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lce(e){var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Noe(e)):r.current!==e&&t(joe({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Doe(r.current)),r.current=null)},[t]),null}var uce=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=g.useRef(null),o=g.useRef(null),s=ne(O1),l=Nr(),u=Xe(),c="yAxis",d=ne(D=>kV(D,t)),h=ne(D=>jte(D,t)),m=ne(D=>TV(D,c,t,l)),y=ne(D=>aV(D,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!d||qE(i)||g.isValidElement(i)||y==null)){var D=a.current;if(D){var P=D.getCalculatedWidth();Math.round(d.width)!==Math.round(P)&&u(Roe({id:t,width:P}))}}},[m,d,u,i,t,n,y]),d==null||h==null||y==null)return null;var{dangerouslySetInnerHTML:b,ticks:x,scale:v}=e,_=yO(e,ace),{id:E,scale:T}=y,I=yO(y,oce);return g.createElement(lk,Yb({},_,I,{ref:a,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:Pe("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:m,axisType:c}))},cce={allowDataOverflow:Xt.allowDataOverflow,allowDecimals:Xt.allowDecimals,allowDuplicatedCategory:Xt.allowDuplicatedCategory,angle:Xt.angle,axisLine:Ki.axisLine,hide:!1,includeHidden:Xt.includeHidden,interval:Xt.interval,minTickGap:Xt.minTickGap,mirror:Xt.mirror,orientation:Xt.orientation,padding:Xt.padding,reversed:Xt.reversed,scale:Xt.scale,tick:Xt.tick,tickCount:Xt.tickCount,tickLine:Ki.tickLine,tickSize:Ki.tickSize,type:Xt.type,width:Xt.width,yAxisId:0},dce=e=>{var t=Ft(e,cce);return g.createElement(g.Fragment,null,g.createElement(lce,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(uce,t))},qm=g.memo(dce,ZF);qm.displayName="YAxis";var fce=(e,t)=>t,ck=L([fce,Ie,rV,Ht,BV,xa,Gre,Wt],tne),dk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},e3=Dn("mouseClick"),t3=nf();t3.startListening({actionCreator:e3,effect:(e,t)=>{var r=e.payload,n=ck(t.getState(),dk(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(qte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Qb=Dn("mouseMove"),r3=nf(),Oh=null;r3.startListening({actionCreator:Qb,effect:(e,t)=>{var r=e.payload;Oh!==null&&cancelAnimationFrame(Oh);var n=dk(r);Oh=requestAnimationFrame(()=>{var i=t.getState(),a=RE(i,i.tooltip.settings.shared);if(a==="axis"){var o=ck(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(RV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(DV())}Oh=null})}});function hce(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var xO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},n3=Jr({name:"rootProps",initialState:xO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:xO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),pce=n3.reducer,{updateOptions:mce}=n3.actions,i3=Jr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:gce}=i3.actions,vce=i3.reducer,a3=Dn("keyDown"),o3=Dn("focus"),fk=nf();fk.startListening({actionCreator:a3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=ME(i,Pu(r),yf(r),wf(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=xa(r);if(a==="Enter"){var u=Mm(r,"axis","hover",String(i.index));t.dispatch(Fb({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=Lte(r),d=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=s+h*d;if(!(l==null||m>=l.length||m<0)){var y=Mm(r,"axis","hover",String(m));t.dispatch(Fb({active:!0,activeIndex:m.toString(),activeCoordinate:y}))}}}}}});fk.startListening({actionCreator:o3,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Mm(r,"axis","hover",String(a));t.dispatch(Fb({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var wn=Dn("externalEvent"),s3=nf(),w0=new Map;s3.startListening({actionCreator:wn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=w0.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:jre(s),activeDataKey:zE(s),activeIndex:mo(s),activeLabel:HV(s),activeTooltipIndex:mo(s),isTooltipActive:Dre(s)};r(l,n)}finally{w0.delete(i)}});w0.set(i,o)}}});var yce=L([ku],e=>e.tooltipItemPayloads),xce=L([yce,bf,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),l3=Dn("touchMove"),u3=nf();u3.startListening({actionCreator:l3,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=RE(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=ck(n,dk({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(RV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(yL),d=(s=u.getAttribute(xL))!==null&&s!==void 0?s:void 0,h=Su(n).find(b=>b.id===d);if(c==null||h==null||d==null)return;var{dataKey:m}=h,y=xce(n,c,d);t.dispatch(jV({activeDataKey:m,activeIndex:c,activeCoordinate:y,activeGraphicalItemId:d}))}}}});var bce=FM({brush:Joe,cartesianAxis:Moe,chartData:One,errorBars:Yse,graphicalItems:Uae,layout:fY,legend:gQ,options:Pne,polarAxis:iae,polarOptions:vce,referenceElements:ase,rootProps:pce,tooltip:Gte,zIndex:mne}),wce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return LG({reducer:bce,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([t3.middleware,r3.middleware,fk.middleware,s3.middleware,u3.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(eL({type:"raf"}))},devTools:{serialize:{replacer:hce},name:"recharts-".concat(r)}})};function c3(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Nr(),a=g.useRef(null);if(i)return r;a.current==null&&(a.current=wce(t,n));var o=b1;return g.createElement(kle,{context:o,store:a.current},r)}function _ce(e){var{layout:t,margin:r}=e,n=Xe(),i=Nr();return g.useEffect(()=>{i||(n(uY(t)),n(lY(r)))},[n,i,t,r]),null}var d3=g.memo(_ce,qv);function f3(e){var t=Xe();return g.useEffect(()=>{t(mce(e))},[t,e]),null}function bO(e){var{zIndex:t,isPanorama:r}=e,n=g.useRef(null),i=Xe();return g.useLayoutEffect(()=>(n.current&&i(hne({zIndex:t,element:n.current,isPanorama:r})),()=>{i(pne({zIndex:t,isPanorama:r}))}),[i,t,r]),g.createElement("g",{tabIndex:-1,ref:n})}function wO(e){var{children:t,isPanorama:r}=e,n=ne(nne);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return g.createElement(g.Fragment,null,i.map(o=>g.createElement(bO,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>g.createElement(bO,{key:o,zIndex:o,isPanorama:r})))}var Ece=["children"];function kce(e,t){if(e==null)return{};var r,n,i=Sce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gm(){return Gm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gm.apply(null,arguments)}var Pce={width:"100%",height:"100%",display:"block"},Tce=g.forwardRef((e,t)=>{var r=j1(),n=D1(),i=VL();if(!wi(r)||!wi(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),g.createElement(i1,Gm({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:Pce,ref:t}),a)}),Ace=e=>{var{children:t}=e,r=ne(sv);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return g.createElement(i1,{width:n,height:i,x:o,y:a},t)},_O=g.forwardRef((e,t)=>{var{children:r}=e,n=kce(e,Ece),i=Nr();return i?g.createElement(Ace,null,g.createElement(wO,{isPanorama:!0},r)):g.createElement(Tce,Gm({ref:t},n),g.createElement(wO,{isPanorama:!1},r))});function Ice(){var e=Xe(),[t,r]=g.useState(null),n=ne(IY);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;qe(a)&&a!==n&&e(dY(a))}},[t,e,n]),r}function EO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Cce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EO(Object(r),!0).forEach(function(n){Oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oce(e,t,r){return(t=Nce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nce(e){var t=jce(e,"string");return typeof t=="symbol"?t:t+""}function jce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ts.apply(null,arguments)}var Dce=()=>($ne(),null);function Ym(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Rce=g.forwardRef((e,t)=>{var r,n,i=g.useRef(null),[a,o]=g.useState({containerWidth:Ym((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Ym((n=e.style)===null||n===void 0?void 0:n.height)}),s=g.useCallback((u,c)=>{o(d=>{var h=Math.round(u),m=Math.round(c);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var h=y=>{var{width:b,height:x}=y[0].contentRect;s(b,x)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,s]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(uv,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Ts({ref:l},e)))}),Mce=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=g.useState({containerWidth:Ym(r),containerHeight:Ym(n)}),o=g.useCallback((l,u)=>{a(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),s=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(uv,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",Ts({ref:s},e)))}),Lce=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(uv,{width:r,height:n}),g.createElement("div",Ts({ref:t},e)))}),Vce=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return ea(r)||ea(n)?g.createElement(Mce,Ts({},e,{ref:t})):g.createElement(Lce,Ts({},e,{ref:t}))});function Fce(e){return e===!0?Rce:Vce}var $ce=g.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:m,onTouchMove:y,onTouchStart:b,style:x,width:v,responsive:_,dispatchTouchEvents:E=!0}=e,T=g.useRef(null),I=Xe(),[D,P]=g.useState(null),[S,C]=g.useState(null),O=Ice(),j=N1(),A=(j==null?void 0:j.width)>0?j.width:v,N=(j==null?void 0:j.height)>0?j.height:i,V=g.useCallback(B=>{O(B),typeof t=="function"&&t(B),P(B),C(B),B!=null&&(T.current=B)},[O,t,P,C]),U=g.useCallback(B=>{I(e3(B)),I(wn({handler:a,reactEvent:B}))},[I,a]),Y=g.useCallback(B=>{I(Qb(B)),I(wn({handler:u,reactEvent:B}))},[I,u]),Q=g.useCallback(B=>{I(DV()),I(wn({handler:c,reactEvent:B}))},[I,c]),z=g.useCallback(B=>{I(Qb(B)),I(wn({handler:d,reactEvent:B}))},[I,d]),H=g.useCallback(()=>{I(o3())},[I]),J=g.useCallback(B=>{I(a3(B.key))},[I]),ue=g.useCallback(B=>{I(wn({handler:o,reactEvent:B}))},[I,o]),oe=g.useCallback(B=>{I(wn({handler:s,reactEvent:B}))},[I,s]),we=g.useCallback(B=>{I(wn({handler:l,reactEvent:B}))},[I,l]),Le=g.useCallback(B=>{I(wn({handler:h,reactEvent:B}))},[I,h]),ct=g.useCallback(B=>{I(wn({handler:b,reactEvent:B}))},[I,b]),bt=g.useCallback(B=>{E&&I(l3(B)),I(wn({handler:y,reactEvent:B}))},[I,E,y]),ke=g.useCallback(B=>{I(wn({handler:m,reactEvent:B}))},[I,m]),en=Fce(_);return g.createElement(eF.Provider,{value:D},g.createElement(FR.Provider,{value:S},g.createElement(en,{width:A??(x==null?void 0:x.width),height:N??(x==null?void 0:x.height),className:Pe("recharts-wrapper",n),style:Cce({position:"relative",cursor:"default",width:A,height:N},x),onClick:U,onContextMenu:ue,onDoubleClick:oe,onFocus:H,onKeyDown:J,onMouseDown:we,onMouseEnter:Y,onMouseLeave:Q,onMouseMove:z,onMouseUp:Le,onTouchEnd:ke,onTouchMove:bt,onTouchStart:ct,ref:V},g.createElement(Dce,null),r)))}),zce=["width","height","responsive","children","className","style","compact","title","desc"];function Uce(e,t){if(e==null)return{};var r,n,i=Bce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var h3=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,d=Uce(e,zce),h=Xr(d);return l?g.createElement(g.Fragment,null,g.createElement(uv,{width:r,height:n}),g.createElement(_O,{otherAttributes:h,title:u,desc:c},a)):g.createElement($ce,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(_O,{otherAttributes:h,title:u,desc:c,ref:t},g.createElement(sse,null,a)))});function Xb(){return Xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xb.apply(null,arguments)}var Wce={top:5,right:5,bottom:5,left:5},Kce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Wce,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},p3=g.forwardRef(function(t,r){var n,i=Ft(t.categoricalChartProps,Kce),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(c3,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},g.createElement(RF,{chartData:u.data}),g.createElement(d3,{layout:i.layout,margin:i.margin}),g.createElement(f3,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(h3,Xb({},i,{ref:r})))}),Hce=["axis","item"],m3=g.forwardRef((e,t)=>g.createElement(p3,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hce,tooltipPayloadSearcher:HE,categoricalChartProps:e,ref:t}));function qce(e){var t=Xe();return g.useEffect(()=>{t(gce(e))},[t,e]),null}var Gce=["layout"];function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jb.apply(null,arguments)}function Yce(e,t){if(e==null)return{};var r,n,i=Qce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xce={top:5,right:5,bottom:5,left:5},g3={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Xce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Jce=g.forwardRef(function(t,r){var n,i=Ft(t.categoricalChartProps,g3),{layout:a}=i,o=Yce(i,Gce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(c3,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},g.createElement(RF,{chartData:i.data}),g.createElement(d3,{layout:a,margin:i.margin}),g.createElement(f3,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(qce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(h3,Jb({},o,{ref:r})))});function kO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(r),!0).forEach(function(n){Zce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zce(e,t,r){return(t=ede(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ede(e){var t=tde(e,"string");return typeof t=="symbol"?t:t+""}function tde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rde=["item"],nde=SO(SO({},g3),{},{layout:"centric",startAngle:0,endAngle:360}),hk=g.forwardRef((e,t)=>{var r=Ft(e,nde);return g.createElement(Jce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:rde,tooltipPayloadSearcher:HE,categoricalChartProps:r,ref:t})}),ide=["axis"],ade=g.forwardRef((e,t)=>g.createElement(p3,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ide,tooltipPayloadSearcher:HE,categoricalChartProps:e,ref:t}));function ode({transactions:e,onClose:t,darkMode:r}){const[n,i]=g.useState(new Date().getFullYear()),[a,o]=g.useState(6),s=(()=>{const l=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],u=new Date,d=n===u.getFullYear()?u.getMonth():11;let h=[];for(let m=a-1;m>=0;m--){const y=d-m;if(y<0)continue;const b=`${n}-${String(y+1).padStart(2,"0")}`;h.push({key:b,name:l[y],income:0,expenseCash:0,expenseCard:0})}return e.forEach(m=>{var v;let y=m.date;if(!y&&((v=m.createdAt)!=null&&v.toDate)){const _=m.createdAt.toDate();y=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`}if(!y)return;const b=y.slice(0,7),x=h.find(_=>_.key===b);x&&(m.type==="income"?x.income+=m.amount:m.type==="expense"&&(m.paymentMethod==="credit_card"?x.expenseCard+=m.amount:x.expenseCash+=m.amount))}),h})();return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-opacity",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(r1,{className:"text-indigo-600 dark:text-indigo-400",size:24}),"Gelir - Gider Trend Analizi"]}),p.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:p.jsx(RR,{size:24})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Yl"}),p.jsxs("select",{value:n,onChange:l=>i(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:2024,children:"2024"}),p.jsx("option",{value:2025,children:"2025"}),p.jsx("option",{value:2026,children:"2026"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Ay Says"}),p.jsxs("select",{value:a,onChange:l=>o(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:3,children:"Son 3 Ay"}),p.jsx("option",{value:6,children:"Son 6 Ay"}),p.jsx("option",{value:9,children:"Son 9 Ay"}),p.jsx("option",{value:12,children:"Tm Yl"})]})]})]}),p.jsx("div",{className:"h-80 w-full min-w-[300px]",children:p.jsx(Ol,{width:"100%",height:"100%",children:p.jsxs(m3,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[p.jsx(Um,{strokeDasharray:"3 3",vertical:!1,stroke:r?"#334155":"#e2e8f0"}),p.jsx(Hm,{dataKey:"name",stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"}}),p.jsx(qm,{stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"},tickFormatter:l=>`${l}`}),p.jsx(Dl,{formatter:l=>l.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:r?"#1e293b":"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",color:r?"#f1f5f9":"#1e293b"}}),p.jsx(L1,{wrapperStyle:{paddingTop:"20px"}}),p.jsx(Rl,{name:"Gelir",dataKey:"income",fill:"#10b981",radius:[4,4,0,0],barSize:32}),p.jsx(Rl,{name:"Gider (Nakit)",dataKey:"expenseCash",stackId:"expense",fill:"#ef4444",radius:[0,0,4,4],barSize:32}),p.jsx(Rl,{name:"Gider (K. Kart)",dataKey:"expenseCard",stackId:"expense",fill:"#f59e0b",radius:[4,4,0,0],barSize:32})]})})})]})]})})}function Cd({isOpen:e,onClose:t,title:r,children:n}){return g.useEffect(()=>{const i=a=>{a.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[e,t]),e?p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-all animate-in fade-in duration-200",children:[p.jsx("div",{className:"absolute inset-0",onClick:t}),p.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl scale-100 animate-in zoom-in-95 duration-200 border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:r}),p.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:p.jsx(RR,{size:20})})]}),p.jsx("div",{className:"p-4",children:n})]})]}):null}const v3="/SpendWise/assets/logo-CCwMLY72.png",Qs=["#6366f1","#ec4899","#8b5cf6","#14b8a6","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function sde({user:e,filterDate:t,setFilterDate:r}){const n=c_(),[i,a]=g.useState([]),[o,s]=g.useState([]),[l,u]=g.useState(!1),[c,d]=g.useState(!1),[h,m]=g.useState(null),[y,b]=g.useState(""),[x,v]=g.useState(""),[_,E]=g.useState("expense"),[T,I]=g.useState(""),[D,P]=g.useState(new Date().toISOString().split("T")[0]),[S,C]=g.useState("cash"),[O,j]=g.useState([]),[A,N]=g.useState(!1),[V,U]=g.useState(["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"]),[Y,Q]=g.useState(["Maa","Freelance","Yatrm","Ek Gelir","Dier"]),[z,H]=g.useState([]),[J,ue]=g.useState("");g.useEffect(()=>{const F=Pn(Pt(Ae,"user_settings",e.uid),ae=>{if(ae.exists()){const _e=ae.data();_e.expenseCategories&&U(_e.expenseCategories),_e.incomeCategories&&Q(_e.incomeCategories),_e.creditCards&&H(_e.creditCards)}});return()=>F()},[e.uid]),g.useEffect(()=>{const F=vi(Tr(Ae,"planned_transactions"),on("uid","==",e.uid),on("isCompleted","==",!1)),ae=Pn(F,_e=>{const be=_e.docs.map(ye=>({id:ye.id,...ye.data()}));be.sort((ye,Ot)=>new Date(ye.date)-new Date(Ot.date)),j(be)});return()=>ae()},[e.uid]);const[oe,we]=g.useState([]);g.useEffect(()=>{const F=vi(Tr(Ae,"subscriptions"),on("uid","==",e.uid),on("status","==","active")),ae=Pn(F,_e=>{const be=_e.docs.map(ve=>ve.data()),ye=new Date;ye.setHours(0,0,0,0);const Ot=be.filter(ve=>{const Ue=ve.billingDay,ir=ye.getMonth(),jr=ye.getFullYear();let Vn=new Date(jr,ir,Ue);ye.getDate()>Ue&&Vn.setMonth(ir+1);const wa=Vn-ye,yn=Math.ceil(wa/(1e3*60*60*24));return yn>=0&&yn<=3}).map(ve=>{const Ue=ve.billingDay,ir=ye.getMonth(),jr=ye.getFullYear();let Vn=new Date(jr,ir,Ue);ye.getDate()>Ue&&Vn.setMonth(ir+1);const wa=Vn-ye,yn=Math.ceil(wa/(1e3*60*60*24));return{...ve,daysLeft:yn}});we(Ot)});return()=>ae()},[e.uid]);const Le=async F=>{confirm(`${F.title} demesini tamamland olarak iaretlemek istiyor musunuz?`)&&(await Xp(Tr(Ae,"transactions"),{uid:e.uid,title:F.title,amount:F.amount,type:"expense",category:F.category,paymentMethod:F.paymentMethod||"cash",date:F.date,createdAt:fd()}),await Ma(Pt(Ae,"planned_transactions",F.id),{isCompleted:!0}))},ct=F=>{const ae=new Date;ae.setHours(0,0,0,0);const _e=new Date(F);_e.setHours(0,0,0,0);const be=Math.ceil((_e-ae)/(1e3*60*60*24));return be<0?p.jsxs("span",{className:"text-red-500 font-bold",children:[Math.abs(be)," gn gecikti"]}):be===0?p.jsx("span",{className:"text-amber-500 font-bold",children:"Bugn"}):be===1?p.jsx("span",{className:"text-amber-500 font-medium",children:"Yarn"}):p.jsxs("span",{className:"text-indigo-500 font-medium",children:[be," gn kald"]})},bt=F=>{switch(F){case"Market":return p.jsx(dH,{size:14});case"Ulam":return p.jsx(YK,{size:14});case"Konut":return p.jsx(tH,{size:14});case"Fatura":return p.jsx(Zp,{size:14});case"Elence":return p.jsx(JK,{size:14});case"Salk":return p.jsx(eH,{size:14});case"Eitim":return p.jsx(ZK,{size:14});case"Giyim":return p.jsx(cH,{size:14});default:return p.jsx(Jp,{size:14})}},[ke,en]=g.useState(()=>{const F=localStorage.getItem("theme");return F?F==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});g.useEffect(()=>{ke?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[ke]),g.useEffect(()=>{const F=vi(Tr(Ae,"transactions"),on("uid","==",e.uid)),ae=Pn(F,_e=>{const be=_e.docs.map(ye=>({id:ye.id,...ye.data()}));be.sort((ye,Ot)=>{var ir,jr;const ve=new Date(ye.date||((ir=ye.createdAt)==null?void 0:ir.toDate()));return new Date(Ot.date||((jr=Ot.createdAt)==null?void 0:jr.toDate()))-ve}),a(be)},_e=>{console.error("Veri ekme hatas:",_e)});return()=>ae()},[e.uid]),g.useEffect(()=>{const F=i.filter(ae=>{var be;let _e=ae.date;if(!_e&&((be=ae.createdAt)!=null&&be.toDate)){const ye=ae.createdAt.toDate(),Ot=ye.getFullYear(),ve=String(ye.getMonth()+1).padStart(2,"0"),Ue=String(ye.getDate()).padStart(2,"0");_e=`${Ot}-${ve}-${Ue}`}return _e?_e.startsWith(t):!1});s(F)},[i,t]),g.useEffect(()=>{I(_==="expense"?V[0]:Y[0])},[_]);const B=async F=>{F.preventDefault(),!(!y||!x)&&(await Xp(Tr(Ae,"transactions"),{uid:e.uid,title:x,amount:parseFloat(y),type:_,category:T,paymentMethod:S,cardName:S==="credit_card"?J:null,date:D,createdAt:fd()}),b(""),v(""),C("cash"),ue(""))},de=async F=>{confirm("Bu ilemi silmek istediinize emin misiniz?")&&await Vg(Pt(Ae,"transactions",F))},ge=F=>{var ae;m({...F,date:F.date||((ae=F.createdAt)!=null&&ae.toDate?F.createdAt.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0])}),d(!0)},K=async F=>{if(F.preventDefault(),!!h)try{await Ma(Pt(Ae,"transactions",h.id),{title:h.title,amount:parseFloat(h.amount),type:h.type,category:h.category,date:h.date,paymentMethod:h.paymentMethod||"cash",cardName:h.paymentMethod==="credit_card"?h.cardName:null}),d(!1),m(null)}catch(ae){console.error("Error updating document: ",ae),alert("Gncelleme srasnda bir hata olutu.")}},it=()=>{if(o.length===0){alert("Da aktarlacak veri bulunamad.");return}let F="data:text/csv;charset=utf-8,\uFEFF";F+=`Tarih,Balk,Kategori,Tutar,Tr
`,o.forEach(be=>{var ve;let ye=be.date||((ve=be.createdAt)!=null&&ve.toDate?be.createdAt.toDate().toLocaleDateString("tr-TR"):"-");if(be.date){const[Ue,ir,jr]=be.date.split("-");ye=`${jr}.${ir}.${Ue}`}const Ot=[ye,`"${be.title.replace(/"/g,'""')}"`,be.category,be.amount,be.type==="income"?"Gelir":"Gider"].join(",");F+=Ot+`\r
`});const ae=encodeURI(F),_e=document.createElement("a");_e.setAttribute("href",ae),_e.setAttribute("download",`SpendWise_Islemler_${t}.csv`),document.body.appendChild(_e),_e.click(),document.body.removeChild(_e)},le=o.filter(F=>F.type==="income").reduce((F,ae)=>F+ae.amount,0),ze=o.filter(F=>F.type==="expense").reduce((F,ae)=>F+ae.amount,0),Re=le-ze,gr=o.filter(F=>F.type==="expense").reduce((F,ae)=>{const _e=ae.category||"Dier";return F[_e]=(F[_e]||0)+ae.amount,F},{}),vn=Object.entries(gr).sort(([,F],[,ae])=>ae-F).map(([F,ae])=>({name:F,value:ae,percentage:ze>0?ae/ze*100:0})),Po=i.reduce((F,ae)=>ae.type==="income"?F+ae.amount:F-ae.amount,0);return p.jsxs("div",{className:"max-w-5xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[p.jsx("img",{src:v3,alt:"SpendWise",className:"w-8 h-8 rounded-lg shadow-lg shadow-indigo-500/30"}),p.jsx("h1",{className:"text-xl font-bold text-indigo-700 dark:text-indigo-400",children:"SpendWise"})]}),p.jsx("h2",{className:"hidden lg:block text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Genel Bak"}),p.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-end items-center gap-2 w-full md:w-auto",children:[p.jsxs("button",{onClick:it,className:"p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center gap-2",title:"CSV Olarak ndir",children:[p.jsx(XK,{size:20}),p.jsx("span",{className:"hidden sm:inline font-medium text-sm",children:"ndir"})]}),p.jsxs("button",{onClick:()=>u(!0),className:"p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center gap-2",title:"Trendler",children:[p.jsx(r1,{size:20}),p.jsx("span",{className:"hidden sm:inline font-medium text-sm",children:"Trendler"})]}),p.jsxs("div",{className:"relative flex-1 sm:flex-none min-w-[140px]",children:[p.jsx("input",{type:"month",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 pr-8 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 text-sm shadow-sm",value:t,onChange:F=>r(F.target.value)}),p.jsx(Il,{className:"absolute right-2.5 top-2.5 text-slate-400 pointer-events-none",size:16})]}),p.jsxs("div",{className:"relative",children:[p.jsxs("button",{onClick:()=>N(!A),className:"relative p-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 transition-all shadow-sm",children:[p.jsx(FT,{size:20}),O.length+oe.length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-sm animate-pulse",children:O.length+oe.length})]}),A&&p.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-96 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden z-50",children:[p.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/20",children:[p.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:"Finansal Asistan"}),p.jsx("button",{onClick:()=>n("/calendar"),className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"Takvime Git"})]}),p.jsx("div",{className:"max-h-[360px] overflow-y-auto p-2 space-y-4",children:O.length===0&&oe.length===0?p.jsxs("div",{className:"p-8 text-center text-slate-400 text-sm",children:[p.jsx(FT,{className:"mx-auto mb-2 opacity-50",size:24}),p.jsx("p",{children:"Harika! Planlanm demeniz veya yaklaan aboneliiniz yok."})]}):p.jsxs(p.Fragment,{children:[oe.length>0&&p.jsxs("div",{className:"space-y-2 mb-2",children:[p.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider pl-1",children:["Yaklaan Abonelikler (",oe.length,")"]}),oe.map(F=>p.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800/50 flex justify-between items-center group",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",style:{backgroundColor:F.color||"#6366f1"},children:F.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:F.name}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[p.jsx(Il,{size:10}),F.daysLeft===0?"Bugn!":F.daysLeft===1?"Yarn":`${F.daysLeft} gn kald`]})]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-sm",children:[F.price.toLocaleString("tr-TR",{maximumFractionDigits:0})," "]})})]},F.id)),p.jsx("div",{className:"border-b border-slate-100 dark:border-slate-700 my-2"})]}),(()=>{const F=new Date;F.setHours(0,0,0,0);const ae=O.reduce((be,ye)=>{const Ot=new Date(ye.date);Ot.setHours(0,0,0,0);const ve=Math.ceil((Ot-F)/(1e3*60*60*24));return ve<0?be.overdue.push(ye):ve<=1?be.upcoming.push(ye):be.future.push(ye),be},{overdue:[],upcoming:[],future:[]}),_e=(be,ye,Ot)=>ye.length>0&&p.jsxs("div",{className:"space-y-1",children:[p.jsx("h4",{className:`text-[10px] uppercase font-bold tracking-wider px-2 ${Ot}`,children:be}),ye.map(ve=>p.jsxs("div",{className:"p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 border-b border-slate-50 dark:border-slate-700/50 last:border-0 transition-colors flex justify-between items-center group",children:[p.jsxs("div",{className:"min-w-0 flex-1 pr-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"p-1 rounded-md bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:bt(ve.category)}),p.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm truncate",children:ve.title})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1 pl-7",children:[p.jsx("span",{children:new Date(ve.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),p.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-600 dark:text-slate-400",children:ct(ve.date)})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:[ve.amount.toLocaleString("tr-TR")," "]}),p.jsx("button",{onClick:()=>Le(ve),className:"p-1.5 text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-full transition-all",title:"dendi Olarak aretle",children:p.jsx(hd,{size:18})})]})]},ve.id))]});return p.jsxs(p.Fragment,{children:[_e("Gecikenler",ae.overdue,"text-red-500"),_e("Yaklaanlar",ae.upcoming,"text-amber-500"),_e("Gelecek Planlar",ae.future,"text-emerald-500")]})})()]})}),O.length>0&&p.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/40 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center text-xs font-medium",children:[p.jsx("span",{className:"text-slate-500",children:"Toplam Bekleyen"}),p.jsx("span",{className:"text-slate-800 dark:text-slate-200 text-sm",children:O.reduce((F,ae)=>F+ae.amount,0).toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]})]})]}),p.jsx("button",{onClick:()=>en(!ke),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:ke?p.jsx(DR,{size:20}):p.jsx(jR,{size:20})}),p.jsx("button",{onClick:()=>Qj(ts),className:"p-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:"k Yap",children:p.jsx(NR,{size:20})})]})]}),l&&p.jsx(ode,{transactions:i,onClose:()=>u(!1),darkMode:ke}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-600 p-6 rounded-2xl text-white shadow-xl shadow-indigo-500/20",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-indigo-100 font-medium mb-1",children:"Dnem Bakiyesi"}),p.jsx("h2",{className:"text-3xl font-bold",children:Re.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),p.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:p.jsx(Mc,{size:24,className:"text-white"})})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100 bg-white/10 p-2 rounded-lg backdrop-blur-sm inline-flex",children:[p.jsx(Mc,{size:14}),p.jsxs("span",{children:["Toplam Varlk: ",Po.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Gelirler"}),p.jsxs("h2",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["+",le.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),p.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full",children:p.jsx(pd,{size:24})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Giderler"}),p.jsxs("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["-",ze.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),p.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full",children:p.jsx(Yy,{size:24})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(co,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"lem Ekle"]}),p.jsxs("form",{onSubmit:B,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("button",{type:"button",onClick:()=>E("expense"),className:`py-2 px-4 rounded-lg font-medium transition-all ${_==="expense"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 border ring-1 ring-red-200 dark:ring-red-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gider"}),p.jsx("button",{type:"button",onClick:()=>E("income"),className:`py-2 px-4 rounded-lg font-medium transition-all ${_==="income"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 border ring-1 ring-emerald-200 dark:ring-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gelir"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tarih"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"date",required:!0,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:D,onChange:F=>P(F.target.value)}),p.jsx(Il,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori"}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all appearance-none",value:T,onChange:F=>I(F.target.value),children:(_==="expense"?V:Y).map(F=>p.jsx("option",{value:F,children:F},F))}),p.jsx(Jp,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aklama"}),p.jsx("input",{type:"text",placeholder:_==="expense"?"rn: Market Fii":"rn: Mart Ay Maa",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:x,onChange:F=>v(F.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar"}),p.jsx("input",{type:"number",placeholder:"0.00",required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:y,onChange:F=>b(F.target.value)})]}),_==="expense"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Yntemi"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("button",{type:"button",onClick:()=>C("cash"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${S==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[p.jsx(Qx,{size:16})," Nakit"]}),p.jsxs("button",{type:"button",onClick:()=>C("credit_card"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${S==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[p.jsx(Bi,{size:16})," Kredi Kart"]})]}),S==="credit_card"&&z.length>0&&p.jsxs("div",{className:"mt-3 bg-amber-50/50 p-2 rounded-lg border border-amber-100",children:[p.jsx("label",{className:"block text-xs font-medium text-amber-800 mb-2",children:"Hangi Kart?"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(F=>p.jsxs("button",{type:"button",onClick:()=>ue(F),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ${J===F?"bg-amber-100 border border-amber-300 text-amber-800 shadow-sm":"bg-white border border-amber-200 text-amber-600 hover:bg-white hover:border-amber-300"}`,children:[p.jsx(Bi,{size:12}),F]},F))})]})]}),p.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2 mt-4",children:[p.jsx(co,{size:18}),"Ekle"]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(Yy,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"Harcama Analizi"]}),vn.length>0?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"h-48 w-full min-w-[200px]",children:p.jsx(Ol,{width:"100%",height:"100%",children:p.jsxs(hk,{children:[p.jsx(Hv,{data:vn,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:vn.map((F,ae)=>p.jsx(Vs,{fill:Qs[ae%Qs.length]},`cell-${ae}`))}),p.jsx(Dl,{formatter:F=>F.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#1e293b"}})]})})}),p.jsx("div",{className:"space-y-4",children:vn.map((F,ae)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Qs[ae%Qs.length]}}),p.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:F.name})]}),p.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:F.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),p.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2",children:p.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${F.percentage}%`,backgroundColor:Qs[ae%Qs.length]}})})]},F.name))})]}):p.jsx("p",{className:"text-slate-400 text-center text-sm py-4",children:"Bu dnem iin harcama kayd yok."})]})]}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:["lemler (",o.length,")"]}),o.length===0?p.jsxs("div",{className:"text-center py-10 text-slate-400 flex flex-col items-center gap-3",children:[p.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-full",children:p.jsx(Mc,{size:32,className:"opacity-50"})}),p.jsx("p",{children:"Bu dnem iin kayt bulunamad."})]}):p.jsx("div",{className:"space-y-3",children:o.map(F=>{var ae;return p.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-indigo-100 dark:hover:border-indigo-900 hover:shadow-md transition-all bg-slate-50/50 dark:bg-slate-700/30 hover:bg-white dark:hover:bg-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[p.jsx("div",{className:"flex-shrink-0 p-3 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",children:F.type==="income"?p.jsx(pd,{size:20,className:"text-emerald-500"}):p.jsx(Yy,{size:20,className:"text-red-500"})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 truncate pr-2",children:F.title}),p.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[p.jsx("span",{className:"bg-slate-200 dark:bg-slate-600 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300 font-medium whitespace-nowrap",children:F.category||(F.type==="income"?"Gelir":"Gider")}),p.jsx("span",{className:"hidden sm:inline",children:""}),p.jsx("span",{className:"whitespace-nowrap",children:new Date(F.date||((ae=F.createdAt)==null?void 0:ae.toDate())).toLocaleDateString("tr-TR")}),F.type==="expense"&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"hidden sm:inline",children:""}),p.jsxs("span",{className:`flex items-center gap-1 ${F.paymentMethod==="credit_card"?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"}`,children:[F.paymentMethod==="credit_card"?p.jsx(Bi,{size:12}):p.jsx(Qx,{size:12}),p.jsx("span",{className:"hidden sm:inline",children:F.paymentMethod==="credit_card"?"Kredi Kart":"Nakit"})]})]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-2",children:[p.jsxs("span",{className:`font-bold text-sm sm:text-lg whitespace-nowrap ${F.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[F.type==="income"?"+":"-",Math.abs(F.amount).toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>ge(F),className:"p-2 text-slate-300 dark:text-slate-600 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-all opacity-100 sm:opacity-0 sm:group-hover:opacity-100",title:"Dzenle",children:p.jsx($g,{size:18})}),p.jsx("button",{onClick:()=>de(F.id),className:"p-2 text-slate-300 dark:text-slate-600 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all opacity-100 sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:p.jsx(Jl,{size:18})})]})]})]},F.id)})})]})})]}),h&&p.jsx(Cd,{isOpen:c,onClose:()=>d(!1),title:"lemi Dzenle",children:p.jsxs("form",{onSubmit:K,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("button",{type:"button",onClick:()=>m({...h,type:"expense"}),className:`py-2 px-4 rounded-lg font-medium transition-all ${h.type==="expense"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 border":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:"Gider"}),p.jsx("button",{type:"button",onClick:()=>m({...h,type:"income"}),className:`py-2 px-4 rounded-lg font-medium transition-all ${h.type==="income"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 border":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:"Gelir"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tarih"}),p.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.date,onChange:F=>m({...h,date:F.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori"}),p.jsx("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.category,onChange:F=>m({...h,category:F.target.value}),children:(h.type==="expense"?V:Y).map(F=>p.jsx("option",{value:F,children:F},F))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aklama"}),p.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.title,onChange:F=>m({...h,title:F.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.amount,onChange:F=>m({...h,amount:F.target.value})})]}),h.type==="expense"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Yntemi"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[p.jsx("button",{type:"button",onClick:()=>m({...h,paymentMethod:"cash",cardName:null}),className:`py-2 text-sm rounded-lg border ${h.paymentMethod==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 text-emerald-600":"border-slate-200 dark:border-slate-700"}`,children:"Nakit"}),p.jsx("button",{type:"button",onClick:()=>m({...h,paymentMethod:"credit_card",cardName:z[0]||""}),className:`py-2 text-sm rounded-lg border ${h.paymentMethod==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 border-amber-200 text-amber-600":"border-slate-200 dark:border-slate-700"}`,children:"Kredi Kart"})]}),h.paymentMethod==="credit_card"&&p.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200",value:h.cardName||"",onChange:F=>m({...h,cardName:F.target.value}),children:[p.jsx("option",{value:"",disabled:!0,children:"Kart Sein"}),z.map(F=>p.jsx("option",{value:F,children:F},F))]})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg transition-all",children:"Gncelle"})]})})]})}const lde=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!ude(i,a)&&n||Object.defineProperty(e,r,a)},ude=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},cde=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},dde=(e,t)=>`/* Wrapped ${e}*/
${t}`,fde=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),hde=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),pde=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=dde.bind(null,n,t.toString());Object.defineProperty(i,"name",hde);const{writable:a,enumerable:o,configurable:s}=fde;Object.defineProperty(e,"toString",{value:i,writable:a,enumerable:o,configurable:s})};function mde(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const i of Reflect.ownKeys(t))lde(e,t,i,r);return cde(e,t),pde(e,t,n),e}const Nh=2147483647,gde=new WeakMap,_0=new WeakMap,vde=new WeakMap;function yde(e,t){const r=e.get(t);if(r){if(r.maxAge<=Date.now()){e.delete(t);return}return r}}function y3(e,{cacheKey:t,cache:r=new Map,maxAge:n}={}){if(n===0)return e;if(typeof n=="number"&&Number.isFinite(n)){if(n>Nh)throw new TypeError(`The \`maxAge\` option cannot exceed ${Nh}.`);if(n<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...a){var c;const o=t?t(a):a[0],s=yde(r,o);if(s)return s.data;const l=e.apply(this,a),u=typeof n=="function"?n(...a):n;if(u!==void 0&&u!==Number.POSITIVE_INFINITY){if(!Number.isFinite(u))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(u<=0)return l;if(u>Nh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Nh}.`)}if(r.set(o,{data:l,maxAge:u===void 0||u===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+u}),u!==void 0&&u!==Number.POSITIVE_INFINITY){const d=setTimeout(()=>{var m;r.delete(o),(m=_0.get(i))==null||m.delete(d)},u);(c=d.unref)==null||c.call(d);const h=_0.get(i)??new Set;h.add(d),_0.set(i,h)}return l};return mde(i,e,{ignoreNonConfigurable:!0}),gde.set(i,r),vde.set(i,t??(a=>a[0])),i}function xde(e){return typeof e=="string"}function bde(e,t,r){return r.indexOf(e)===t}function wde(e){return e.toLowerCase()===e}function PO(e){return e.indexOf(",")===-1?e:e.split(",")}function Zb(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],r=t===void 0?"":t;return Zb(r)}if(e.indexOf("@")!==-1){var n=e.split("@")[0],r=n===void 0?"":n;return Zb(r)}if(e.indexOf("-")===-1||!wde(e))return e;var i=e.split("-"),a=i[0],o=i[1],s=o===void 0?"":o;return"".concat(a,"-").concat(s.toUpperCase())}function _de(e){var t=e===void 0?{}:e,r=t.useFallbackLocale,n=r===void 0?!0:r,i=t.fallbackLocale,a=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var s=navigator.languages||[],l=[],u=0,c=s;u<c.length;u++){var d=c[u];l=l.concat(PO(d))}var h=navigator.language,m=h&&PO(h);o=o.concat(l,m)}return n&&o.push(a),o.filter(xde).map(Zb).filter(bde)}var Ede=y3(_de,{cacheKey:JSON.stringify});function kde(e){return Ede(e)[0]||null}var x3=y3(kde,{cacheKey:JSON.stringify});function ba(e,t,r){return function(i,a=r){const o=e(i)+a;return t(o)}}function Sf(e){return function(r){return new Date(e(r).getTime()-1)}}function Pf(e,t){return function(n){return[e(n),t(n)]}}function ut(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;const t=Number.parseInt(e,10);if(typeof e=="string"&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${e}.`)}function ko(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function Gv(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function Tu(e){const t=ut(e),r=t+(-t+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const Sde=ba(ut,Tu,-100),b3=ba(ut,Tu,100),pk=Sf(b3),Pde=ba(ut,pk,-100),w3=Pf(Tu,pk);function So(e){const t=ut(e),r=t+(-t+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const _3=ba(ut,So,-10),mk=ba(ut,So,10),Yv=Sf(mk),E3=ba(ut,Yv,-10),k3=Pf(So,Yv);function Au(e){const t=ut(e),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}const S3=ba(ut,Au,-1),gk=ba(ut,Au,1),Qv=Sf(gk),P3=ba(ut,Qv,-1),Tde=Pf(Au,Qv);function vk(e,t){return function(n,i=t){const a=ut(n),o=ko(n)+i,s=new Date;return s.setFullYear(a,o,1),s.setHours(0,0,0,0),e(s)}}function Fs(e){const t=ut(e),r=ko(e),n=new Date;return n.setFullYear(t,r,1),n.setHours(0,0,0,0),n}const T3=vk(Fs,-1),yk=vk(Fs,1),Tf=Sf(yk),A3=vk(Tf,-1),Ade=Pf(Fs,Tf);function Ide(e,t){return function(n,i=t){const a=ut(n),o=ko(n),s=Gv(n)+i,l=new Date;return l.setFullYear(a,o,s),l.setHours(0,0,0,0),e(l)}}function Af(e){const t=ut(e),r=ko(e),n=Gv(e),i=new Date;return i.setFullYear(t,r,n),i.setHours(0,0,0,0),i}const Cde=Ide(Af,1),xk=Sf(Cde),Ode=Pf(Af,xk);function I3(e){return Gv(Tf(e))}var dr={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Nde={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},bk=[0,1,2,3,4,5,6],E0=new Map;function jde(e){return function(r,n){var i=r||x3();E0.has(i)||E0.set(i,new Map);var a=E0.get(i);return a.has(e)||a.set(e,new Intl.DateTimeFormat(i||void 0,e).format),a.get(e)(n)}}function Dde(e){var t=new Date(e);return new Date(t.setHours(12))}function $s(e){return function(t,r){return jde(e)(t,Dde(r))}}var Rde={day:"numeric"},Mde={day:"numeric",month:"long",year:"numeric"},Lde={month:"long"},Vde={month:"long",year:"numeric"},Fde={weekday:"short"},$de={weekday:"long"},zde={year:"numeric"},Ude=$s(Rde),Bde=$s(Mde),Wde=$s(Lde),C3=$s(Vde),Kde=$s(Fde),Hde=$s($de),Xv=$s(zde),qde=bk[0],Gde=bk[5],TO=bk[6];function Od(e,t){t===void 0&&(t=dr.ISO_8601);var r=e.getDay();switch(t){case dr.ISO_8601:return(r+6)%7;case dr.ISLAMIC:return(r+1)%7;case dr.HEBREW:case dr.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function Yde(e){var t=Tu(e);return ut(t)}function Qde(e){var t=So(e);return ut(t)}function ew(e,t){t===void 0&&(t=dr.ISO_8601);var r=ut(e),n=ko(e),i=e.getDate()-Od(e,t);return new Date(r,n,i)}function Xde(e,t){t===void 0&&(t=dr.ISO_8601);var r=t===dr.GREGORY?dr.GREGORY:dr.ISO_8601,n=ew(e,t),i=ut(e)+1,a,o;do a=new Date(i,0,r===dr.ISO_8601?4:1),o=ew(a,t),i-=1;while(e<o);return Math.round((n.getTime()-o.getTime())/(864e5*7))+1}function os(e,t){switch(e){case"century":return Tu(t);case"decade":return So(t);case"year":return Au(t);case"month":return Fs(t);case"day":return Af(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Jde(e,t){switch(e){case"century":return Sde(t);case"decade":return _3(t);case"year":return S3(t);case"month":return T3(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function O3(e,t){switch(e){case"century":return b3(t);case"decade":return mk(t);case"year":return gk(t);case"month":return yk(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Zde(e,t){switch(e){case"decade":return _3(t,-100);case"year":return S3(t,-10);case"month":return T3(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function efe(e,t){switch(e){case"decade":return mk(t,100);case"year":return gk(t,10);case"month":return yk(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function N3(e,t){switch(e){case"century":return pk(t);case"decade":return Yv(t);case"year":return Qv(t);case"month":return Tf(t);case"day":return xk(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function tfe(e,t){switch(e){case"century":return Pde(t);case"decade":return E3(t);case"year":return P3(t);case"month":return A3(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function rfe(e,t){switch(e){case"decade":return E3(t,-100);case"year":return P3(t,-10);case"month":return A3(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function AO(e,t){switch(e){case"century":return w3(t);case"decade":return k3(t);case"year":return Tde(t);case"month":return Ade(t);case"day":return Ode(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function nfe(e,t,r){var n=[t,r].sort(function(i,a){return i.getTime()-a.getTime()});return[os(e,n[0]),N3(e,n[1])]}function j3(e,t,r){return r.map(function(n){return(t||Xv)(e,n)}).join("  ")}function ife(e,t,r){return j3(e,t,w3(r))}function D3(e,t,r){return j3(e,t,k3(r))}function afe(e){return e.getDay()===new Date().getDay()}function R3(e,t){t===void 0&&(t=dr.ISO_8601);var r=e.getDay();switch(t){case dr.ISLAMIC:case dr.HEBREW:return r===Gde||r===TO;case dr.ISO_8601:case dr.GREGORY:return r===TO||r===qde;default:throw new Error("Unsupported calendar type.")}}var oi="react-calendar__navigation";function ofe(e){var t=e.activeStartDate,r=e.drillUp,n=e.formatMonthYear,i=n===void 0?C3:n,a=e.formatYear,o=a===void 0?Xv:a,s=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,d=c===void 0?"":c,h=e.navigationAriaLive,m=e.navigationLabel,y=e.next2AriaLabel,b=y===void 0?"":y,x=e.next2Label,v=x===void 0?"":x,_=e.nextAriaLabel,E=_===void 0?"":_,T=e.nextLabel,I=T===void 0?"":T,D=e.prev2AriaLabel,P=D===void 0?"":D,S=e.prev2Label,C=S===void 0?"":S,O=e.prevAriaLabel,j=O===void 0?"":O,A=e.prevLabel,N=A===void 0?"":A,V=e.setActiveStartDate,U=e.showDoubleView,Y=e.view,Q=e.views,z=Q.indexOf(Y)>0,H=Y!=="century",J=Jde(Y,t),ue=H?Zde(Y,t):void 0,oe=O3(Y,t),we=H?efe(Y,t):void 0,Le=function(){if(J.getFullYear()<0)return!0;var le=tfe(Y,t);return u&&u>=le}(),ct=H&&function(){if(ue.getFullYear()<0)return!0;var le=rfe(Y,t);return u&&u>=le}(),bt=l&&l<oe,ke=H&&l&&l<we;function en(){V(J,"prev")}function B(){V(ue,"prev2")}function de(){V(oe,"next")}function ge(){V(we,"next2")}function K(le){var ze=function(){switch(Y){case"century":return ife(s,o,le);case"decade":return D3(s,o,le);case"year":return o(s,le);case"month":return i(s,le);default:throw new Error("Invalid view: ".concat(Y,"."))}}();return m?m({date:le,label:ze,locale:s||x3()||void 0,view:Y}):ze}function it(){var le="".concat(oi,"__label");return p.jsxs("button",{"aria-label":d,"aria-live":h,className:le,disabled:!z,onClick:r,style:{flexGrow:1},type:"button",children:[p.jsx("span",{className:"".concat(le,"__labelText ").concat(le,"__labelText--from"),children:K(t)}),U?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"".concat(le,"__divider"),children:"  "}),p.jsx("span",{className:"".concat(le,"__labelText ").concat(le,"__labelText--to"),children:K(oe)})]}):null]})}return p.jsxs("div",{className:oi,children:[C!==null&&H?p.jsx("button",{"aria-label":P,className:"".concat(oi,"__arrow ").concat(oi,"__prev2-button"),disabled:ct,onClick:B,type:"button",children:C}):null,N!==null&&p.jsx("button",{"aria-label":j,className:"".concat(oi,"__arrow ").concat(oi,"__prev-button"),disabled:Le,onClick:en,type:"button",children:N}),it(),I!==null&&p.jsx("button",{"aria-label":E,className:"".concat(oi,"__arrow ").concat(oi,"__next-button"),disabled:bt,onClick:de,type:"button",children:I}),v!==null&&H?p.jsx("button",{"aria-label":b,className:"".concat(oi,"__arrow ").concat(oi,"__next2-button"),disabled:ke,onClick:ge,type:"button",children:v}):null]})}var vl=function(){return vl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},vl.apply(this,arguments)},sfe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function IO(e){return"".concat(e,"%")}function wk(e){var t=e.children,r=e.className,n=e.count,i=e.direction,a=e.offset,o=e.style,s=e.wrap,l=sfe(e,["children","className","count","direction","offset","style","wrap"]);return p.jsx("div",vl({className:r,style:vl({display:"flex",flexDirection:i,flexWrap:s?"wrap":"nowrap"},o)},l,{children:g.Children.map(t,function(u,c){var d=a&&c===0?IO(100*a/n):null;return g.cloneElement(u,vl(vl({},u.props),{style:{flexBasis:IO(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function lfe(e,t,r){return t&&t>e?t:r&&r<e?r:e}function Nd(e,t){return t[0]<=e&&t[1]>=e}function ufe(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function M3(e,t){return Nd(e[0],t)||Nd(e[1],t)}function CO(e,t,r){var n=M3(t,e),i=[];if(n){i.push(r);var a=Nd(e[0],t),o=Nd(e[1],t);a&&i.push("".concat(r,"Start")),o&&i.push("".concat(r,"End")),a&&o&&i.push("".concat(r,"BothEnds"))}return i}function cfe(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function dfe(e){if(!e)throw new Error("args is required");var t=e.value,r=e.date,n=e.hover,i="react-calendar__tile",a=[i];if(!r)return a;var o=new Date,s=function(){if(Array.isArray(r))return r;var m=e.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return AO(m,r)}();if(Nd(o,s)&&a.push("".concat(i,"--now")),!t||!cfe(t))return a;var l=function(){if(Array.isArray(t))return t;var m=e.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return AO(m,t)}();ufe(l,s)?a.push("".concat(i,"--active")):M3(l,s)&&a.push("".concat(i,"--hasActive"));var u=CO(l,s,"".concat(i,"--range"));a.push.apply(a,u);var c=Array.isArray(t)?t:[t];if(n&&c.length===1){var d=n>l[0]?[l[0],n]:[n,l[0]],h=CO(d,s,"".concat(i,"--hover"));a.push.apply(a,h)}return a}function Jv(e){for(var t=e.className,r=e.count,n=r===void 0?3:r,i=e.dateTransform,a=e.dateType,o=e.end,s=e.hover,l=e.offset,u=e.renderTile,c=e.start,d=e.step,h=d===void 0?1:d,m=e.value,y=e.valueType,b=[],x=c;x<=o;x+=h){var v=i(x);b.push(u({classes:dfe({date:v,dateType:a,hover:s,value:m,valueType:y}),date:v}))}return p.jsx(wk,{className:t,count:n,offset:l,wrap:!0,children:b})}function Zv(e){var t=e.activeStartDate,r=e.children,n=e.classes,i=e.date,a=e.formatAbbr,o=e.locale,s=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,d=e.onClick,h=e.onMouseOver,m=e.style,y=e.tileClassName,b=e.tileContent,x=e.tileDisabled,v=e.view,_=g.useMemo(function(){var T={activeStartDate:t,date:i,view:v};return typeof y=="function"?y(T):y},[t,i,y,v]),E=g.useMemo(function(){var T={activeStartDate:t,date:i,view:v};return typeof b=="function"?b(T):b},[t,i,b,v]);return p.jsxs("button",{className:Pe(n,_),disabled:u&&c(u)>i||s&&l(s)<i||(x==null?void 0:x({activeStartDate:t,date:i,view:v})),onClick:d?function(T){return d(i,T)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:m,type:"button",children:[a?p.jsx("abbr",{"aria-label":a(o,i),children:r}):r,E]})}var tw=function(){return tw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},tw.apply(this,arguments)},ffe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},OO="react-calendar__century-view__decades__decade";function hfe(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentCentury,i=e.formatYear,a=i===void 0?Xv:i,o=ffe(e,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,u=[];return r&&u.push.apply(u,r),u.push(OO),Tu(s).getFullYear()!==n&&u.push("".concat(OO,"--neighboringCentury")),p.jsx(Zv,tw({},o,{classes:u,maxDateTransform:Yv,minDateTransform:So,view:"century",children:D3(l,a,s)}))}var rw=function(){return rw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},rw.apply(this,arguments)},NO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function pfe(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringCentury,i=e.value,a=e.valueType,o=NO(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=Yde(t),l=s+(n?119:99);return p.jsx(Jv,{className:"react-calendar__century-view__decades",dateTransform:So,dateType:"decade",end:l,hover:r,renderTile:function(u){var c=u.date,d=NO(u,["date"]);return p.jsx(hfe,rw({},o,d,{activeStartDate:t,currentCentury:s,date:c}),c.getTime())},start:s,step:10,value:i,valueType:a})}var nw=function(){return nw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},nw.apply(this,arguments)};function mfe(e){function t(){return p.jsx(pfe,nw({},e))}return p.jsx("div",{className:"react-calendar__century-view",children:t()})}var iw=function(){return iw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},iw.apply(this,arguments)},gfe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},jO="react-calendar__decade-view__years__year";function vfe(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentDecade,i=e.formatYear,a=i===void 0?Xv:i,o=gfe(e,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,u=[];return r&&u.push.apply(u,r),u.push(jO),So(s).getFullYear()!==n&&u.push("".concat(jO,"--neighboringDecade")),p.jsx(Zv,iw({},o,{classes:u,maxDateTransform:Qv,minDateTransform:Au,view:"decade",children:a(l,s)}))}var aw=function(){return aw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},aw.apply(this,arguments)},DO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function yfe(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringDecade,i=e.value,a=e.valueType,o=DO(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=Qde(t),l=s+(n?11:9);return p.jsx(Jv,{className:"react-calendar__decade-view__years",dateTransform:Au,dateType:"year",end:l,hover:r,renderTile:function(u){var c=u.date,d=DO(u,["date"]);return p.jsx(vfe,aw({},o,d,{activeStartDate:t,currentDecade:s,date:c}),c.getTime())},start:s,value:i,valueType:a})}var ow=function(){return ow=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ow.apply(this,arguments)};function xfe(e){function t(){return p.jsx(yfe,ow({},e))}return p.jsx("div",{className:"react-calendar__decade-view",children:t()})}var sw=function(){return sw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sw.apply(this,arguments)},bfe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},RO=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},wfe="react-calendar__year-view__months__month";function _fe(e){var t=e.classes,r=t===void 0?[]:t,n=e.formatMonth,i=n===void 0?Wde:n,a=e.formatMonthYear,o=a===void 0?C3:a,s=bfe(e,["classes","formatMonth","formatMonthYear"]),l=s.date,u=s.locale;return p.jsx(Zv,sw({},s,{classes:RO(RO([],r,!0),[wfe],!1),formatAbbr:o,maxDateTransform:Tf,minDateTransform:Fs,view:"year",children:i(u,l)}))}var lw=function(){return lw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},lw.apply(this,arguments)},MO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Efe(e){var t=e.activeStartDate,r=e.hover,n=e.value,i=e.valueType,a=MO(e,["activeStartDate","hover","value","valueType"]),o=0,s=11,l=ut(t);return p.jsx(Jv,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(l,u,1),Fs(c)},dateType:"month",end:s,hover:r,renderTile:function(u){var c=u.date,d=MO(u,["date"]);return p.jsx(_fe,lw({},a,d,{activeStartDate:t,date:c}),c.getTime())},start:o,value:n,valueType:i})}var uw=function(){return uw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},uw.apply(this,arguments)};function kfe(e){function t(){return p.jsx(Efe,uw({},e))}return p.jsx("div",{className:"react-calendar__year-view",children:t()})}var cw=function(){return cw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},cw.apply(this,arguments)},Sfe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},k0="react-calendar__month-view__days__day";function Pfe(e){var t=e.calendarType,r=e.classes,n=r===void 0?[]:r,i=e.currentMonthIndex,a=e.formatDay,o=a===void 0?Ude:a,s=e.formatLongDate,l=s===void 0?Bde:s,u=Sfe(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=u.date,d=u.locale,h=[];return n&&h.push.apply(h,n),h.push(k0),R3(c,t)&&h.push("".concat(k0,"--weekend")),c.getMonth()!==i&&h.push("".concat(k0,"--neighboringMonth")),p.jsx(Zv,cw({},u,{classes:h,formatAbbr:l,maxDateTransform:xk,minDateTransform:Af,view:"month",children:o(d,c)}))}var dw=function(){return dw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dw.apply(this,arguments)},LO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Tfe(e){var t=e.activeStartDate,r=e.calendarType,n=e.hover,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,s=e.valueType,l=LO(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=ut(t),c=ko(t),d=i||a,h=Od(t,r),m=d?0:h,y=(d?-h:0)+1,b=function(){if(i)return y+6*7-1;var x=I3(t);if(a){var v=new Date;v.setFullYear(u,c,x),v.setHours(0,0,0,0);var _=7-Od(v,r)-1;return x+_}return x}();return p.jsx(Jv,{className:"react-calendar__month-view__days",count:7,dateTransform:function(x){var v=new Date;return v.setFullYear(u,c,x),Af(v)},dateType:"day",hover:n,end:b,renderTile:function(x){var v=x.date,_=LO(x,["date"]);return p.jsx(Pfe,dw({},l,_,{activeStartDate:t,calendarType:r,currentMonthIndex:c,date:v}),v.getTime())},offset:m,start:y,value:o,valueType:s})}var L3="react-calendar__month-view__weekdays",S0="".concat(L3,"__weekday");function Afe(e){for(var t=e.calendarType,r=e.formatShortWeekday,n=r===void 0?Kde:r,i=e.formatWeekday,a=i===void 0?Hde:i,o=e.locale,s=e.onMouseLeave,l=new Date,u=Fs(l),c=ut(u),d=ko(u),h=[],m=1;m<=7;m+=1){var y=new Date(c,d,m-Od(u,t)),b=a(o,y);h.push(p.jsx("div",{className:Pe(S0,afe(y)&&"".concat(S0,"--current"),R3(y,t)&&"".concat(S0,"--weekend")),children:p.jsx("abbr",{"aria-label":b,title:b,children:n(o,y).replace(".","")})},m))}return p.jsx(wk,{className:L3,count:7,onFocus:s,onMouseOver:s,children:h})}var Qm=function(){return Qm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qm.apply(this,arguments)},VO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},FO="react-calendar__tile";function Ife(e){var t=e.onClickWeekNumber,r=e.weekNumber,n=p.jsx("span",{children:r});if(t){var i=e.date,a=e.onClickWeekNumber,o=e.weekNumber,s=VO(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("button",Qm({},s,{className:FO,onClick:function(l){return a(o,i,l)},type:"button",children:n}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var s=VO(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("div",Qm({},s,{className:FO,children:n}))}}function Cfe(e){var t=e.activeStartDate,r=e.calendarType,n=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=function(){if(a)return 6;var u=I3(t),c=Od(t,r),d=u-(7-c);return 1+Math.ceil(d/7)}(),s=function(){for(var u=ut(t),c=ko(t),d=Gv(t),h=[],m=0;m<o;m+=1)h.push(ew(new Date(u,c,d+m*7),r));return h}(),l=s.map(function(u){return Xde(u,r)});return p.jsx(wk,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,c){var d=s[c];if(!d)throw new Error("date is not defined");return p.jsx(Ife,{date:d,onClickWeekNumber:n,weekNumber:u},u)})})}var fw=function(){return fw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},fw.apply(this,arguments)},Ofe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Nfe(e){if(e)for(var t=0,r=Object.entries(Nde);t<r.length;t++){var n=r[t],i=n[0],a=n[1];if(a.includes(e))return i}return dr.ISO_8601}function jfe(e){var t=e.activeStartDate,r=e.locale,n=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,o=a===void 0?Nfe(r):a,s=e.formatShortWeekday,l=e.formatWeekday,u=e.onClickWeekNumber,c=e.showWeekNumbers,d=Ofe(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function h(){return p.jsx(Afe,{calendarType:o,formatShortWeekday:s,formatWeekday:l,locale:r,onMouseLeave:n})}function m(){return c?p.jsx(Cfe,{activeStartDate:t,calendarType:o,onClickWeekNumber:u,onMouseLeave:n,showFixedNumberOfWeeks:i}):null}function y(){return p.jsx(Tfe,fw({calendarType:o},d))}var b="react-calendar__month-view";return p.jsx("div",{className:Pe(b,c?"".concat(b,"--weekNumbers"):""),children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[m(),p.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[h(),y()]})]})})}var yl=function(){return yl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},yl.apply(this,arguments)},jh="react-calendar",lp=["century","decade","year","month"],Dfe=["decade","year","month","day"],_k=new Date;_k.setFullYear(1,0,1);_k.setHours(0,0,0,0);var Rfe=new Date(864e13);function wc(e){return e instanceof Date?e:new Date(e)}function V3(e,t){return lp.slice(lp.indexOf(e),lp.indexOf(t)+1)}function Mfe(e,t,r){var n=V3(t,r);return n.indexOf(e)!==-1}function Ek(e,t,r){return e&&Mfe(e,t,r)?e:r}function F3(e){var t=lp.indexOf(e);return Dfe[t]}function Lfe(e,t){var r=Array.isArray(e)?e[t]:e;if(!r)return null;var n=wc(r);if(Number.isNaN(n.getTime()))throw new Error("Invalid date: ".concat(e));return n}function $3(e,t){var r=e.value,n=e.minDate,i=e.maxDate,a=e.maxDetail,o=Lfe(r,t);if(!o)return null;var s=F3(a),l=function(){switch(t){case 0:return os(s,o);case 1:return N3(s,o);default:throw new Error("Invalid index value: ".concat(t))}}();return lfe(l,n,i)}var kk=function(e){return $3(e,0)},z3=function(e){return $3(e,1)},Vfe=function(e){return[kk,z3].map(function(t){return t(e)})};function U3(e){var t=e.maxDate,r=e.maxDetail,n=e.minDate,i=e.minDetail,a=e.value,o=e.view,s=Ek(o,i,r),l=kk({value:a,minDate:n,maxDate:t,maxDetail:r})||new Date;return os(s,l)}function Ffe(e){var t=e.activeStartDate,r=e.defaultActiveStartDate,n=e.defaultValue,i=e.defaultView,a=e.maxDate,o=e.maxDetail,s=e.minDate,l=e.minDetail,u=e.value,c=e.view,d=Ek(c,l,o),h=t||r;return h?os(d,h):U3({maxDate:a,maxDetail:o,minDate:s,minDetail:l,value:u||n,view:c||i})}function P0(e){return e&&(!Array.isArray(e)||e.length===1)}function Dh(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var $fe=g.forwardRef(function(t,r){var n=t.activeStartDate,i=t.allowPartialRange,a=t.calendarType,o=t.className,s=t.defaultActiveStartDate,l=t.defaultValue,u=t.defaultView,c=t.formatDay,d=t.formatLongDate,h=t.formatMonth,m=t.formatMonthYear,y=t.formatShortWeekday,b=t.formatWeekday,x=t.formatYear,v=t.goToRangeStartOnSelect,_=v===void 0?!0:v,E=t.inputRef,T=t.locale,I=t.maxDate,D=I===void 0?Rfe:I,P=t.maxDetail,S=P===void 0?"month":P,C=t.minDate,O=C===void 0?_k:C,j=t.minDetail,A=j===void 0?"century":j,N=t.navigationAriaLabel,V=t.navigationAriaLive,U=t.navigationLabel,Y=t.next2AriaLabel,Q=t.next2Label,z=t.nextAriaLabel,H=t.nextLabel,J=t.onActiveStartDateChange,ue=t.onChange,oe=t.onClickDay,we=t.onClickDecade,Le=t.onClickMonth,ct=t.onClickWeekNumber,bt=t.onClickYear,ke=t.onDrillDown,en=t.onDrillUp,B=t.onViewChange,de=t.prev2AriaLabel,ge=t.prev2Label,K=t.prevAriaLabel,it=t.prevLabel,le=t.returnValue,ze=le===void 0?"start":le,Re=t.selectRange,gr=t.showDoubleView,vn=t.showFixedNumberOfWeeks,Po=t.showNavigation,F=Po===void 0?!0:Po,ae=t.showNeighboringCentury,_e=t.showNeighboringDecade,be=t.showNeighboringMonth,ye=be===void 0?!0:be,Ot=t.showWeekNumbers,ve=t.tileClassName,Ue=t.tileContent,ir=t.tileDisabled,jr=t.value,Vn=t.view,wa=g.useState(s),yn=wa[0],To=wa[1],Iu=g.useState(null),Cu=Iu[0],If=Iu[1],Cf=g.useState(Array.isArray(l)?l.map(function(xe){return xe!==null?wc(xe):null}):l!=null?wc(l):null),Ao=Cf[0],Of=Cf[1],Ou=g.useState(u),Io=Ou[0],zs=Ou[1],Gt=n||yn||Ffe({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:u,maxDate:D,maxDetail:S,minDate:O,minDetail:A,value:jr,view:Vn}),wt=function(){var xe=function(){return Re&&P0(Ao)?Ao:jr!==void 0?jr:Ao}();return xe?Array.isArray(xe)?xe.map(function(Me){return Me!==null?wc(Me):null}):xe!==null?wc(xe):null:null}(),Co=F3(S),Be=Ek(Vn||Io,A,S),tn=V3(A,S),Oo=Re?Cu:null,Us=tn.indexOf(Be)<tn.length-1,Yt=tn.indexOf(Be)>0,Nu=g.useCallback(function(xe){var Me=function(){switch(ze){case"start":return kk;case"end":return z3;case"range":return Vfe;default:throw new Error("Invalid returnValue.")}}();return Me({maxDate:D,maxDetail:S,minDate:O,value:xe})},[D,S,O,ze]),Si=g.useCallback(function(xe,Me){To(xe);var dt={action:Me,activeStartDate:xe,value:wt,view:Be};J&&!Dh(Gt,xe)&&J(dt)},[Gt,J,wt,Be]),ri=g.useCallback(function(xe,Me){var dt=function(){switch(Be){case"century":return we;case"decade":return bt;case"year":return Le;case"month":return oe;default:throw new Error("Invalid view: ".concat(Be,"."))}}();dt&&dt(xe,Me)},[oe,we,Le,bt,Be]),ju=g.useCallback(function(xe,Me){if(Us){ri(xe,Me);var dt=tn[tn.indexOf(Be)+1];if(!dt)throw new Error("Attempted to drill down from the lowest view.");To(xe),zs(dt);var Br={action:"drillDown",activeStartDate:xe,value:wt,view:dt};J&&!Dh(Gt,xe)&&J(Br),B&&Be!==dt&&B(Br),ke&&ke(Br)}},[Gt,Us,J,ri,ke,B,wt,Be,tn]),Du=g.useCallback(function(){if(Yt){var xe=tn[tn.indexOf(Be)-1];if(!xe)throw new Error("Attempted to drill up from the highest view.");var Me=os(xe,Gt);To(Me),zs(xe);var dt={action:"drillUp",activeStartDate:Me,value:wt,view:xe};J&&!Dh(Gt,Me)&&J(dt),B&&Be!==xe&&B(dt),en&&en(dt)}},[Gt,Yt,J,en,B,wt,Be,tn]),ni=g.useCallback(function(xe,Me){var dt=wt;ri(xe,Me);var Br=Re&&!P0(dt),Dr;if(Re)if(Br)Dr=os(Co,xe);else{if(!dt)throw new Error("previousValue is required");if(Array.isArray(dt))throw new Error("previousValue must not be an array");Dr=nfe(Co,dt,xe)}else Dr=Nu(xe);var jo=!Re||Br||_?U3({maxDate:D,maxDetail:S,minDate:O,minDetail:A,value:Dr,view:Be}):null;Me.persist(),To(jo),Of(Dr);var jf={action:"onChange",activeStartDate:jo,value:Dr,view:Be};if(J&&!Dh(Gt,jo)&&J(jf),ue)if(Re){var Df=P0(Dr);if(!Df)ue(Dr||null,Me);else if(i){if(Array.isArray(Dr))throw new Error("value must not be an array");ue([Dr||null,null],Me)}}else ue(Dr||null,Me)},[Gt,i,Nu,_,D,S,O,A,J,ue,ri,Re,wt,Co,Be]);function ey(xe){If(xe)}function Ru(){If(null)}g.useImperativeHandle(r,function(){return{activeStartDate:Gt,drillDown:ju,drillUp:Du,onChange:ni,setActiveStartDate:Si,value:wt,view:Be}},[Gt,ju,Du,ni,Si,wt,Be]);function No(xe){var Me=xe?O3(Be,Gt):os(Be,Gt),dt=Us?ju:ni,Br={activeStartDate:Me,hover:Oo,locale:T,maxDate:D,minDate:O,onClick:dt,onMouseOver:Re?ey:void 0,tileClassName:ve,tileContent:Ue,tileDisabled:ir,value:wt,valueType:Co};switch(Be){case"century":return p.jsx(mfe,yl({formatYear:x,showNeighboringCentury:ae},Br));case"decade":return p.jsx(xfe,yl({formatYear:x,showNeighboringDecade:_e},Br));case"year":return p.jsx(kfe,yl({formatMonth:h,formatMonthYear:m},Br));case"month":return p.jsx(jfe,yl({calendarType:a,formatDay:c,formatLongDate:d,formatShortWeekday:y,formatWeekday:b,onClickWeekNumber:ct,onMouseLeave:Re?Ru:void 0,showFixedNumberOfWeeks:typeof vn<"u"?vn:gr,showNeighboringMonth:ye,showWeekNumbers:Ot},Br));default:throw new Error("Invalid view: ".concat(Be,"."))}}function Nf(){return F?p.jsx(ofe,{activeStartDate:Gt,drillUp:Du,formatMonthYear:m,formatYear:x,locale:T,maxDate:D,minDate:O,navigationAriaLabel:N,navigationAriaLive:V,navigationLabel:U,next2AriaLabel:Y,next2Label:Q,nextAriaLabel:z,nextLabel:H,prev2AriaLabel:de,prev2Label:ge,prevAriaLabel:K,prevLabel:it,setActiveStartDate:Si,showDoubleView:gr,view:Be,views:tn}):null}var Mu=Array.isArray(wt)?wt:[wt];return p.jsxs("div",{className:Pe(jh,Re&&Mu.length===1&&"".concat(jh,"--selectRange"),gr&&"".concat(jh,"--doubleView"),o),ref:E,children:[Nf(),p.jsxs("div",{className:"".concat(jh,"__viewContainer"),onBlur:Re?Ru:void 0,onMouseLeave:Re?Ru:void 0,children:[No(),gr?No(!0):null]})]})});const zfe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function Ufe({user:e}){const[t,r]=g.useState(new Date),[n,i]=g.useState([]),[a,o]=g.useState([]),[s,l]=g.useState(""),[u,c]=g.useState(""),[d,h]=g.useState(""),[m,y]=g.useState("none"),[b,x]=g.useState(12),[v,_]=g.useState(!1),[E,T]=g.useState("cash");g.useEffect(()=>{const A=vi(Tr(Ae,"planned_transactions"),on("uid","==",e.uid)),N=Pn(A,V=>{const U=V.docs.map(Y=>({id:Y.id,...Y.data()}));i(U)});return()=>N()},[e.uid]),g.useEffect(()=>{const A=vi(Tr(Ae,"subscriptions"),on("uid","==",e.uid),on("status","==","active")),N=Pn(A,V=>{const U=V.docs.map(Y=>({id:Y.id,...Y.data()}));o(U)});return()=>N()},[e.uid]);const I=({date:A,view:N})=>{if(N==="month"){const V=A.toISOString().split("T")[0],U=n.filter(Q=>Q.date===V),Y=a.filter(Q=>Q.billingDay===A.getDate());if(U.length>0||Y.length>0)return p.jsxs("div",{className:"calendar-tile-content flex items-center justify-center gap-0.5",children:[U.map((Q,z)=>p.jsx("div",{className:`calendar-dot ${Q.isCompleted?"dot-completed":"dot-expense"}`},`evt-${z}`)),Y.map((Q,z)=>p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500",title:Q.name},`sub-${z}`))]})}},D=async A=>{if(A.preventDefault(),!(!s||!u||!d)){_(!0);try{const N=new Date(t),V=m==="none"?1:parseInt(b),U=[];for(let Y=0;Y<V;Y++){const Q=new Date(N);m==="weekly"?Q.setDate(N.getDate()+Y*7):m==="monthly"&&Q.setMonth(N.getMonth()+Y);const z=Q.toISOString().split("T")[0];U.push(Xp(Tr(Ae,"planned_transactions"),{uid:e.uid,title:m!=="none"?`${u} (${Y+1}/${V})`:u,amount:parseFloat(s),category:d,paymentMethod:E,date:z,isCompleted:!1,createdAt:fd()}))}await Promise.all(U),l(""),c(""),h(""),y("none")}catch(N){console.error("Error adding planned transaction:",N),alert("Bir hata olutu.")}finally{_(!1)}}},P=async A=>{confirm(`${A.title} ilemini tamamland olarak iaretlemek istiyor musunuz?`)&&(await Xp(Tr(Ae,"transactions"),{uid:e.uid,title:A.title,amount:A.amount,type:"expense",category:A.category,paymentMethod:A.paymentMethod||"cash",date:A.date,createdAt:fd()}),await Ma(Pt(Ae,"planned_transactions",A.id),{isCompleted:!0}))},S=async A=>{confirm("Bu planl ilemi silmek istediinize emin misiniz?")&&await Vg(Pt(Ae,"planned_transactions",A))},C=t.toISOString().split("T")[0],O=n.filter(A=>A.date===C),j=a.filter(A=>A.billingDay===t.getDate());return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-6",children:[p.jsx(Il,{className:"text-indigo-600 dark:text-indigo-400"}),"deme Takvimi"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700",children:p.jsx($fe,{onChange:r,value:t,tileContent:I,className:"w-full border-none font-sans text-slate-700 dark:text-slate-200",locale:"tr-TR"})}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),O.length===0&&j.length===0?p.jsx("p",{className:"text-slate-400 text-sm text-center py-6",children:"Bu tarih iin planlanm bir deme yok."}):p.jsxs("div",{className:"space-y-3",children:[j.map(A=>p.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800/50 rounded-xl flex items-center justify-between group",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",style:{backgroundColor:A.color||"#6366f1"},children:A.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:A.name}),p.jsx("span",{className:"text-[10px] uppercase font-bold text-indigo-500 bg-indigo-100 dark:bg-indigo-900 px-1.5 py-0.5 rounded",children:"Abonelik"})]})]}),p.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-sm",children:A.price.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},A.id)),O.map(A=>p.jsxs("div",{className:`p-3 rounded-xl border flex items-center justify-between group transition-all ${A.isCompleted?"bg-emerald-50 border-emerald-100 dark:bg-emerald-900/20 dark:border-emerald-800":"bg-slate-50 border-slate-100 dark:bg-slate-700/50 dark:border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${A.isCompleted?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900 dark:text-emerald-400":"bg-white text-slate-500 dark:bg-slate-600 dark:text-slate-300"}`,children:A.isCompleted?p.jsx(hd,{size:16}):p.jsx(QK,{size:16})}),p.jsxs("div",{children:[p.jsx("p",{className:`font-semibold text-sm ${A.isCompleted?"text-emerald-800 dark:text-emerald-200 line-through":"text-slate-800 dark:text-slate-200"}`,children:A.title}),p.jsx("p",{className:"text-xs text-slate-400",children:A.category})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:`font-bold text-sm ${A.isCompleted?"text-emerald-600 dark:text-emerald-400":"text-slate-600 dark:text-slate-300"}`,children:[A.amount,""]}),!A.isCompleted&&p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>P(A),className:"p-1.5 text-emerald-500 hover:bg-emerald-100 rounded-md",title:"de",children:p.jsx(hd,{size:14})}),p.jsx("button",{onClick:()=>S(A.id),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-md",title:"Sil",children:p.jsx(Jl,{size:14})})]})]})]},A.id))]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(co,{size:20,className:"text-indigo-500"}),"Yeni Plan Ekle"]}),p.jsxs("form",{onSubmit:D,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Balk"}),p.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",placeholder:"rn: Kira demesi",value:u,onChange:A=>c(A.target.value)})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tutar"}),p.jsx("input",{type:"number",required:!0,min:"0",className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",placeholder:"0.00",value:s,onChange:A=>l(A.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Kategori"}),p.jsxs("select",{className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:d,onChange:A=>h(A.target.value),children:[p.jsx("option",{value:"",children:"Seiniz"}),zfe.map(A=>p.jsx("option",{value:A,children:A},A))]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"deme Yntemi"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("button",{type:"button",onClick:()=>T("cash"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${E==="cash"?"bg-emerald-50 text-emerald-600 border border-emerald-200":"bg-slate-50 text-slate-500 border border-transparent"}`,children:[p.jsx(Qx,{size:16})," Nakit"]}),p.jsxs("button",{type:"button",onClick:()=>T("credit_card"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${E==="credit_card"?"bg-amber-50 text-amber-600 border border-amber-200":"bg-slate-50 text-slate-500 border border-transparent"}`,children:[p.jsx(Bi,{size:16})," Kredi Kart"]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tekrar"}),p.jsxs("select",{className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:m,onChange:A=>y(A.target.value),children:[p.jsx("option",{value:"none",children:"Tek Seferlik"}),p.jsx("option",{value:"weekly",children:"Haftalk"}),p.jsx("option",{value:"monthly",children:"Aylk"})]})]}),m!=="none"&&p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tekrar Says"}),p.jsx("input",{type:"number",min:"2",max:"60",className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:b,onChange:A=>x(A.target.value)})]}),p.jsx("button",{type:"submit",disabled:v,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:v?"Ekleniyor...":p.jsxs(p.Fragment,{children:[p.jsx(co,{size:18}),"Plana Ekle"]})})]})]})]})]})]})}const Bfe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function Wfe({user:e,filterDate:t,setFilterDate:r}){const[n,i]=g.useState([]),[a,o]=g.useState({}),[s,l]=g.useState(!0),[u,c]=g.useState(!1),[d,h]=g.useState(null),[m,y]=g.useState("");g.useEffect(()=>{const P=vi(Tr(Ae,"transactions"),on("uid","==",e.uid)),S=Pn(P,C=>{const O=C.docs.map(j=>j.data());i(O),l(!1)});return()=>S()},[e.uid]),g.useEffect(()=>{const P=vi(Tr(Ae,"budgets"),on("uid","==",e.uid)),S=Pn(P,C=>{const O={};C.docs.forEach(j=>{O[j.data().category]=j.data().limit}),o(O)});return()=>S()},[e.uid]);const b=P=>{h(P),y(a[P]||""),c(!0)},x=async P=>{if(P.preventDefault(),m===""||parseFloat(m)<0)return;const S=parseFloat(m);await es(Pt(Ae,"budgets",`${e.uid}_${d}`),{uid:e.uid,category:d,limit:S}),c(!1)},_=n.filter(P=>{var C;let S=P.date;if(!S&&((C=P.createdAt)!=null&&C.toDate)){const O=P.createdAt.toDate();S=`${O.getFullYear()}-${String(O.getMonth()+1).padStart(2,"0")}-${String(O.getDate()).padStart(2,"0")}`}return S&&S.startsWith(t)&&P.type==="expense"}).reduce((P,S)=>{const C=S.category||"Dier";return P[C]=(P[C]||0)+S.amount,P},{});let E=0,T=0;Object.entries(a).forEach(([P,S])=>{S>0&&(E+=S,T+=_[P]||0)});const I=E-T,D=E>0?T/E*100:0;return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(UT,{className:"text-indigo-600 dark:text-indigo-400"}),"Bte Planlamas"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Aylk harcama hedeflerinizi ynetin ve tasarruf edin."})]}),p.jsx("input",{type:"month",className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 shadow-sm",value:t,onChange:P=>r(P.target.value)})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(UT,{size:64,className:"text-indigo-600 dark:text-indigo-400"})}),p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Toplam Bte Hedefi"}),p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:E.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:p.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full",style:{width:"100%"}})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(pd,{size:64,className:"text-amber-500"})}),p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Harcanan Tutar"}),p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:T.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:p.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${D>100?"bg-red-500":"bg-amber-500"}`,style:{width:`${Math.min(D,100)}%`}})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(Mc,{size:64,className:"text-emerald-500"})}),p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Kalan Kullanlabilir"}),p.jsx("h3",{className:`text-2xl font-bold mt-1 ${I<0?"text-red-500":"text-emerald-600 dark:text-emerald-400"}`,children:I.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("p",{className:"text-xs text-slate-400 mt-2",children:I<0?"Toplam bte hedefini atnz.":"Bte hedeflerine gre gvendesiniz."})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Bfe.map(P=>{const S=a[P]||0,C=_[P]||0,O=S>0?C/S*100:0,j=S-C,A=S>0;let N="text-slate-400",V="bg-slate-200 dark:bg-slate-700",U="Bte Yok";return A&&(O>=100?(N="text-red-500",V="bg-red-500",U="Bte Ald"):O>=75?(N="text-amber-500",V="bg-amber-500",U="Dikkat"):(N="text-emerald-500",V="bg-emerald-500",U="Gvenli")),p.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl p-6 border transition-all hover:shadow-md ${A?"border-slate-100 dark:border-slate-700":"border-dashed border-slate-200 dark:border-slate-700 opacity-70 hover:opacity-100"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:P}),p.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700/50 ${N}`,children:U})]}),p.jsx("button",{onClick:()=>b(P),className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Limiti Dzenle",children:p.jsx($g,{size:18})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex justify-between items-end",children:p.jsxs("div",{className:"text-right w-full",children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1 text-slate-500 dark:text-slate-400",children:[p.jsx("span",{children:"Harcanan"}),p.jsxs("span",{className:O>100?"text-red-500 font-bold":"",children:[C.toLocaleString("tr-TR",{maximumFractionDigits:0})," TL"]})]}),p.jsxs("div",{className:"flex justify-between text-sm mb-1 font-medium text-slate-700 dark:text-slate-300",children:[p.jsx("span",{children:"Limit"}),p.jsx("span",{children:S>0?S.toLocaleString("tr-TR",{maximumFractionDigits:0})+" TL":"-"})]})]})}),p.jsx("div",{className:"relative h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:S>0&&p.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all duration-700 ${V}`,style:{width:`${Math.min(O,100)}%`}})}),A&&p.jsx("div",{className:"flex items-center gap-2 text-xs font-medium pt-1",children:j>=0?p.jsxs(p.Fragment,{children:[p.jsx(hd,{size:14,className:"text-emerald-500"}),p.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:[j.toLocaleString("tr-TR",{maximumFractionDigits:0})," TL harcayabilirsiniz"]})]}):p.jsxs(p.Fragment,{children:[p.jsx(HK,{size:14,className:"text-red-500"}),p.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[Math.abs(j).toLocaleString("tr-TR",{maximumFractionDigits:0})," TL atnz"]})]})})]})]},P)})}),p.jsx(Cd,{isOpen:u,onClose:()=>c(!1),title:`${d} Btesi`,children:p.jsxs("form",{onSubmit:x,className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Bu kategori iin aylk harcama limiti belirleyin."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aylk Limit (TL)"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",required:!0,min:"0",step:"1",placeholder:"0",value:m,onChange:P=>y(P.target.value),className:"w-full pl-4 pr-12 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-semibold text-lg",autoFocus:!0}),p.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 font-medium",children:"TL"})]})]}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-2 px-4 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors font-medium",children:"ptal"}),p.jsxs("button",{type:"submit",className:"flex-1 py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[p.jsx(Xx,{size:18}),"Kaydet"]})]})]})})]})}const Kfe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"],Hfe=["Maa","Freelance","Yatrm","Ek Gelir","Dier"];function qfe({user:e}){const[t,r]=g.useState("cards"),[n,i]=g.useState(!0),[a,o]=g.useState({expenseCategories:Kfe,incomeCategories:Hfe,creditCards:[],theme:"system",currency:"TRY"}),[s,l]=g.useState(e.displayName||""),[u,c]=g.useState(!1),[d,h]=g.useState(""),[m,y]=g.useState("expense"),[b,x]=g.useState(""),[v,_]=g.useState(""),[E,T]=g.useState(""),[I,D]=g.useState("");g.useEffect(()=>{(async()=>{const U=Pt(Ae,"user_settings",e.uid),Y=await $K(U);if(Y.exists()){const Q=Y.data();o({...Q,creditCards:Q.creditCards||[]})}else await es(U,a);i(!1)})()},[e.uid]);const P=async V=>{const U={...a,theme:V};o(U),V==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):V==="light"?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(localStorage.removeItem("theme"),window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),await Ma(Pt(Ae,"user_settings",e.uid),{theme:V})},S=async V=>{if(V.preventDefault(),!d.trim())return;const U=m==="expense"?a.expenseCategories:a.incomeCategories;if(U.includes(d.trim())){alert("Bu kategori zaten mevcut.");return}const Y=[...U,d.trim()],Q=m==="expense"?{expenseCategories:Y}:{incomeCategories:Y};o({...a,...Q}),await Ma(Pt(Ae,"user_settings",e.uid),Q),h("")},C=async V=>{if(V.preventDefault(),!b.trim())return;const U=a.creditCards||[];if(U.includes(b.trim())){alert("Bu kart zaten ekli.");return}const Q={creditCards:[...U,b.trim()]};o({...a,...Q}),await Ma(Pt(Ae,"user_settings",e.uid),Q),x("")},O=async(V,U)=>{if(!confirm(`${V} gesini silmek istediinize emin misiniz?`))return;let Y={};if(U==="card")Y={creditCards:(a.creditCards||[]).filter(z=>z!==V)};else{const z=(U==="expense"?a.expenseCategories:a.incomeCategories).filter(H=>H!==V);Y=U==="expense"?{expenseCategories:z}:{incomeCategories:z}}o({...a,...Y}),await Ma(Pt(Ae,"user_settings",e.uid),Y)},j=async V=>{V.preventDefault(),c(!0);try{await w9(e,{displayName:s}),alert("Profil gncellendi!")}catch(U){console.error(U),alert("Hata olutu.")}finally{c(!1)}},A=async V=>{if(V.preventDefault(),E!==I){alert("Yeni ifreler elemiyor.");return}try{const U=Ns.credential(e.email,v);await v9(e,U),await _9(e,E),alert("ifre baaryla deitirildi."),_(""),T(""),D("")}catch(U){console.error(U),alert("ifre deitirilemedi. Mevcut ifrenizi doru girdiinizden emin olun.")}},N=[{id:"cards",label:"Kartlarm",icon:Bi},{id:"categories",label:"Kategoriler",icon:Jp},{id:"preferences",label:"Grnm",icon:$T},{id:"profile",label:"Profil",icon:BT},{id:"security",label:"Gvenlik",icon:zT}];return n?p.jsx("div",{className:"p-8 text-center",children:"Ykleniyor..."}):p.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Ayarlar"}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsx("div",{className:"lg:w-64 flex-shrink-0",children:p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden sticky top-8",children:N.map(V=>p.jsxs("button",{onClick:()=>r(V.id),className:`w-full flex items-center gap-3 p-4 text-sm font-medium transition-colors ${t===V.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 border-l-4 border-indigo-600":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 border-l-4 border-transparent"}`,children:[p.jsx(V.icon,{size:18}),V.label]},V.id))})}),p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 min-h-[400px]",children:[t==="cards"&&p.jsx("div",{className:"space-y-8",children:p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(Bi,{className:"text-indigo-600",size:20}),"Kartlarm"]}),p.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Kullandnz kredi kartlarn ekleyin. Harcama yaparken bu kartlardan seim yapabileceksiniz."}),p.jsxs("form",{onSubmit:C,className:"flex gap-2 mb-6",children:[p.jsx("input",{type:"text",value:b,onChange:V=>x(V.target.value),placeholder:"Kart ad (rn: Bonus, Maximum)",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:p.jsx(co,{size:24})})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(a.creditCards||[]).map((V,U)=>p.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-slate-800 to-slate-700 text-white rounded-xl shadow-md group",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Bi,{size:20,className:"text-white/80"}),p.jsx("span",{className:"font-medium",children:V})]}),p.jsx("button",{onClick:()=>O(V,"card"),className:"p-1.5 text-white/50 hover:text-red-300 hover:bg-white/10 rounded-md transition-all sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:p.jsx(Jl,{size:16})})]},U)),(a.creditCards||[]).length===0&&p.jsxs("div",{className:"col-span-2 text-center py-8 text-slate-400 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[p.jsx("p",{className:"mb-2",children:"Henz kart eklemediniz."}),p.jsx("p",{className:"text-xs",children:"Yukardan kartnzn adn yazp (+) butonuna basn."})]})]})]})}),t==="categories"&&p.jsx("div",{className:"space-y-8",children:p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(Jp,{className:"text-indigo-600",size:20}),"Kategori Ynetimi"]}),p.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Gelir ve gider ilemlerinizde kullanacanz kategorileri zelletirin."}),p.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-700 rounded-xl mb-6",children:[p.jsx("button",{onClick:()=>y("expense"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${m==="expense"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gider Kategorileri"}),p.jsx("button",{onClick:()=>y("income"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${m==="income"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gelir Kategorileri"})]}),p.jsxs("form",{onSubmit:S,className:"flex gap-2 mb-6",children:[p.jsx("input",{type:"text",value:d,onChange:V=>h(V.target.value),placeholder:"Yeni kategori ad...",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:p.jsx(co,{size:24})})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(m==="expense"?a.expenseCategories:a.incomeCategories).map((V,U)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg group border border-transparent hover:border-slate-200 dark:hover:border-slate-600 transition-all",children:[p.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:V}),p.jsx("button",{onClick:()=>O(V,m),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md opacity-100 lg:opacity-0 group-hover:opacity-100 transition-all",title:"Sil",children:p.jsx(Jl,{size:16})})]},U))})]})}),t==="preferences"&&p.jsx("div",{className:"space-y-8",children:p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx($T,{className:"text-indigo-600",size:20}),"Grnm & Tercihler"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Tema Seimi"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("button",{onClick:()=>P("light"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="light"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[p.jsx(DR,{size:24}),p.jsx("span",{className:"text-sm font-medium",children:"Ak"})]}),p.jsxs("button",{onClick:()=>P("dark"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="dark"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[p.jsx(jR,{size:24}),p.jsx("span",{className:"text-sm font-medium",children:"Koyu"})]}),p.jsxs("button",{onClick:()=>P("system"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="system"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[p.jsx(aH,{size:24}),p.jsx("span",{className:"text-sm font-medium",children:"Sistem"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Para Birimi"}),p.jsxs("select",{value:a.currency,onChange:V=>{const U=V.target.value;o({...a,currency:U}),Ma(Pt(Ae,"user_settings",e.uid),{currency:U})},className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"TRY",children:"Trk Liras ()"}),p.jsx("option",{value:"USD",children:"Amerikan Dolar ($)"}),p.jsx("option",{value:"EUR",children:"Euro ()"})]})]})]})]})}),t==="profile"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(BT,{className:"text-indigo-600",size:20}),"Profil Bilgileri"]}),p.jsxs("form",{onSubmit:j,className:"space-y-4 max-w-md",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta Adresi"}),p.jsx("input",{type:"email",disabled:!0,value:e.email,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Grnen sim"}),p.jsx("input",{type:"text",value:s,onChange:V=>l(V.target.value),placeholder:"sminiz",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[p.jsx(Xx,{size:18})," ",u?"Kaydediliyor...":"Kaydet"]})]})]}),t==="security"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(zT,{className:"text-indigo-600",size:20}),"Gvenlik"]}),p.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl mb-6",children:p.jsxs("div",{className:"flex gap-3",children:[p.jsx(nH,{className:"text-amber-600 dark:text-amber-400 shrink-0",size:24}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-300 text-sm",children:"ifre Deitirme"}),p.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 mt-1",children:"Gvenliiniz iin ifrenizi dzenli olarak deitirmenizi neririz."})]})]})}),p.jsxs("form",{onSubmit:A,className:"space-y-4 max-w-md",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mevcut ifre"}),p.jsx("input",{type:"password",required:!0,value:v,onChange:V=>_(V.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre"}),p.jsx("input",{type:"password",required:!0,value:E,onChange:V=>T(V.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre (Tekrar)"}),p.jsx("input",{type:"password",required:!0,value:I,onChange:V=>D(V.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[p.jsx(Xx,{size:18})," ifreyi Gncelle"]})]})]})]})})]})]})}const $O=["#6366f1","#ec4899","#8b5cf6","#14b8a6","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function Gfe({user:e}){const[t,r]=g.useState([]),[n,i]=g.useState(!0),[a,o]=g.useState("6M");g.useEffect(()=>{const x=vi(Tr(Ae,"transactions"),on("uid","==",e.uid)),v=Pn(x,_=>{const E=_.docs.map(T=>{var D;const I=T.data();return{id:T.id,...I,dateObj:new Date(I.date||((D=I.createdAt)==null?void 0:D.toDate()))}});E.sort((T,I)=>T.dateObj-I.dateObj),r(E),i(!1)});return()=>v()},[e.uid]);const s=()=>{const x=new Date;let v=new Date;a==="1M"?v.setMonth(x.getMonth()-1):a==="3M"?v.setMonth(x.getMonth()-3):a==="6M"?v.setMonth(x.getMonth()-6):a==="1Y"?v.setFullYear(x.getFullYear()-1):v=new Date(0);const _=t.filter(T=>T.dateObj>=v),E={};return _.forEach(T=>{const I=T.dateObj.toLocaleDateString("tr-TR",{month:"short",year:"numeric"});E[I]||(E[I]={name:I,income:0,expense:0,balance:0,rawDate:T.dateObj}),T.type==="income"?E[I].income+=T.amount:E[I].expense+=T.amount}),Object.values(E).sort((T,I)=>T.rawDate-I.rawDate)},l=()=>{const x=new Date;let v=new Date;a==="1M"?v.setMonth(x.getMonth()-1):a==="3M"?v.setMonth(x.getMonth()-3):a==="6M"?v.setMonth(x.getMonth()-6):a==="1Y"?v.setFullYear(x.getFullYear()-1):v=new Date(0);const E=t.filter(T=>T.type==="expense"&&T.dateObj>=v).reduce((T,I)=>{const D=I.category||"Dier";return T[D]=(T[D]||0)+I.amount,T},{});return Object.entries(E).map(([T,I])=>({name:T,value:I})).sort((T,I)=>I.value-T.value).slice(0,6)},u=()=>{const x=new Date;let v=new Date;a==="1M"?v.setMonth(x.getMonth()-1):a==="3M"?v.setMonth(x.getMonth()-3):a==="6M"?v.setMonth(x.getMonth()-6):a==="1Y"?v.setFullYear(x.getFullYear()-1):v=new Date(0);const E=t.filter(I=>I.type==="expense"&&I.paymentMethod==="credit_card"&&I.dateObj>=v).reduce((I,D)=>{const P=D.cardName||"Dier / Genel Kart";return I[P]=(I[P]||0)+D.amount,I},{}),T=Object.values(E).reduce((I,D)=>I+D,0);return Object.entries(E).map(([I,D])=>({name:I,value:D,percent:T>0?D/T*100:0})).sort((I,D)=>D.value-I.value)},c=()=>{const x=s(),v=x.reduce((T,I)=>T+I.income,0),_=x.reduce((T,I)=>T+I.expense,0),E=v>0?(v-_)/v*100:0;return{totalIncome:v,totalExpense:_,net:v-_,savingsRate:E}},d=s(),h=l(),m=u(),y=c(),b=({active:x,payload:v,label:_})=>x&&v&&v.length?p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 border border-slate-100 dark:border-slate-700 rounded-lg shadow-lg",children:[p.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-200 mb-2",children:_}),v.map((E,T)=>p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),p.jsxs("span",{className:"text-slate-500 dark:text-slate-400 capitalize",children:[E.name==="income"?"Gelir":E.name==="expense"?"Gider":E.name,":"]}),p.jsx("span",{className:"font-mono font-medium text-slate-700 dark:text-slate-200",children:E.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},T))]}):null;return n?p.jsx("div",{className:"p-8 text-center text-slate-500",children:"Analizler hazrlanyor..."}):p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(KK,{className:"text-indigo-600"}),"Finansal Raporlar"]}),p.jsx("div",{className:"flex bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:["1M","3M","6M","1Y","ALL"].map(x=>p.jsx("button",{onClick:()=>o(x),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${a===x?"bg-indigo-600 text-white shadow-md":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:x==="ALL"?"Tm":x},x))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gelir"}),p.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:y.totalIncome.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gider"}),p.jsx("h3",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:y.totalExpense.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Net Durum"}),p.jsxs("h3",{className:`text-2xl font-bold ${y.net>=0?"text-indigo-600 dark:text-indigo-400":"text-red-500"}`,children:[y.net>0?"+":"",y.net.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Tasarruf Oran"}),p.jsxs("h3",{className:"text-2xl font-bold text-amber-500",children:[y.savingsRate.toFixed(1),"%"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[p.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Gelir ve Gider Ak"}),p.jsx("div",{className:"h-[300px] w-full",children:p.jsx(Ol,{width:"100%",height:"100%",children:p.jsxs(ade,{data:d,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),p.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),p.jsx(Um,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),p.jsx(Hm,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),p.jsx(qm,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),p.jsx(Dl,{content:p.jsx(b,{})}),p.jsx(Kb,{type:"monotone",dataKey:"income",name:"income",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),p.jsx(Kb,{type:"monotone",dataKey:"expense",name:"expense",stroke:"#ef4444",strokeWidth:3,fillOpacity:1,fill:"url(#colorExpense)"})]})})})]}),p.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Nereye Harcadm?"}),p.jsx("div",{className:"h-[300px] w-full relative",children:h.length>0?p.jsx(Ol,{width:"100%",height:"100%",children:p.jsxs(hk,{children:[p.jsx(Hv,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:h.map((x,v)=>p.jsx(Vs,{fill:$O[v%$O.length]},`cell-${v}`))}),p.jsx(Dl,{}),p.jsx(L1,{verticalAlign:"bottom",height:36,iconType:"circle",content:({payload:x})=>p.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 text-xs",children:x.map((v,_)=>p.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400",children:[p.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),v.value]},`item-${_}`))})})]})}):p.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Veri yok"})})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Aylk Net Ak"}),p.jsx("div",{className:"h-[250px] w-full",children:p.jsx(Ol,{width:"100%",height:"100%",children:p.jsxs(m3,{data:d,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsx(Um,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),p.jsx(Hm,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),p.jsx(qm,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),p.jsx(Dl,{content:p.jsx(b,{})}),p.jsx(Rl,{dataKey:"income",name:"Gelir",fill:"#10b981",radius:[4,4,0,0],maxBarSize:40}),p.jsx(Rl,{dataKey:"expense",name:"Gider",fill:"#ef4444",radius:[4,4,0,0],maxBarSize:40})]})})})]}),m.length>0&&p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mt-8",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[p.jsx(Bi,{className:"text-amber-600"}),"Kredi Kart Harcamalar"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((x,v)=>p.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-700 flex items-center justify-between group hover:border-amber-200 dark:hover:border-amber-800 transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg text-amber-600 shadow-sm",children:p.jsx(Bi,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:x.name}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("div",{className:"w-16 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${x.percent}%`}})}),p.jsxs("span",{className:"text-xs text-slate-500",children:["%",x.percent.toFixed(0)]})]})]})]}),p.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:x.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},x.name))})]})]})}const lc=[{id:"gold",label:"Altn (Gr)",color:"#fbbf24"},{id:"usd",label:"Dolar ($)",color:"#22c55e"},{id:"eur",label:"Euro ()",color:"#3b82f6"},{id:"stock",label:"Hisse Senedi",color:"#6366f1"},{id:"crypto",label:"Kripto Para",color:"#8b5cf6"},{id:"cash",label:"Nakit (TL)",color:"#94a3b8"},{id:"other",label:"Dier",color:"#ec4899"}],Yfe={gold:0,usd:0,eur:0};function Qfe({user:e}){const[t,r]=g.useState([]),[n,i]=g.useState(Yfe),[a,o]=g.useState(!0),[s,l]=g.useState(!1),u=async()=>{l(!0);try{const N=await(await fetch("https://open.er-api.com/v6/latest/USD")).json();if(!N||!N.rates)throw new Error("Dviz verisi alnamad");const V=N.rates.TRY,Y=1/N.rates.EUR*V,z=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=pax-gold,bitcoin,ethereum&vs_currencies=usd")).json();if(!z||!z["pax-gold"])throw new Error("Altn verisi alnamad");const J=z["pax-gold"].usd/31.1035*V;i(ue=>({...ue,gold:parseFloat(J.toFixed(2)),usd:parseFloat(V.toFixed(4)),eur:parseFloat(Y.toFixed(4))})),alert("Piyasa kurlar baaryla gncellendi!")}catch(A){console.error(A),alert("Veri ekilemedi. API limitine taklm olabilirsiniz, ltfen biraz bekleyin.")}finally{l(!1)}},[c,d]=g.useState(!1),[h,m]=g.useState(!1),[y,b]=g.useState(null),[x,v]=g.useState({type:"gold",name:"",amount:"",avgCost:""});g.useEffect(()=>{const A=vi(Tr(Ae,"investments"),on("uid","==",e.uid)),N=Pn(A,V=>{r(V.docs.map(U=>({id:U.id,...U.data()}))),o(!1)});return()=>N()},[e.uid]),g.useEffect(()=>{const A=Pn(Pt(Ae,"user_settings",e.uid),N=>{N.exists()&&N.data().marketRates&&i(V=>({...V,...N.data().marketRates}))});return()=>A()},[e.uid]);const E=(()=>{let A=0,N=0;const V=t.map(U=>{let Y=0;["gold","usd","eur"].includes(U.type)?Y=n[U.type]:Y=U.currentPrice||U.avgCost;const Q=U.amount*Y,z=U.amount*U.avgCost;return A+=Q,N+=z,{...U,currentValue:Q,profit:Q-z,profitPercent:z>0?(Q-z)/z*100:0}});return{totalValue:A,totalCost:N,items:V}})(),T=E.totalValue-E.totalCost,I=E.totalCost>0?T/E.totalCost*100:0,D=async A=>{var V;A.preventDefault();const N={uid:e.uid,type:x.type,name:x.name||((V=lc.find(U=>U.id===x.type))==null?void 0:V.label),amount:parseFloat(x.amount),avgCost:parseFloat(x.avgCost),currentPrice:parseFloat(x.currentPrice||x.avgCost)};y?await es(Pt(Ae,"investments",y.id),N,{merge:!0}):await es(Pt(Tr(Ae,"investments")),N),d(!1),C()},P=async A=>{confirm("Bu varl portfyden kaldrmak istiyor musunuz?")&&await Vg(Pt(Ae,"investments",A))},S=async A=>{A.preventDefault(),await es(Pt(Ae,"user_settings",e.uid),{marketRates:n},{merge:!0}),m(!1)},C=()=>{v({type:"gold",name:"",amount:"",avgCost:"",currentPrice:""}),b(null)},O=A=>{b(A),v({type:A.type,name:A.name,amount:A.amount,avgCost:A.avgCost,currentPrice:A.currentPrice}),d(!0)},j=E.items.map(A=>{var N;return{name:A.name,value:A.currentValue,color:((N=lc.find(V=>V.id===A.type))==null?void 0:N.color)||"#999"}}).filter(A=>A.value>0);return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(OR,{className:"text-indigo-600 dark:text-indigo-400"}),"Yatrm Portfy"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Varlklarnz takip edin, kr/zarar durumunuzu ynetin."})]}),p.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[p.jsxs("button",{onClick:()=>m(!0),className:"flex-1 md:flex-none py-2 px-4 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center gap-2 font-medium shadow-sm",children:[p.jsx(rp,{size:18}),"Kurlar Gncelle"]}),p.jsxs("button",{onClick:()=>{C(),d(!0)},className:"flex-1 md:flex-none py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-indigo-500/30",children:[p.jsx(co,{size:18}),"Varlk Ekle"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsx("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 dark:from-indigo-900 dark:to-slate-900 p-6 rounded-2xl text-white shadow-xl",children:p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Toplam Portfy Deeri"}),p.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:E.totalValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),p.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:p.jsx(Mc,{size:24,className:"text-indigo-400"})})]})}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Toplam Kr / Zarar"}),T>=0?p.jsx(pd,{className:"text-emerald-500"}):p.jsx(pd,{className:"text-red-500 rotate-180"})]}),p.jsxs("div",{className:"flex items-end gap-3",children:[p.jsxs("h2",{className:`text-3xl font-bold ${T>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[T>0?"+":"",T.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),p.jsxs("span",{className:`text-sm font-bold mb-1.5 px-2 py-0.5 rounded ${T>=0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:["%",I.toFixed(2)]})]}),p.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Maliyet: ",E.totalCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),p.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-center relative overflow-hidden",children:j.length>0?p.jsx(Ol,{width:"100%",height:120,children:p.jsxs(hk,{children:[p.jsx(Hv,{data:j,cx:"50%",cy:"50%",innerRadius:35,outerRadius:50,paddingAngle:2,dataKey:"value",children:j.map((A,N)=>p.jsx(Vs,{fill:A.color,stroke:"none"},`cell-${N}`))}),p.jsx(Dl,{formatter:A=>A.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]})}):p.jsx("div",{className:"text-slate-400 text-xs text-center p-4",children:"Veri Yok"})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:p.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Varlklarm"})}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-slate-500 dark:text-slate-400 text-xs uppercase font-semibold",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4",children:"Varlk"}),p.jsx("th",{className:"px-6 py-4",children:"Miktar"}),p.jsx("th",{className:"px-6 py-4",children:"Ort. Maliyet"}),p.jsx("th",{className:"px-6 py-4",children:"Anlk Deer"}),p.jsx("th",{className:"px-6 py-4",children:"Kr / Zarar"}),p.jsx("th",{className:"px-6 py-4 text-right",children:"lemler"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:E.items.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-slate-400",children:"Henz portfyne varlk eklemedin."})}):E.items.map(A=>{var N,V;return p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group",children:[p.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 dark:text-slate-200 flex items-center gap-3",children:[p.jsx("div",{className:"w-2 h-8 rounded-full",style:{backgroundColor:(N=lc.find(U=>U.id===A.type))==null?void 0:N.color}}),p.jsxs("div",{children:[A.name,p.jsx("div",{className:"text-xs text-slate-400 font-normal",children:(V=lc.find(U=>U.id===A.type))==null?void 0:V.label})]})]}),p.jsxs("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300 font-mono",children:[A.amount," ",p.jsx("span",{className:"text-xs text-slate-400",children:A.type==="gold"?"gr":""})]}),p.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:A.avgCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("td",{className:"px-6 py-4 font-bold text-slate-800 dark:text-slate-200",children:A.currentValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsxs("div",{className:`flex items-center gap-1 ${A.profit>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[A.profit>=0?p.jsx(GK,{size:16}):p.jsx(qK,{size:16}),p.jsxs("span",{className:"font-semibold",children:[Math.abs(A.profit).toLocaleString("tr-TR",{maximumFractionDigits:0})," TL"]})]}),p.jsxs("span",{className:`text-xs ${A.profit>=0?"text-emerald-500":"text-red-500"}`,children:["%",A.profitPercent.toFixed(1)]})]}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsxs("div",{className:"flex justify-end gap-2 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>O(A),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:p.jsx($g,{size:16})}),p.jsx("button",{onClick:()=>P(A.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:p.jsx(Jl,{size:16})})]})})]},A.id)})})]})})]}),p.jsx(Cd,{isOpen:c,onClose:()=>d(!1),title:y?"Varlk Dzenle":"Yeni Varlk Ekle",children:p.jsxs("form",{onSubmit:D,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Varlk Tr"}),p.jsx("select",{value:x.type,onChange:A=>v({...x,type:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:!!y,children:lc.map(A=>p.jsx("option",{value:A.id,children:A.label},A.id))})]}),["stock","crypto","other"].includes(x.type)&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Varlk Ad / Sembol"}),p.jsx("input",{type:"text",required:!0,placeholder:"rn: ASELS, BTC, ETH...",value:x.name,onChange:A=>v({...x,name:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),["stock","crypto","other"].includes(x.type)&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gncel Birim Fiyat (TL)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:x.currentPrice,onChange:A=>v({...x,currentPrice:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Kr/Zarar hesab iin gncel fiyat manuel giriniz."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar (Adet/Bakiye)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:x.amount,onChange:A=>v({...x,amount:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ortalama Al Maliyeti (Birim Ba TL)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:x.avgCost,onChange:A=>v({...x,avgCost:A.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kaydet"})]})}),p.jsx(Cd,{isOpen:h,onClose:()=>m(!1),title:"Piyasa Kurlarn Gncelle",children:p.jsxs("form",{onSubmit:S,className:"space-y-4",children:[p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm mb-4",children:[p.jsx("p",{children:'Kurlar manuel girebilir veya "Otomatik Getir" butonunu kullanarak gncel piyasa verilerini ekebilirsiniz.'}),p.jsx("p",{className:"text-xs mt-1 opacity-70",children:"*Altn fiyat uluslararas piyasalara gre (PAX Gold endeksli) hesaplanr, banka kurlarndan farkllk gsterebilir."})]}),p.jsxs("button",{type:"button",onClick:u,disabled:s,className:"w-full py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 font-medium mb-4",children:[s?p.jsx(rp,{size:18,className:"animate-spin"}):p.jsx(rp,{size:18}),s?"Veriler ekiliyor...":"Otomatik Getir (API)"]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gram Altn (TL)"}),p.jsx("input",{type:"number",min:"0",step:"0.01",value:n.gold,onChange:A=>i({...n,gold:parseFloat(A.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dolar / TL"}),p.jsx("input",{type:"number",min:"0",step:"0.0001",value:n.usd,onChange:A=>i({...n,usd:parseFloat(A.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Euro / TL"}),p.jsx("input",{type:"number",min:"0",step:"0.0001",value:n.eur,onChange:A=>i({...n,eur:parseFloat(A.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kurlar Kaydet"})]})})]})}const zO=[{id:"netflix",name:"Netflix",color:"#E50914",icon:"N"},{id:"spotify",name:"Spotify",color:"#1DB954",icon:"S"},{id:"youtube",name:"YouTube Premium",color:"#FF0000",icon:"Y"},{id:"amazon",name:"Amazon Prime",color:"#00A8E1",icon:"A"},{id:"icloud",name:"Apple iCloud",color:"#0070c9",icon:"A"},{id:"disney",name:"Disney+",color:"#113CCF",icon:"D"},{id:"xbox",name:"Xbox Game Pass",color:"#107C10",icon:"X"},{id:"playstation",name:"PlayStation Plus",color:"#00439C",icon:"P"},{id:"exxen",name:"Exxen",color:"#FFD600",icon:"E"},{id:"blutv",name:"BluTV",color:"#1FBAD6",icon:"B"},{id:"custom",name:"Dier",color:"#6366f1",icon:"?"}];function Xfe({user:e}){const[t,r]=g.useState([]),[n,i]=g.useState(!0),[a,o]=g.useState(!1),[s,l]=g.useState({serviceId:"custom",name:"",price:"",billingDay:"1",cycle:"monthly",status:"active"});g.useEffect(()=>{const v=vi(Tr(Ae,"subscriptions"),on("uid","==",e.uid)),_=Pn(v,E=>{const T=E.docs.map(I=>({id:I.id,...I.data()}));r(T),i(!1)});return()=>_()},[e.uid]);const u=async v=>{v.preventDefault();let _=s.name,E=s.color;if(s.serviceId!=="custom"){const I=zO.find(D=>D.id===s.serviceId);I&&(_=_||I.name,E=I.color)}else E="#6366f1";const T={uid:e.uid,serviceId:s.serviceId,name:_,price:parseFloat(s.price),billingDay:parseInt(s.billingDay),cycle:s.cycle,status:s.status,color:E,updatedAt:fd()};s.id?await es(Pt(Ae,"subscriptions",s.id),T,{merge:!0}):await es(Pt(Tr(Ae,"subscriptions")),T),o(!1),d()},c=async v=>{confirm("Bu abonelik kaydn silmek istiyor musunuz?")&&await Vg(Pt(Ae,"subscriptions",v))},d=()=>{l({serviceId:"custom",name:"",price:"",billingDay:"1",cycle:"monthly",status:"active"})},h=v=>{l({...v}),o(!0)},m=t.filter(v=>v.status==="active").reduce((v,_)=>{let E=_.price;return _.cycle==="yearly"&&(E=_.price/12),v+E},0),y=t.filter(v=>v.status==="active").length,b=v=>{const _=new Date,E=_.getFullYear(),T=_.getMonth();let I=new Date(E,T,v);return _.getDate()>v&&I.setMonth(T+1),I},x=[...t].sort((v,_)=>{const E=b(v.billingDay),T=b(_.billingDay);return E-T});return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(Zp,{className:"text-indigo-600 dark:text-indigo-400"}),"Abonelikler"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Sabit demelerinizi ve dijital servis yeliklerinizi ynetin."})]}),p.jsxs("button",{onClick:()=>{d(),o(!0)},className:"py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-indigo-500/30",children:[p.jsx(co,{size:18}),"Yeni Abonelik"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-800 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:p.jsx(Zp,{size:80})}),p.jsx("p",{className:"text-indigo-100 text-sm font-medium mb-1",children:"Aylk Toplam Sabit Gider"}),p.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:m.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:"*Yllk paketler aylk ortalamaya dahil edilmitir."})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Aktif Abonelikler"}),p.jsx(hd,{className:"text-emerald-500"})]}),p.jsxs("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:[y," ",p.jsx("span",{className:"text-base font-normal text-slate-400",children:"Servis"})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(v=>{const _=b(v.billingDay),E=Math.ceil((_-new Date)/(1e3*60*60*24)),T=E<=3;return p.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border transition-all hover:shadow-md relative overflow-hidden group ${v.status==="inactive"?"opacity-60 border-slate-200 dark:border-slate-700":T?"border-amber-200 dark:border-amber-800":"border-slate-100 dark:border-slate-700"}`,children:[v.status==="active"&&E<=7&&p.jsx("div",{className:`absolute top-0 right-0 px-3 py-1 text-[10px] font-bold text-white rounded-bl-xl ${T?"bg-amber-500":"bg-slate-400"}`,children:E===0?"BUGN":`${E} GN KALDI`}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-sm",style:{backgroundColor:v.color||"#6366f1"},children:v.name.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg leading-tight",children:v.name}),p.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[v.billingDay,". Gn / ",v.cycle==="monthly"?"Aylk":"Yllk"]})]})]}),p.jsx("button",{onClick:()=>h(v),className:"text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:p.jsx($g,{size:18})})]}),p.jsxs("div",{className:"flex items-end justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:v.price.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[p.jsx(Il,{size:12}),"Sonraki: ",_.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})]})]}),p.jsxs("div",{className:`px-2.5 py-1 rounded-full text-xs font-semibold flex items-center gap-1.5 ${v.status==="active"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:[v.status==="active"?p.jsx(lH,{size:10,fill:"currentColor"}):p.jsx(oH,{size:10,fill:"currentColor"}),v.status==="active"?"Aktif":"Pasif"]})]})]})]},v.id)})}),p.jsx(Cd,{isOpen:a,onClose:()=>o(!1),title:s.id?"Abonelii Dzenle":"Yeni Abonelik Ekle",children:p.jsxs("form",{onSubmit:u,className:"space-y-4",children:[p.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 mb-4",children:zO.map(v=>p.jsxs("button",{type:"button",onClick:()=>l({...s,serviceId:v.id,name:v.id==="custom"?"":v.name}),className:`p-2 rounded-lg border text-xs font-medium flex flex-col items-center gap-1 transition-all ${s.serviceId===v.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400"}`,children:[p.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-[10px] font-bold",style:{backgroundColor:v.color},children:v.icon}),p.jsx("span",{className:"truncate w-full text-center",children:v.name.split(" ")[0]})]},v.id))}),s.serviceId==="custom"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Servis Ad"}),p.jsx("input",{type:"text",required:!0,value:s.name,onChange:v=>l({...s,name:v.target.value}),placeholder:"rn: Ev Kiras, nternet...",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tutar (TL)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:s.price,onChange:v=>l({...s,price:v.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Gn"}),p.jsx("select",{value:s.billingDay,onChange:v=>l({...s,billingDay:v.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:Array.from({length:31},(v,_)=>_+1).map(v=>p.jsxs("option",{value:v,children:["Her ayn ",v,". gn"]},v))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dng"}),p.jsxs("select",{value:s.cycle,onChange:v=>l({...s,cycle:v.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"monthly",children:"Aylk"}),p.jsx("option",{value:"yearly",children:"Yllk"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Durum"}),p.jsxs("select",{value:s.status,onChange:v=>l({...s,status:v.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"active",children:"Aktif"}),p.jsx("option",{value:"inactive",children:"Pasif / ptal"})]})]})]}),p.jsxs("div",{className:"flex gap-3 pt-3",children:[s.id&&p.jsx("button",{type:"button",onClick:()=>c(s.id),className:"px-4 py-3 bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 rounded-lg transition-colors",children:p.jsx(Jl,{size:20})}),p.jsx("button",{type:"submit",className:"flex-1 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kaydet"})]})]})})]})}function Jfe(){var o;const[e,t]=g.useState(!1),[r,n]=g.useState(""),i=async()=>{t(!0),n("");try{await Yj(ts.currentUser),n("Dorulama balants tekrar gnderildi. Ltfen e-posta kutunuzu (ve spam klasrn) kontrol edin.")}catch(s){console.error(s),s.code==="auth/too-many-requests"?n("ok fazla istek gnderdiniz. Ltfen biraz bekleyin."):n("E-posta gnderilemedi: "+s.message)}finally{t(!1)}},a=()=>{window.location.reload()};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:p.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-6 text-indigo-600 dark:text-indigo-400",children:p.jsx(iH,{size:32})}),p.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"E-posta Dorulama"}),p.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["Devam etmek iin ltfen ",p.jsx("strong",{children:(o=ts.currentUser)==null?void 0:o.email})," adresine gnderilen dorulama balantsna tklayn."]}),r&&p.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 p-3 rounded-lg text-sm mb-6",children:r}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:a,className:"w-full py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[p.jsx(rp,{size:18}),"Kullandm, sayfay yenile"]}),p.jsx("button",{onClick:i,disabled:e,className:"w-full py-2.5 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-lg font-medium hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",children:e?"Gnderiliyor...":"Balanty Tekrar Gnder"}),p.jsxs("button",{onClick:()=>Qj(ts),className:"text-slate-400 hover:text-red-500 text-sm mt-4 flex items-center justify-center gap-1 mx-auto transition-colors",children:[p.jsx(NR,{size:14})," Farkl bir hesapla giri yap"]})]})]})})}function Zfe(){Cs();const e=[{path:"/",icon:rH,label:"Ana Sayfa"},{path:"/calendar",icon:Il,label:"Takvim"},{path:"/budget",icon:sH,label:"Bte"},{path:"/subscriptions",icon:Zp,label:"Abonelikler"},{path:"/investments",icon:OR,label:"Portfy"},{path:"/reports",icon:r1,label:"Raporlar"},{path:"/settings",icon:uH,label:"Ayarlar"}];return p.jsxs(p.Fragment,{children:[p.jsxs("nav",{className:"hidden lg:flex flex-col w-64 h-screen fixed left-0 top-0 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 p-6 z-50 transition-colors duration-300",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2",children:[p.jsx("img",{src:v3,alt:"SpendWise",className:"w-10 h-10 rounded-lg shadow-lg shadow-indigo-500/30"}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-800 to-indigo-600 dark:from-indigo-400 dark:to-indigo-300 bg-clip-text text-transparent",children:"SpendWise"})]}),p.jsx("div",{className:"space-y-2",children:e.map(t=>p.jsxs(wP,{to:t.path,className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${r?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-indigo-600 dark:hover:text-indigo-300"}`,children:[p.jsx(t.icon,{size:20}),t.label]},t.path))}),p.jsx("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-800",children:p.jsx("p",{className:"text-xs text-slate-400 text-center",children:"v1.1.0  SpendWise"})})]}),p.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 w-full bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 pb-safe z-50 transition-colors duration-300",children:p.jsx("div",{className:"flex overflow-x-auto items-center px-2 py-2 gap-1 [&::-webkit-scrollbar]:hidden",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(t=>p.jsxs(wP,{to:t.path,className:({isActive:r})=>`flex flex-col items-center justify-center gap-1 p-2 rounded-lg transition-colors flex-shrink-0 min-w-[64px] ${r?"text-indigo-600 dark:text-indigo-400 font-medium bg-indigo-50 dark:bg-indigo-900/10":"text-slate-500 dark:text-slate-400"}`,children:[p.jsx(t.icon,{size:20,className:"mb-0.5"}),p.jsx("span",{className:"text-[10px] whitespace-nowrap",children:t.label})]},t.path))})})]})}function ehe(){const[e,t]=g.useState(null),[r,n]=g.useState(!0),[i,a]=g.useState(()=>{const o=new Date,s=o.getFullYear(),l=String(o.getMonth()+1).padStart(2,"0");return`${s}-${l}`});return g.useEffect(()=>{const o=P9(ts,s=>{t(s),n(!1)});return()=>o()},[]),r?p.jsx("div",{className:"min-h-screen grid place-items-center bg-slate-50 text-slate-500",children:"Ykleniyor..."}):p.jsx(Dz,{children:p.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900 transition-colors duration-300",children:e?e.emailVerified?p.jsxs(p.Fragment,{children:[p.jsx(Zfe,{}),p.jsx("main",{className:"lg:ml-64 min-h-screen",children:p.jsxs(Pz,{children:[p.jsx(Ai,{path:"/",element:p.jsx(sde,{user:e,filterDate:i,setFilterDate:a})}),p.jsx(Ai,{path:"/calendar",element:p.jsx(Ufe,{user:e})}),p.jsx(Ai,{path:"/budget",element:p.jsx(Wfe,{user:e,filterDate:i,setFilterDate:a})}),p.jsx(Ai,{path:"/subscriptions",element:p.jsx(Xfe,{user:e})}),p.jsx(Ai,{path:"/investments",element:p.jsx(Qfe,{user:e})}),p.jsx(Ai,{path:"/reports",element:p.jsx(Gfe,{user:e})}),p.jsx(Ai,{path:"/settings",element:p.jsx(qfe,{user:e})}),p.jsx(Ai,{path:"*",element:p.jsx(kz,{to:"/",replace:!0})})]})})]}):p.jsx(Jfe,{}):p.jsx(UK,{})})})}T0.createRoot(document.getElementById("root")).render(p.jsx(JO.StrictMode,{children:p.jsx(ehe,{})}));
