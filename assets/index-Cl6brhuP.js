var QF=Object.defineProperty;var XF=(e,t,r)=>t in e?QF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ty=(e,t,r)=>XF(e,typeof t!="symbol"?t+"":t,r);function JF(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function Qi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var DC={exports:{}},Wm={},RC={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.element"),ZF=Symbol.for("react.portal"),e3=Symbol.for("react.fragment"),t3=Symbol.for("react.strict_mode"),r3=Symbol.for("react.profiler"),n3=Symbol.for("react.provider"),i3=Symbol.for("react.context"),a3=Symbol.for("react.forward_ref"),o3=Symbol.for("react.suspense"),s3=Symbol.for("react.memo"),l3=Symbol.for("react.lazy"),QS=Symbol.iterator;function u3(e){return e===null||typeof e!="object"?null:(e=QS&&e[QS]||e["@@iterator"],typeof e=="function"?e:null)}var jC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MC=Object.assign,LC={};function Gl(e,t,r){this.props=e,this.context=t,this.refs=LC,this.updater=r||jC}Gl.prototype.isReactComponent={};Gl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function VC(){}VC.prototype=Gl.prototype;function n_(e,t,r){this.props=e,this.context=t,this.refs=LC,this.updater=r||jC}var i_=n_.prototype=new VC;i_.constructor=n_;MC(i_,Gl.prototype);i_.isPureReactComponent=!0;var XS=Array.isArray,$C=Object.prototype.hasOwnProperty,a_={current:null},FC={key:!0,ref:!0,__self:!0,__source:!0};function zC(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)$C.call(t,n)&&!FC.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:bd,type:e,key:a,ref:o,props:i,_owner:a_.current}}function c3(e,t){return{$$typeof:bd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function o_(e){return typeof e=="object"&&e!==null&&e.$$typeof===bd}function d3(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var JS=/\/+/g;function ry(e,t){return typeof e=="object"&&e!==null&&e.key!=null?d3(""+e.key):t.toString(36)}function Sh(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bd:case ZF:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+ry(o,0):n,XS(i)?(r="",e!=null&&(r=e.replace(JS,"$&/")+"/"),Sh(i,t,r,"",function(u){return u})):i!=null&&(o_(i)&&(i=c3(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(JS,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",XS(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+ry(a,s);o+=Sh(a,t,r,l,i)}else if(l=u3(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+ry(a,s++),o+=Sh(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Mf(e,t,r){if(e==null)return e;var n=[],i=0;return Sh(e,n,"","",function(a){return t.call(r,a,i++)}),n}function f3(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Nr={current:null},Ph={transition:null},h3={ReactCurrentDispatcher:Nr,ReactCurrentBatchConfig:Ph,ReactCurrentOwner:a_};function UC(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Mf,forEach:function(e,t,r){Mf(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Mf(e,function(){t++}),t},toArray:function(e){return Mf(e,function(t){return t})||[]},only:function(e){if(!o_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Gl;be.Fragment=e3;be.Profiler=r3;be.PureComponent=n_;be.StrictMode=t3;be.Suspense=o3;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h3;be.act=UC;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=MC({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=a_.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)$C.call(t,l)&&!FC.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:bd,type:e.type,key:i,ref:a,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:i3,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:n3,_context:e},e.Consumer=e};be.createElement=zC;be.createFactory=function(e){var t=zC.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:a3,render:e}};be.isValidElement=o_;be.lazy=function(e){return{$$typeof:l3,_payload:{_status:-1,_result:e},_init:f3}};be.memo=function(e,t){return{$$typeof:s3,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Ph.transition;Ph.transition={};try{e()}finally{Ph.transition=t}};be.unstable_act=UC;be.useCallback=function(e,t){return Nr.current.useCallback(e,t)};be.useContext=function(e){return Nr.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Nr.current.useDeferredValue(e)};be.useEffect=function(e,t){return Nr.current.useEffect(e,t)};be.useId=function(){return Nr.current.useId()};be.useImperativeHandle=function(e,t,r){return Nr.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return Nr.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Nr.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Nr.current.useMemo(e,t)};be.useReducer=function(e,t,r){return Nr.current.useReducer(e,t,r)};be.useRef=function(e){return Nr.current.useRef(e)};be.useState=function(e){return Nr.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return Nr.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return Nr.current.useTransition()};be.version="18.3.1";RC.exports=be;var m=RC.exports;const BC=Qi(m),WC=JF({__proto__:null,default:BC},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p3=m,m3=Symbol.for("react.element"),g3=Symbol.for("react.fragment"),v3=Object.prototype.hasOwnProperty,y3=p3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w3={key:!0,ref:!0,__self:!0,__source:!0};function KC(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)v3.call(t,n)&&!w3.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:m3,type:e,key:a,ref:o,props:i,_owner:y3.current}}Wm.Fragment=g3;Wm.jsx=KC;Wm.jsxs=KC;DC.exports=Wm;var w=DC.exports,y0={},HC={exports:{}},on={},qC={exports:{}},GC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,W){var Q=z.length;z.push(W);e:for(;0<Q;){var ue=Q-1>>>1,ce=z[ue];if(0<i(ce,W))z[ue]=W,z[Q]=ce,Q=ue;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var W=z[0],Q=z.pop();if(Q!==W){z[0]=Q;e:for(var ue=0,ce=z.length,ye=ce>>>1;ue<ye;){var Ne=2*(ue+1)-1,it=z[Ne],at=Ne+1,Ee=z[at];if(0>i(it,Q))at<ce&&0>i(Ee,it)?(z[ue]=Ee,z[at]=Q,ue=at):(z[ue]=it,z[Ne]=Q,ue=Ne);else if(at<ce&&0>i(Ee,Q))z[ue]=Ee,z[at]=Q,ue=at;else break e}}return W}function i(z,W){var Q=z.sortIndex-W.sortIndex;return Q!==0?Q:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,h=3,p=!1,g=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=z)n(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(u)}}function k(z){if(_=!1,E(z),!g)if(r(l)!==null)g=!0,Z(I);else{var W=r(u);W!==null&&ne(k,W.startTime-z)}}function I(z,W){g=!1,_&&(_=!1,y(P),P=-1),p=!0;var Q=h;try{for(E(W),d=r(l);d!==null&&(!(d.expirationTime>W)||z&&!N());){var ue=d.callback;if(typeof ue=="function"){d.callback=null,h=d.priorityLevel;var ce=ue(d.expirationTime<=W);W=e.unstable_now(),typeof ce=="function"?d.callback=ce:d===r(l)&&n(l),E(W)}else n(l);d=r(l)}if(d!==null)var ye=!0;else{var Ne=r(u);Ne!==null&&ne(k,Ne.startTime-W),ye=!1}return ye}finally{d=null,h=Q,p=!1}}var C=!1,T=null,P=-1,A=5,O=-1;function N(){return!(e.unstable_now()-O<A)}function j(){if(T!==null){var z=e.unstable_now();O=z;var W=!0;try{W=T(!0,z)}finally{W?R():(C=!1,T=null)}}else C=!1}var R;if(typeof x=="function")R=function(){x(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=j,R=function(){G.postMessage(null)}}else R=function(){v(j,0)};function Z(z){T=z,C||(C=!0,R())}function ne(z,W){P=v(function(){z(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,Z(I))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var W=3;break;default:W=h}var Q=h;h=W;try{return z()}finally{h=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=h;h=z;try{return W()}finally{h=Q}},e.unstable_scheduleCallback=function(z,W,Q){var ue=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ue+Q:ue):Q=ue,z){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=Q+ce,z={id:c++,callback:W,priorityLevel:z,startTime:Q,expirationTime:ce,sortIndex:-1},Q>ue?(z.sortIndex=Q,t(u,z),r(l)===null&&z===r(u)&&(_?(y(P),P=-1):_=!0,ne(k,Q-ue))):(z.sortIndex=ce,t(l,z),g||p||(g=!0,Z(I))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var W=h;return function(){var Q=h;h=W;try{return z.apply(this,arguments)}finally{h=Q}}}})(GC);qC.exports=GC;var b3=qC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3=m,nn=b3;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YC=new Set,Ic={};function gs(e,t){El(e,t),El(e+"Capture",t)}function El(e,t){for(Ic[e]=t,e=0;e<t.length;e++)YC.add(t[e])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w0=Object.prototype.hasOwnProperty,x3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZS={},eP={};function E3(e){return w0.call(eP,e)?!0:w0.call(ZS,e)?!1:x3.test(e)?eP[e]=!0:(ZS[e]=!0,!1)}function S3(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function P3(e,t,r,n){if(t===null||typeof t>"u"||S3(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lr[e]=new Dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lr[t]=new Dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lr[e]=new Dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lr[e]=new Dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lr[e]=new Dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lr[e]=new Dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lr[e]=new Dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lr[e]=new Dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lr[e]=new Dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var s_=/[\-:]([a-z])/g;function l_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(s_,l_);lr[t]=new Dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(s_,l_);lr[t]=new Dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(s_,l_);lr[t]=new Dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lr[e]=new Dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function u_(e,t,r,n){var i=lr.hasOwnProperty(t)?lr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(P3(t,r,i,n)&&(r=null),n||i===null?E3(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xi=_3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lf=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),c_=Symbol.for("react.strict_mode"),b0=Symbol.for("react.profiler"),QC=Symbol.for("react.provider"),XC=Symbol.for("react.context"),d_=Symbol.for("react.forward_ref"),_0=Symbol.for("react.suspense"),x0=Symbol.for("react.suspense_list"),f_=Symbol.for("react.memo"),ha=Symbol.for("react.lazy"),JC=Symbol.for("react.offscreen"),tP=Symbol.iterator;function Mu(e){return e===null||typeof e!="object"?null:(e=tP&&e[tP]||e["@@iterator"],typeof e=="function"?e:null)}var dt=Object.assign,ny;function Zu(e){if(ny===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ny=t&&t[1]||""}return`
`+ny+e}var iy=!1;function ay(e,t){if(!e||iy)return"";iy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{iy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zu(e):""}function k3(e){switch(e.tag){case 5:return Zu(e.type);case 16:return Zu("Lazy");case 13:return Zu("Suspense");case 19:return Zu("SuspenseList");case 0:case 2:case 15:return e=ay(e.type,!1),e;case 11:return e=ay(e.type.render,!1),e;case 1:return e=ay(e.type,!0),e;default:return""}}function E0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ks:return"Fragment";case Ws:return"Portal";case b0:return"Profiler";case c_:return"StrictMode";case _0:return"Suspense";case x0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case XC:return(e.displayName||"Context")+".Consumer";case QC:return(e._context.displayName||"Context")+".Provider";case d_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case f_:return t=e.displayName||null,t!==null?t:E0(e.type)||"Memo";case ha:t=e._payload,e=e._init;try{return E0(e(t))}catch{}}return null}function T3(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return E0(t);case 8:return t===c_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ZC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function A3(e){var t=ZC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vf(e){e._valueTracker||(e._valueTracker=A3(e))}function e2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ZC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Xh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function S0(e,t){var r=t.checked;return dt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rP(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Wa(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function t2(e,t){t=t.checked,t!=null&&u_(e,"checked",t,!1)}function P0(e,t){t2(e,t);var r=Wa(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?k0(e,t.type,r):t.hasOwnProperty("defaultValue")&&k0(e,t.type,Wa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function k0(e,t,r){(t!=="number"||Xh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ec=Array.isArray;function ul(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Wa(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function T0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return dt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function iP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(ec(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Wa(r)}}function r2(e,t){var r=Wa(t.value),n=Wa(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function aP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function n2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function A0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?n2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $f,i2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($f=$f||document.createElement("div"),$f.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$f.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Oc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var fc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I3=["Webkit","ms","Moz","O"];Object.keys(fc).forEach(function(e){I3.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fc[t]=fc[e]})});function a2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||fc.hasOwnProperty(e)&&fc[e]?(""+t).trim():t+"px"}function o2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=a2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var O3=dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function I0(e,t){if(t){if(O3[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function O0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C0=null;function h_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var N0=null,cl=null,dl=null;function oP(e){if(e=Ed(e)){if(typeof N0!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Ym(t),N0(e.stateNode,e.type,t))}}function s2(e){cl?dl?dl.push(e):dl=[e]:cl=e}function l2(){if(cl){var e=cl,t=dl;if(dl=cl=null,oP(e),t)for(e=0;e<t.length;e++)oP(t[e])}}function u2(e,t){return e(t)}function c2(){}var oy=!1;function d2(e,t,r){if(oy)return e(t,r);oy=!0;try{return u2(e,t,r)}finally{oy=!1,(cl!==null||dl!==null)&&(c2(),l2())}}function Cc(e,t){var r=e.stateNode;if(r===null)return null;var n=Ym(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var D0=!1;if(ji)try{var Lu={};Object.defineProperty(Lu,"passive",{get:function(){D0=!0}}),window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{D0=!1}function C3(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var hc=!1,Jh=null,Zh=!1,R0=null,N3={onError:function(e){hc=!0,Jh=e}};function D3(e,t,r,n,i,a,o,s,l){hc=!1,Jh=null,C3.apply(N3,arguments)}function R3(e,t,r,n,i,a,o,s,l){if(D3.apply(this,arguments),hc){if(hc){var u=Jh;hc=!1,Jh=null}else throw Error(H(198));Zh||(Zh=!0,R0=u)}}function vs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sP(e){if(vs(e)!==e)throw Error(H(188))}function j3(e){var t=e.alternate;if(!t){if(t=vs(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return sP(i),e;if(a===n)return sP(i),t;a=a.sibling}throw Error(H(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function h2(e){return e=j3(e),e!==null?p2(e):null}function p2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=p2(e);if(t!==null)return t;e=e.sibling}return null}var m2=nn.unstable_scheduleCallback,lP=nn.unstable_cancelCallback,M3=nn.unstable_shouldYield,L3=nn.unstable_requestPaint,Et=nn.unstable_now,V3=nn.unstable_getCurrentPriorityLevel,p_=nn.unstable_ImmediatePriority,g2=nn.unstable_UserBlockingPriority,ep=nn.unstable_NormalPriority,$3=nn.unstable_LowPriority,v2=nn.unstable_IdlePriority,Km=null,ei=null;function F3(e){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Km,e,void 0,(e.current.flags&128)===128)}catch{}}var Rn=Math.clz32?Math.clz32:B3,z3=Math.log,U3=Math.LN2;function B3(e){return e>>>=0,e===0?32:31-(z3(e)/U3|0)|0}var Ff=64,zf=4194304;function tc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=tc(s):(a&=o,a!==0&&(n=tc(a)))}else o=r&~i,o!==0?n=tc(o):a!==0&&(n=tc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Rn(t),i=1<<r,n|=e[r],t&=~i;return n}function W3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Rn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=W3(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function j0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y2(){var e=Ff;return Ff<<=1,!(Ff&4194240)&&(Ff=64),e}function sy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _d(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rn(t),e[t]=r}function H3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Rn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function m_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Rn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Re=0;function w2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var b2,g_,_2,x2,E2,M0=!1,Uf=[],Ia=null,Oa=null,Ca=null,Nc=new Map,Dc=new Map,va=[],q3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uP(e,t){switch(e){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":Nc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dc.delete(t.pointerId)}}function Vu(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Ed(t),t!==null&&g_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function G3(e,t,r,n,i){switch(t){case"focusin":return Ia=Vu(Ia,e,t,r,n,i),!0;case"dragenter":return Oa=Vu(Oa,e,t,r,n,i),!0;case"mouseover":return Ca=Vu(Ca,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Nc.set(a,Vu(Nc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Dc.set(a,Vu(Dc.get(a)||null,e,t,r,n,i)),!0}return!1}function S2(e){var t=Co(e.target);if(t!==null){var r=vs(t);if(r!==null){if(t=r.tag,t===13){if(t=f2(r),t!==null){e.blockedOn=t,E2(e.priority,function(){_2(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=L0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);C0=n,r.target.dispatchEvent(n),C0=null}else return t=Ed(r),t!==null&&g_(t),e.blockedOn=r,!1;t.shift()}return!0}function cP(e,t,r){kh(e)&&r.delete(t)}function Y3(){M0=!1,Ia!==null&&kh(Ia)&&(Ia=null),Oa!==null&&kh(Oa)&&(Oa=null),Ca!==null&&kh(Ca)&&(Ca=null),Nc.forEach(cP),Dc.forEach(cP)}function $u(e,t){e.blockedOn===t&&(e.blockedOn=null,M0||(M0=!0,nn.unstable_scheduleCallback(nn.unstable_NormalPriority,Y3)))}function Rc(e){function t(i){return $u(i,e)}if(0<Uf.length){$u(Uf[0],e);for(var r=1;r<Uf.length;r++){var n=Uf[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ia!==null&&$u(Ia,e),Oa!==null&&$u(Oa,e),Ca!==null&&$u(Ca,e),Nc.forEach(t),Dc.forEach(t),r=0;r<va.length;r++)n=va[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<va.length&&(r=va[0],r.blockedOn===null);)S2(r),r.blockedOn===null&&va.shift()}var fl=Xi.ReactCurrentBatchConfig,rp=!0;function Q3(e,t,r,n){var i=Re,a=fl.transition;fl.transition=null;try{Re=1,v_(e,t,r,n)}finally{Re=i,fl.transition=a}}function X3(e,t,r,n){var i=Re,a=fl.transition;fl.transition=null;try{Re=4,v_(e,t,r,n)}finally{Re=i,fl.transition=a}}function v_(e,t,r,n){if(rp){var i=L0(e,t,r,n);if(i===null)vy(e,t,n,np,r),uP(e,n);else if(G3(i,e,t,r,n))n.stopPropagation();else if(uP(e,n),t&4&&-1<q3.indexOf(e)){for(;i!==null;){var a=Ed(i);if(a!==null&&b2(a),a=L0(e,t,r,n),a===null&&vy(e,t,n,np,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else vy(e,t,n,null,r)}}var np=null;function L0(e,t,r,n){if(np=null,e=h_(n),e=Co(e),e!==null)if(t=vs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=f2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return np=e,null}function P2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(V3()){case p_:return 1;case g2:return 4;case ep:case $3:return 16;case v2:return 536870912;default:return 16}default:return 16}}var Sa=null,y_=null,Th=null;function k2(){if(Th)return Th;var e,t=y_,r=t.length,n,i="value"in Sa?Sa.value:Sa.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Th=i.slice(e,1<n?1-n:void 0)}function Ah(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bf(){return!0}function dP(){return!1}function sn(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Bf:dP,this.isPropagationStopped=dP,this}return dt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bf)},persist:function(){},isPersistent:Bf}),t}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},w_=sn(Yl),xd=dt({},Yl,{view:0,detail:0}),J3=sn(xd),ly,uy,Fu,Hm=dt({},xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fu&&(Fu&&e.type==="mousemove"?(ly=e.screenX-Fu.screenX,uy=e.screenY-Fu.screenY):uy=ly=0,Fu=e),ly)},movementY:function(e){return"movementY"in e?e.movementY:uy}}),fP=sn(Hm),Z3=dt({},Hm,{dataTransfer:0}),e5=sn(Z3),t5=dt({},xd,{relatedTarget:0}),cy=sn(t5),r5=dt({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),n5=sn(r5),i5=dt({},Yl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),a5=sn(i5),o5=dt({},Yl,{data:0}),hP=sn(o5),s5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},l5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},u5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=u5[e])?!!t[e]:!1}function b_(){return c5}var d5=dt({},xd,{key:function(e){if(e.key){var t=s5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ah(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?l5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b_,charCode:function(e){return e.type==="keypress"?Ah(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ah(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),f5=sn(d5),h5=dt({},Hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pP=sn(h5),p5=dt({},xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b_}),m5=sn(p5),g5=dt({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),v5=sn(g5),y5=dt({},Hm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),w5=sn(y5),b5=[9,13,27,32],__=ji&&"CompositionEvent"in window,pc=null;ji&&"documentMode"in document&&(pc=document.documentMode);var _5=ji&&"TextEvent"in window&&!pc,T2=ji&&(!__||pc&&8<pc&&11>=pc),mP=" ",gP=!1;function A2(e,t){switch(e){case"keyup":return b5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hs=!1;function x5(e,t){switch(e){case"compositionend":return I2(t);case"keypress":return t.which!==32?null:(gP=!0,mP);case"textInput":return e=t.data,e===mP&&gP?null:e;default:return null}}function E5(e,t){if(Hs)return e==="compositionend"||!__&&A2(e,t)?(e=k2(),Th=y_=Sa=null,Hs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return T2&&t.locale!=="ko"?null:t.data;default:return null}}var S5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S5[e.type]:t==="textarea"}function O2(e,t,r,n){s2(n),t=ip(t,"onChange"),0<t.length&&(r=new w_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mc=null,jc=null;function P5(e){z2(e,0)}function qm(e){var t=Ys(e);if(e2(t))return e}function k5(e,t){if(e==="change")return t}var C2=!1;if(ji){var dy;if(ji){var fy="oninput"in document;if(!fy){var yP=document.createElement("div");yP.setAttribute("oninput","return;"),fy=typeof yP.oninput=="function"}dy=fy}else dy=!1;C2=dy&&(!document.documentMode||9<document.documentMode)}function wP(){mc&&(mc.detachEvent("onpropertychange",N2),jc=mc=null)}function N2(e){if(e.propertyName==="value"&&qm(jc)){var t=[];O2(t,jc,e,h_(e)),d2(P5,t)}}function T5(e,t,r){e==="focusin"?(wP(),mc=t,jc=r,mc.attachEvent("onpropertychange",N2)):e==="focusout"&&wP()}function A5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return qm(jc)}function I5(e,t){if(e==="click")return qm(t)}function O5(e,t){if(e==="input"||e==="change")return qm(t)}function C5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:C5;function Mc(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!w0.call(t,i)||!Ln(e[i],t[i]))return!1}return!0}function bP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _P(e,t){var r=bP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=bP(r)}}function D2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?D2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function R2(){for(var e=window,t=Xh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Xh(e.document)}return t}function x_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function N5(e){var t=R2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&D2(r.ownerDocument.documentElement,r)){if(n!==null&&x_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=_P(r,a);var o=_P(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D5=ji&&"documentMode"in document&&11>=document.documentMode,qs=null,V0=null,gc=null,$0=!1;function xP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$0||qs==null||qs!==Xh(n)||(n=qs,"selectionStart"in n&&x_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gc&&Mc(gc,n)||(gc=n,n=ip(V0,"onSelect"),0<n.length&&(t=new w_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qs)))}function Wf(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Gs={animationend:Wf("Animation","AnimationEnd"),animationiteration:Wf("Animation","AnimationIteration"),animationstart:Wf("Animation","AnimationStart"),transitionend:Wf("Transition","TransitionEnd")},hy={},j2={};ji&&(j2=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Gm(e){if(hy[e])return hy[e];if(!Gs[e])return e;var t=Gs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in j2)return hy[e]=t[r];return e}var M2=Gm("animationend"),L2=Gm("animationiteration"),V2=Gm("animationstart"),$2=Gm("transitionend"),F2=new Map,EP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(e,t){F2.set(e,t),gs(t,[e])}for(var py=0;py<EP.length;py++){var my=EP[py],R5=my.toLowerCase(),j5=my[0].toUpperCase()+my.slice(1);to(R5,"on"+j5)}to(M2,"onAnimationEnd");to(L2,"onAnimationIteration");to(V2,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to($2,"onTransitionEnd");El("onMouseEnter",["mouseout","mouseover"]);El("onMouseLeave",["mouseout","mouseover"]);El("onPointerEnter",["pointerout","pointerover"]);El("onPointerLeave",["pointerout","pointerover"]);gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M5=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function SP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,R3(n,t,void 0,e),e.currentTarget=null}function z2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;SP(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;SP(i,s,u),a=l}}}if(Zh)throw e=R0,Zh=!1,R0=null,e}function Ge(e,t){var r=t[W0];r===void 0&&(r=t[W0]=new Set);var n=e+"__bubble";r.has(n)||(U2(t,e,2,!1),r.add(n))}function gy(e,t,r){var n=0;t&&(n|=4),U2(r,e,n,t)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[Kf]){e[Kf]=!0,YC.forEach(function(r){r!=="selectionchange"&&(M5.has(r)||gy(r,!1,e),gy(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kf]||(t[Kf]=!0,gy("selectionchange",!1,t))}}function U2(e,t,r,n){switch(P2(t)){case 1:var i=Q3;break;case 4:i=X3;break;default:i=v_}r=i.bind(null,t,r,e),i=void 0,!D0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function vy(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Co(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}d2(function(){var u=a,c=h_(r),d=[];e:{var h=F2.get(e);if(h!==void 0){var p=w_,g=e;switch(e){case"keypress":if(Ah(r)===0)break e;case"keydown":case"keyup":p=f5;break;case"focusin":g="focus",p=cy;break;case"focusout":g="blur",p=cy;break;case"beforeblur":case"afterblur":p=cy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=fP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=e5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=m5;break;case M2:case L2:case V2:p=n5;break;case $2:p=v5;break;case"scroll":p=J3;break;case"wheel":p=w5;break;case"copy":case"cut":case"paste":p=a5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=pP}var _=(t&4)!==0,v=!_&&e==="scroll",y=_?h!==null?h+"Capture":null:h;_=[];for(var x=u,E;x!==null;){E=x;var k=E.stateNode;if(E.tag===5&&k!==null&&(E=k,y!==null&&(k=Cc(x,y),k!=null&&_.push(Vc(x,k,E)))),v)break;x=x.return}0<_.length&&(h=new p(h,g,null,r,c),d.push({event:h,listeners:_}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==C0&&(g=r.relatedTarget||r.fromElement)&&(Co(g)||g[Mi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?Co(g):null,g!==null&&(v=vs(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=fP,k="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(_=pP,k="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?h:Ys(p),E=g==null?h:Ys(g),h=new _(k,x+"leave",p,r,c),h.target=v,h.relatedTarget=E,k=null,Co(c)===u&&(_=new _(y,x+"enter",g,r,c),_.target=E,_.relatedTarget=v,k=_),v=k,p&&g)t:{for(_=p,y=g,x=0,E=_;E;E=js(E))x++;for(E=0,k=y;k;k=js(k))E++;for(;0<x-E;)_=js(_),x--;for(;0<E-x;)y=js(y),E--;for(;x--;){if(_===y||y!==null&&_===y.alternate)break t;_=js(_),y=js(y)}_=null}else _=null;p!==null&&PP(d,h,p,_,!1),g!==null&&v!==null&&PP(d,v,g,_,!0)}}e:{if(h=u?Ys(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=k5;else if(vP(h))if(C2)I=O5;else{I=A5;var C=T5}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=I5);if(I&&(I=I(e,u))){O2(d,I,r,c);break e}C&&C(e,h,u),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&k0(h,"number",h.value)}switch(C=u?Ys(u):window,e){case"focusin":(vP(C)||C.contentEditable==="true")&&(qs=C,V0=u,gc=null);break;case"focusout":gc=V0=qs=null;break;case"mousedown":$0=!0;break;case"contextmenu":case"mouseup":case"dragend":$0=!1,xP(d,r,c);break;case"selectionchange":if(D5)break;case"keydown":case"keyup":xP(d,r,c)}var T;if(__)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Hs?A2(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(T2&&r.locale!=="ko"&&(Hs||P!=="onCompositionStart"?P==="onCompositionEnd"&&Hs&&(T=k2()):(Sa=c,y_="value"in Sa?Sa.value:Sa.textContent,Hs=!0)),C=ip(u,P),0<C.length&&(P=new hP(P,e,null,r,c),d.push({event:P,listeners:C}),T?P.data=T:(T=I2(r),T!==null&&(P.data=T)))),(T=_5?x5(e,r):E5(e,r))&&(u=ip(u,"onBeforeInput"),0<u.length&&(c=new hP("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=T))}z2(d,t)})}function Vc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ip(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Cc(e,r),a!=null&&n.unshift(Vc(e,a,i)),a=Cc(e,t),a!=null&&n.push(Vc(e,a,i))),e=e.return}return n}function js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function PP(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Cc(r,a),l!=null&&o.unshift(Vc(r,l,s))):i||(l=Cc(r,a),l!=null&&o.push(Vc(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var L5=/\r\n?/g,V5=/\u0000|\uFFFD/g;function kP(e){return(typeof e=="string"?e:""+e).replace(L5,`
`).replace(V5,"")}function Hf(e,t,r){if(t=kP(t),kP(e)!==t&&r)throw Error(H(425))}function ap(){}var F0=null,z0=null;function U0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var B0=typeof setTimeout=="function"?setTimeout:void 0,$5=typeof clearTimeout=="function"?clearTimeout:void 0,TP=typeof Promise=="function"?Promise:void 0,F5=typeof queueMicrotask=="function"?queueMicrotask:typeof TP<"u"?function(e){return TP.resolve(null).then(e).catch(z5)}:B0;function z5(e){setTimeout(function(){throw e})}function yy(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rc(t)}function Na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function AP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ql=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Ql,$c="__reactProps$"+Ql,Mi="__reactContainer$"+Ql,W0="__reactEvents$"+Ql,U5="__reactListeners$"+Ql,B5="__reactHandles$"+Ql;function Co(e){var t=e[Qn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mi]||r[Qn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=AP(e);e!==null;){if(r=e[Qn])return r;e=AP(e)}return t}e=r,r=e.parentNode}return null}function Ed(e){return e=e[Qn]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Ym(e){return e[$c]||null}var K0=[],Qs=-1;function ro(e){return{current:e}}function Je(e){0>Qs||(e.current=K0[Qs],K0[Qs]=null,Qs--)}function We(e,t){Qs++,K0[Qs]=e.current,e.current=t}var Ka={},xr=ro(Ka),$r=ro(!1),Yo=Ka;function Sl(e,t){var r=e.type.contextTypes;if(!r)return Ka;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Fr(e){return e=e.childContextTypes,e!=null}function op(){Je($r),Je(xr)}function IP(e,t,r){if(xr.current!==Ka)throw Error(H(168));We(xr,t),We($r,r)}function B2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(H(108,T3(e)||"Unknown",i));return dt({},r,n)}function sp(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ka,Yo=xr.current,We(xr,e),We($r,$r.current),!0}function OP(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=B2(e,t,Yo),n.__reactInternalMemoizedMergedChildContext=e,Je($r),Je(xr),We(xr,e)):Je($r),We($r,r)}var bi=null,Qm=!1,wy=!1;function W2(e){bi===null?bi=[e]:bi.push(e)}function W5(e){Qm=!0,W2(e)}function no(){if(!wy&&bi!==null){wy=!0;var e=0,t=Re;try{var r=bi;for(Re=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bi=null,Qm=!1}catch(i){throw bi!==null&&(bi=bi.slice(e+1)),m2(p_,no),i}finally{Re=t,wy=!1}}return null}var Xs=[],Js=0,lp=null,up=0,fn=[],hn=0,Qo=null,Si=1,Pi="";function Eo(e,t){Xs[Js++]=up,Xs[Js++]=lp,lp=e,up=t}function K2(e,t,r){fn[hn++]=Si,fn[hn++]=Pi,fn[hn++]=Qo,Qo=e;var n=Si;e=Pi;var i=32-Rn(n)-1;n&=~(1<<i),r+=1;var a=32-Rn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Si=1<<32-Rn(t)+i|r<<i|n,Pi=a+e}else Si=1<<a|r<<i|n,Pi=e}function E_(e){e.return!==null&&(Eo(e,1),K2(e,1,0))}function S_(e){for(;e===lp;)lp=Xs[--Js],Xs[Js]=null,up=Xs[--Js],Xs[Js]=null;for(;e===Qo;)Qo=fn[--hn],fn[hn]=null,Pi=fn[--hn],fn[hn]=null,Si=fn[--hn],fn[hn]=null}var tn=null,Jr=null,et=!1,On=null;function H2(e,t){var r=pn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function CP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,tn=e,Jr=Na(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,tn=e,Jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Qo!==null?{id:Si,overflow:Pi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,tn=e,Jr=null,!0):!1;default:return!1}}function H0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function q0(e){if(et){var t=Jr;if(t){var r=t;if(!CP(e,t)){if(H0(e))throw Error(H(418));t=Na(r.nextSibling);var n=tn;t&&CP(e,t)?H2(n,r):(e.flags=e.flags&-4097|2,et=!1,tn=e)}}else{if(H0(e))throw Error(H(418));e.flags=e.flags&-4097|2,et=!1,tn=e}}}function NP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;tn=e}function qf(e){if(e!==tn)return!1;if(!et)return NP(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!U0(e.type,e.memoizedProps)),t&&(t=Jr)){if(H0(e))throw q2(),Error(H(418));for(;t;)H2(e,t),t=Na(t.nextSibling)}if(NP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Jr=Na(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Jr=null}}else Jr=tn?Na(e.stateNode.nextSibling):null;return!0}function q2(){for(var e=Jr;e;)e=Na(e.nextSibling)}function Pl(){Jr=tn=null,et=!1}function P_(e){On===null?On=[e]:On.push(e)}var K5=Xi.ReactCurrentBatchConfig;function zu(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function Gf(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function DP(e){var t=e._init;return t(e._payload)}function G2(e){function t(y,x){if(e){var E=y.deletions;E===null?(y.deletions=[x],y.flags|=16):E.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=Ma(y,x),y.index=0,y.sibling=null,y}function a(y,x,E){return y.index=E,e?(E=y.alternate,E!==null?(E=E.index,E<x?(y.flags|=2,x):E):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,x,E,k){return x===null||x.tag!==6?(x=ky(E,y.mode,k),x.return=y,x):(x=i(x,E),x.return=y,x)}function l(y,x,E,k){var I=E.type;return I===Ks?c(y,x,E.props.children,k,E.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ha&&DP(I)===x.type)?(k=i(x,E.props),k.ref=zu(y,x,E),k.return=y,k):(k=jh(E.type,E.key,E.props,null,y.mode,k),k.ref=zu(y,x,E),k.return=y,k)}function u(y,x,E,k){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Ty(E,y.mode,k),x.return=y,x):(x=i(x,E.children||[]),x.return=y,x)}function c(y,x,E,k,I){return x===null||x.tag!==7?(x=Fo(E,y.mode,k,I),x.return=y,x):(x=i(x,E),x.return=y,x)}function d(y,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ky(""+x,y.mode,E),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lf:return E=jh(x.type,x.key,x.props,null,y.mode,E),E.ref=zu(y,null,x),E.return=y,E;case Ws:return x=Ty(x,y.mode,E),x.return=y,x;case ha:var k=x._init;return d(y,k(x._payload),E)}if(ec(x)||Mu(x))return x=Fo(x,y.mode,E,null),x.return=y,x;Gf(y,x)}return null}function h(y,x,E,k){var I=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:s(y,x,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Lf:return E.key===I?l(y,x,E,k):null;case Ws:return E.key===I?u(y,x,E,k):null;case ha:return I=E._init,h(y,x,I(E._payload),k)}if(ec(E)||Mu(E))return I!==null?null:c(y,x,E,k,null);Gf(y,E)}return null}function p(y,x,E,k,I){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(E)||null,s(x,y,""+k,I);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Lf:return y=y.get(k.key===null?E:k.key)||null,l(x,y,k,I);case Ws:return y=y.get(k.key===null?E:k.key)||null,u(x,y,k,I);case ha:var C=k._init;return p(y,x,E,C(k._payload),I)}if(ec(k)||Mu(k))return y=y.get(E)||null,c(x,y,k,I,null);Gf(x,k)}return null}function g(y,x,E,k){for(var I=null,C=null,T=x,P=x=0,A=null;T!==null&&P<E.length;P++){T.index>P?(A=T,T=null):A=T.sibling;var O=h(y,T,E[P],k);if(O===null){T===null&&(T=A);break}e&&T&&O.alternate===null&&t(y,T),x=a(O,x,P),C===null?I=O:C.sibling=O,C=O,T=A}if(P===E.length)return r(y,T),et&&Eo(y,P),I;if(T===null){for(;P<E.length;P++)T=d(y,E[P],k),T!==null&&(x=a(T,x,P),C===null?I=T:C.sibling=T,C=T);return et&&Eo(y,P),I}for(T=n(y,T);P<E.length;P++)A=p(T,y,P,E[P],k),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?P:A.key),x=a(A,x,P),C===null?I=A:C.sibling=A,C=A);return e&&T.forEach(function(N){return t(y,N)}),et&&Eo(y,P),I}function _(y,x,E,k){var I=Mu(E);if(typeof I!="function")throw Error(H(150));if(E=I.call(E),E==null)throw Error(H(151));for(var C=I=null,T=x,P=x=0,A=null,O=E.next();T!==null&&!O.done;P++,O=E.next()){T.index>P?(A=T,T=null):A=T.sibling;var N=h(y,T,O.value,k);if(N===null){T===null&&(T=A);break}e&&T&&N.alternate===null&&t(y,T),x=a(N,x,P),C===null?I=N:C.sibling=N,C=N,T=A}if(O.done)return r(y,T),et&&Eo(y,P),I;if(T===null){for(;!O.done;P++,O=E.next())O=d(y,O.value,k),O!==null&&(x=a(O,x,P),C===null?I=O:C.sibling=O,C=O);return et&&Eo(y,P),I}for(T=n(y,T);!O.done;P++,O=E.next())O=p(T,y,P,O.value,k),O!==null&&(e&&O.alternate!==null&&T.delete(O.key===null?P:O.key),x=a(O,x,P),C===null?I=O:C.sibling=O,C=O);return e&&T.forEach(function(j){return t(y,j)}),et&&Eo(y,P),I}function v(y,x,E,k){if(typeof E=="object"&&E!==null&&E.type===Ks&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Lf:e:{for(var I=E.key,C=x;C!==null;){if(C.key===I){if(I=E.type,I===Ks){if(C.tag===7){r(y,C.sibling),x=i(C,E.props.children),x.return=y,y=x;break e}}else if(C.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ha&&DP(I)===C.type){r(y,C.sibling),x=i(C,E.props),x.ref=zu(y,C,E),x.return=y,y=x;break e}r(y,C);break}else t(y,C);C=C.sibling}E.type===Ks?(x=Fo(E.props.children,y.mode,k,E.key),x.return=y,y=x):(k=jh(E.type,E.key,E.props,null,y.mode,k),k.ref=zu(y,x,E),k.return=y,y=k)}return o(y);case Ws:e:{for(C=E.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){r(y,x.sibling),x=i(x,E.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Ty(E,y.mode,k),x.return=y,y=x}return o(y);case ha:return C=E._init,v(y,x,C(E._payload),k)}if(ec(E))return g(y,x,E,k);if(Mu(E))return _(y,x,E,k);Gf(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,E),x.return=y,y=x):(r(y,x),x=ky(E,y.mode,k),x.return=y,y=x),o(y)):r(y,x)}return v}var kl=G2(!0),Y2=G2(!1),cp=ro(null),dp=null,Zs=null,k_=null;function T_(){k_=Zs=dp=null}function A_(e){var t=cp.current;Je(cp),e._currentValue=t}function G0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function hl(e,t){dp=e,k_=Zs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Lr=!0),e.firstContext=null)}function wn(e){var t=e._currentValue;if(k_!==e)if(e={context:e,memoizedValue:t,next:null},Zs===null){if(dp===null)throw Error(H(308));Zs=e,dp.dependencies={lanes:0,firstContext:e}}else Zs=Zs.next=e;return t}var No=null;function I_(e){No===null?No=[e]:No.push(e)}function Q2(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,I_(t)):(r.next=i.next,i.next=r),t.interleaved=r,Li(e,n)}function Li(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var pa=!1;function O_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Da(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Te&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Li(e,r)}return i=n.interleaved,i===null?(t.next=t,I_(n)):(t.next=i.next,i.next=t),n.interleaved=t,Li(e,r)}function Ih(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,m_(e,r)}}function RP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fp(e,t,r,n){var i=e.updateQueue;pa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,p=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=e,_=s;switch(h=t,p=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=dt({},d,h);break e;case 2:pa=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Jo|=o,e.lanes=o,e.memoizedState=d}}function jP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(H(191,i));i.call(n)}}}var Sd={},ti=ro(Sd),Fc=ro(Sd),zc=ro(Sd);function Do(e){if(e===Sd)throw Error(H(174));return e}function C_(e,t){switch(We(zc,t),We(Fc,e),We(ti,Sd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:A0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=A0(t,e)}Je(ti),We(ti,t)}function Tl(){Je(ti),Je(Fc),Je(zc)}function J2(e){Do(zc.current);var t=Do(ti.current),r=A0(t,e.type);t!==r&&(We(Fc,e),We(ti,r))}function N_(e){Fc.current===e&&(Je(ti),Je(Fc))}var st=ro(0);function hp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var by=[];function D_(){for(var e=0;e<by.length;e++)by[e]._workInProgressVersionPrimary=null;by.length=0}var Oh=Xi.ReactCurrentDispatcher,_y=Xi.ReactCurrentBatchConfig,Xo=0,lt=null,Dt=null,Gt=null,pp=!1,vc=!1,Uc=0,H5=0;function fr(){throw Error(H(321))}function R_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ln(e[r],t[r]))return!1;return!0}function j_(e,t,r,n,i,a){if(Xo=a,lt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Oh.current=e===null||e.memoizedState===null?Q5:X5,e=r(n,i),vc){a=0;do{if(vc=!1,Uc=0,25<=a)throw Error(H(301));a+=1,Gt=Dt=null,t.updateQueue=null,Oh.current=J5,e=r(n,i)}while(vc)}if(Oh.current=mp,t=Dt!==null&&Dt.next!==null,Xo=0,Gt=Dt=lt=null,pp=!1,t)throw Error(H(300));return e}function M_(){var e=Uc!==0;return Uc=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?lt.memoizedState=Gt=e:Gt=Gt.next=e,Gt}function bn(){if(Dt===null){var e=lt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var t=Gt===null?lt.memoizedState:Gt.next;if(t!==null)Gt=t,Dt=e;else{if(e===null)throw Error(H(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Gt===null?lt.memoizedState=Gt=e:Gt=Gt.next=e}return Gt}function Bc(e,t){return typeof t=="function"?t(e):t}function xy(e){var t=bn(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=Dt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((Xo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,lt.lanes|=c,Jo|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Ln(n,t.memoizedState)||(Lr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,lt.lanes|=a,Jo|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ey(e){var t=bn(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Ln(a,t.memoizedState)||(Lr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Z2(){}function eN(e,t){var r=lt,n=bn(),i=t(),a=!Ln(n.memoizedState,i);if(a&&(n.memoizedState=i,Lr=!0),n=n.queue,L_(nN.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Gt!==null&&Gt.memoizedState.tag&1){if(r.flags|=2048,Wc(9,rN.bind(null,r,n,i,t),void 0,null),Qt===null)throw Error(H(349));Xo&30||tN(r,t,i)}return i}function tN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rN(e,t,r,n){t.value=r,t.getSnapshot=n,iN(t)&&aN(e)}function nN(e,t,r){return r(function(){iN(t)&&aN(e)})}function iN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ln(e,r)}catch{return!0}}function aN(e){var t=Li(e,1);t!==null&&jn(t,e,1,-1)}function MP(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:e},t.queue=e,e=e.dispatch=Y5.bind(null,lt,e),[t.memoizedState,e]}function Wc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=lt.updateQueue,t===null?(t={lastEffect:null,stores:null},lt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function oN(){return bn().memoizedState}function Ch(e,t,r,n){var i=Yn();lt.flags|=e,i.memoizedState=Wc(1|t,r,void 0,n===void 0?null:n)}function Xm(e,t,r,n){var i=bn();n=n===void 0?null:n;var a=void 0;if(Dt!==null){var o=Dt.memoizedState;if(a=o.destroy,n!==null&&R_(n,o.deps)){i.memoizedState=Wc(t,r,a,n);return}}lt.flags|=e,i.memoizedState=Wc(1|t,r,a,n)}function LP(e,t){return Ch(8390656,8,e,t)}function L_(e,t){return Xm(2048,8,e,t)}function sN(e,t){return Xm(4,2,e,t)}function lN(e,t){return Xm(4,4,e,t)}function uN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cN(e,t,r){return r=r!=null?r.concat([e]):null,Xm(4,4,uN.bind(null,t,e),r)}function V_(){}function dN(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&R_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function fN(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&R_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function hN(e,t,r){return Xo&21?(Ln(r,t)||(r=y2(),lt.lanes|=r,Jo|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Lr=!0),e.memoizedState=r)}function q5(e,t){var r=Re;Re=r!==0&&4>r?r:4,e(!0);var n=_y.transition;_y.transition={};try{e(!1),t()}finally{Re=r,_y.transition=n}}function pN(){return bn().memoizedState}function G5(e,t,r){var n=ja(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mN(e))gN(t,r);else if(r=Q2(e,t,r,n),r!==null){var i=Ir();jn(r,e,n,i),vN(r,t,n)}}function Y5(e,t,r){var n=ja(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mN(e))gN(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Ln(s,o)){var l=t.interleaved;l===null?(i.next=i,I_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Q2(e,t,i,n),r!==null&&(i=Ir(),jn(r,e,n,i),vN(r,t,n))}}function mN(e){var t=e.alternate;return e===lt||t!==null&&t===lt}function gN(e,t){vc=pp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function vN(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,m_(e,r)}}var mp={readContext:wn,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},Q5={readContext:wn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:wn,useEffect:LP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ch(4194308,4,uN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ch(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ch(4,2,e,t)},useMemo:function(e,t){var r=Yn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=G5.bind(null,lt,e),[n.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:MP,useDebugValue:V_,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=MP(!1),t=e[0];return e=q5.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=lt,i=Yn();if(et){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),Qt===null)throw Error(H(349));Xo&30||tN(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,LP(nN.bind(null,n,a,e),[e]),n.flags|=2048,Wc(9,rN.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Yn(),t=Qt.identifierPrefix;if(et){var r=Pi,n=Si;r=(n&~(1<<32-Rn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Uc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=H5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},X5={readContext:wn,useCallback:dN,useContext:wn,useEffect:L_,useImperativeHandle:cN,useInsertionEffect:sN,useLayoutEffect:lN,useMemo:fN,useReducer:xy,useRef:oN,useState:function(){return xy(Bc)},useDebugValue:V_,useDeferredValue:function(e){var t=bn();return hN(t,Dt.memoizedState,e)},useTransition:function(){var e=xy(Bc)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Z2,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1},J5={readContext:wn,useCallback:dN,useContext:wn,useEffect:L_,useImperativeHandle:cN,useInsertionEffect:sN,useLayoutEffect:lN,useMemo:fN,useReducer:Ey,useRef:oN,useState:function(){return Ey(Bc)},useDebugValue:V_,useDeferredValue:function(e){var t=bn();return Dt===null?t.memoizedState=e:hN(t,Dt.memoizedState,e)},useTransition:function(){var e=Ey(Bc)[0],t=bn().memoizedState;return[e,t]},useMutableSource:Z2,useSyncExternalStore:eN,useId:pN,unstable_isNewReconciler:!1};function An(e,t){if(e&&e.defaultProps){t=dt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Y0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:dt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jm={isMounted:function(e){return(e=e._reactInternals)?vs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ir(),i=ja(e),a=Ci(n,i);a.payload=t,r!=null&&(a.callback=r),t=Da(e,a,i),t!==null&&(jn(t,e,i,n),Ih(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ir(),i=ja(e),a=Ci(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Da(e,a,i),t!==null&&(jn(t,e,i,n),Ih(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ir(),n=ja(e),i=Ci(r,n);i.tag=2,t!=null&&(i.callback=t),t=Da(e,i,n),t!==null&&(jn(t,e,n,r),Ih(t,e,n))}};function VP(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Mc(r,n)||!Mc(i,a):!0}function yN(e,t,r){var n=!1,i=Ka,a=t.contextType;return typeof a=="object"&&a!==null?a=wn(a):(i=Fr(t)?Yo:xr.current,n=t.contextTypes,a=(n=n!=null)?Sl(e,i):Ka),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jm,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function $P(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jm.enqueueReplaceState(t,t.state,null)}function Q0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},O_(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=wn(a):(a=Fr(t)?Yo:xr.current,i.context=Sl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Y0(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Jm.enqueueReplaceState(i,i.state,null),fp(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Al(e,t){try{var r="",n=t;do r+=k3(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Sy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function X0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Z5=typeof WeakMap=="function"?WeakMap:Map;function wN(e,t,r){r=Ci(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){vp||(vp=!0,sw=n),X0(e,t)},r}function bN(e,t,r){r=Ci(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){X0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){X0(e,t),typeof n!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function FP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Z5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=hz.bind(null,e,t,r),t.then(e,e))}function zP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function UP(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ci(-1,1),t.tag=2,Da(r,t,1))),r.lanes|=1),e)}var ez=Xi.ReactCurrentOwner,Lr=!1;function kr(e,t,r,n){t.child=e===null?Y2(t,null,r,n):kl(t,e.child,r,n)}function BP(e,t,r,n,i){r=r.render;var a=t.ref;return hl(t,i),n=j_(e,t,r,n,a,i),r=M_(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vi(e,t,i)):(et&&r&&E_(t),t.flags|=1,kr(e,t,n,i),t.child)}function WP(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!H_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,_N(e,t,a,n,i)):(e=jh(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Mc,r(o,n)&&e.ref===t.ref)return Vi(e,t,i)}return t.flags|=1,e=Ma(a,n),e.ref=t.ref,e.return=t,t.child=e}function _N(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Mc(a,n)&&e.ref===t.ref)if(Lr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Lr=!0);else return t.lanes=e.lanes,Vi(e,t,i)}return J0(e,t,r,n,i)}function xN(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(tl,Gr),Gr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,We(tl,Gr),Gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,We(tl,Gr),Gr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,We(tl,Gr),Gr|=n;return kr(e,t,i,r),t.child}function EN(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function J0(e,t,r,n,i){var a=Fr(r)?Yo:xr.current;return a=Sl(t,a),hl(t,i),r=j_(e,t,r,n,a,i),n=M_(),e!==null&&!Lr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Vi(e,t,i)):(et&&n&&E_(t),t.flags|=1,kr(e,t,r,i),t.child)}function KP(e,t,r,n,i){if(Fr(r)){var a=!0;sp(t)}else a=!1;if(hl(t,i),t.stateNode===null)Nh(e,t),yN(t,r,n),Q0(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=wn(u):(u=Fr(r)?Yo:xr.current,u=Sl(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&$P(t,o,n,u),pa=!1;var h=t.memoizedState;o.state=h,fp(t,n,o,i),l=t.memoizedState,s!==n||h!==l||$r.current||pa?(typeof c=="function"&&(Y0(t,r,c,n),l=t.memoizedState),(s=pa||VP(t,r,s,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,X2(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:An(t.type,s),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=wn(l):(l=Fr(r)?Yo:xr.current,l=Sl(t,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&$P(t,o,n,l),pa=!1,h=t.memoizedState,o.state=h,fp(t,n,o,i);var g=t.memoizedState;s!==d||h!==g||$r.current||pa?(typeof p=="function"&&(Y0(t,r,p,n),g=t.memoizedState),(u=pa||VP(t,r,u,n,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Z0(e,t,r,n,a,i)}function Z0(e,t,r,n,i,a){EN(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&OP(t,r,!1),Vi(e,t,a);n=t.stateNode,ez.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=kl(t,e.child,null,a),t.child=kl(t,null,s,a)):kr(e,t,s,a),t.memoizedState=n.state,i&&OP(t,r,!0),t.child}function SN(e){var t=e.stateNode;t.pendingContext?IP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&IP(e,t.context,!1),C_(e,t.containerInfo)}function HP(e,t,r,n,i){return Pl(),P_(i),t.flags|=256,kr(e,t,r,n),t.child}var ew={dehydrated:null,treeContext:null,retryLane:0};function tw(e){return{baseLanes:e,cachePool:null,transitions:null}}function PN(e,t,r){var n=t.pendingProps,i=st.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),We(st,i&1),e===null)return q0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=tg(o,n,0,null),e=Fo(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=tw(r),t.memoizedState=ew,e):$_(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return tz(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ma(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ma(s,a):(a=Fo(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?tw(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=ew,n}return a=e.child,e=a.sibling,n=Ma(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function $_(e,t){return t=tg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yf(e,t,r,n){return n!==null&&P_(n),kl(t,e.child,null,r),e=$_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tz(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Sy(Error(H(422))),Yf(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=tg({mode:"visible",children:n.children},i,0,null),a=Fo(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&kl(t,e.child,null,o),t.child.memoizedState=tw(o),t.memoizedState=ew,a);if(!(t.mode&1))return Yf(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(H(419)),n=Sy(a,n,void 0),Yf(e,t,o,n)}if(s=(o&e.childLanes)!==0,Lr||s){if(n=Qt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Li(e,i),jn(n,e,i,-1))}return K_(),n=Sy(Error(H(421))),Yf(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=pz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Jr=Na(i.nextSibling),tn=t,et=!0,On=null,e!==null&&(fn[hn++]=Si,fn[hn++]=Pi,fn[hn++]=Qo,Si=e.id,Pi=e.overflow,Qo=t),t=$_(t,n.children),t.flags|=4096,t)}function qP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),G0(e.return,t,r)}function Py(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function kN(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(kr(e,t,n.children,r),n=st.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qP(e,r,t);else if(e.tag===19)qP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(We(st,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&hp(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Py(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&hp(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Py(t,!0,r,null,a);break;case"together":Py(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Nh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Jo|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=Ma(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ma(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rz(e,t,r){switch(t.tag){case 3:SN(t),Pl();break;case 5:J2(t);break;case 1:Fr(t.type)&&sp(t);break;case 4:C_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;We(cp,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(We(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?PN(e,t,r):(We(st,st.current&1),e=Vi(e,t,r),e!==null?e.sibling:null);We(st,st.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kN(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),We(st,st.current),n)break;return null;case 22:case 23:return t.lanes=0,xN(e,t,r)}return Vi(e,t,r)}var TN,rw,AN,IN;TN=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rw=function(){};AN=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Do(ti.current);var a=null;switch(r){case"input":i=S0(e,i),n=S0(e,n),a=[];break;case"select":i=dt({},i,{value:void 0}),n=dt({},n,{value:void 0}),a=[];break;case"textarea":i=T0(e,i),n=T0(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ap)}I0(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ic.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ge("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};IN=function(e,t,r,n){r!==n&&(t.flags|=4)};function Uu(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nz(e,t,r){var n=t.pendingProps;switch(S_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hr(t),null;case 1:return Fr(t.type)&&op(),hr(t),null;case 3:return n=t.stateNode,Tl(),Je($r),Je(xr),D_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(cw(On),On=null))),rw(e,t),hr(t),null;case 5:N_(t);var i=Do(zc.current);if(r=t.type,e!==null&&t.stateNode!=null)AN(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return hr(t),null}if(e=Do(ti.current),qf(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Qn]=t,n[$c]=a,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(i=0;i<rc.length;i++)Ge(rc[i],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":rP(n,a),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ge("invalid",n);break;case"textarea":iP(n,a),Ge("invalid",n)}I0(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&Hf(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Hf(n.textContent,s,e),i=["children",""+s]):Ic.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ge("scroll",n)}switch(r){case"input":Vf(n),nP(n,a,!0);break;case"textarea":Vf(n),aP(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=ap)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=n2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Qn]=t,e[$c]=n,TN(e,t,!1,!1),t.stateNode=e;e:{switch(o=O0(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),i=n;break;case"iframe":case"object":case"embed":Ge("load",e),i=n;break;case"video":case"audio":for(i=0;i<rc.length;i++)Ge(rc[i],e);i=n;break;case"source":Ge("error",e),i=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=n;break;case"details":Ge("toggle",e),i=n;break;case"input":rP(e,n),i=S0(e,n),Ge("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=dt({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":iP(e,n),i=T0(e,n),Ge("invalid",e);break;default:i=n}I0(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?o2(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i2(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Oc(e,l):typeof l=="number"&&Oc(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ic.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ge("scroll",e):l!=null&&u_(e,a,l,o))}switch(r){case"input":Vf(e),nP(e,n,!1);break;case"textarea":Vf(e),aP(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Wa(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ul(e,!!n.multiple,a,!1):n.defaultValue!=null&&ul(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ap)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hr(t),null;case 6:if(e&&t.stateNode!=null)IN(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=Do(zc.current),Do(ti.current),qf(t)){if(n=t.stateNode,r=t.memoizedProps,n[Qn]=t,(a=n.nodeValue!==r)&&(e=tn,e!==null))switch(e.tag){case 3:Hf(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hf(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Qn]=t,t.stateNode=n}return hr(t),null;case 13:if(Je(st),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&Jr!==null&&t.mode&1&&!(t.flags&128))q2(),Pl(),t.flags|=98560,a=!1;else if(a=qf(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(H(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(H(317));a[Qn]=t}else Pl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hr(t),a=!1}else On!==null&&(cw(On),On=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?jt===0&&(jt=3):K_())),t.updateQueue!==null&&(t.flags|=4),hr(t),null);case 4:return Tl(),rw(e,t),e===null&&Lc(t.stateNode.containerInfo),hr(t),null;case 10:return A_(t.type._context),hr(t),null;case 17:return Fr(t.type)&&op(),hr(t),null;case 19:if(Je(st),a=t.memoizedState,a===null)return hr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Uu(a,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hp(e),o!==null){for(t.flags|=128,Uu(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return We(st,st.current&1|2),t.child}e=e.sibling}a.tail!==null&&Et()>Il&&(t.flags|=128,n=!0,Uu(a,!1),t.lanes=4194304)}else{if(!n)if(e=hp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Uu(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!et)return hr(t),null}else 2*Et()-a.renderingStartTime>Il&&r!==1073741824&&(t.flags|=128,n=!0,Uu(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Et(),t.sibling=null,r=st.current,We(st,n?r&1|2:r&1),t):(hr(t),null);case 22:case 23:return W_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Gr&1073741824&&(hr(t),t.subtreeFlags&6&&(t.flags|=8192)):hr(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function iz(e,t){switch(S_(t),t.tag){case 1:return Fr(t.type)&&op(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tl(),Je($r),Je(xr),D_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return N_(t),null;case 13:if(Je(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Pl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(st),null;case 4:return Tl(),null;case 10:return A_(t.type._context),null;case 22:case 23:return W_(),null;case 24:return null;default:return null}}var Qf=!1,vr=!1,az=typeof WeakSet=="function"?WeakSet:Set,ee=null;function el(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vt(e,t,n)}else r.current=null}function nw(e,t,r){try{r()}catch(n){vt(e,t,n)}}var GP=!1;function oz(e,t){if(F0=rp,e=R2(),x_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++c===n&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(z0={focusedElem:e,selectionRange:r},rp=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,v=g.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?_:An(t.type,_),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){vt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return g=GP,GP=!1,g}function yc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&nw(t,r,a)}i=i.next}while(i!==n)}}function Zm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function iw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ON(e){var t=e.alternate;t!==null&&(e.alternate=null,ON(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qn],delete t[$c],delete t[W0],delete t[U5],delete t[B5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function CN(e){return e.tag===5||e.tag===3||e.tag===4}function YP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||CN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function aw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ap));else if(n!==4&&(e=e.child,e!==null))for(aw(e,t,r),e=e.sibling;e!==null;)aw(e,t,r),e=e.sibling}function ow(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(ow(e,t,r),e=e.sibling;e!==null;)ow(e,t,r),e=e.sibling}var tr=null,In=!1;function da(e,t,r){for(r=r.child;r!==null;)NN(e,t,r),r=r.sibling}function NN(e,t,r){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Km,r)}catch{}switch(r.tag){case 5:vr||el(r,t);case 6:var n=tr,i=In;tr=null,da(e,t,r),tr=n,In=i,tr!==null&&(In?(e=tr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tr.removeChild(r.stateNode));break;case 18:tr!==null&&(In?(e=tr,r=r.stateNode,e.nodeType===8?yy(e.parentNode,r):e.nodeType===1&&yy(e,r),Rc(e)):yy(tr,r.stateNode));break;case 4:n=tr,i=In,tr=r.stateNode.containerInfo,In=!0,da(e,t,r),tr=n,In=i;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&nw(r,t,o),i=i.next}while(i!==n)}da(e,t,r);break;case 1:if(!vr&&(el(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){vt(r,t,s)}da(e,t,r);break;case 21:da(e,t,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,da(e,t,r),vr=n):da(e,t,r);break;default:da(e,t,r)}}function QP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new az),t.forEach(function(n){var i=mz.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Tn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:tr=s.stateNode,In=!1;break e;case 3:tr=s.stateNode.containerInfo,In=!0;break e;case 4:tr=s.stateNode.containerInfo,In=!0;break e}s=s.return}if(tr===null)throw Error(H(160));NN(a,o,i),tr=null,In=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){vt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)DN(t,e),t=t.sibling}function DN(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tn(t,e),Hn(e),n&4){try{yc(3,e,e.return),Zm(3,e)}catch(_){vt(e,e.return,_)}try{yc(5,e,e.return)}catch(_){vt(e,e.return,_)}}break;case 1:Tn(t,e),Hn(e),n&512&&r!==null&&el(r,r.return);break;case 5:if(Tn(t,e),Hn(e),n&512&&r!==null&&el(r,r.return),e.flags&32){var i=e.stateNode;try{Oc(i,"")}catch(_){vt(e,e.return,_)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&t2(i,a),O0(s,o);var u=O0(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?o2(i,d):c==="dangerouslySetInnerHTML"?i2(i,d):c==="children"?Oc(i,d):u_(i,c,d,u)}switch(s){case"input":P0(i,a);break;case"textarea":r2(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ul(i,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ul(i,!!a.multiple,a.defaultValue,!0):ul(i,!!a.multiple,a.multiple?[]:"",!1))}i[$c]=a}catch(_){vt(e,e.return,_)}}break;case 6:if(Tn(t,e),Hn(e),n&4){if(e.stateNode===null)throw Error(H(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(_){vt(e,e.return,_)}}break;case 3:if(Tn(t,e),Hn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rc(t.containerInfo)}catch(_){vt(e,e.return,_)}break;case 4:Tn(t,e),Hn(e);break;case 13:Tn(t,e),Hn(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(U_=Et())),n&4&&QP(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(vr=(u=vr)||c,Tn(t,e),vr=u):Tn(t,e),Hn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ee=e,c=e.child;c!==null;){for(d=ee=c;ee!==null;){switch(h=ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:yc(4,h,h.return);break;case 1:el(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(_){vt(n,r,_)}}break;case 5:el(h,h.return);break;case 22:if(h.memoizedState!==null){JP(d);continue}}p!==null?(p.return=h,ee=p):JP(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=a2("display",o))}catch(_){vt(e,e.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){vt(e,e.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Tn(t,e),Hn(e),n&4&&QP(e);break;case 21:break;default:Tn(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(CN(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Oc(i,""),n.flags&=-33);var a=YP(e);ow(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=YP(e);aw(e,s,o);break;default:throw Error(H(161))}}catch(l){vt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sz(e,t,r){ee=e,RN(e)}function RN(e,t,r){for(var n=(e.mode&1)!==0;ee!==null;){var i=ee,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Qf;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||vr;s=Qf;var u=vr;if(Qf=o,(vr=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?ZP(i):l!==null?(l.return=o,ee=l):ZP(i);for(;a!==null;)ee=a,RN(a),a=a.sibling;ee=i,Qf=s,vr=u}XP(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ee=a):XP(e)}}function XP(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vr||Zm(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:An(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&jP(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}jP(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Rc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}vr||t.flags&512&&iw(t)}catch(h){vt(t,t.return,h)}}if(t===e){ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,ee=r;break}ee=t.return}}function JP(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ee=r;break}ee=t.return}}function ZP(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Zm(4,t)}catch(l){vt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){vt(t,i,l)}}var a=t.return;try{iw(t)}catch(l){vt(t,a,l)}break;case 5:var o=t.return;try{iw(t)}catch(l){vt(t,o,l)}}}catch(l){vt(t,t.return,l)}if(t===e){ee=null;break}var s=t.sibling;if(s!==null){s.return=t.return,ee=s;break}ee=t.return}}var lz=Math.ceil,gp=Xi.ReactCurrentDispatcher,F_=Xi.ReactCurrentOwner,gn=Xi.ReactCurrentBatchConfig,Te=0,Qt=null,Tt=null,or=0,Gr=0,tl=ro(0),jt=0,Kc=null,Jo=0,eg=0,z_=0,wc=null,jr=null,U_=0,Il=1/0,wi=null,vp=!1,sw=null,Ra=null,Xf=!1,Pa=null,yp=0,bc=0,lw=null,Dh=-1,Rh=0;function Ir(){return Te&6?Et():Dh!==-1?Dh:Dh=Et()}function ja(e){return e.mode&1?Te&2&&or!==0?or&-or:K5.transition!==null?(Rh===0&&(Rh=y2()),Rh):(e=Re,e!==0||(e=window.event,e=e===void 0?16:P2(e.type)),e):1}function jn(e,t,r,n){if(50<bc)throw bc=0,lw=null,Error(H(185));_d(e,r,n),(!(Te&2)||e!==Qt)&&(e===Qt&&(!(Te&2)&&(eg|=r),jt===4&&ya(e,or)),zr(e,n),r===1&&Te===0&&!(t.mode&1)&&(Il=Et()+500,Qm&&no()))}function zr(e,t){var r=e.callbackNode;K3(e,t);var n=tp(e,e===Qt?or:0);if(n===0)r!==null&&lP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&lP(r),t===1)e.tag===0?W5(ek.bind(null,e)):W2(ek.bind(null,e)),F5(function(){!(Te&6)&&no()}),r=null;else{switch(w2(n)){case 1:r=p_;break;case 4:r=g2;break;case 16:r=ep;break;case 536870912:r=v2;break;default:r=ep}r=UN(r,jN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jN(e,t){if(Dh=-1,Rh=0,Te&6)throw Error(H(327));var r=e.callbackNode;if(pl()&&e.callbackNode!==r)return null;var n=tp(e,e===Qt?or:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=wp(e,n);else{t=n;var i=Te;Te|=2;var a=LN();(Qt!==e||or!==t)&&(wi=null,Il=Et()+500,$o(e,t));do try{dz();break}catch(s){MN(e,s)}while(!0);T_(),gp.current=a,Te=i,Tt!==null?t=0:(Qt=null,or=0,t=jt)}if(t!==0){if(t===2&&(i=j0(e),i!==0&&(n=i,t=uw(e,i))),t===1)throw r=Kc,$o(e,0),ya(e,n),zr(e,Et()),r;if(t===6)ya(e,n);else{if(i=e.current.alternate,!(n&30)&&!uz(i)&&(t=wp(e,n),t===2&&(a=j0(e),a!==0&&(n=a,t=uw(e,a))),t===1))throw r=Kc,$o(e,0),ya(e,n),zr(e,Et()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:So(e,jr,wi);break;case 3:if(ya(e,n),(n&130023424)===n&&(t=U_+500-Et(),10<t)){if(tp(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ir(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=B0(So.bind(null,e,jr,wi),t);break}So(e,jr,wi);break;case 4:if(ya(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Rn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lz(n/1960))-n,10<n){e.timeoutHandle=B0(So.bind(null,e,jr,wi),n);break}So(e,jr,wi);break;case 5:So(e,jr,wi);break;default:throw Error(H(329))}}}return zr(e,Et()),e.callbackNode===r?jN.bind(null,e):null}function uw(e,t){var r=wc;return e.current.memoizedState.isDehydrated&&($o(e,t).flags|=256),e=wp(e,t),e!==2&&(t=jr,jr=r,t!==null&&cw(t)),e}function cw(e){jr===null?jr=e:jr.push.apply(jr,e)}function uz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ln(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ya(e,t){for(t&=~z_,t&=~eg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Rn(t),n=1<<r;e[r]=-1,t&=~n}}function ek(e){if(Te&6)throw Error(H(327));pl();var t=tp(e,0);if(!(t&1))return zr(e,Et()),null;var r=wp(e,t);if(e.tag!==0&&r===2){var n=j0(e);n!==0&&(t=n,r=uw(e,n))}if(r===1)throw r=Kc,$o(e,0),ya(e,t),zr(e,Et()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,So(e,jr,wi),zr(e,Et()),null}function B_(e,t){var r=Te;Te|=1;try{return e(t)}finally{Te=r,Te===0&&(Il=Et()+500,Qm&&no())}}function Zo(e){Pa!==null&&Pa.tag===0&&!(Te&6)&&pl();var t=Te;Te|=1;var r=gn.transition,n=Re;try{if(gn.transition=null,Re=1,e)return e()}finally{Re=n,gn.transition=r,Te=t,!(Te&6)&&no()}}function W_(){Gr=tl.current,Je(tl)}function $o(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$5(r)),Tt!==null)for(r=Tt.return;r!==null;){var n=r;switch(S_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&op();break;case 3:Tl(),Je($r),Je(xr),D_();break;case 5:N_(n);break;case 4:Tl();break;case 13:Je(st);break;case 19:Je(st);break;case 10:A_(n.type._context);break;case 22:case 23:W_()}r=r.return}if(Qt=e,Tt=e=Ma(e.current,null),or=Gr=t,jt=0,Kc=null,z_=eg=Jo=0,jr=wc=null,No!==null){for(t=0;t<No.length;t++)if(r=No[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}No=null}return e}function MN(e,t){do{var r=Tt;try{if(T_(),Oh.current=mp,pp){for(var n=lt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pp=!1}if(Xo=0,Gt=Dt=lt=null,vc=!1,Uc=0,F_.current=null,r===null||r.return===null){jt=1,Kc=t,Tt=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=or,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=zP(o);if(p!==null){p.flags&=-257,UP(p,o,s,a,t),p.mode&1&&FP(a,u,t),t=p,l=u;var g=t.updateQueue;if(g===null){var _=new Set;_.add(l),t.updateQueue=_}else g.add(l);break e}else{if(!(t&1)){FP(a,u,t),K_();break e}l=Error(H(426))}}else if(et&&s.mode&1){var v=zP(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),UP(v,o,s,a,t),P_(Al(l,s));break e}}a=l=Al(l,s),jt!==4&&(jt=2),wc===null?wc=[a]:wc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=wN(a,l,t);RP(a,y);break e;case 1:s=l;var x=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ra===null||!Ra.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=bN(a,s,t);RP(a,k);break e}}a=a.return}while(a!==null)}$N(r)}catch(I){t=I,Tt===r&&r!==null&&(Tt=r=r.return);continue}break}while(!0)}function LN(){var e=gp.current;return gp.current=mp,e===null?mp:e}function K_(){(jt===0||jt===3||jt===2)&&(jt=4),Qt===null||!(Jo&268435455)&&!(eg&268435455)||ya(Qt,or)}function wp(e,t){var r=Te;Te|=2;var n=LN();(Qt!==e||or!==t)&&(wi=null,$o(e,t));do try{cz();break}catch(i){MN(e,i)}while(!0);if(T_(),Te=r,gp.current=n,Tt!==null)throw Error(H(261));return Qt=null,or=0,jt}function cz(){for(;Tt!==null;)VN(Tt)}function dz(){for(;Tt!==null&&!M3();)VN(Tt)}function VN(e){var t=zN(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,t===null?$N(e):Tt=t,F_.current=null}function $N(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=iz(r,t),r!==null){r.flags&=32767,Tt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,Tt=null;return}}else if(r=nz(r,t,Gr),r!==null){Tt=r;return}if(t=t.sibling,t!==null){Tt=t;return}Tt=t=e}while(t!==null);jt===0&&(jt=5)}function So(e,t,r){var n=Re,i=gn.transition;try{gn.transition=null,Re=1,fz(e,t,r,n)}finally{gn.transition=i,Re=n}return null}function fz(e,t,r,n){do pl();while(Pa!==null);if(Te&6)throw Error(H(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(H3(e,a),e===Qt&&(Tt=Qt=null,or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Xf||(Xf=!0,UN(ep,function(){return pl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=gn.transition,gn.transition=null;var o=Re;Re=1;var s=Te;Te|=4,F_.current=null,oz(e,r),DN(r,e),N5(z0),rp=!!F0,z0=F0=null,e.current=r,sz(r),L3(),Te=s,Re=o,gn.transition=a}else e.current=r;if(Xf&&(Xf=!1,Pa=e,yp=i),a=e.pendingLanes,a===0&&(Ra=null),F3(r.stateNode),zr(e,Et()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(vp)throw vp=!1,e=sw,sw=null,e;return yp&1&&e.tag!==0&&pl(),a=e.pendingLanes,a&1?e===lw?bc++:(bc=0,lw=e):bc=0,no(),null}function pl(){if(Pa!==null){var e=w2(yp),t=gn.transition,r=Re;try{if(gn.transition=null,Re=16>e?16:e,Pa===null)var n=!1;else{if(e=Pa,Pa=null,yp=0,Te&6)throw Error(H(331));var i=Te;for(Te|=4,ee=e.current;ee!==null;){var a=ee,o=a.child;if(ee.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:yc(8,c,a)}var d=c.child;if(d!==null)d.return=c,ee=d;else for(;ee!==null;){c=ee;var h=c.sibling,p=c.return;if(ON(c),c===u){ee=null;break}if(h!==null){h.return=p,ee=h;break}ee=p}}}var g=a.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var v=_.sibling;_.sibling=null,_=v}while(_!==null)}}ee=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,ee=o;else e:for(;ee!==null;){if(a=ee,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yc(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,ee=y;break e}ee=a.return}}var x=e.current;for(ee=x;ee!==null;){o=ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ee=E;else e:for(o=x;ee!==null;){if(s=ee,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Zm(9,s)}}catch(I){vt(s,s.return,I)}if(s===o){ee=null;break e}var k=s.sibling;if(k!==null){k.return=s.return,ee=k;break e}ee=s.return}}if(Te=i,no(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Km,e)}catch{}n=!0}return n}finally{Re=r,gn.transition=t}}return!1}function tk(e,t,r){t=Al(r,t),t=wN(e,t,1),e=Da(e,t,1),t=Ir(),e!==null&&(_d(e,1,t),zr(e,t))}function vt(e,t,r){if(e.tag===3)tk(e,e,r);else for(;t!==null;){if(t.tag===3){tk(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ra===null||!Ra.has(n))){e=Al(r,e),e=bN(t,e,1),t=Da(t,e,1),e=Ir(),t!==null&&(_d(t,1,e),zr(t,e));break}}t=t.return}}function hz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ir(),e.pingedLanes|=e.suspendedLanes&r,Qt===e&&(or&r)===r&&(jt===4||jt===3&&(or&130023424)===or&&500>Et()-U_?$o(e,0):z_|=r),zr(e,t)}function FN(e,t){t===0&&(e.mode&1?(t=zf,zf<<=1,!(zf&130023424)&&(zf=4194304)):t=1);var r=Ir();e=Li(e,t),e!==null&&(_d(e,t,r),zr(e,r))}function pz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),FN(e,r)}function mz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),FN(e,r)}var zN;zN=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$r.current)Lr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Lr=!1,rz(e,t,r);Lr=!!(e.flags&131072)}else Lr=!1,et&&t.flags&1048576&&K2(t,up,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Nh(e,t),e=t.pendingProps;var i=Sl(t,xr.current);hl(t,r),i=j_(null,t,n,e,i,r);var a=M_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fr(n)?(a=!0,sp(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O_(t),i.updater=Jm,t.stateNode=i,i._reactInternals=t,Q0(t,n,e,r),t=Z0(null,t,n,!0,a,r)):(t.tag=0,et&&a&&E_(t),kr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Nh(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=vz(n),e=An(n,e),i){case 0:t=J0(null,t,n,e,r);break e;case 1:t=KP(null,t,n,e,r);break e;case 11:t=BP(null,t,n,e,r);break e;case 14:t=WP(null,t,n,An(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),J0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),KP(e,t,n,i,r);case 3:e:{if(SN(t),e===null)throw Error(H(387));n=t.pendingProps,a=t.memoizedState,i=a.element,X2(e,t),fp(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Al(Error(H(423)),t),t=HP(e,t,n,r,i);break e}else if(n!==i){i=Al(Error(H(424)),t),t=HP(e,t,n,r,i);break e}else for(Jr=Na(t.stateNode.containerInfo.firstChild),tn=t,et=!0,On=null,r=Y2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pl(),n===i){t=Vi(e,t,r);break e}kr(e,t,n,r)}t=t.child}return t;case 5:return J2(t),e===null&&q0(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,U0(n,i)?o=null:a!==null&&U0(n,a)&&(t.flags|=32),EN(e,t),kr(e,t,o,r),t.child;case 6:return e===null&&q0(t),null;case 13:return PN(e,t,r);case 4:return C_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=kl(t,null,n,r):kr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),BP(e,t,n,i,r);case 7:return kr(e,t,t.pendingProps,r),t.child;case 8:return kr(e,t,t.pendingProps.children,r),t.child;case 12:return kr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,We(cp,n._currentValue),n._currentValue=o,a!==null)if(Ln(a.value,o)){if(a.children===i.children&&!$r.current){t=Vi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ci(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),G0(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(H(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),G0(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}kr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,hl(t,r),i=wn(i),n=n(i),t.flags|=1,kr(e,t,n,r),t.child;case 14:return n=t.type,i=An(n,t.pendingProps),i=An(n.type,i),WP(e,t,n,i,r);case 15:return _N(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:An(n,i),Nh(e,t),t.tag=1,Fr(n)?(e=!0,sp(t)):e=!1,hl(t,r),yN(t,n,i),Q0(t,n,i,r),Z0(null,t,n,!0,e,r);case 19:return kN(e,t,r);case 22:return xN(e,t,r)}throw Error(H(156,t.tag))};function UN(e,t){return m2(e,t)}function gz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,t,r,n){return new gz(e,t,r,n)}function H_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vz(e){if(typeof e=="function")return H_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===d_)return 11;if(e===f_)return 14}return 2}function Ma(e,t){var r=e.alternate;return r===null?(r=pn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function jh(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")H_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ks:return Fo(r.children,i,a,t);case c_:o=8,i|=8;break;case b0:return e=pn(12,r,t,i|2),e.elementType=b0,e.lanes=a,e;case _0:return e=pn(13,r,t,i),e.elementType=_0,e.lanes=a,e;case x0:return e=pn(19,r,t,i),e.elementType=x0,e.lanes=a,e;case JC:return tg(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case QC:o=10;break e;case XC:o=9;break e;case d_:o=11;break e;case f_:o=14;break e;case ha:o=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=pn(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Fo(e,t,r,n){return e=pn(7,e,n,t),e.lanes=r,e}function tg(e,t,r,n){return e=pn(22,e,n,t),e.elementType=JC,e.lanes=r,e.stateNode={isHidden:!1},e}function ky(e,t,r){return e=pn(6,e,null,t),e.lanes=r,e}function Ty(e,t,r){return t=pn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yz(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sy(0),this.expirationTimes=sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function q_(e,t,r,n,i,a,o,s,l){return e=new yz(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=pn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},O_(a),e}function wz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function BN(e){if(!e)return Ka;e=e._reactInternals;e:{if(vs(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(Fr(r))return B2(e,r,t)}return t}function WN(e,t,r,n,i,a,o,s,l){return e=q_(r,n,!0,e,i,a,o,s,l),e.context=BN(null),r=e.current,n=Ir(),i=ja(r),a=Ci(n,i),a.callback=t??null,Da(r,a,i),e.current.lanes=i,_d(e,i,n),zr(e,n),e}function rg(e,t,r,n){var i=t.current,a=Ir(),o=ja(i);return r=BN(r),t.context===null?t.context=r:t.pendingContext=r,t=Ci(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Da(i,t,o),e!==null&&(jn(e,i,o,a),Ih(e,i,o)),o}function bp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rk(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function G_(e,t){rk(e,t),(e=e.alternate)&&rk(e,t)}function bz(){return null}var KN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Y_(e){this._internalRoot=e}ng.prototype.render=Y_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));rg(e,t,null,null)};ng.prototype.unmount=Y_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zo(function(){rg(null,e,null,null)}),t[Mi]=null}};function ng(e){this._internalRoot=e}ng.prototype.unstable_scheduleHydration=function(e){if(e){var t=x2();e={blockedOn:null,target:e,priority:t};for(var r=0;r<va.length&&t!==0&&t<va[r].priority;r++);va.splice(r,0,e),r===0&&S2(e)}};function Q_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ig(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nk(){}function _z(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=bp(o);a.call(u)}}var o=WN(t,n,e,0,null,!1,!1,"",nk);return e._reactRootContainer=o,e[Mi]=o.current,Lc(e.nodeType===8?e.parentNode:e),Zo(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=bp(l);s.call(u)}}var l=q_(e,0,!1,null,null,!1,!1,"",nk);return e._reactRootContainer=l,e[Mi]=l.current,Lc(e.nodeType===8?e.parentNode:e),Zo(function(){rg(t,l,r,n)}),l}function ag(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=bp(o);s.call(l)}}rg(t,o,e,i)}else o=_z(r,t,e,i,n);return bp(o)}b2=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tc(t.pendingLanes);r!==0&&(m_(t,r|1),zr(t,Et()),!(Te&6)&&(Il=Et()+500,no()))}break;case 13:Zo(function(){var n=Li(e,1);if(n!==null){var i=Ir();jn(n,e,1,i)}}),G_(e,1)}};g_=function(e){if(e.tag===13){var t=Li(e,134217728);if(t!==null){var r=Ir();jn(t,e,134217728,r)}G_(e,134217728)}};_2=function(e){if(e.tag===13){var t=ja(e),r=Li(e,t);if(r!==null){var n=Ir();jn(r,e,t,n)}G_(e,t)}};x2=function(){return Re};E2=function(e,t){var r=Re;try{return Re=e,t()}finally{Re=r}};N0=function(e,t,r){switch(t){case"input":if(P0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Ym(n);if(!i)throw Error(H(90));e2(n),P0(n,i)}}}break;case"textarea":r2(e,r);break;case"select":t=r.value,t!=null&&ul(e,!!r.multiple,t,!1)}};u2=B_;c2=Zo;var xz={usingClientEntryPoint:!1,Events:[Ed,Ys,Ym,s2,l2,B_]},Bu={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ez={bundleType:Bu.bundleType,version:Bu.version,rendererPackageName:Bu.rendererPackageName,rendererConfig:Bu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=h2(e),e===null?null:e.stateNode},findFiberByHostInstance:Bu.findFiberByHostInstance||bz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{Km=Jf.inject(Ez),ei=Jf}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xz;on.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Q_(t))throw Error(H(200));return wz(e,t,null,r)};on.createRoot=function(e,t){if(!Q_(e))throw Error(H(299));var r=!1,n="",i=KN;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=q_(e,1,!1,null,null,r,!1,n,i),e[Mi]=t.current,Lc(e.nodeType===8?e.parentNode:e),new Y_(t)};on.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=h2(t),e=e===null?null:e.stateNode,e};on.flushSync=function(e){return Zo(e)};on.hydrate=function(e,t,r){if(!ig(t))throw Error(H(200));return ag(null,e,t,!0,r)};on.hydrateRoot=function(e,t,r){if(!Q_(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=KN;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=WN(t,null,e,1,r??null,i,!1,a,o),e[Mi]=t.current,Lc(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new ng(t)};on.render=function(e,t,r){if(!ig(t))throw Error(H(200));return ag(null,e,t,!1,r)};on.unmountComponentAtNode=function(e){if(!ig(e))throw Error(H(40));return e._reactRootContainer?(Zo(function(){ag(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};on.unstable_batchedUpdates=B_;on.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ig(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return ag(e,t,r,!1,n)};on.version="18.3.1-next-f1338f8080-20240426";function HN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HN)}catch(e){console.error(e)}}HN(),HC.exports=on;var og=HC.exports,ik=og;y0.createRoot=ik.createRoot,y0.hydrateRoot=ik.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hc.apply(this,arguments)}var ka;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ka||(ka={}));const ak="popstate";function Sz(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return dw("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:_p(i)}return kz(t,r,null,e)}function ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Pz(){return Math.random().toString(36).substr(2,8)}function ok(e,t){return{usr:e.state,key:e.key,idx:t}}function dw(e,t,r,n){return r===void 0&&(r=null),Hc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xl(t):t,{state:r,key:t&&t.key||n||Pz()})}function _p(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function kz(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=ka.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Hc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=ka.Pop;let v=c(),y=v==null?null:v-u;u=v,l&&l({action:s,location:_.location,delta:y})}function h(v,y){s=ka.Push;let x=dw(_.location,v,y);u=c()+1;let E=ok(x,u),k=_.createHref(x);try{o.pushState(E,"",k)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(k)}a&&l&&l({action:s,location:_.location,delta:1})}function p(v,y){s=ka.Replace;let x=dw(_.location,v,y);u=c();let E=ok(x,u),k=_.createHref(x);o.replaceState(E,"",k),a&&l&&l({action:s,location:_.location,delta:0})}function g(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:_p(v);return x=x.replace(/ $/,"%20"),ut(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let _={get action(){return s},get location(){return e(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ak,d),l=v,()=>{i.removeEventListener(ak,d),l=null}},createHref(v){return t(i,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(v){return o.go(v)}};return _}var sk;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(sk||(sk={}));function Tz(e,t,r){return r===void 0&&(r="/"),Az(e,t,r)}function Az(e,t,r,n){let i=typeof t=="string"?Xl(t):t,a=Ol(i.pathname||"/",r);if(a==null)return null;let o=qN(e);Iz(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=Fz(a);s=Vz(o[l],u)}return s}function qN(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=La([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(ut(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qN(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Mz(u,a.index),routesMeta:c})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of GN(a.path))i(a,o,l)}),t}function GN(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=GN(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function Iz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Lz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Oz=/^:[\w-]+$/,Cz=3,Nz=2,Dz=1,Rz=10,jz=-2,lk=e=>e==="*";function Mz(e,t){let r=e.split("/"),n=r.length;return r.some(lk)&&(n+=jz),t&&(n+=Nz),r.filter(i=>!lk(i)).reduce((i,a)=>i+(Oz.test(a)?Cz:a===""?Dz:Rz),n)}function Lz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Vz(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=fw({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:La([a,d.pathname]),pathnameBase:Kz(La([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=La([a,d.pathnameBase]))}return o}function fw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$z(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let _=s[d]||"";o=a.slice(0,a.length-_.length).replace(/(.)\/+$/,"$1")}const g=s[d];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function $z(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),X_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Fz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return X_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ol(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const zz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Uz=e=>zz.test(e);function Bz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Xl(e):e,a;if(r)if(Uz(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),X_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=uk(r.substring(1),"/"):a=uk(r,t)}else a=t;return{pathname:a,search:Hz(n),hash:qz(i)}}function uk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Ay(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function J_(e,t){let r=Wz(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Z_(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Xl(e):(i=Hc({},e),ut(!i.pathname||!i.pathname.includes("?"),Ay("?","pathname","search",i)),ut(!i.pathname||!i.pathname.includes("#"),Ay("#","pathname","hash",i)),ut(!i.search||!i.search.includes("#"),Ay("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=Bz(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const La=e=>e.join("/").replace(/\/\/+/g,"/"),Kz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Hz=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,qz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Gz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const YN=["post","put","patch","delete"];new Set(YN);const Yz=["get",...YN];new Set(Yz);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qc.apply(this,arguments)}const sg=m.createContext(null),QN=m.createContext(null),Ji=m.createContext(null),lg=m.createContext(null),io=m.createContext({outlet:null,matches:[],isDataRoute:!1}),XN=m.createContext(null);function Qz(e,t){let{relative:r}=t===void 0?{}:t;Jl()||ut(!1);let{basename:n,navigator:i}=m.useContext(Ji),{hash:a,pathname:o,search:s}=ug(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:La([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Jl(){return m.useContext(lg)!=null}function Zl(){return Jl()||ut(!1),m.useContext(lg).location}function JN(e){m.useContext(Ji).static||m.useLayoutEffect(e)}function ex(){let{isDataRoute:e}=m.useContext(io);return e?u6():Xz()}function Xz(){Jl()||ut(!1);let e=m.useContext(sg),{basename:t,future:r,navigator:n}=m.useContext(Ji),{matches:i}=m.useContext(io),{pathname:a}=Zl(),o=JSON.stringify(J_(i,r.v7_relativeSplatPath)),s=m.useRef(!1);return JN(()=>{s.current=!0}),m.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=Z_(u,JSON.parse(o),a,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:La([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,a,e])}function ug(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Ji),{matches:i}=m.useContext(io),{pathname:a}=Zl(),o=JSON.stringify(J_(i,n.v7_relativeSplatPath));return m.useMemo(()=>Z_(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function Jz(e,t){return Zz(e,t)}function Zz(e,t,r,n){Jl()||ut(!1);let{navigator:i}=m.useContext(Ji),{matches:a}=m.useContext(io),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Zl(),c;if(t){var d;let v=typeof t=="string"?Xl(t):t;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||ut(!1),c=v}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=Tz(e,{pathname:p}),_=i6(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:La([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:La([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,r,n);return t&&_?m.createElement(lg.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ka.Pop}},_):_}function e6(){let e=l6(),t=Gz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:i},r):null,null)}const t6=m.createElement(e6,null);class r6 extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(io.Provider,{value:this.props.routeContext},m.createElement(XN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n6(e){let{routeContext:t,match:r,children:n}=e,i=m.useContext(sg);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(io.Provider,{value:t},n)}function i6(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||ut(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=r,g=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,g=!1,_=null,v=null;r&&(p=s&&d.route.id?s[d.route.id]:void 0,_=d.route.errorElement||t6,l&&(u<0&&h===0?(c6("route-fallback"),g=!0,v=null):u===h&&(g=!0,v=d.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),x=()=>{let E;return p?E=_:g?E=v:d.route.Component?E=m.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,m.createElement(n6,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:E})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?m.createElement(r6,{location:r.location,revalidation:r.revalidation,component:_,error:p,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var ZN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ZN||{}),eD=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eD||{});function a6(e){let t=m.useContext(sg);return t||ut(!1),t}function o6(e){let t=m.useContext(QN);return t||ut(!1),t}function s6(e){let t=m.useContext(io);return t||ut(!1),t}function tD(e){let t=s6(),r=t.matches[t.matches.length-1];return r.route.id||ut(!1),r.route.id}function l6(){var e;let t=m.useContext(XN),r=o6(),n=tD();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function u6(){let{router:e}=a6(ZN.UseNavigateStable),t=tD(eD.UseNavigateStable),r=m.useRef(!1);return JN(()=>{r.current=!0}),m.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,qc({fromRouteId:t},a)))},[e,t])}const ck={};function c6(e,t,r){ck[e]||(ck[e]=!0)}function d6(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function f6(e){let{to:t,replace:r,state:n,relative:i}=e;Jl()||ut(!1);let{future:a,static:o}=m.useContext(Ji),{matches:s}=m.useContext(io),{pathname:l}=Zl(),u=ex(),c=Z_(t,J_(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return m.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function Po(e){ut(!1)}function h6(e){let{basename:t="/",children:r=null,location:n,navigationType:i=ka.Pop,navigator:a,static:o=!1,future:s}=e;Jl()&&ut(!1);let l=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:a,static:o,future:qc({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=Xl(n));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:g="default"}=n,_=m.useMemo(()=>{let v=Ol(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:g},navigationType:i}},[l,c,d,h,p,g,i]);return _==null?null:m.createElement(Ji.Provider,{value:u},m.createElement(lg.Provider,{children:r,value:_}))}function p6(e){let{children:t,location:r}=e;return Jz(hw(t),r)}new Promise(()=>{});function hw(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,i)=>{if(!m.isValidElement(n))return;let a=[...t,i];if(n.type===m.Fragment){r.push.apply(r,hw(n.props.children,a));return}n.type!==Po&&ut(!1),!n.props.index||!n.props.children||ut(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=hw(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(this,arguments)}function rD(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function m6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g6(e,t){return e.button===0&&(!t||t==="_self")&&!m6(e)}const v6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],y6=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],w6="6";try{window.__reactRouterVersion=w6}catch{}const b6=m.createContext({isTransitioning:!1}),_6="startTransition",dk=WC[_6];function x6(e){let{basename:t,children:r,future:n,window:i}=e,a=m.useRef();a.current==null&&(a.current=Sz({window:i,v5Compat:!0}));let o=a.current,[s,l]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=m.useCallback(d=>{u&&dk?dk(()=>l(d)):l(d)},[l,u]);return m.useLayoutEffect(()=>o.listen(c),[o,c]),m.useEffect(()=>d6(n),[n]),m.createElement(h6,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const E6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P6=m.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=rD(t,v6),{basename:p}=m.useContext(Ji),g,_=!1;if(typeof u=="string"&&S6.test(u)&&(g=u,E6))try{let E=new URL(window.location.href),k=u.startsWith("//")?new URL(E.protocol+u):new URL(u),I=Ol(k.pathname,p);k.origin===E.origin&&I!=null?u=I+k.search+k.hash:_=!0}catch{}let v=Qz(u,{relative:i}),y=T6(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function x(E){n&&n(E),E.defaultPrevented||y(E)}return m.createElement("a",xp({},h,{href:g||v,onClick:_||a?n:x,ref:r,target:l}))}),fk=m.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,viewTransition:u,children:c}=t,d=rD(t,y6),h=ug(l,{relative:d.relative}),p=Zl(),g=m.useContext(QN),{navigator:_,basename:v}=m.useContext(Ji),y=g!=null&&A6(h)&&u===!0,x=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,E=p.pathname,k=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;i||(E=E.toLowerCase(),k=k?k.toLowerCase():null,x=x.toLowerCase()),k&&v&&(k=Ol(k,v)||k);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let C=E===x||!o&&E.startsWith(x)&&E.charAt(I)==="/",T=k!=null&&(k===x||!o&&k.startsWith(x)&&k.charAt(x.length)==="/"),P={isActive:C,isPending:T,isTransitioning:y},A=C?n:void 0,O;typeof a=="function"?O=a(P):O=[a,C?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(P):s;return m.createElement(P6,xp({},d,{"aria-current":A,className:O,ref:r,style:N,to:l,viewTransition:u}),typeof c=="function"?c(P):c)});var pw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(pw||(pw={}));var hk;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hk||(hk={}));function k6(e){let t=m.useContext(sg);return t||ut(!1),t}function T6(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,l=ex(),u=Zl(),c=ug(e,{relative:o});return m.useCallback(d=>{if(g6(d,r)){d.preventDefault();let h=n!==void 0?n:_p(u)===_p(c);l(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,n,i,r,e,a,o,s])}function A6(e,t){t===void 0&&(t={});let r=m.useContext(b6);r==null&&ut(!1);let{basename:n}=k6(pw.useViewTransitionState),i=ug(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Ol(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ol(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fw(i.pathname,o)!=null||fw(i.pathname,a)!=null}var pk={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},I6=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],s=e[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},iD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),n.push(r[c],r[d],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nD(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):I6(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new O6;const h=a<<2|s>>4;if(n.push(h),u!==64){const p=s<<4&240|u>>2;if(n.push(p),d!==64){const g=u<<6&192|d;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class O6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const C6=function(e){const t=nD(e);return iD.encodeByteArray(t,!0)},Ep=function(e){return C6(e).replace(/\./g,"")},aD=function(e){try{return iD.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=()=>N6().__FIREBASE_DEFAULTS__,R6=()=>{if(typeof process>"u"||typeof pk>"u")return;const e=pk.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},j6=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&aD(e[1]);return t&&JSON.parse(t)},cg=()=>{try{return D6()||R6()||j6()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},oD=e=>{var t,r;return(r=(t=cg())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},M6=e=>{const t=oD(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},sD=()=>{var e;return(e=cg())===null||e===void 0?void 0:e.config},lD=e=>{var t;return(t=cg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V6(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ep(JSON.stringify(r)),Ep(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function F6(){var e;const t=(e=cg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function U6(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function B6(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function W6(){const e=Er();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function K6(){return!F6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H6(){try{return typeof indexedDB=="object"}catch{return!1}}function q6(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="FirebaseError";class Zi extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=G6,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pd.prototype.create)}}class Pd{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?Y6(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new Zi(i,s,n)}}function Y6(e,t){return e.replace(Q6,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const Q6=/\{\$([^}]+)}/g;function X6(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Sp(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(mk(a)&&mk(o)){if(!Sp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function mk(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function nc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function ic(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function J6(e,t){const r=new Z6(e,t);return r.subscribe.bind(r)}class Z6{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");eU(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=Iy),i.error===void 0&&(i.error=Iy),i.complete===void 0&&(i.complete=Iy);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eU(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Iy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e){return e&&e._delegate?e._delegate:e}class es{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tU=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new L6;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nU(t))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=ko){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ko){return this.instances.has(t)}getOptions(t=ko){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:rU(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=ko){return this.component?this.component.multipleInstances?t:ko:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function rU(e){return e===ko?void 0:e}function nU(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new tU(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Se||(Se={}));const aU={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},oU=Se.INFO,sU={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},lU=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=sU[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tx{constructor(t){this.name=t,this._logLevel=oU,this._logHandler=lU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Se))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?aU[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...t),this._logHandler(this,Se.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...t),this._logHandler(this,Se.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...t),this._logHandler(this,Se.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...t),this._logHandler(this,Se.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...t),this._logHandler(this,Se.ERROR,...t)}}const uU=(e,t)=>t.some(r=>e instanceof r);let gk,vk;function cU(){return gk||(gk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dU(){return vk||(vk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uD=new WeakMap,mw=new WeakMap,cD=new WeakMap,Oy=new WeakMap,rx=new WeakMap;function fU(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(Va(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&uD.set(r,e)}).catch(()=>{}),rx.set(t,e),t}function hU(e){if(mw.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});mw.set(e,t)}let gw={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return mw.get(e);if(t==="objectStoreNames")return e.objectStoreNames||cD.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Va(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function pU(e){gw=e(gw)}function mU(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Cy(this),t,...r);return cD.set(n,t.sort?t.sort():[t]),Va(n)}:dU().includes(e)?function(...t){return e.apply(Cy(this),t),Va(uD.get(this))}:function(...t){return Va(e.apply(Cy(this),t))}}function gU(e){return typeof e=="function"?mU(e):(e instanceof IDBTransaction&&hU(e),uU(e,cU())?new Proxy(e,gw):e)}function Va(e){if(e instanceof IDBRequest)return fU(e);if(Oy.has(e))return Oy.get(e);const t=gU(e);return t!==e&&(Oy.set(e,t),rx.set(t,e)),t}const Cy=e=>rx.get(e);function vU(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=Va(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Va(o.result),l.oldVersion,l.newVersion,Va(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const yU=["get","getKey","getAll","getAllKeys","count"],wU=["put","add","delete","clear"],Ny=new Map;function yk(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ny.get(t))return Ny.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=wU.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||yU.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return Ny.set(t,a),a}pU(e=>({...e,get:(t,r,n)=>yk(t,r)||e.get(t,r,n),has:(t,r)=>!!yk(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(_U(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function _U(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const vw="@firebase/app",wk="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new tx("@firebase/app"),xU="@firebase/app-compat",EU="@firebase/analytics-compat",SU="@firebase/analytics",PU="@firebase/app-check-compat",kU="@firebase/app-check",TU="@firebase/auth",AU="@firebase/auth-compat",IU="@firebase/database",OU="@firebase/data-connect",CU="@firebase/database-compat",NU="@firebase/functions",DU="@firebase/functions-compat",RU="@firebase/installations",jU="@firebase/installations-compat",MU="@firebase/messaging",LU="@firebase/messaging-compat",VU="@firebase/performance",$U="@firebase/performance-compat",FU="@firebase/remote-config",zU="@firebase/remote-config-compat",UU="@firebase/storage",BU="@firebase/storage-compat",WU="@firebase/firestore",KU="@firebase/vertexai-preview",HU="@firebase/firestore-compat",qU="firebase",GU="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="[DEFAULT]",YU={[vw]:"fire-core",[xU]:"fire-core-compat",[SU]:"fire-analytics",[EU]:"fire-analytics-compat",[kU]:"fire-app-check",[PU]:"fire-app-check-compat",[TU]:"fire-auth",[AU]:"fire-auth-compat",[IU]:"fire-rtdb",[OU]:"fire-data-connect",[CU]:"fire-rtdb-compat",[NU]:"fire-fn",[DU]:"fire-fn-compat",[RU]:"fire-iid",[jU]:"fire-iid-compat",[MU]:"fire-fcm",[LU]:"fire-fcm-compat",[VU]:"fire-perf",[$U]:"fire-perf-compat",[FU]:"fire-rc",[zU]:"fire-rc-compat",[UU]:"fire-gcs",[BU]:"fire-gcs-compat",[WU]:"fire-fst",[HU]:"fire-fst-compat",[KU]:"fire-vertex","fire-js":"fire-js",[qU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new Map,QU=new Map,ww=new Map;function bk(e,t){try{e.container.addComponent(t)}catch(r){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Cl(e){const t=e.name;if(ww.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;ww.set(t,e);for(const r of Pp.values())bk(r,e);for(const r of QU.values())bk(r,e);return!0}function nx(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Xn(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$a=new Pd("app","Firebase",XU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=GU;function dD(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:yw,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw $a.create("bad-app-name",{appName:String(i)});if(r||(r=sD()),!r)throw $a.create("no-options");const a=Pp.get(i);if(a){if(Sp(r,a.options)&&Sp(n,a.config))return a;throw $a.create("duplicate-app",{appName:i})}const o=new iU(i);for(const l of ww.values())o.addComponent(l);const s=new JU(r,n,o);return Pp.set(i,s),s}function fD(e=yw){const t=Pp.get(e);if(!t&&e===yw&&sD())return dD();if(!t)throw $a.create("no-app",{appName:e});return t}function Fa(e,t,r){var n;let i=(n=YU[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${t}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(s.join(" "));return}Cl(new es(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="firebase-heartbeat-database",eB=1,Gc="firebase-heartbeat-store";let Dy=null;function hD(){return Dy||(Dy=vU(ZU,eB,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gc)}catch(r){console.warn(r)}}}}).catch(e=>{throw $a.create("idb-open",{originalErrorMessage:e.message})})),Dy}async function tB(e){try{const r=(await hD()).transaction(Gc),n=await r.objectStore(Gc).get(pD(e));return await r.done,n}catch(t){if(t instanceof Zi)$i.warn(t.message);else{const r=$a.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});$i.warn(r.message)}}}async function _k(e,t){try{const n=(await hD()).transaction(Gc,"readwrite");await n.objectStore(Gc).put(t,pD(e)),await n.done}catch(r){if(r instanceof Zi)$i.warn(r.message);else{const n=$a.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});$i.warn(n.message)}}}function pD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rB=1024,nB=30*24*60*60*1e3;class iB{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new oB(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=xk();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=nB}),this._storage.overwrite(this._heartbeatsCache))}catch(n){$i.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=xk(),{heartbeatsToSend:n,unsentEntries:i}=aB(this._heartbeatsCache.heartbeats),a=Ep(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return $i.warn(r),""}}}function xk(){return new Date().toISOString().substring(0,10)}function aB(e,t=rB){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),Ek(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Ek(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class oB{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H6()?q6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await tB(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _k(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return _k(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Ek(e){return Ep(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(e){Cl(new es("platform-logger",t=>new bU(t),"PRIVATE")),Cl(new es("heartbeat",t=>new iB(t),"PRIVATE")),Fa(vw,wk,e),Fa(vw,wk,"esm2017"),Fa("fire-js","")}sB("");function ix(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function mD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lB=mD,gD=new Pd("auth","Firebase",mD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new tx("@firebase/auth");function uB(e,...t){kp.logLevel<=Se.WARN&&kp.warn(`Auth (${eu}): ${e}`,...t)}function Mh(e,...t){kp.logLevel<=Se.ERROR&&kp.error(`Auth (${eu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(e,...t){throw ax(e,...t)}function ri(e,...t){return ax(e,...t)}function vD(e,t,r){const n=Object.assign(Object.assign({},lB()),{[t]:r});return new Pd("auth","Firebase",n).create(t,{appName:e.name})}function Ni(e){return vD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ax(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return gD.create(e,...t)}function fe(e,t,...r){if(!e)throw ax(t,...r)}function ki(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Mh(t),new Error(t)}function Fi(e,t){e||ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function cB(){return Sk()==="http:"||Sk()==="https:"}function Sk(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cB()||U6()||"connection"in navigator)?navigator.onLine:!0}function fB(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(t,r){this.shortDelay=t,this.longDelay=r,Fi(r>t,"Short delay should be less than long delay!"),this.isMobile=$6()||B6()}get(){return dB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(e,t){Fi(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=new Td(3e4,6e4);function ao(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function fi(e,t,r,n,i={}){return wD(e,i,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const s=kd(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},a);return z6()||(u.referrerPolicy="no-referrer"),yD.fetch()(bD(e,e.config.apiHost,r,s),u)})}async function wD(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},hB),t);try{const i=new gB(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw Zf(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zf(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zf(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zf(e,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw vD(e,c,u);Vn(e,c)}}catch(i){if(i instanceof Zi)throw i;Vn(e,"network-request-failed",{message:String(i)})}}async function Ad(e,t,r,n,i={}){const a=await fi(e,t,r,n,i);return"mfaPendingCredential"in a&&Vn(e,"multi-factor-auth-required",{_serverResponse:a}),a}function bD(e,t,r,n){const i=`${t}${r}?${n}`;return e.config.emulator?ox(e.config,i):`${e.config.apiScheme}://${i}`}function mB(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gB{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(ri(this.auth,"network-request-failed")),pB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zf(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=ri(e,t,n);return i.customData._tokenResponse=r,i}function Pk(e){return e!==void 0&&e.enterprise!==void 0}class vB{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return mB(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function yB(e,t){return fi(e,"GET","/v2/recaptchaConfig",ao(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wB(e,t){return fi(e,"POST","/v1/accounts:delete",t)}async function _D(e,t){return fi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function bB(e,t=!1){const r=bt(e),n=await r.getIdToken(t),i=sx(n);fe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:_c(Ry(i.auth_time)),issuedAtTime:_c(Ry(i.iat)),expirationTime:_c(Ry(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ry(e){return Number(e)*1e3}function sx(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const i=aD(r);return i?JSON.parse(i):(Mh("Failed to decode base64 JWT payload"),null)}catch(i){return Mh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function kk(e){const t=sx(e);return fe(t,"internal-error"),fe(typeof t.exp<"u","internal-error"),fe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ts(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Zi&&_B(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function _B({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=_c(this.lastLoginAt),this.creationTime=_c(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tp(e){var t;const r=e.auth,n=await e.getIdToken(),i=await ts(e,_D(r,{idToken:n}));fe(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?xD(a.providerUserInfo):[],s=SB(e.providerData,o),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new _w(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function EB(e){const t=bt(e);await Tp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function SB(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function xD(e){return e.map(t=>{var{providerId:r}=t,n=ix(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PB(e,t){const r=await wD(e,{},async()=>{const n=kd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=bD(e,i,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",yD.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function kB(e,t){return fi(e,"POST","/v2/accounts:revokeToken",ao(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){fe(t.idToken,"internal-error"),fe(typeof t.idToken<"u","internal-error"),fe(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):kk(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){fe(t.length!==0,"internal-error");const r=kk(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await PB(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new ml;return n&&(fe(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(fe(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(fe(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(e,t){fe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ti{constructor(t){var{uid:r,auth:n,stsTokenManager:i}=t,a=ix(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xB(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new _w(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await ts(this,this.stsTokenManager.getToken(this.auth,t));return fe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return bB(this,t)}reload(){return EB(this)}_assign(t){this!==t&&(fe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Ti(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Tp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Ni(this.auth));const t=await this.getIdToken();return await ts(this,wB(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,i,a,o,s,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,p=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,g=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(s=r.tenantId)!==null&&s!==void 0?s:void 0,v=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=r.createdAt)!==null&&u!==void 0?u:void 0,x=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:k,isAnonymous:I,providerData:C,stsTokenManager:T}=r;fe(E&&T,t,"internal-error");const P=ml.fromJSON(this.name,T);fe(typeof E=="string",t,"internal-error"),fa(d,t.name),fa(h,t.name),fe(typeof k=="boolean",t,"internal-error"),fe(typeof I=="boolean",t,"internal-error"),fa(p,t.name),fa(g,t.name),fa(_,t.name),fa(v,t.name),fa(y,t.name),fa(x,t.name);const A=new Ti({uid:E,auth:t,email:h,emailVerified:k,displayName:d,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:P,createdAt:y,lastLoginAt:x});return C&&Array.isArray(C)&&(A.providerData=C.map(O=>Object.assign({},O))),v&&(A._redirectEventId=v),A}static async _fromIdTokenResponse(t,r,n=!1){const i=new ml;i.updateFromServerResponse(r);const a=new Ti({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Tp(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];fe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?xD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new ml;s.updateFromIdToken(n);const l=new Ti({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _w(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new Map;function Ai(e){Fi(e instanceof Function,"Expected a class definition");let t=Tk.get(e);return t?(Fi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tk.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}ED.type="NONE";const Ak=ED;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(e,t,r){return`firebase:${e}:${t}:${r}`}class gl{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Lh(this.userKey,i.apiKey,a),this.fullPersistenceKey=Lh("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ti._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new gl(Ai(Ak),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ai(Ak);const o=Lh(n,t.config.apiKey,t.name);let s=null;for(const u of r)try{const c=await u._get(o);if(c){const d=Ti._fromJSON(t,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new gl(a,t,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new gl(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(TD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ID(t))return"Blackberry";if(OD(t))return"Webos";if(PD(t))return"Safari";if((t.includes("chrome/")||kD(t))&&!t.includes("edge/"))return"Chrome";if(AD(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function SD(e=Er()){return/firefox\//i.test(e)}function PD(e=Er()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function kD(e=Er()){return/crios\//i.test(e)}function TD(e=Er()){return/iemobile/i.test(e)}function AD(e=Er()){return/android/i.test(e)}function ID(e=Er()){return/blackberry/i.test(e)}function OD(e=Er()){return/webos/i.test(e)}function lx(e=Er()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function TB(e=Er()){var t;return lx(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function AB(){return W6()&&document.documentMode===10}function CD(e=Er()){return lx(e)||AD(e)||OD(e)||ID(e)||/windows phone/i.test(e)||TD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(e,t=[]){let r;switch(e){case"Browser":r=Ik(Er());break;case"Worker":r=`${Ik(Er())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${eu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,s)=>{try{const l=t(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OB(e,t={}){return fi(e,"GET","/v2/passwordPolicy",ao(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=6;class NB{constructor(t){var r,n,i,a;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:CB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ok(this),this.idTokenSubscription=new Ok(this),this.beforeStateQueue=new IB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ai(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await gl.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await _D(this,{idToken:t}),n=await Ti._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(Xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Tp(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=fB()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Ni(this));const r=t?bt(t):null;return r&&fe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&fe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Ni(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Ni(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ai(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OB(this),r=new NB(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Pd("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await kB(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ai(t)||this._popupRedirectResolver;fe(r,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Ai(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=t.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ND(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&uB(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function ys(e){return bt(e)}class Ok{constructor(t){this.auth=t,this.observer=null,this.addObserver=J6(r=>this.observer=r)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RB(e){dg=e}function DD(e){return dg.loadJS(e)}function jB(){return dg.recaptchaEnterpriseScript}function MB(){return dg.gapiScript}function LB(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const VB="recaptcha-enterprise",$B="NO_RECAPTCHA";class FB{constructor(t){this.type=VB,this.auth=ys(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{yB(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new vB(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;Pk(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{o(u)}).catch(()=>{o($B)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&Pk(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jB();l.length!==0&&(l+=s),DD(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function Ck(e,t,r,n=!1){const i=new FB(e);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function xw(e,t,r,n){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ck(e,t,r,r==="getOobCode");return n(e,a)}else return n(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Ck(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(e,t){const r=nx(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Sp(a,t??{}))return i;Vn(i,"already-initialized")}return r.initialize({options:t})}function UB(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function BB(e,t,r){const n=ys(e);fe(n._canInitEmulator,n,"emulator-config-failed"),fe(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=RD(t),{host:o,port:s}=WB(t),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),KB()}function RD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function WB(e){const t=RD(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Nk(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:Nk(o)}}}function Nk(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function KB(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return ki("not implemented")}_getIdTokenResponse(t){return ki("not implemented")}_linkToIdToken(t,r){return ki("not implemented")}_getReauthenticationResolver(t){return ki("not implemented")}}async function HB(e,t){return fi(e,"POST","/v1/accounts:update",t)}async function qB(e,t){return fi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GB(e,t){return Ad(e,"POST","/v1/accounts:signInWithPassword",ao(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YB(e,t){return Ad(e,"POST","/v1/accounts:signInWithEmailLink",ao(e,t))}async function QB(e,t){return Ad(e,"POST","/v1/accounts:signInWithEmailLink",ao(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends ux{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new Yc(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new Yc(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(t,r,"signInWithPassword",GB);case"emailLink":return YB(t,{email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xw(t,n,"signUpPassword",qB);case"emailLink":return QB(t,{idToken:r,email:this._email,oobCode:this._password});default:Vn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(e,t){return Ad(e,"POST","/v1/accounts:signInWithIdp",ao(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XB="http://localhost";class rs extends ux{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new rs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Vn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=r,a=ix(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new rs(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return vl(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,vl(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,vl(t,r)}buildRequest(){const t={requestUri:XB,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=kd(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JB(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZB(e){const t=nc(ic(e)).link,r=t?nc(ic(t)).deep_link_id:null,n=nc(ic(e)).deep_link_id;return(n?nc(ic(n)).link:null)||n||r||t||e}class cx{constructor(t){var r,n,i,a,o,s;const l=nc(ic(t)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=JB((i=l.mode)!==null&&i!==void 0?i:null);fe(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const r=ZB(t);try{return new cx(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(){this.providerId=ws.PROVIDER_ID}static credential(t,r){return Yc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=cx.parseLink(r);return fe(n,"argument-error"),Yc._fromEmailAndCode(t,n.code,n.tenantId)}}ws.PROVIDER_ID="password";ws.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ws.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends jD{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa extends Id{constructor(){super("facebook.com")}static credential(t){return rs._fromParams({providerId:wa.PROVIDER_ID,signInMethod:wa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wa.credentialFromTaggedObject(t)}static credentialFromError(t){return wa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wa.credential(t.oauthAccessToken)}catch{return null}}}wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends Id{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return rs._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return ba.credentialFromTaggedObject(t)}static credentialFromError(t){return ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return ba.credential(r,n)}catch{return null}}}ba.GOOGLE_SIGN_IN_METHOD="google.com";ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends Id{constructor(){super("github.com")}static credential(t){return rs._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _a.credentialFromTaggedObject(t)}static credentialFromError(t){return _a.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _a.credential(t.oauthAccessToken)}catch{return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com";_a.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Id{constructor(){super("twitter.com")}static credential(t,r){return rs._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return xa.credentialFromTaggedObject(t)}static credentialFromError(t){return xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return xa.credential(r,n)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e9(e,t){return Ad(e,"POST","/v1/accounts:signUp",ao(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await Ti._fromIdTokenResponse(t,n,i),o=Dk(n);return new ns({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=Dk(n);return new ns({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function Dk(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Zi{constructor(t,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Ap.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new Ap(t,r,n,i)}}function MD(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Ap._fromErrorAndOperation(e,a,t,n):a})}async function t9(e,t,r=!1){const n=await ts(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return ns._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(e,t,r=!1){const{auth:n}=e;if(Xn(n.app))return Promise.reject(Ni(n));const i="reauthenticate";try{const a=await ts(e,MD(n,i,t,e),r);fe(a.idToken,n,"internal-error");const o=sx(a.idToken);fe(o,n,"internal-error");const{sub:s}=o;return fe(e.uid===s,n,"user-mismatch"),ns._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Vn(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(e,t,r=!1){if(Xn(e.app))return Promise.reject(Ni(e));const n="signIn",i=await MD(e,n,t),a=await ns._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function r9(e,t){return VD(ys(e),t)}async function n9(e,t){return LD(bt(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(e){const t=ys(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function i9(e,t,r){if(Xn(e.app))return Promise.reject(Ni(e));const n=ys(e),o=await xw(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",e9).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&$D(e),l}),s=await ns._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function a9(e,t,r){return Xn(e.app)?Promise.reject(Ni(e)):r9(bt(e),ws.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&$D(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o9(e,t){return fi(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=bt(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await ts(n,o9(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function l9(e,t){return u9(bt(e),null,t)}async function u9(e,t,r){const{auth:n}=e,a={idToken:await e.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const o=await ts(e,HB(n,a));await e._updateTokensIfNecessary(o,!0)}function c9(e,t,r,n){return bt(e).onIdTokenChanged(t,r,n)}function d9(e,t,r){return bt(e).beforeAuthStateChanged(t,r)}function f9(e,t,r,n){return bt(e).onAuthStateChanged(t,r,n)}function h9(e){return bt(e).signOut()}const Ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Ip,"1"),this.storage.removeItem(Ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=1e3,m9=10;class zD extends FD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CD(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);AB()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,m9):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},p9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}zD.type="LOCAL";const g9=zD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD extends FD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}UD.type="SESSION";const BD=UD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new fg(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await v9(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=dx("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function w9(e){ni().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function b9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _9(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function x9(){return WD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="firebaseLocalStorageDb",E9=1,Op="firebaseLocalStorage",HD="fbase_key";class Od{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function hg(e,t){return e.transaction([Op],t?"readwrite":"readonly").objectStore(Op)}function S9(){const e=indexedDB.deleteDatabase(KD);return new Od(e).toPromise()}function Ew(){const e=indexedDB.open(KD,E9);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(Op,{keyPath:HD})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Op)?t(n):(n.close(),await S9(),t(await Ew()))})})}async function Rk(e,t,r){const n=hg(e,!0).put({[HD]:t,value:r});return new Od(n).toPromise()}async function P9(e,t){const r=hg(e,!1).get(t),n=await new Od(r).toPromise();return n===void 0?null:n.value}function jk(e,t){const r=hg(e,!0).delete(t);return new Od(r).toPromise()}const k9=800,T9=3;class qD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ew(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>T9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fg._getInstance(x9()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await b9(),!this.activeServiceWorker)return;this.sender=new y9(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||_9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ew();return await Rk(t,Ip,"1"),await jk(t,Ip),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rk(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>P9(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>jk(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=hg(i,!1).getAll();return new Od(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qD.type="LOCAL";const A9=qD;new Td(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I9(e,t){return t?Ai(t):(fe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx extends ux{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vl(t,this._buildIdpRequest())}_linkToIdToken(t,r){return vl(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return vl(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function O9(e){return VD(e.auth,new fx(e),e.bypassAuthState)}function C9(e){const{auth:t,user:r}=e;return fe(r,t,"internal-error"),LD(r,new fx(e),e.bypassAuthState)}async function N9(e){const{auth:t,user:r}=e;return fe(r,t,"internal-error"),t9(r,new fx(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return O9;case"linkViaPopup":case"linkViaRedirect":return N9;case"reauthViaPopup":case"reauthViaRedirect":return C9;default:Vn(this.auth,"internal-error")}}resolve(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new Td(2e3,1e4);class rl extends GD{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,rl.currentPopupAction&&rl.currentPopupAction.cancel(),rl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return fe(t,this.auth,"internal-error"),t}async onExecution(){Fi(this.filter.length===1,"Popup operations only handle one event");const t=dx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,D9.get())};t()}}rl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R9="pendingRedirect",Vh=new Map;class j9 extends GD{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=Vh.get(this.auth._key());if(!t){try{const n=await M9(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}Vh.set(this.auth._key(),t)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function M9(e,t){const r=$9(t),n=V9(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function L9(e,t){Vh.set(e._key(),t)}function V9(e){return Ai(e._redirectPersistence)}function $9(e){return Lh(R9,e.config.apiKey,e.name)}async function F9(e,t,r=!1){if(Xn(e.app))return Promise.reject(Ni(e));const n=ys(e),i=I9(n,t),o=await new j9(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=10*60*1e3;class U9{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!B9(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!YD(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(ri(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=z9&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mk(t))}saveEventToCache(t){this.cachedEventUids.add(Mk(t)),this.lastProcessedEventTime=Date.now()}}function Mk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function YD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function B9(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W9(e,t={}){return fi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,H9=/^https?/;async function q9(e){if(e.config.emulator)return;const{authorizedDomains:t}=await W9(e);for(const r of t)try{if(G9(r))return}catch{}Vn(e,"unauthorized-domain")}function G9(e){const t=bw(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!H9.test(r))return!1;if(K9.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9=new Td(3e4,6e4);function Lk(){const e=ni().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Q9(e){return new Promise((t,r)=>{var n,i,a;function o(){Lk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Lk(),r(ri(e,"network-request-failed"))},timeout:Y9.get()})}if(!((i=(n=ni().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((a=ni().gapi)===null||a===void 0)&&a.load)o();else{const s=LB("iframefcb");return ni()[s]=()=>{gapi.load?o():r(ri(e,"network-request-failed"))},DD(`${MB()}?onload=${s}`).catch(l=>r(l))}}).catch(t=>{throw $h=null,t})}let $h=null;function X9(e){return $h=$h||Q9(e),$h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=new Td(5e3,15e3),Z9="__/auth/iframe",e8="emulator/auth/iframe",t8={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},r8=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n8(e){const t=e.config;fe(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?ox(t,e8):`https://${e.config.authDomain}/${Z9}`,n={apiKey:t.apiKey,appName:e.name,v:eu},i=r8.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${kd(n).slice(1)}`}async function i8(e){const t=await X9(e),r=ni().gapi;return fe(r,e,"internal-error"),t.open({where:document.body,url:n8(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t8,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=ri(e,"network-request-failed"),s=ni().setTimeout(()=>{a(o)},J9.get());function l(){ni().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o8=500,s8=600,l8="_blank",u8="http://localhost";class Vk{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c8(e,t,r,n=o8,i=s8){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},a8),{width:n.toString(),height:i.toString(),top:a,left:o}),u=Er().toLowerCase();r&&(s=kD(u)?l8:r),SD(u)&&(t=t||u8,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(TB(u)&&s!=="_self")return d8(t||"",s),new Vk(null);const d=window.open(t||"",s,c);fe(d,e,"popup-blocked");try{d.focus()}catch{}return new Vk(d)}function d8(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="__/auth/handler",h8="emulator/auth/handler",p8=encodeURIComponent("fac");async function $k(e,t,r,n,i,a){fe(e.config.authDomain,e,"auth-domain-config-required"),fe(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:eu,eventId:i};if(t instanceof jD){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",X6(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof Id){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${p8}=${encodeURIComponent(l)}`:"";return`${m8(e)}?${kd(s).slice(1)}${u}`}function m8({config:e}){return e.emulator?ox(e,h8):`https://${e.authDomain}/${f8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="webStorageSupport";class g8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BD,this._completeRedirectFn=F9,this._overrideRedirectResult=L9}async _openPopup(t,r,n,i){var a;Fi((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await $k(t,r,n,bw(),i);return c8(t,o,dx())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await $k(t,r,n,bw(),i);return w9(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Fi(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await i8(t),n=new U9(t);return r.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(jy,{type:jy},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[jy];o!==void 0&&r(!!o),Vn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=q9(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return CD()||PD()||lx()}}const v8=g8;var Fk="@firebase/auth",zk="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function b8(e){Cl(new es("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ND(e)},u=new DB(n,i,a,l);return UB(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Cl(new es("auth-internal",t=>{const r=ys(t.getProvider("auth").getImmediate());return(n=>new y8(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fa(Fk,zk,w8(e)),Fa(Fk,zk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8=5*60,x8=lD("authIdTokenMaxAge")||_8;let Uk=null;const E8=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>x8)return;const i=r==null?void 0:r.token;Uk!==i&&(Uk=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function S8(e=fD()){const t=nx(e,"auth");if(t.isInitialized())return t.getImmediate();const r=zB(e,{popupRedirectResolver:v8,persistence:[A9,g9,BD]}),n=lD("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=E8(a.toString());d9(r,o,()=>o(r.currentUser)),c9(r,s=>o(s))}}const i=oD("auth");return i&&BB(r,`http://${i}`),r}function P8(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}RB({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=ri("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",P8().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});b8("Browser");var k8="firebase",T8="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fa(k8,T8,"app");var Bk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,QD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,P){function A(){}A.prototype=P.prototype,T.D=P.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(O,N,j){for(var R=Array(arguments.length-2),F=2;F<arguments.length;F++)R[F-2]=arguments[F];return P.prototype[N].apply(O,R)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,P,A){A||(A=0);var O=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)O[N]=P.charCodeAt(A++)|P.charCodeAt(A++)<<8|P.charCodeAt(A++)<<16|P.charCodeAt(A++)<<24;else for(N=0;16>N;++N)O[N]=P[A++]|P[A++]<<8|P[A++]<<16|P[A++]<<24;P=T.g[0],A=T.g[1],N=T.g[2];var j=T.g[3],R=P+(j^A&(N^j))+O[0]+3614090360&4294967295;P=A+(R<<7&4294967295|R>>>25),R=j+(N^P&(A^N))+O[1]+3905402710&4294967295,j=P+(R<<12&4294967295|R>>>20),R=N+(A^j&(P^A))+O[2]+606105819&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(P^N&(j^P))+O[3]+3250441966&4294967295,A=N+(R<<22&4294967295|R>>>10),R=P+(j^A&(N^j))+O[4]+4118548399&4294967295,P=A+(R<<7&4294967295|R>>>25),R=j+(N^P&(A^N))+O[5]+1200080426&4294967295,j=P+(R<<12&4294967295|R>>>20),R=N+(A^j&(P^A))+O[6]+2821735955&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(P^N&(j^P))+O[7]+4249261313&4294967295,A=N+(R<<22&4294967295|R>>>10),R=P+(j^A&(N^j))+O[8]+1770035416&4294967295,P=A+(R<<7&4294967295|R>>>25),R=j+(N^P&(A^N))+O[9]+2336552879&4294967295,j=P+(R<<12&4294967295|R>>>20),R=N+(A^j&(P^A))+O[10]+4294925233&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(P^N&(j^P))+O[11]+2304563134&4294967295,A=N+(R<<22&4294967295|R>>>10),R=P+(j^A&(N^j))+O[12]+1804603682&4294967295,P=A+(R<<7&4294967295|R>>>25),R=j+(N^P&(A^N))+O[13]+4254626195&4294967295,j=P+(R<<12&4294967295|R>>>20),R=N+(A^j&(P^A))+O[14]+2792965006&4294967295,N=j+(R<<17&4294967295|R>>>15),R=A+(P^N&(j^P))+O[15]+1236535329&4294967295,A=N+(R<<22&4294967295|R>>>10),R=P+(N^j&(A^N))+O[1]+4129170786&4294967295,P=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(P^A))+O[6]+3225465664&4294967295,j=P+(R<<9&4294967295|R>>>23),R=N+(P^A&(j^P))+O[11]+643717713&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^P&(N^j))+O[0]+3921069994&4294967295,A=N+(R<<20&4294967295|R>>>12),R=P+(N^j&(A^N))+O[5]+3593408605&4294967295,P=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(P^A))+O[10]+38016083&4294967295,j=P+(R<<9&4294967295|R>>>23),R=N+(P^A&(j^P))+O[15]+3634488961&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^P&(N^j))+O[4]+3889429448&4294967295,A=N+(R<<20&4294967295|R>>>12),R=P+(N^j&(A^N))+O[9]+568446438&4294967295,P=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(P^A))+O[14]+3275163606&4294967295,j=P+(R<<9&4294967295|R>>>23),R=N+(P^A&(j^P))+O[3]+4107603335&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^P&(N^j))+O[8]+1163531501&4294967295,A=N+(R<<20&4294967295|R>>>12),R=P+(N^j&(A^N))+O[13]+2850285829&4294967295,P=A+(R<<5&4294967295|R>>>27),R=j+(A^N&(P^A))+O[2]+4243563512&4294967295,j=P+(R<<9&4294967295|R>>>23),R=N+(P^A&(j^P))+O[7]+1735328473&4294967295,N=j+(R<<14&4294967295|R>>>18),R=A+(j^P&(N^j))+O[12]+2368359562&4294967295,A=N+(R<<20&4294967295|R>>>12),R=P+(A^N^j)+O[5]+4294588738&4294967295,P=A+(R<<4&4294967295|R>>>28),R=j+(P^A^N)+O[8]+2272392833&4294967295,j=P+(R<<11&4294967295|R>>>21),R=N+(j^P^A)+O[11]+1839030562&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^P)+O[14]+4259657740&4294967295,A=N+(R<<23&4294967295|R>>>9),R=P+(A^N^j)+O[1]+2763975236&4294967295,P=A+(R<<4&4294967295|R>>>28),R=j+(P^A^N)+O[4]+1272893353&4294967295,j=P+(R<<11&4294967295|R>>>21),R=N+(j^P^A)+O[7]+4139469664&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^P)+O[10]+3200236656&4294967295,A=N+(R<<23&4294967295|R>>>9),R=P+(A^N^j)+O[13]+681279174&4294967295,P=A+(R<<4&4294967295|R>>>28),R=j+(P^A^N)+O[0]+3936430074&4294967295,j=P+(R<<11&4294967295|R>>>21),R=N+(j^P^A)+O[3]+3572445317&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^P)+O[6]+76029189&4294967295,A=N+(R<<23&4294967295|R>>>9),R=P+(A^N^j)+O[9]+3654602809&4294967295,P=A+(R<<4&4294967295|R>>>28),R=j+(P^A^N)+O[12]+3873151461&4294967295,j=P+(R<<11&4294967295|R>>>21),R=N+(j^P^A)+O[15]+530742520&4294967295,N=j+(R<<16&4294967295|R>>>16),R=A+(N^j^P)+O[2]+3299628645&4294967295,A=N+(R<<23&4294967295|R>>>9),R=P+(N^(A|~j))+O[0]+4096336452&4294967295,P=A+(R<<6&4294967295|R>>>26),R=j+(A^(P|~N))+O[7]+1126891415&4294967295,j=P+(R<<10&4294967295|R>>>22),R=N+(P^(j|~A))+O[14]+2878612391&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~P))+O[5]+4237533241&4294967295,A=N+(R<<21&4294967295|R>>>11),R=P+(N^(A|~j))+O[12]+1700485571&4294967295,P=A+(R<<6&4294967295|R>>>26),R=j+(A^(P|~N))+O[3]+2399980690&4294967295,j=P+(R<<10&4294967295|R>>>22),R=N+(P^(j|~A))+O[10]+4293915773&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~P))+O[1]+2240044497&4294967295,A=N+(R<<21&4294967295|R>>>11),R=P+(N^(A|~j))+O[8]+1873313359&4294967295,P=A+(R<<6&4294967295|R>>>26),R=j+(A^(P|~N))+O[15]+4264355552&4294967295,j=P+(R<<10&4294967295|R>>>22),R=N+(P^(j|~A))+O[6]+2734768916&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~P))+O[13]+1309151649&4294967295,A=N+(R<<21&4294967295|R>>>11),R=P+(N^(A|~j))+O[4]+4149444226&4294967295,P=A+(R<<6&4294967295|R>>>26),R=j+(A^(P|~N))+O[11]+3174756917&4294967295,j=P+(R<<10&4294967295|R>>>22),R=N+(P^(j|~A))+O[2]+718787259&4294967295,N=j+(R<<15&4294967295|R>>>17),R=A+(j^(N|~P))+O[9]+3951481745&4294967295,T.g[0]=T.g[0]+P&4294967295,T.g[1]=T.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+j&4294967295}n.prototype.u=function(T,P){P===void 0&&(P=T.length);for(var A=P-this.blockSize,O=this.B,N=this.h,j=0;j<P;){if(N==0)for(;j<=A;)i(this,T,j),j+=this.blockSize;if(typeof T=="string"){for(;j<P;)if(O[N++]=T.charCodeAt(j++),N==this.blockSize){i(this,O),N=0;break}}else for(;j<P;)if(O[N++]=T[j++],N==this.blockSize){i(this,O),N=0;break}}this.h=N,this.o+=P},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var P=1;P<T.length-8;++P)T[P]=0;var A=8*this.o;for(P=T.length-8;P<T.length;++P)T[P]=A&255,A/=256;for(this.u(T),T=Array(16),P=A=0;4>P;++P)for(var O=0;32>O;O+=8)T[A++]=this.g[P]>>>O&255;return T};function a(T,P){var A=s;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=P(T)}function o(T,P){this.h=P;for(var A=[],O=!0,N=T.length-1;0<=N;N--){var j=T[N]|0;O&&j==P||(A[N]=j,O=!1)}this.g=A}var s={};function l(T){return-128<=T&&128>T?a(T,function(P){return new o([P|0],0>P?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return d;if(0>T)return v(u(-T));for(var P=[],A=1,O=0;T>=A;O++)P[O]=T/A|0,A*=4294967296;return new o(P,0)}function c(T,P){if(T.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(T.charAt(0)=="-")return v(c(T.substring(1),P));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(P,8)),O=d,N=0;N<T.length;N+=8){var j=Math.min(8,T.length-N),R=parseInt(T.substring(N,N+j),P);8>j?(j=u(Math.pow(P,j)),O=O.j(j).add(u(R))):(O=O.j(A),O=O.add(u(R)))}return O}var d=l(0),h=l(1),p=l(16777216);e=o.prototype,e.m=function(){if(_(this))return-v(this).m();for(var T=0,P=1,A=0;A<this.g.length;A++){var O=this.i(A);T+=(0<=O?O:4294967296+O)*P,P*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(_(this))return"-"+v(this).toString(T);for(var P=u(Math.pow(T,6)),A=this,O="";;){var N=k(A,P).g;A=y(A,N.j(P));var j=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=N,g(A))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var P=0;P<T.g.length;P++)if(T.g[P]!=0)return!1;return!0}function _(T){return T.h==-1}e.l=function(T){return T=y(this,T),_(T)?-1:g(T)?0:1};function v(T){for(var P=T.g.length,A=[],O=0;O<P;O++)A[O]=~T.g[O];return new o(A,~T.h).add(h)}e.abs=function(){return _(this)?v(this):this},e.add=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],O=0,N=0;N<=P;N++){var j=O+(this.i(N)&65535)+(T.i(N)&65535),R=(j>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);O=R>>>16,j&=65535,R&=65535,A[N]=R<<16|j}return new o(A,A[A.length-1]&-2147483648?-1:0)};function y(T,P){return T.add(v(P))}e.j=function(T){if(g(this)||g(T))return d;if(_(this))return _(T)?v(this).j(v(T)):v(v(this).j(T));if(_(T))return v(this.j(v(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var P=this.g.length+T.g.length,A=[],O=0;O<2*P;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var N=0;N<T.g.length;N++){var j=this.i(O)>>>16,R=this.i(O)&65535,F=T.i(N)>>>16,G=T.i(N)&65535;A[2*O+2*N]+=R*G,x(A,2*O+2*N),A[2*O+2*N+1]+=j*G,x(A,2*O+2*N+1),A[2*O+2*N+1]+=R*F,x(A,2*O+2*N+1),A[2*O+2*N+2]+=j*F,x(A,2*O+2*N+2)}for(O=0;O<P;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=P;O<2*P;O++)A[O]=0;return new o(A,0)};function x(T,P){for(;(T[P]&65535)!=T[P];)T[P+1]+=T[P]>>>16,T[P]&=65535,P++}function E(T,P){this.g=T,this.h=P}function k(T,P){if(g(P))throw Error("division by zero");if(g(T))return new E(d,d);if(_(T))return P=k(v(T),P),new E(v(P.g),v(P.h));if(_(P))return P=k(T,v(P)),new E(v(P.g),P.h);if(30<T.g.length){if(_(T)||_(P))throw Error("slowDivide_ only works with positive integers.");for(var A=h,O=P;0>=O.l(T);)A=I(A),O=I(O);var N=C(A,1),j=C(O,1);for(O=C(O,2),A=C(A,2);!g(O);){var R=j.add(O);0>=R.l(T)&&(N=N.add(A),j=R),O=C(O,1),A=C(A,1)}return P=y(T,N.j(P)),new E(N,P)}for(N=d;0<=T.l(P);){for(A=Math.max(1,Math.floor(T.m()/P.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=u(A),R=j.j(P);_(R)||0<R.l(T);)A-=O,j=u(A),R=j.j(P);g(j)&&(j=h),N=N.add(j),T=y(T,R)}return new E(N,T)}e.A=function(T){return k(this,T).h},e.and=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],O=0;O<P;O++)A[O]=this.i(O)&T.i(O);return new o(A,this.h&T.h)},e.or=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],O=0;O<P;O++)A[O]=this.i(O)|T.i(O);return new o(A,this.h|T.h)},e.xor=function(T){for(var P=Math.max(this.g.length,T.g.length),A=[],O=0;O<P;O++)A[O]=this.i(O)^T.i(O);return new o(A,this.h^T.h)};function I(T){for(var P=T.g.length+1,A=[],O=0;O<P;O++)A[O]=T.i(O)<<1|T.i(O-1)>>>31;return new o(A,T.h)}function C(T,P){var A=P>>5;P%=32;for(var O=T.g.length-A,N=[],j=0;j<O;j++)N[j]=0<P?T.i(j+A)>>>P|T.i(j+A+1)<<32-P:T.i(j+A);return new o(N,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,QD=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,zo=o}).apply(typeof Bk<"u"?Bk:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XD,ac,JD,Fh,Sw,ZD,eR,tR;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,S){return f==Array.prototype||f==Object.prototype||(f[b]=S.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var b=0;b<f.length;++b){var S=f[b];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var n=r(this);function i(f,b){if(b)e:{var S=n;f=f.split(".");for(var D=0;D<f.length-1;D++){var L=f[D];if(!(L in S))break e;S=S[L]}f=f[f.length-1],D=S[f],b=b(D),b!=D&&b!=null&&t(S,f,{configurable:!0,writable:!0,value:b})}}function a(f,b){f instanceof String&&(f+="");var S=0,D=!1,L={next:function(){if(!D&&S<f.length){var $=S++;return{value:b($,f[$]),done:!1}}return D=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return a(this,function(b,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function u(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function c(f,b,S){return f.call.apply(f.bind,arguments)}function d(f,b,S){if(!f)throw Error();if(2<arguments.length){var D=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,D),f.apply(b,L)}}return function(){return f.apply(b,arguments)}}function h(f,b,S){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function p(f,b){var S=Array.prototype.slice.call(arguments,1);return function(){var D=S.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function g(f,b){function S(){}S.prototype=b.prototype,f.aa=b.prototype,f.prototype=new S,f.prototype.constructor=f,f.Qb=function(D,L,$){for(var Y=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)Y[$e-2]=arguments[$e];return b.prototype[L].apply(D,Y)}}function _(f){const b=f.length;if(0<b){const S=Array(b);for(let D=0;D<b;D++)S[D]=f[D];return S}return[]}function v(f,b){for(let S=1;S<arguments.length;S++){const D=arguments[S];if(l(D)){const L=f.length||0,$=D.length||0;f.length=L+$;for(let Y=0;Y<$;Y++)f[L+Y]=D[Y]}else f.push(D)}}class y{constructor(b,S){this.i=b,this.j=S,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function x(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function k(f){return k[" "](f),f}k[" "]=function(){};var I=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function C(f,b,S){for(const D in f)b.call(S,f[D],D,f)}function T(f,b){for(const S in f)b.call(void 0,f[S],S,f)}function P(f){const b={};for(const S in f)b[S]=f[S];return b}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,b){let S,D;for(let L=1;L<arguments.length;L++){D=arguments[L];for(S in D)f[S]=D[S];for(let $=0;$<A.length;$++)S=A[$],Object.prototype.hasOwnProperty.call(D,S)&&(f[S]=D[S])}}function N(f){var b=1;f=f.split(":");const S=[];for(;0<b&&f.length;)S.push(f.shift()),b--;return f.length&&S.push(f.join(":")),S}function j(f){s.setTimeout(()=>{throw f},0)}function R(){var f=W;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class F{constructor(){this.h=this.g=null}add(b,S){const D=G.get();D.set(b,S),this.h?this.h.next=D:this.g=D,this.h=D}}var G=new y(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,S){this.h=b,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,W=new F,Q=()=>{const f=s.Promise.resolve(void 0);ne=()=>{f.then(ue)}};var ue=()=>{for(var f;f=R();){try{f.h.call(f.g)}catch(S){j(S)}var b=G;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}z=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const S=()=>{};s.addEventListener("test",S,b),s.removeEventListener("test",S,b)}catch{}return f}();function it(f,b){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var S=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(I){e:{try{k(b.nodeName);var L=!0;break e}catch{}L=!1}L||(b=null)}}else S=="mouseover"?b=f.fromElement:S=="mouseout"&&(b=f.toElement);this.relatedTarget=b,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:at[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&it.aa.h.call(this)}}g(it,ye);var at={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),Kr=0;function U(f,b,S,D,L){this.listener=f,this.proxy=null,this.src=b,this.type=S,this.capture=!!D,this.ha=L,this.key=++Kr,this.da=this.fa=!1}function de(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,b,S,D,L){var $=f.toString();f=this.g[$],f||(f=this.g[$]=[],this.h++);var Y=X(f,b,D,L);return-1<Y?(b=f[Y],S||(b.fa=!1)):(b=new U(b,this.src,$,!!D,L),b.fa=S,f.push(b)),b};function M(f,b){var S=b.type;if(S in f.g){var D=f.g[S],L=Array.prototype.indexOf.call(D,b,void 0),$;($=0<=L)&&Array.prototype.splice.call(D,L,1),$&&(de(b),f.g[S].length==0&&(delete f.g[S],f.h--))}}function X(f,b,S,D){for(var L=0;L<f.length;++L){var $=f[L];if(!$.da&&$.listener==b&&$.capture==!!S&&$.ha==D)return L}return-1}var q="closure_lm_"+(1e6*Math.random()|0),oe={};function se(f,b,S,D,L){if(Array.isArray(b)){for(var $=0;$<b.length;$++)se(f,b[$],S,D,L);return null}return S=gf(S),f&&f[Ee]?f.K(b,S,u(D)?!!D.capture:!1,L):Me(f,b,S,!1,D,L)}function Me(f,b,S,D,L,$){if(!b)throw Error("Invalid event type");var Y=u(L)?!!L.capture:!!L,$e=Ts(f);if($e||(f[q]=$e=new ge(f)),S=$e.add(b,S,D,Y,$),S.proxy)return S;if(D=He(),S.proxy=D,D.src=f,D.listener=S,f.addEventListener)Ne||(L=Y),L===void 0&&(L=!1),f.addEventListener(b.toString(),D,L);else if(f.attachEvent)f.attachEvent(mi(b.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return S}function He(){function f(S){return b.call(f.src,f.listener,S)}const b=Wv;return f}function Un(f,b,S,D,L){if(Array.isArray(b))for(var $=0;$<b.length;$++)Un(f,b[$],S,D,L);else D=u(D)?!!D.capture:!!D,S=gf(S),f&&f[Ee]?(f=f.i,b=String(b).toString(),b in f.g&&($=f.g[b],S=X($,S,D,L),-1<S&&(de($[S]),Array.prototype.splice.call($,S,1),$.length==0&&(delete f.g[b],f.h--)))):f&&(f=Ts(f))&&(b=f.g[b.toString()],f=-1,b&&(f=X(b,S,D,L)),(S=-1<f?b[f]:null)&&Bn(S))}function Bn(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[Ee])M(b.i,f);else{var S=f.type,D=f.proxy;b.removeEventListener?b.removeEventListener(S,D,f.capture):b.detachEvent?b.detachEvent(mi(S),D):b.addListener&&b.removeListener&&b.removeListener(D),(S=Ts(b))?(M(S,f),S.h==0&&(S.src=null,b[q]=null)):de(f)}}}function mi(f){return f in oe?oe[f]:oe[f]="on"+f}function Wv(f,b){if(f.da)f=!0;else{b=new it(b,this);var S=f.listener,D=f.ha||f.src;f.fa&&Bn(f),f=S.call(D,b)}return f}function Ts(f){return f=f[q],f instanceof ge?f:null}var yu="__closure_events_fn_"+(1e9*Math.random()>>>0);function gf(f){return typeof f=="function"?f:(f[yu]||(f[yu]=function(b){return f.handleEvent(b)}),f[yu])}function zt(){ce.call(this),this.i=new ge(this),this.M=this,this.F=null}g(zt,ce),zt.prototype[Ee]=!0,zt.prototype.removeEventListener=function(f,b,S,D){Un(this,f,b,S,D)};function Jt(f,b){var S,D=f.F;if(D)for(S=[];D;D=D.F)S.push(D);if(f=f.M,D=b.type||b,typeof b=="string")b=new ye(b,f);else if(b instanceof ye)b.target=b.target||f;else{var L=b;b=new ye(D,f),O(b,L)}if(L=!0,S)for(var $=S.length-1;0<=$;$--){var Y=b.g=S[$];L=As(Y,D,!0,b)&&L}if(Y=b.g=f,L=As(Y,D,!0,b)&&L,L=As(Y,D,!1,b)&&L,S)for($=0;$<S.length;$++)Y=b.g=S[$],L=As(Y,D,!1,b)&&L}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var S=f.g[b],D=0;D<S.length;D++)de(S[D]);delete f.g[b],f.h--}}this.F=null},zt.prototype.K=function(f,b,S,D){return this.i.add(String(f),b,!1,S,D)},zt.prototype.L=function(f,b,S,D){return this.i.add(String(f),b,!0,S,D)};function As(f,b,S,D){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var L=!0,$=0;$<b.length;++$){var Y=b[$];if(Y&&!Y.da&&Y.capture==S){var $e=Y.listener,Zt=Y.ha||Y.src;Y.fa&&M(f.i,Y),L=$e.call(Zt,D)!==!1&&L}}return L&&!D.defaultPrevented}function Is(f,b,S){if(typeof f=="function")S&&(f=h(f,S));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:s.setTimeout(f,b||0)}function wu(f){f.g=Is(()=>{f.g=null,f.i&&(f.i=!1,wu(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class vf extends ce{constructor(b,S){super(),this.m=b,this.l=S,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fo(f){ce.call(this),this.h=f,this.g={}}g(fo,ce);var ho=[];function bu(f){C(f.g,function(b,S){this.g.hasOwnProperty(S)&&Bn(b)},f),f.g={}}fo.prototype.N=function(){fo.aa.N.call(this),bu(this)},fo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _u=s.JSON.stringify,yf=s.JSON.parse,wf=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function po(){}po.prototype.h=null;function bf(f){return f.h||(f.h=f.i())}function xu(){}var mo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Os(){ye.call(this,"d")}g(Os,ye);function Ut(){ye.call(this,"c")}g(Ut,ye);var pt={},go=null;function Le(){return go=go||new zt}pt.La="serverreachability";function Hr(f){ye.call(this,pt.La,f)}g(Hr,ye);function vo(f){const b=Le();Jt(b,new Hr(b))}pt.STAT_EVENT="statevent";function Cs(f,b){ye.call(this,pt.STAT_EVENT,f),this.stat=b}g(Cs,ye);function Bt(f){const b=Le();Jt(b,new Cs(b,f))}pt.Ma="timingevent";function Eu(f,b){ye.call(this,pt.Ma,f),this.size=b}g(Eu,ye);function gi(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},b)}function Wn(){this.g=!0}Wn.prototype.xa=function(){this.g=!1};function Su(f,b,S,D,L,$){f.info(function(){if(f.g)if($)for(var Y="",$e=$.split("&"),Zt=0;Zt<$e.length;Zt++){var Ae=$e[Zt].split("=");if(1<Ae.length){var cr=Ae[0];Ae=Ae[1];var dr=cr.split("_");Y=2<=dr.length&&dr[1]=="type"?Y+(cr+"="+Ae+"&"):Y+(cr+"=redacted&")}}else Y=null;else Y=$;return"XMLHTTP REQ ("+D+") [attempt "+L+"]: "+b+`
`+S+`
`+Y})}function Pu(f,b,S,D,L,$,Y){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+L+"]: "+b+`
`+S+`
`+$+" "+Y})}function Kn(f,b,S,D){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+ku(f,S)+(D?" "+D:"")})}function Kv(f,b){f.info(function(){return"TIMEOUT: "+b})}Wn.prototype.info=function(){};function ku(f,b){if(!f.g)return b;if(!b)return null;try{var S=JSON.parse(b);if(S){for(f=0;f<S.length;f++)if(Array.isArray(S[f])){var D=S[f];if(!(2>D.length)){var L=D[1];if(Array.isArray(L)&&!(1>L.length)){var $=L[0];if($!="noop"&&$!="stop"&&$!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return _u(S)}catch{return b}}var yo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_f={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tu;function ve(){}g(ve,po),ve.prototype.g=function(){return new XMLHttpRequest},ve.prototype.i=function(){return{}},Tu=new ve;function Ce(f,b,S,D){this.j=f,this.i=b,this.l=S,this.R=D||1,this.U=new fo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ot}function ot(){this.i=null,this.g="",this.h=!1}var Rr={},Pr={};function wo(f,b,S){f.L=1,f.v=Tf(vi(b)),f.m=S,f.P=!0,xf(f,null)}function xf(f,b){f.F=Date.now(),Sf(f),f.A=vi(f.v);var S=f.A,D=f.R;Array.isArray(D)||(D=[String(D)]),AS(S.i,"t",D),f.C=0,S=f.j.J,f.h=new ot,f.g=HS(f.j,S?b:null,!f.m),0<f.O&&(f.M=new vf(h(f.Y,f,f.g),f.O)),b=f.U,S=f.g,D=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(var $=0;$<L.length;$++){var Y=se(S,L[$],D||b.handleEvent,!1,b.h||b);if(!Y)break;b.g[Y.key]=Y}b=f.H?P(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),vo(),Su(f.i,f.u,f.A,f.l,f.R,f.m)}Ce.prototype.ca=function(f){f=f.target;const b=this.M;b&&yi(f)==3?b.j():this.Y(f)},Ce.prototype.Y=function(f){try{if(f==this.g)e:{const dr=yi(this.g);var b=this.g.Ba();const Rs=this.g.Z();if(!(3>dr)&&(dr!=3||this.g&&(this.h.h||this.g.oa()||jS(this.g)))){this.J||dr!=4||b==7||(b==8||0>=Rs?vo(3):vo(2)),Hv(this);var S=this.g.Z();this.X=S;t:if(Ef(this)){var D=jS(this.g);f="";var L=D.length,$=yi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bo(this),Au(this);var Y="";break t}this.h.i=new s.TextDecoder}for(b=0;b<L;b++)this.h.h=!0,f+=this.h.i.decode(D[b],{stream:!($&&b==L-1)});D.length=0,this.h.g+=f,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=S==200,Pu(this.i,this.u,this.A,this.l,this.R,dr,S),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Zt=this.g;if(($e=Zt.g?Zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x($e)){var Ae=$e;break t}}Ae=null}if(S=Ae)Kn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qv(this,S);else{this.o=!1,this.s=3,Bt(12),bo(this),Au(this);break e}}if(this.P){S=!0;let kn;for(;!this.J&&this.C<Y.length;)if(kn=CF(this,Y),kn==Pr){dr==4&&(this.s=4,Bt(14),S=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(kn==Rr){this.s=4,Bt(15),Kn(this.i,this.l,Y,"[Invalid Chunk]"),S=!1;break}else Kn(this.i,this.l,kn,null),qv(this,kn);if(Ef(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dr!=4||Y.length!=0||this.h.h||(this.s=1,Bt(16),S=!1),this.o=this.o&&S,!S)Kn(this.i,this.l,Y,"[Invalid Chunked Response]"),bo(this),Au(this);else if(0<Y.length&&!this.W){this.W=!0;var cr=this.j;cr.g==this&&cr.ba&&!cr.M&&(cr.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Zv(cr),cr.M=!0,Bt(11))}}else Kn(this.i,this.l,Y,null),qv(this,Y);dr==4&&bo(this),this.o&&!this.J&&(dr==4?US(this.j,this):(this.o=!1,Sf(this)))}else GF(this.g),S==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Bt(12)):(this.s=0,Bt(13)),bo(this),Au(this)}}}catch{}finally{}};function Ef(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function CF(f,b){var S=f.C,D=b.indexOf(`
`,S);return D==-1?Pr:(S=Number(b.substring(S,D)),isNaN(S)?Rr:(D+=1,D+S>b.length?Pr:(b=b.slice(D,D+S),f.C=D+S,b)))}Ce.prototype.cancel=function(){this.J=!0,bo(this)};function Sf(f){f.S=Date.now()+f.I,gS(f,f.I)}function gS(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=gi(h(f.ba,f),b)}function Hv(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Ce.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Kv(this.i,this.A),this.L!=2&&(vo(),Bt(17)),bo(this),this.s=2,Au(this)):gS(this,this.S-f)};function Au(f){f.j.G==0||f.J||US(f.j,f)}function bo(f){Hv(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,bu(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function qv(f,b){try{var S=f.j;if(S.G!=0&&(S.g==f||Gv(S.h,f))){if(!f.K&&Gv(S.h,f)&&S.G==3){try{var D=S.Da.g.parse(b)}catch{D=null}if(Array.isArray(D)&&D.length==3){var L=D;if(L[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<f.F)Df(S),Cf(S);else break e;Jv(S),Bt(18)}}else S.za=L[1],0<S.za-S.T&&37500>L[2]&&S.F&&S.v==0&&!S.C&&(S.C=gi(h(S.Za,S),6e3));if(1>=wS(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else xo(S,11)}else if((f.K||S.g==f)&&Df(S),!x(b))for(L=S.Da.g.parse(b),b=0;b<L.length;b++){let Ae=L[b];if(S.T=Ae[0],Ae=Ae[1],S.G==2)if(Ae[0]=="c"){S.K=Ae[1],S.ia=Ae[2];const cr=Ae[3];cr!=null&&(S.la=cr,S.j.info("VER="+S.la));const dr=Ae[4];dr!=null&&(S.Aa=dr,S.j.info("SVER="+S.Aa));const Rs=Ae[5];Rs!=null&&typeof Rs=="number"&&0<Rs&&(D=1.5*Rs,S.L=D,S.j.info("backChannelRequestTimeoutMs_="+D)),D=S;const kn=f.g;if(kn){const jf=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jf){var $=D.h;$.g||jf.indexOf("spdy")==-1&&jf.indexOf("quic")==-1&&jf.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Yv($,$.h),$.h=null))}if(D.D){const ey=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ey&&(D.ya=ey,qe(D.I,D.D,ey))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-f.F,S.j.info("Handshake RTT: "+S.R+"ms")),D=S;var Y=f;if(D.qa=KS(D,D.J?D.ia:null,D.W),Y.K){bS(D.h,Y);var $e=Y,Zt=D.L;Zt&&($e.I=Zt),$e.B&&(Hv($e),Sf($e)),D.g=Y}else FS(D);0<S.i.length&&Nf(S)}else Ae[0]!="stop"&&Ae[0]!="close"||xo(S,7);else S.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?xo(S,7):Xv(S):Ae[0]!="noop"&&S.l&&S.l.ta(Ae),S.v=0)}}vo(4)}catch{}}var NF=class{constructor(f,b){this.g=f,this.map=b}};function vS(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yS(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function wS(f){return f.h?1:f.g?f.g.size:0}function Gv(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function Yv(f,b){f.g?f.g.add(b):f.h=b}function bS(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}vS.prototype.cancel=function(){if(this.i=_S(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function _S(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const S of f.g.values())b=b.concat(S.D);return b}return _(f.i)}function DF(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var b=[],S=f.length,D=0;D<S;D++)b.push(f[D]);return b}b=[],S=0;for(D in f)b[S++]=f[D];return b}function RF(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var b=[];f=f.length;for(var S=0;S<f;S++)b.push(S);return b}b=[],S=0;for(const D in f)b[S++]=D;return b}}}function xS(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var S=RF(f),D=DF(f),L=D.length,$=0;$<L;$++)b.call(void 0,D[$],S&&S[$],f)}var ES=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jF(f,b){if(f){f=f.split("&");for(var S=0;S<f.length;S++){var D=f[S].indexOf("="),L=null;if(0<=D){var $=f[S].substring(0,D);L=f[S].substring(D+1)}else $=f[S];b($,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _o(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof _o){this.h=f.h,Pf(this,f.j),this.o=f.o,this.g=f.g,kf(this,f.s),this.l=f.l;var b=f.i,S=new Cu;S.i=b.i,b.g&&(S.g=new Map(b.g),S.h=b.h),SS(this,S),this.m=f.m}else f&&(b=String(f).match(ES))?(this.h=!1,Pf(this,b[1]||"",!0),this.o=Iu(b[2]||""),this.g=Iu(b[3]||"",!0),kf(this,b[4]),this.l=Iu(b[5]||"",!0),SS(this,b[6]||"",!0),this.m=Iu(b[7]||"")):(this.h=!1,this.i=new Cu(null,this.h))}_o.prototype.toString=function(){var f=[],b=this.j;b&&f.push(Ou(b,PS,!0),":");var S=this.g;return(S||b=="file")&&(f.push("//"),(b=this.o)&&f.push(Ou(b,PS,!0),"@"),f.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&f.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&f.push("/"),f.push(Ou(S,S.charAt(0)=="/"?VF:LF,!0))),(S=this.i.toString())&&f.push("?",S),(S=this.m)&&f.push("#",Ou(S,FF)),f.join("")};function vi(f){return new _o(f)}function Pf(f,b,S){f.j=S?Iu(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function kf(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function SS(f,b,S){b instanceof Cu?(f.i=b,zF(f.i,f.h)):(S||(b=Ou(b,$F)),f.i=new Cu(b,f.h))}function qe(f,b,S){f.i.set(b,S)}function Tf(f){return qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Iu(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ou(f,b,S){return typeof f=="string"?(f=encodeURI(f).replace(b,MF),S&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function MF(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var PS=/[#\/\?@]/g,LF=/[#\?:]/g,VF=/[#\?]/g,$F=/[#\?@]/g,FF=/#/g;function Cu(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ua(f){f.g||(f.g=new Map,f.h=0,f.i&&jF(f.i,function(b,S){f.add(decodeURIComponent(b.replace(/\+/g," ")),S)}))}e=Cu.prototype,e.add=function(f,b){ua(this),this.i=null,f=Ns(this,f);var S=this.g.get(f);return S||this.g.set(f,S=[]),S.push(b),this.h+=1,this};function kS(f,b){ua(f),b=Ns(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function TS(f,b){return ua(f),b=Ns(f,b),f.g.has(b)}e.forEach=function(f,b){ua(this),this.g.forEach(function(S,D){S.forEach(function(L){f.call(b,L,D,this)},this)},this)},e.na=function(){ua(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),S=[];for(let D=0;D<b.length;D++){const L=f[D];for(let $=0;$<L.length;$++)S.push(b[D])}return S},e.V=function(f){ua(this);let b=[];if(typeof f=="string")TS(this,f)&&(b=b.concat(this.g.get(Ns(this,f))));else{f=Array.from(this.g.values());for(let S=0;S<f.length;S++)b=b.concat(f[S])}return b},e.set=function(f,b){return ua(this),this.i=null,f=Ns(this,f),TS(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},e.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function AS(f,b,S){kS(f,b),0<S.length&&(f.i=null,f.g.set(Ns(f,b),_(S)),f.h+=S.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var S=0;S<b.length;S++){var D=b[S];const $=encodeURIComponent(String(D)),Y=this.V(D);for(D=0;D<Y.length;D++){var L=$;Y[D]!==""&&(L+="="+encodeURIComponent(String(Y[D]))),f.push(L)}}return this.i=f.join("&")};function Ns(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function zF(f,b){b&&!f.j&&(ua(f),f.i=null,f.g.forEach(function(S,D){var L=D.toLowerCase();D!=L&&(kS(this,D),AS(this,L,S))},f)),f.j=b}function UF(f,b){const S=new Wn;if(s.Image){const D=new Image;D.onload=p(ca,S,"TestLoadImage: loaded",!0,b,D),D.onerror=p(ca,S,"TestLoadImage: error",!1,b,D),D.onabort=p(ca,S,"TestLoadImage: abort",!1,b,D),D.ontimeout=p(ca,S,"TestLoadImage: timeout",!1,b,D),s.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else b(!1)}function BF(f,b){const S=new Wn,D=new AbortController,L=setTimeout(()=>{D.abort(),ca(S,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:D.signal}).then($=>{clearTimeout(L),$.ok?ca(S,"TestPingServer: ok",!0,b):ca(S,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(L),ca(S,"TestPingServer: error",!1,b)})}function ca(f,b,S,D,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),D(S)}catch{}}function WF(){this.g=new wf}function KF(f,b,S){const D=S||"";try{xS(f,function(L,$){let Y=L;u(L)&&(Y=_u(L)),b.push(D+$+"="+encodeURIComponent(Y))})}catch(L){throw b.push(D+"type="+encodeURIComponent("_badmap")),L}}function Af(f){this.l=f.Ub||null,this.j=f.eb||!1}g(Af,po),Af.prototype.g=function(){return new If(this.l,this.j)},Af.prototype.i=function(f){return function(){return f}}({});function If(f,b){zt.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(If,zt),e=If.prototype,e.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Du(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||s).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Nu(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Du(this)),this.g&&(this.readyState=3,Du(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;IS(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function IS(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Nu(this):Du(this),this.readyState==3&&IS(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,Nu(this))},e.Qa=function(f){this.g&&(this.response=f,Nu(this))},e.ga=function(){this.g&&Nu(this)};function Nu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Du(f)}e.setRequestHeader=function(f,b){this.u.append(f,b)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var S=b.next();!S.done;)S=S.value,f.push(S[0]+": "+S[1]),S=b.next();return f.join(`\r
`)};function Du(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(If.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function OS(f){let b="";return C(f,function(S,D){b+=D,b+=":",b+=S,b+=`\r
`}),b}function Qv(f,b,S){e:{for(D in S){var D=!1;break e}D=!0}D||(S=OS(S),typeof f=="string"?S!=null&&encodeURIComponent(String(S)):qe(f,b,S))}function mt(f){zt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(mt,zt);var HF=/^https?$/i,qF=["POST","PUT"];e=mt.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,b,S,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tu.g(),this.v=this.o?bf(this.o):bf(Tu),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch($){CS(this,$);return}if(f=S||"",S=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var L in D)S.set(L,D[L]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const $ of D.keys())S.set($,D.get($));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(S.keys()).find($=>$.toLowerCase()=="content-type"),L=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call(qF,b,void 0))||D||L||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Y]of S)this.g.setRequestHeader($,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{RS(this),this.u=!0,this.g.send(f),this.u=!1}catch($){CS(this,$)}};function CS(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,NS(f),Of(f)}function NS(f){f.A||(f.A=!0,Jt(f,"complete"),Jt(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Jt(this,"complete"),Jt(this,"abort"),Of(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Of(this,!0)),mt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?DS(this):this.bb())},e.bb=function(){DS(this)};function DS(f){if(f.h&&typeof o<"u"&&(!f.v[1]||yi(f)!=4||f.Z()!=2)){if(f.u&&yi(f)==4)Is(f.Ea,0,f);else if(Jt(f,"readystatechange"),yi(f)==4){f.h=!1;try{const Y=f.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var S;if(!(S=b)){var D;if(D=Y===0){var L=String(f.D).match(ES)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),D=!HF.test(L?L.toLowerCase():"")}S=D}if(S)Jt(f,"complete"),Jt(f,"success");else{f.m=6;try{var $=2<yi(f)?f.g.statusText:""}catch{$=""}f.l=$+" ["+f.Z()+"]",NS(f)}}finally{Of(f)}}}}function Of(f,b){if(f.g){RS(f);const S=f.g,D=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||Jt(f,"ready");try{S.onreadystatechange=D}catch{}}}function RS(f){f.I&&(s.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function yi(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<yi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),yf(b)}};function jS(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function GF(f){const b={};f=(f.g&&2<=yi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(x(f[D]))continue;var S=N(f[D]);const L=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const $=b[L]||[];b[L]=$,$.push(S)}T(b,function(D){return D.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ru(f,b,S){return S&&S.internalChannelParams&&S.internalChannelParams[f]||b}function MS(f){this.Aa=0,this.i=[],this.j=new Wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ru("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ru("baseRetryDelayMs",5e3,f),this.cb=Ru("retryDelaySeedMs",1e4,f),this.Wa=Ru("forwardChannelMaxRetries",2,f),this.wa=Ru("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new vS(f&&f.concurrentRequestLimit),this.Da=new WF,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=MS.prototype,e.la=8,e.G=1,e.connect=function(f,b,S,D){Bt(0),this.W=f,this.H=b||{},S&&D!==void 0&&(this.H.OSID=S,this.H.OAID=D),this.F=this.X,this.I=KS(this,null,this.W),Nf(this)};function Xv(f){if(LS(f),f.G==3){var b=f.U++,S=vi(f.I);if(qe(S,"SID",f.K),qe(S,"RID",b),qe(S,"TYPE","terminate"),ju(f,S),b=new Ce(f,f.j,b),b.L=2,b.v=Tf(vi(S)),S=!1,s.navigator&&s.navigator.sendBeacon)try{S=s.navigator.sendBeacon(b.v.toString(),"")}catch{}!S&&s.Image&&(new Image().src=b.v,S=!0),S||(b.g=HS(b.j,null),b.g.ea(b.v)),b.F=Date.now(),Sf(b)}WS(f)}function Cf(f){f.g&&(Zv(f),f.g.cancel(),f.g=null)}function LS(f){Cf(f),f.u&&(s.clearTimeout(f.u),f.u=null),Df(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Nf(f){if(!yS(f.h)&&!f.s){f.s=!0;var b=f.Ga;ne||Q(),z||(ne(),z=!0),W.add(b,f),f.B=0}}function YF(f,b){return wS(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=gi(h(f.Ga,f,b),BS(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new Ce(this,this.j,f);let $=this.o;if(this.S&&($?($=P($),O($,this.S)):$=this.S),this.m!==null||this.O||(L.H=$,$=null),this.P)e:{for(var b=0,S=0;S<this.i.length;S++){t:{var D=this.i[S];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(b+=D,4096<b){b=S;break e}if(b===4096||S===this.i.length-1){b=S+1;break e}}b=1e3}else b=1e3;b=$S(this,L,b),S=vi(this.I),qe(S,"RID",f),qe(S,"CVER",22),this.D&&qe(S,"X-HTTP-Session-Id",this.D),ju(this,S),$&&(this.O?b="headers="+encodeURIComponent(String(OS($)))+"&"+b:this.m&&Qv(S,this.m,$)),Yv(this.h,L),this.Ua&&qe(S,"TYPE","init"),this.P?(qe(S,"$req",b),qe(S,"SID","null"),L.T=!0,wo(L,S,null)):wo(L,S,b),this.G=2}}else this.G==3&&(f?VS(this,f):this.i.length==0||yS(this.h)||VS(this))};function VS(f,b){var S;b?S=b.l:S=f.U++;const D=vi(f.I);qe(D,"SID",f.K),qe(D,"RID",S),qe(D,"AID",f.T),ju(f,D),f.m&&f.o&&Qv(D,f.m,f.o),S=new Ce(f,f.j,S,f.B+1),f.m===null&&(S.H=f.o),b&&(f.i=b.D.concat(f.i)),b=$S(f,S,1e3),S.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Yv(f.h,S),wo(S,D,b)}function ju(f,b){f.H&&C(f.H,function(S,D){qe(b,D,S)}),f.l&&xS({},function(S,D){qe(b,D,S)})}function $S(f,b,S){S=Math.min(f.i.length,S);var D=f.l?h(f.l.Na,f.l,f):null;e:{var L=f.i;let $=-1;for(;;){const Y=["count="+S];$==-1?0<S?($=L[0].g,Y.push("ofs="+$)):$=0:Y.push("ofs="+$);let $e=!0;for(let Zt=0;Zt<S;Zt++){let Ae=L[Zt].g;const cr=L[Zt].map;if(Ae-=$,0>Ae)$=Math.max(0,L[Zt].g-100),$e=!1;else try{KF(cr,Y,"req"+Ae+"_")}catch{D&&D(cr)}}if($e){D=Y.join("&");break e}}}return f=f.i.splice(0,S),b.D=f,D}function FS(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;ne||Q(),z||(ne(),z=!0),W.add(b,f),f.v=0}}function Jv(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=gi(h(f.Fa,f),BS(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,zS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=gi(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Bt(10),Cf(this),zS(this))};function Zv(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function zS(f){f.g=new Ce(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=vi(f.qa);qe(b,"RID","rpc"),qe(b,"SID",f.K),qe(b,"AID",f.T),qe(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&qe(b,"TO",f.ja),qe(b,"TYPE","xmlhttp"),ju(f,b),f.m&&f.o&&Qv(b,f.m,f.o),f.L&&(f.g.I=f.L);var S=f.g;f=f.ia,S.L=1,S.v=Tf(vi(b)),S.m=null,S.P=!0,xf(S,f)}e.Za=function(){this.C!=null&&(this.C=null,Cf(this),Jv(this),Bt(19))};function Df(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function US(f,b){var S=null;if(f.g==b){Df(f),Zv(f),f.g=null;var D=2}else if(Gv(f.h,b))S=b.D,bS(f.h,b),D=1;else return;if(f.G!=0){if(b.o)if(D==1){S=b.m?b.m.length:0,b=Date.now()-b.F;var L=f.B;D=Le(),Jt(D,new Eu(D,S)),Nf(f)}else FS(f);else if(L=b.s,L==3||L==0&&0<b.X||!(D==1&&YF(f,b)||D==2&&Jv(f)))switch(S&&0<S.length&&(b=f.h,b.i=b.i.concat(S)),L){case 1:xo(f,5);break;case 4:xo(f,10);break;case 3:xo(f,6);break;default:xo(f,2)}}}function BS(f,b){let S=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(S*=2),S*b}function xo(f,b){if(f.j.info("Error code "+b),b==2){var S=h(f.fb,f),D=f.Xa;const L=!D;D=new _o(D||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Pf(D,"https"),Tf(D),L?UF(D.toString(),S):BF(D.toString(),S)}else Bt(2);f.G=0,f.l&&f.l.sa(b),WS(f),LS(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Bt(2)):(this.j.info("Failed to ping google.com"),Bt(1))};function WS(f){if(f.G=0,f.ka=[],f.l){const b=_S(f.h);(b.length!=0||f.i.length!=0)&&(v(f.ka,b),v(f.ka,f.i),f.h.i.length=0,_(f.i),f.i.length=0),f.l.ra()}}function KS(f,b,S){var D=S instanceof _o?vi(S):new _o(S);if(D.g!="")b&&(D.g=b+"."+D.g),kf(D,D.s);else{var L=s.location;D=L.protocol,b=b?b+"."+L.hostname:L.hostname,L=+L.port;var $=new _o(null);D&&Pf($,D),b&&($.g=b),L&&kf($,L),S&&($.l=S),D=$}return S=f.D,b=f.ya,S&&b&&qe(D,S,b),qe(D,"VER",f.la),ju(f,D),D}function HS(f,b,S){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new mt(new Af({eb:S})):new mt(f.pa),b.Ha(f.J),b}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function qS(){}e=qS.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Rf(){}Rf.prototype.g=function(f,b){return new qr(f,b)};function qr(f,b){zt.call(this),this.g=new MS(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!x(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!x(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new Ds(this)}g(qr,zt),qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){Xv(this.g)},qr.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var S={};S.__data__=f,f=S}else this.u&&(S={},S.__data__=_u(f),f=S);b.i.push(new NF(b.Ya++,f)),b.G==3&&Nf(b)},qr.prototype.N=function(){this.g.l=null,delete this.j,Xv(this.g),delete this.g,qr.aa.N.call(this)};function GS(f){Os.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const S in b){f=S;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}g(GS,Os);function YS(){Ut.call(this),this.status=1}g(YS,Ut);function Ds(f){this.g=f}g(Ds,qS),Ds.prototype.ua=function(){Jt(this.g,"a")},Ds.prototype.ta=function(f){Jt(this.g,new GS(f))},Ds.prototype.sa=function(f){Jt(this.g,new YS)},Ds.prototype.ra=function(){Jt(this.g,"b")},Rf.prototype.createWebChannel=Rf.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,tR=function(){return new Rf},eR=function(){return Le()},ZD=pt,Sw={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},yo.NO_ERROR=0,yo.TIMEOUT=8,yo.HTTP_ERROR=6,Fh=yo,_f.COMPLETE="complete",JD=_f,xu.EventType=mo,mo.OPEN="a",mo.CLOSE="b",mo.ERROR="c",mo.MESSAGE="d",zt.prototype.listen=zt.prototype.K,ac=xu,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,XD=mt}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const Wk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new tx("@firebase/firestore");function Wu(){return is.logLevel}function ae(e,...t){if(is.logLevel<=Se.DEBUG){const r=t.map(hx);is.debug(`Firestore (${tu}): ${e}`,...r)}}function zi(e,...t){if(is.logLevel<=Se.ERROR){const r=t.map(hx);is.error(`Firestore (${tu}): ${e}`,...r)}}function Nl(e,...t){if(is.logLevel<=Se.WARN){const r=t.map(hx);is.warn(`Firestore (${tu}): ${e}`,...r)}}function hx(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e="Unexpected state"){const t=`FIRESTORE (${tu}) INTERNAL ASSERTION FAILED: `+e;throw zi(t),new Error(t)}function je(e,t){e||he()}function me(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends Zi{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(gr.UNAUTHENTICATED))}shutdown(){}}class I8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class O8{constructor(t){this.t=t,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){je(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new za;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new za,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new za)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(je(typeof n.accessToken=="string"),new rR(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return je(t===null||typeof t=="string"),new gr(t)}}class C8{constructor(t,r,n){this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class N8{constructor(t,r,n){this.l=t,this.h=r,this.P=n}getToken(){return Promise.resolve(new C8(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D8{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R8{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){je(this.o===void 0);const n=a=>{a.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(je(typeof r.token=="string"),this.R=r.token,new D8(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j8(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=j8(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%t.length))}return n}}function Ie(e,t){return e<t?-1:e>t?1:0}function Dl(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new re(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new re(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Mt.fromMillis(Date.now())}static fromDate(t){return Mt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*r));return new Mt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Ie(this.nanoseconds,t.nanoseconds):Ie(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pe(t)}static min(){return new pe(new Mt(0,0))}static max(){return new pe(new Mt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(t,r,n){r===void 0?r=0:r>t.length&&he(),n===void 0?n=t.length-r:n>t.length-r&&he(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Qc.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Qc?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=t.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class Xe extends Qc{construct(t,r,n){return new Xe(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new re(B.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Xe(r)}static emptyPath(){return new Xe([])}}const M8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Qc{construct(t,r,n){return new ir(t,r,n)}static isValidIdentifier(t){return M8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ir(["__name__"])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new re(B.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new re(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new re(B.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ir(r)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(Xe.fromString(t))}static fromName(t){return new le(Xe.fromString(t).popFirst(5))}static empty(){return new le(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Xe.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new Xe(t.slice()))}}function L8(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(n===1e9?new Mt(r+1,0):new Mt(r,n));return new Ha(i,le.empty(),t)}function V8(e){return new Ha(e.readTime,e.key,-1)}class Ha{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Ha(pe.min(),le.empty(),-1)}static max(){return new Ha(pe.max(),le.empty(),-1)}}function $8(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=le.comparator(e.documentKey,t.documentKey),r!==0?r:Ie(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cd(e){if(e.code!==B.FAILED_PRECONDITION||e.message!==F8)throw e;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new K((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof K?r:K.resolve(r)}catch(r){return K.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):K.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):K.reject(r)}static resolve(t){return new K((r,n)=>{r(t)})}static reject(t){return new K((r,n)=>{n(t)})}static waitFor(t){return new K((r,n)=>{let i=0,a=0,o=!1;t.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(t){let r=K.resolve(!1);for(const n of t)r=r.next(i=>i?K.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new K((n,i)=>{const a=t.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(t,r){return new K((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function U8(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Nd(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}px.oe=-1;function pg(e){return e==null}function Cp(e){return e===0&&1/e==-1/0}function B8(e){return typeof e=="number"&&Number.isInteger(e)&&!Cp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kk(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function bs(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function iR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t,r){this.comparator=t,this.root=r||nr.EMPTY}insert(t,r){return new ft(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,nr.BLACK,null,null))}remove(t){return new ft(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new th(this.root,t,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new th(this.root,t,this.comparator,!0)}}class th{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nr{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??nr.RED,this.left=i??nr.EMPTY,this.right=a??nr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new nr(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return nr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return nr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const t=this.left.check();if(t!==this.right.check())throw he();return t+(this.isRed()?0:1)}}nr.EMPTY=null,nr.RED=!0,nr.BLACK=!1;nr.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,r,n,i,a){return this}insert(t,r,n){return new nr(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t){this.comparator=t,this.data=new ft(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new Hk(this.data.getIterator())}getIteratorFrom(t){return new Hk(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof sr)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new sr(this.comparator);return r.data=t,r}}class Hk{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t){this.fields=t,t.sort(ir.comparator)}static empty(){return new Zr([])}unionWith(t){let r=new sr(ir.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Zr(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Dl(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new aR("Invalid base64 string: "+a):a}}(t);return new ur(r)}static fromUint8Array(t){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new ur(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ie(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const W8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(e){if(je(!!e),typeof e=="string"){let t=0;const r=W8.exec(e);if(je(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:xt(e.seconds),nanos:xt(e.nanos)}}function xt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function as(e){return typeof e=="string"?ur.fromBase64String(e):ur.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function gx(e){const t=e.mapValue.fields.__previous_value__;return mx(t)?gx(t):t}function Xc(e){const t=qa(e.mapValue.fields.__local_write_time__.timestampValue);return new Mt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(t,r,n,i,a,o,s,l,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Jc{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new Jc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Jc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh={mapValue:{}};function os(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?mx(e)?4:q8(e)?9007199254740991:H8(e)?10:11:he()}function li(e,t){if(e===t)return!0;const r=os(e);if(r!==os(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Xc(e).isEqual(Xc(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=qa(i.timestampValue),s=qa(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return as(i.bytesValue).isEqual(as(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return xt(i.geoPointValue.latitude)===xt(a.geoPointValue.latitude)&&xt(i.geoPointValue.longitude)===xt(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return xt(i.integerValue)===xt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=xt(i.doubleValue),s=xt(a.doubleValue);return o===s?Cp(o)===Cp(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return Dl(e.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(Kk(o)!==Kk(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!li(o[l],s[l])))return!1;return!0}(e,t);default:return he()}}function Zc(e,t){return(e.values||[]).find(r=>li(r,t))!==void 0}function Rl(e,t){if(e===t)return 0;const r=os(e),n=os(t);if(r!==n)return Ie(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ie(e.booleanValue,t.booleanValue);case 2:return function(a,o){const s=xt(a.integerValue||a.doubleValue),l=xt(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return qk(e.timestampValue,t.timestampValue);case 4:return qk(Xc(e),Xc(t));case 5:return Ie(e.stringValue,t.stringValue);case 6:return function(a,o){const s=as(a),l=as(o);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Ie(s[u],l[u]);if(c!==0)return c}return Ie(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,o){const s=Ie(xt(a.latitude),xt(o.latitude));return s!==0?s:Ie(xt(a.longitude),xt(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Gk(e.arrayValue,t.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},h=o.fields||{},p=(s=d.value)===null||s===void 0?void 0:s.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=Ie(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:Gk(p,g)}(e.mapValue,t.mapValue);case 11:return function(a,o){if(a===rh.mapValue&&o===rh.mapValue)return 0;if(a===rh.mapValue)return 1;if(o===rh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Ie(l[d],c[d]);if(h!==0)return h;const p=Rl(s[l[d]],u[c[d]]);if(p!==0)return p}return Ie(l.length,c.length)}(e.mapValue,t.mapValue);default:throw he()}}function qk(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ie(e,t);const r=qa(e),n=qa(t),i=Ie(r.seconds,n.seconds);return i!==0?i:Ie(r.nanos,n.nanos)}function Gk(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=Rl(r[i],n[i]);if(a)return a}return Ie(r.length,n.length)}function jl(e){return Pw(e)}function Pw(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=qa(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return as(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return le.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Pw(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Pw(r.fields[o])}`;return i+"}"}(e.mapValue):he()}function Yk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function kw(e){return!!e&&"integerValue"in e}function vx(e){return!!e&&"arrayValue"in e}function Qk(e){return!!e&&"nullValue"in e}function Xk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function zh(e){return!!e&&"mapValue"in e}function H8(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function xc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return bs(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=xc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=xc(e.arrayValue.values[r]);return t}return Object.assign({},e)}function q8(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.value=t}static empty(){return new Mr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!zh(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=xc(r)}setAll(t){let r=ir.emptyPath(),n={},i=[];t.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=xc(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());zh(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];zh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){bs(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Mr(xc(this.value))}}function oR(e){const t=[];return bs(e.fields,(r,n)=>{const i=new ir([r]);if(zh(n)){const a=oR(n.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)}),new Zr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,r,n,i,a,o,s){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new yr(t,0,pe.min(),pe.min(),pe.min(),Mr.empty(),0)}static newFoundDocument(t,r,n,i){return new yr(t,1,r,pe.min(),n,i,0)}static newNoDocument(t,r){return new yr(t,2,r,pe.min(),pe.min(),Mr.empty(),0)}static newUnknownDocument(t,r){return new yr(t,3,r,pe.min(),pe.min(),Mr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Mr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof yr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,r){this.position=t,this.inclusive=r}}function Jk(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?n=le.comparator(le.fromName(o.referenceValue),r.key):n=Rl(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function Zk(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!li(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,r="asc"){this.field=t,this.dir=r}}function G8(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{}class At extends sR{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Q8(t,r,n):r==="array-contains"?new Z8(t,n):r==="in"?new eW(t,n):r==="not-in"?new tW(t,n):r==="array-contains-any"?new rW(t,n):new At(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new X8(t,n):new J8(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Rl(r,this.value)):r!==null&&os(this.value)===os(r)&&this.matchesComparison(Rl(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends sR{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new $n(t,r)}matches(t){return lR(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function lR(e){return e.op==="and"}function uR(e){return Y8(e)&&lR(e)}function Y8(e){for(const t of e.filters)if(t instanceof $n)return!1;return!0}function Tw(e){if(e instanceof At)return e.field.canonicalString()+e.op.toString()+jl(e.value);if(uR(e))return e.filters.map(t=>Tw(t)).join(",");{const t=e.filters.map(r=>Tw(r)).join(",");return`${e.op}(${t})`}}function cR(e,t){return e instanceof At?function(n,i){return i instanceof At&&n.op===i.op&&n.field.isEqual(i.field)&&li(n.value,i.value)}(e,t):e instanceof $n?function(n,i){return i instanceof $n&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&cR(o,i.filters[s]),!0):!1}(e,t):void he()}function dR(e){return e instanceof At?function(r){return`${r.field.canonicalString()} ${r.op} ${jl(r.value)}`}(e):e instanceof $n?function(r){return r.op.toString()+" {"+r.getFilters().map(dR).join(" ,")+"}"}(e):"Filter"}class Q8 extends At{constructor(t,r,n){super(t,r,n),this.key=le.fromName(n.referenceValue)}matches(t){const r=le.comparator(t.key,this.key);return this.matchesComparison(r)}}class X8 extends At{constructor(t,r){super(t,"in",r),this.keys=fR("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class J8 extends At{constructor(t,r){super(t,"not-in",r),this.keys=fR("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function fR(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>le.fromName(n.referenceValue))}class Z8 extends At{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return vx(r)&&Zc(r.arrayValue,this.value)}}class eW extends At{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Zc(this.value.arrayValue,r)}}class tW extends At{constructor(t,r){super(t,"not-in",r)}matches(t){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!Zc(this.value.arrayValue,r)}}class rW extends At{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!vx(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Zc(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(t,r=null,n=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function eT(e,t=null,r=[],n=[],i=null,a=null,o=null){return new nW(e,t,r,n,i,a,o)}function yx(e){const t=me(e);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Tw(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),pg(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>jl(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>jl(n)).join(",")),t.ue=r}return t.ue}function wx(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!G8(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!cR(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zk(e.startAt,t.startAt)&&Zk(e.endAt,t.endAt)}function Aw(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function iW(e,t,r,n,i,a,o,s){return new Dd(e,t,r,n,i,a,o,s)}function mg(e){return new Dd(e)}function tT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function hR(e){return e.collectionGroup!==null}function Ec(e){const t=me(e);if(t.ce===null){t.ce=[];const r=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new sr(ir.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.ce.push(new Dp(a,n))}),r.has(ir.keyField().canonicalString())||t.ce.push(new Dp(ir.keyField(),n))}return t.ce}function ii(e){const t=me(e);return t.le||(t.le=aW(t,Ec(e))),t.le}function aW(e,t){if(e.limitType==="F")return eT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Dp(i.field,a)});const r=e.endAt?new Np(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Np(e.startAt.position,e.startAt.inclusive):null;return eT(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Iw(e,t){const r=e.filters.concat([t]);return new Dd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Ow(e,t,r){return new Dd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function gg(e,t){return wx(ii(e),ii(t))&&e.limitType===t.limitType}function pR(e){return`${yx(ii(e))}|lt:${e.limitType}`}function Fs(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>dR(i)).join(", ")}]`),pg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>jl(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>jl(i)).join(",")),`Target(${n})`}(ii(e))}; limitType=${e.limitType})`}function vg(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):le.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Ec(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=Jk(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Ec(n),i)||n.endAt&&!function(o,s,l){const u=Jk(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Ec(n),i))}(e,t)}function oW(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mR(e){return(t,r)=>{let n=!1;for(const i of Ec(e)){const a=sW(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function sW(e,t,r){const n=e.field.isKeyField()?le.comparator(t.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?Rl(l,u):he()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){bs(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return iR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=new ft(le.comparator);function Ui(){return lW}const gR=new ft(le.comparator);function oc(...e){let t=gR;for(const r of e)t=t.insert(r.key,r);return t}function vR(e){let t=gR;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Ro(){return Sc()}function yR(){return Sc()}function Sc(){return new ru(e=>e.toString(),(e,t)=>e.isEqual(t))}const uW=new ft(le.comparator),cW=new sr(le.comparator);function _e(...e){let t=cW;for(const r of e)t=t.add(r);return t}const dW=new sr(Ie);function fW(){return dW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cp(t)?"-0":t}}function wR(e){return{integerValue:""+e}}function hW(e,t){return B8(t)?wR(t):bx(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this._=void 0}}function pW(e,t,r){return e instanceof ed?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&mx(a)&&(a=gx(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,t):e instanceof td?_R(e,t):e instanceof rd?xR(e,t):function(i,a){const o=bR(i,a),s=rT(o)+rT(i.Pe);return kw(o)&&kw(i.Pe)?wR(s):bx(i.serializer,s)}(e,t)}function mW(e,t,r){return e instanceof td?_R(e,t):e instanceof rd?xR(e,t):r}function bR(e,t){return e instanceof Rp?function(n){return kw(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class ed extends yg{}class td extends yg{constructor(t){super(),this.elements=t}}function _R(e,t){const r=ER(t);for(const n of e.elements)r.some(i=>li(i,n))||r.push(n);return{arrayValue:{values:r}}}class rd extends yg{constructor(t){super(),this.elements=t}}function xR(e,t){let r=ER(t);for(const n of e.elements)r=r.filter(i=>!li(i,n));return{arrayValue:{values:r}}}class Rp extends yg{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function rT(e){return xt(e.integerValue||e.doubleValue)}function ER(e){return vx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gW{constructor(t,r){this.field=t,this.transform=r}}function vW(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof td&&i instanceof td||n instanceof rd&&i instanceof rd?Dl(n.elements,i.elements,li):n instanceof Rp&&i instanceof Rp?li(n.Pe,i.Pe):n instanceof ed&&i instanceof ed}(e.transform,t.transform)}class yW{constructor(t,r){this.version=t,this.transformResults=r}}class vn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new vn}static exists(t){return new vn(void 0,t)}static updateTime(t){return new vn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class wg{}function SR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new _x(e.key,vn.none()):new Rd(e.key,e.data,vn.none());{const r=e.data,n=Mr.empty();let i=new sr(ir.comparator);for(let a of t.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new oo(e.key,n,new Zr(i.toArray()),vn.none())}}function wW(e,t,r){e instanceof Rd?function(i,a,o){const s=i.value.clone(),l=iT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,r):e instanceof oo?function(i,a,o){if(!Uh(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=iT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(PR(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function Pc(e,t,r,n){return e instanceof Rd?function(a,o,s,l){if(!Uh(a.precondition,o))return s;const u=a.value.clone(),c=aT(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof oo?function(a,o,s,l){if(!Uh(a.precondition,o))return s;const u=aT(a.fieldTransforms,l,o),c=o.data;return c.setAll(PR(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,o,s){return Uh(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,r)}function bW(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=bR(n.transform,i||null);a!=null&&(r===null&&(r=Mr.empty()),r.set(n.field,a))}return r||null}function nT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Dl(n,i,(a,o)=>vW(a,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rd extends wg{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class oo extends wg{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function PR(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function iT(e,t,r){const n=new Map;je(e.length===r.length);for(let i=0;i<r.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,mW(o,s,r[i]))}return n}function aT(e,t,r){const n=new Map;for(const i of e){const a=i.transform,o=r.data.field(i.field);n.set(i.field,pW(a,o,t))}return n}class _x extends wg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _W extends wg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&wW(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Pc(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Pc(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=yR();return this.mutations.forEach(i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=SR(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),_e())}isEqual(t){return this.batchId===t.batchId&&Dl(this.mutations,t.mutations,(r,n)=>nT(r,n))&&Dl(this.baseMutations,t.baseMutations,(r,n)=>nT(r,n))}}class xx{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){je(t.mutations.length===n.length);let i=function(){return uW}();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new xx(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,ke;function PW(e){switch(e){default:return he();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function kR(e){if(e===void 0)return zi("GRPC error has no .code"),B.UNKNOWN;switch(e){case Pt.OK:return B.OK;case Pt.CANCELLED:return B.CANCELLED;case Pt.UNKNOWN:return B.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return B.INTERNAL;case Pt.UNAVAILABLE:return B.UNAVAILABLE;case Pt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case Pt.NOT_FOUND:return B.NOT_FOUND;case Pt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case Pt.ABORTED:return B.ABORTED;case Pt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case Pt.DATA_LOSS:return B.DATA_LOSS;default:return he()}}(ke=Pt||(Pt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=new zo([4294967295,4294967295],0);function oT(e){const t=kW().encode(e),r=new QD;return r.update(t),new Uint8Array(r.digest())}function sT(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new zo([r,n],0),new zo([i,a],0)]}class Ex{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new sc(`Invalid padding: ${r}`);if(n<0)throw new sc(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new sc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=zo.fromNumber(this.Ie)}Ee(t,r,n){let i=t.add(r.multiply(zo.fromNumber(n)));return i.compare(TW)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=oT(t),[n,i]=sT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new Ex(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.Ie===0)return;const r=oT(t),[n,i]=sT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,jd.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new bg(pe.min(),i,new ft(Ie),Ui(),_e())}}class jd{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new jd(n,r,_e(),_e(),_e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(t,r,n,i){this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=i}}class TR{constructor(t,r){this.targetId=t,this.me=r}}class AR{constructor(t,r,n=ur.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class lT{constructor(){this.fe=0,this.ge=cT(),this.pe=ur.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=_e(),r=_e(),n=_e();return this.ge.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:he()}}),new jd(this.pe,this.ye,t,r,n)}Ce(){this.we=!1,this.ge=cT()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class AW{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ui(),this.qe=uT(),this.Qe=new ft(Ie)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const n=this.Ge(r);switch(t.state){case 0:this.ze(r)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(t.resumeToken));break;default:he()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(t){const r=t.targetId,n=t.me.count,i=this.Je(r);if(i){const a=i.target;if(Aw(a))if(n===0){const o=new le(a.path);this.Ue(r,o,yr.newNoDocument(o,pe.min()))}else je(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(t),l=s?this.Xe(s,t,o):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=as(n).toUint8Array()}catch(l){if(l instanceof aR)return Nl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new Ex(o,i,a)}catch(l){return Nl(l instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,r,n){return r.me.count===n-this.nt(t,r.targetId)?0:2}nt(t,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(t){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&Aw(s.target)){const l=new le(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,yr.newNoDocument(l,t))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=_e();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(t));const i=new bg(t,r,this.Qe,this.ke,n);return this.ke=Ui(),this.qe=uT(),this.Qe=new ft(Ie),i}$e(t,r){if(!this.ze(t))return;const n=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new lT,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new sr(Ie),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||ae("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new lT),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function uT(){return new ft(le.comparator)}function cT(){return new ft(le.comparator)}const IW={asc:"ASCENDING",desc:"DESCENDING"},OW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CW={and:"AND",or:"OR"};class NW{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Cw(e,t){return e.useProto3Json||pg(t)?t:{value:t}}function jp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function IR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function DW(e,t){return jp(e,t.toTimestamp())}function ai(e){return je(!!e),pe.fromTimestamp(function(r){const n=qa(r);return new Mt(n.seconds,n.nanos)}(e))}function Sx(e,t){return Nw(e,t).canonicalString()}function Nw(e,t){const r=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function OR(e){const t=Xe.fromString(e);return je(jR(t)),t}function Dw(e,t){return Sx(e.databaseId,t.path)}function My(e,t){const r=OR(t);if(r.get(1)!==e.databaseId.projectId)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new re(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new le(NR(r))}function CR(e,t){return Sx(e.databaseId,t)}function RW(e){const t=OR(e);return t.length===4?Xe.emptyPath():NR(t)}function Rw(e){return new Xe(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function NR(e){return je(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function dT(e,t,r){return{name:Dw(e,t),fields:r.value.mapValue.fields}}function jW(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(je(c===void 0||typeof c=="string"),ur.fromBase64String(c||"")):(je(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ur.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(u){const c=u.code===void 0?B.UNKNOWN:kR(u.code);return new re(c,u.message||"")}(o);r=new AR(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=My(e,n.document.name),a=ai(n.document.updateTime),o=n.document.createTime?ai(n.document.createTime):pe.min(),s=new Mr({mapValue:{fields:n.document.fields}}),l=yr.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new Bh(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=My(e,n.document),a=n.readTime?ai(n.readTime):pe.min(),o=yr.newNoDocument(i,a),s=n.removedTargetIds||[];r=new Bh([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=My(e,n.document),a=n.removedTargetIds||[];r=new Bh([],a,i,null)}else{if(!("filter"in t))return he();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new SW(i,a),s=n.targetId;r=new TR(s,o)}}return r}function MW(e,t){let r;if(t instanceof Rd)r={update:dT(e,t.key,t.value)};else if(t instanceof _x)r={delete:Dw(e,t.key)};else if(t instanceof oo)r={update:dT(e,t.key,t.data),updateMask:KW(t.fieldMask)};else{if(!(t instanceof _W))return he();r={verify:Dw(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof ed)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof td)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof rd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Rp)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw he()}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:DW(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:he()}(e,t.precondition)),r}function LW(e,t){return e&&e.length>0?(je(t!==void 0),e.map(r=>function(i,a){let o=i.updateTime?ai(i.updateTime):ai(a);return o.isEqual(pe.min())&&(o=ai(a)),new yW(o,i.transformResults||[])}(r,t))):[]}function VW(e,t){return{documents:[CR(e,t.path)]}}function $W(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=CR(e,i);const a=function(u){if(u.length!==0)return RR($n.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:zs(h.field),direction:UW(h.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=Cw(e,t.limit);return s!==null&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:r,parent:i}}function FW(e){let t=RW(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){je(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const h=DR(d);return h instanceof $n&&uR(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(g){return new Dp(Us(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,pg(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Np(p,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Np(p,h)}(r.endAt)),iW(t,i,o,a,s,"F",l,u)}function zW(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function DR(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Us(r.unaryFilter.field);return At.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Us(r.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Us(r.unaryFilter.field);return At.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Us(r.unaryFilter.field);return At.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(e):e.fieldFilter!==void 0?function(r){return At.create(Us(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return $n.create(r.compositeFilter.filters.map(n=>DR(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(r.compositeFilter.op))}(e):he()}function UW(e){return IW[e]}function BW(e){return OW[e]}function WW(e){return CW[e]}function zs(e){return{fieldPath:e.canonicalString()}}function Us(e){return ir.fromServerFormat(e.fieldPath)}function RR(e){return e instanceof At?function(r){if(r.op==="=="){if(Xk(r.value))return{unaryFilter:{field:zs(r.field),op:"IS_NAN"}};if(Qk(r.value))return{unaryFilter:{field:zs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Xk(r.value))return{unaryFilter:{field:zs(r.field),op:"IS_NOT_NAN"}};if(Qk(r.value))return{unaryFilter:{field:zs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:zs(r.field),op:BW(r.op),value:r.value}}}(e):e instanceof $n?function(r){const n=r.getFilters().map(i=>RR(i));return n.length===1?n[0]:{compositeFilter:{op:WW(r.op),filters:n}}}(e):he()}function KW(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function jR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(t,r,n,i,a=pe.min(),o=pe.min(),s=ur.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Ta(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(t){this.ct=t}}function qW(e){const t=FW({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ow(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.un=new YW}addToCollectionParentIndex(t,r){return this.un.add(r),K.resolve()}getCollectionParents(t,r){return K.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return K.resolve()}deleteFieldIndex(t,r){return K.resolve()}deleteAllFieldIndexes(t){return K.resolve()}createTargetIndexes(t,r){return K.resolve()}getDocumentsMatchingTarget(t,r){return K.resolve(null)}getIndexType(t,r){return K.resolve(0)}getFieldIndexes(t,r){return K.resolve([])}getNextCollectionGroupToUpdate(t){return K.resolve(null)}getMinOffset(t,r){return K.resolve(Ha.min())}getMinOffsetFromCollectionGroup(t,r){return K.resolve(Ha.min())}updateCollectionGroup(t,r,n){return K.resolve()}updateIndexEntries(t,r){return K.resolve()}}class YW{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new sr(Xe.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new sr(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ml(0)}static kn(){return new Ml(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QW{constructor(){this.changes=new ru(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,yr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?K.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Pc(n.mutation,i,Zr.empty(),Mt.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,_e()).next(()=>n))}getLocalViewOfDocuments(t,r,n=_e()){const i=Ro();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let o=oc();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const n=Ro();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,_e()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(t,r,n,i){let a=Ui();const o=Sc(),s=function(){return Sc()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof oo)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Pc(c.mutation,u,c.mutation.getFieldMask(),Mt.now())):o.set(u.key,Zr.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>{var d;return s.set(u,new XW(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(t,r){const n=Sc();let i=new ft((o,s)=>o-s),a=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||Zr.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||_e()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=yR();c.forEach(h=>{if(!a.has(h)){const p=SR(r.get(h),n.get(h));p!==null&&d.set(h,p),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return K.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):hR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):K.resolve(Ro());let s=-1,l=a;return o.next(u=>K.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?K.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,_e())).next(c=>({batchId:s,changes:vR(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new le(r)).next(n=>{let i=oc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let o=oc();return this.indexManager.getCollectionParents(t,a).next(s=>K.forEach(s,l=>{const u=function(d,h){return new Dd(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,yr.newInvalidDocument(c)))});let s=oc();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Pc(c.mutation,u,Zr.empty(),Mt.now()),vg(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return K.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:ai(i.createTime)}}(r)),K.resolve()}getNamedQuery(t,r){return K.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:qW(i.bundledQuery),readTime:ai(i.readTime)}}(r)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(){this.overlays=new ft(le.comparator),this.Ir=new Map}getOverlay(t,r){return K.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Ro();return K.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.ht(t,r,a)}),K.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),K.resolve()}getOverlaysForCollection(t,r,n){const i=Ro(),a=r.length+1,o=new le(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return K.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new ft((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=Ro(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ro(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return K.resolve(s)}ht(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new EW(r,n));let a=this.Ir.get(r);a===void 0&&(a=_e(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(t){return K.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Tr=new sr(Ht.Er),this.dr=new sr(Ht.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const n=new Ht(t,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Vr(new Ht(t,r))}mr(t,r){t.forEach(n=>this.removeReference(n,r))}gr(t){const r=new le(new Xe([])),n=new Ht(r,t),i=new Ht(r,t+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new le(new Xe([])),n=new Ht(r,t),i=new Ht(r,t+1);let a=_e();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(t){const r=new Ht(t,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ht{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return le.comparator(t.key,r.key)||Ie(t.wr,r.wr)}static Ar(t,r){return Ie(t.wr,r.wr)||le.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new sr(Ht.Er)}checkEmpty(t){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new xW(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new Ht(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return K.resolve(o)}lookupMutationBatch(t,r){return K.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return K.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ht(r,0),i=new Ht(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),K.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new sr(Ie);return r.forEach(i=>{const a=new Ht(i,0),o=new Ht(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),K.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;le.isDocumentKey(a)||(a=a.child(""));const o=new Ht(new le(a),0);let s=new sr(Ie);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),K.resolve(this.Cr(s))}Cr(t){const r=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){je(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return K.forEach(r.mutations,i=>{const a=new Ht(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,r){const n=new Ht(r,0),i=this.br.firstAfterOrEqual(n);return K.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,K.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(t){this.Mr=t,this.docs=function(){return new ft(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return K.resolve(n?n.document.mutableCopy():yr.newInvalidDocument(r))}getEntries(t,r){let n=Ui();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():yr.newInvalidDocument(i))}),K.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=Ui();const o=r.path,s=new le(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||$8(V8(c),n)<=0||(i.has(c.key)||vg(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return K.resolve(a)}getAllFromCollectionGroup(t,r,n,i){he()}Or(t,r){return K.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new i7(this)}getSize(t){return K.resolve(this.size)}}class i7 extends QW{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),K.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(t){this.persistence=t,this.Nr=new ru(r=>yx(r),wx),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Px,this.targetCount=0,this.kr=Ml.Bn()}forEachTarget(t,r){return this.Nr.forEach((n,i)=>r(i)),K.resolve()}getLastRemoteSnapshotVersion(t){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return K.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),K.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new Ml(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,K.resolve()}updateTargetData(t,r){return this.Kn(r),K.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,K.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),K.waitFor(a).next(()=>i)}getTargetCount(t){return K.resolve(this.targetCount)}getTargetData(t,r){const n=this.Nr.get(r)||null;return K.resolve(n)}addMatchingKeys(t,r,n){return this.Br.Rr(r,n),K.resolve()}removeMatchingKeys(t,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(t,o))}),K.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),K.resolve()}getMatchingKeysForTargetId(t,r){const n=this.Br.yr(r);return K.resolve(n)}containsKey(t,r){return K.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(t,r){this.qr={},this.overlays={},this.Qr=new px(0),this.Kr=!1,this.Kr=!0,this.$r=new t7,this.referenceDelegate=t(this),this.Ur=new a7(this),this.indexManager=new GW,this.remoteDocumentCache=function(i){return new n7(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new HW(r),this.Gr=new ZW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new e7,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.qr[t.toKey()];return n||(n=new r7(r,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,n){ae("MemoryPersistence","Starting transaction:",t);const i=new s7(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(t,r){return K.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,r)))}}class s7 extends z8{constructor(t){super(),this.currentSequenceNumber=t}}class kx{constructor(t){this.persistence=t,this.Jr=new Px,this.Yr=null}static Zr(t){return new kx(t)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(t,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),K.resolve()}removeReference(t,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),K.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),K.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.Xr,n=>{const i=le.fromPath(n);return this.ei(t,i).next(a=>{a||r.removeEntry(i,pe.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return K.or([()=>K.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(t,r){let n=_e(),i=_e();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Tx(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return K6()?8:U8(Er())>0?6:4}()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.Yi(t,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(t,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new l7;return this.Xi(t,r,o).next(s=>{if(a.result=s,this.zi)return this.es(t,r,o,s.size)})}).next(()=>a.result)}es(t,r,n,i){return n.documentReadCount<this.ji?(Wu()<=Se.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Fs(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),K.resolve()):(Wu()<=Se.DEBUG&&ae("QueryEngine","Query:",Fs(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Wu()<=Se.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Fs(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(r))):K.resolve())}Yi(t,r){if(tT(r))return K.resolve(null);let n=ii(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ow(r,null,"F"),n=ii(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const o=_e(...a);return this.Ji.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,o,l.readTime)?this.Yi(t,Ow(r,null,"F")):this.rs(t,u,r,l)}))})))}Zi(t,r,n,i){return tT(r)||i.isEqual(pe.min())?K.resolve(null):this.Ji.getDocuments(t,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?K.resolve(null):(Wu()<=Se.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fs(r)),this.rs(t,o,r,L8(i,-1)).next(s=>s))})}ts(t,r){let n=new sr(mR(t));return r.forEach((i,a)=>{vg(t,a)&&(n=n.add(a))}),n}ns(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(t,r,n){return Wu()<=Se.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Fs(r)),this.Ji.getDocumentsMatchingQuery(t,r,Ha.min(),n)}rs(t,r,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(t,r,n,i){this.persistence=t,this.ss=r,this.serializer=i,this.os=new ft(Ie),this._s=new ru(a=>yx(a),wx),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JW(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function d7(e,t,r,n){return new c7(e,t,r,n)}async function MR(e,t){const r=me(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=_e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function f7(e,t){const r=me(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let p=K.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const v=u.docVersions.get(g);je(v!==null),_.version.compareTo(v)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=_e();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function LR(e){const t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function h7(e,t){const r=me(e),n=t.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,d)));let p=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(ur.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,n)),i=i.insert(d,p),function(_,v,y){return _.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,c)&&s.push(r.Ur.updateTargetData(a,p))});let l=Ui(),u=_e();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(p7(a,o,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(pe.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return K.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function p7(e,t,r){let n=_e(),i=_e();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let o=Ui();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(pe.min())?(t.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(s,l)):ae("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function m7(e,t){const r=me(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function g7(e,t){const r=me(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,t).next(a=>a?(i=a,K.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new Ta(t,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(t,n.targetId)),n})}async function jw(e,t,r){const n=me(e),i=n.os.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nd(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function fT(e,t,r){const n=me(e);let i=pe.min(),a=_e();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=me(l),h=d._s.get(c);return h!==void 0?K.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(n,o,ii(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,t,r?i:pe.min(),r?a:_e())).next(s=>(v7(n,oW(t),s),{documents:s,Ts:a})))}function v7(e,t,r){let n=e.us.get(t)||pe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.us.set(t,n)}class hT{constructor(){this.activeTargetIds=fW()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class y7{constructor(){this.so=new hT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,n){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new hT,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nh=null;function Ly(){return nh===null?nh=function(){return 268435456+Math.round(2147483648*Math.random())}():nh++,"0x"+nh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection";class x7 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=Ly(),l=this.xo(r,n.toUriEncodedString());ae("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,l,u,i).then(c=>(ae("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw Nl("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=b7[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,n,i){const a=Ly();return new Promise((o,s)=>{const l=new XD;l.setWithCredentials(!0),l.listenOnce(JD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fh.NO_ERROR:const c=l.getResponseJson();ae(pr,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(c)),o(c);break;case Fh.TIMEOUT:ae(pr,`RPC '${t}' ${a} timed out`),s(new re(B.DEADLINE_EXCEEDED,"Request time out"));break;case Fh.HTTP_ERROR:const d=l.getStatus();if(ae(pr,`RPC '${t}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(v){const y=v.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(p.status);s(new re(g,p.message))}else s(new re(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new re(B.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ae(pr,`RPC '${t}' ${a} completed.`)}});const u=JSON.stringify(i);ae(pr,`RPC '${t}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(t,r,n){const i=Ly(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=tR(),s=eR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");ae(pr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const g=new _7({Io:v=>{p?ae(pr,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(h||(ae(pr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),ae(pr,`RPC '${t}' stream ${i} sending:`,v),d.send(v))},To:()=>d.close()}),_=(v,y,x)=>{v.listen(y,E=>{try{x(E)}catch(k){setTimeout(()=>{throw k},0)}})};return _(d,ac.EventType.OPEN,()=>{p||(ae(pr,`RPC '${t}' stream ${i} transport opened.`),g.yo())}),_(d,ac.EventType.CLOSE,()=>{p||(p=!0,ae(pr,`RPC '${t}' stream ${i} transport closed`),g.So())}),_(d,ac.EventType.ERROR,v=>{p||(p=!0,Nl(pr,`RPC '${t}' stream ${i} transport errored:`,v),g.So(new re(B.UNAVAILABLE,"The operation could not be completed")))}),_(d,ac.EventType.MESSAGE,v=>{var y;if(!p){const x=v.data[0];je(!!x);const E=x,k=E.error||((y=E[0])===null||y===void 0?void 0:y.error);if(k){ae(pr,`RPC '${t}' stream ${i} received error:`,k);const I=k.status;let C=function(A){const O=Pt[A];if(O!==void 0)return kR(O)}(I),T=k.message;C===void 0&&(C=B.INTERNAL,T="Unknown error status: "+I+" with message "+k.message),p=!0,g.So(new re(C,T)),d.close()}else ae(pr,`RPC '${t}' stream ${i} received:`,x),g.bo(x)}}),_(s,ZD.STAT_EVENT,v=>{v.stat===Sw.PROXY?ae(pr,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===Sw.NOPROXY&&ae(pr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}function Vy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(e){return new NW(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,r,n=1e3,i=1.5,a=6e4){this.ui=t,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,r,n,i,a,o,s,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VR(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===B.RESOURCE_EXHAUSTED?(zi(r.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{t(()=>{const i=new re(B.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,r){const n=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ae("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class E7 extends $R{constructor(t,r,n,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=jW(this.serializer,t),n=function(a){if(!("targetChange"in a))return pe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?ai(o.readTime):pe.min()}(t);return this.listener.d_(r,n)}A_(t){const r={};r.database=Rw(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=Aw(l)?{documents:VW(a,l)}:{query:$W(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=IR(a,o.resumeToken);const u=Cw(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){s.readTime=jp(a,o.snapshotVersion.toTimestamp());const u=Cw(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const n=zW(this.serializer,t);n&&(r.labels=n),this.a_(r)}R_(t){const r={};r.database=Rw(this.serializer),r.removeTarget=t,this.a_(r)}}class S7 extends $R{constructor(t,r,n,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return je(!!t.streamToken),this.lastStreamToken=t.streamToken,je(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){je(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=LW(t.writeResults,t.commitTime),n=ai(t.commitTime);return this.listener.g_(n,r)}p_(){const t={};t.database=Rw(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>MW(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7 extends class{}{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(t,Nw(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new re(B.UNKNOWN,a.toString())})}Lo(t,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(t,Nw(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k7{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zi(r),this.D_=!1):ae("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{_s(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=me(l);u.L_.add(4),await Md(u),u.q_.set("Unknown"),u.L_.delete(4),await xg(u)}(this))})}),this.q_=new k7(n,i)}}async function xg(e){if(_s(e))for(const t of e.B_)await t(!0)}async function Md(e){for(const t of e.B_)await t(!1)}function FR(e,t){const r=me(e);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),Cx(r)?Ox(r):nu(r).r_()&&Ix(r,t))}function Ax(e,t){const r=me(e),n=nu(r);r.N_.delete(t),n.r_()&&zR(r,t),r.N_.size===0&&(n.r_()?n.o_():_s(r)&&r.q_.set("Unknown"))}function Ix(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}nu(e).A_(t)}function zR(e,t){e.Q_.xe(t),nu(e).R_(t)}function Ox(e){e.Q_=new AW({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),nu(e).start(),e.q_.v_()}function Cx(e){return _s(e)&&!nu(e).n_()&&e.N_.size>0}function _s(e){return me(e).L_.size===0}function UR(e){e.Q_=void 0}async function A7(e){e.q_.set("Online")}async function I7(e){e.N_.forEach((t,r)=>{Ix(e,t)})}async function O7(e,t){UR(e),Cx(e)?(e.q_.M_(t),Ox(e)):e.q_.set("Unknown")}async function C7(e,t,r){if(e.q_.set("Online"),t instanceof AR&&t.state===2&&t.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(e,t)}catch(n){ae("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Mp(e,n)}else if(t instanceof Bh?e.Q_.Ke(t):t instanceof TR?e.Q_.He(t):e.Q_.We(t),!r.isEqual(pe.min()))try{const n=await LR(e.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(ur.EMPTY_BYTE_STRING,c.snapshotVersion)),zR(a,l);const d=new Ta(c.target,l,u,c.sequenceNumber);Ix(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(e,r)}catch(n){ae("RemoteStore","Failed to raise snapshot:",n),await Mp(e,n)}}async function Mp(e,t,r){if(!Nd(t))throw t;e.L_.add(1),await Md(e),e.q_.set("Offline"),r||(r=()=>LR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await r(),e.L_.delete(1),await xg(e)})}function BR(e,t){return t().catch(r=>Mp(e,r,t))}async function Eg(e){const t=me(e),r=Ga(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;N7(t);)try{const i=await m7(t.localStore,n);if(i===null){t.O_.length===0&&r.o_();break}n=i.batchId,D7(t,i)}catch(i){await Mp(t,i)}WR(t)&&KR(t)}function N7(e){return _s(e)&&e.O_.length<10}function D7(e,t){e.O_.push(t);const r=Ga(e);r.r_()&&r.V_&&r.m_(t.mutations)}function WR(e){return _s(e)&&!Ga(e).n_()&&e.O_.length>0}function KR(e){Ga(e).start()}async function R7(e){Ga(e).p_()}async function j7(e){const t=Ga(e);for(const r of e.O_)t.m_(r.mutations)}async function M7(e,t,r){const n=e.O_.shift(),i=xx.from(n,t,r);await BR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Eg(e)}async function L7(e,t){t&&Ga(e).V_&&await async function(n,i){if(function(o){return PW(o)&&o!==B.ABORTED}(i.code)){const a=n.O_.shift();Ga(n).s_(),await BR(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Eg(n)}}(e,t),WR(e)&&KR(e)}async function mT(e,t){const r=me(e);r.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const n=_s(r);r.L_.add(3),await Md(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await xg(r)}async function V7(e,t){const r=me(e);t?(r.L_.delete(2),await xg(r)):t||(r.L_.add(2),await Md(r),r.q_.set("Unknown"))}function nu(e){return e.K_||(e.K_=function(r,n,i){const a=me(r);return a.w_(),new E7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:A7.bind(null,e),Ro:I7.bind(null,e),mo:O7.bind(null,e),d_:C7.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),Cx(e)?Ox(e):e.q_.set("Unknown")):(await e.K_.stop(),UR(e))})),e.K_}function Ga(e){return e.U_||(e.U_=function(r,n,i){const a=me(r);return a.w_(),new S7(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R7.bind(null,e),mo:L7.bind(null,e),f_:j7.bind(null,e),g_:M7.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Eg(e)):(await e.U_.stop(),e.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new za,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const o=Date.now()+n,s=new Nx(t,r,o,i,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(B.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dx(e,t){if(zi("AsyncQueue",`${t}: ${e}`),Nd(e))return new re(B.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t){this.comparator=t?(r,n)=>t(r,n)||le.comparator(r.key,n.key):(r,n)=>le.comparator(r.key,n.key),this.keyedMap=oc(),this.sortedSet=new ft(this.comparator)}static emptySet(t){return new yl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof yl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new yl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.W_=new ft(le.comparator)}track(t){const r=t.doc.key,n=this.W_.get(r);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(r,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(r):t.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):he():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,n)=>{t.push(n)}),t}}class Ll{constructor(t,r,n,i,a,o,s,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new Ll(t,r,yl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class F7{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=me(r),a=i.queries;i.queries=vT(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new re(B.ABORTED,"Firestore shutting down"))}}function vT(){return new ru(e=>pR(e),gg)}async function HR(e,t){const r=me(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.H_()&&t.J_()&&(n=2):(a=new $7,n=t.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=Dx(o,`Initialization of query '${Fs(t.query)}' failed`);return void t.onError(s)}r.queries.set(i,a),a.j_.push(t),t.Z_(r.onlineState),a.z_&&t.X_(a.z_)&&Rx(r)}async function qR(e,t){const r=me(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(t);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function z7(e,t){const r=me(e);let n=!1;for(const i of t){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&Rx(r)}function U7(e,t,r){const n=me(e),i=n.queries.get(t);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(t)}function Rx(e){e.Y_.forEach(t=>{t.next()})}var Mw,yT;(yT=Mw||(Mw={})).ea="default",yT.Cache="cache";class GR{constructor(t,r,n){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new Ll(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=Ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Mw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t){this.key=t}}class QR{constructor(t){this.key=t}}class B7{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=mR(t),this.Ra=new yl(this.Aa)}get Va(){return this.Ta}ma(t,r){const n=r?r.fa:new gT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),p=vg(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(n.track({type:3,doc:p}),v=!0):this.ga(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||u)&&(s=!0)),v&&(p?(o=o.add(p),a=_?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,d)=>function(p,g){const _=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return _(p)-_(g)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new Ll(this.query,t.Ra,a,o,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new gT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=_e(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return t.forEach(n=>{this.da.has(n)||r.push(new QR(n))}),this.da.forEach(n=>{t.has(n)||r.push(new YR(n))}),r}ba(t){this.Ta=t.Ts,this.da=_e();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return Ll.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class W7{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class K7{constructor(t){this.key=t,this.va=!1}}class H7{constructor(t,r,n,i,a,o){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ru(s=>pR(s),gg),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(le.comparator),this.Na=new Map,this.La=new Px,this.Ba={},this.ka=new Map,this.qa=Ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function q7(e,t,r=!0){const n=rj(e);let i;const a=n.Fa.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await XR(n,t,r,!0),i}async function G7(e,t){const r=rj(e);await XR(r,t,!0,!1)}async function XR(e,t,r,n){const i=await g7(e.localStore,ii(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await Y7(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&r&&FR(e.remoteStore,i),s}async function Y7(e,t,r,n,i){e.Ka=(d,h,p)=>async function(_,v,y,x){let E=v.view.ma(y);E.ns&&(E=await fT(_.localStore,v.query,!1).then(({documents:T})=>v.view.ma(T,E)));const k=x&&x.targetChanges.get(v.targetId),I=x&&x.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(E,_.isPrimaryClient,k,I);return bT(_,v.targetId,C.wa),C.snapshot}(e,d,h,p);const a=await fT(e.localStore,t,!0),o=new B7(t,a.Ts),s=o.ma(a.documents),l=jd.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=o.applyChanges(s,e.isPrimaryClient,l);bT(e,r,u.wa);const c=new W7(t,r,o);return e.Fa.set(t,c),e.Ma.has(r)?e.Ma.get(r).push(t):e.Ma.set(r,[t]),u.snapshot}async function Q7(e,t,r){const n=me(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!gg(o,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await jw(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Ax(n.remoteStore,i.targetId),Lw(n,i.targetId)}).catch(Cd)):(Lw(n,i.targetId),await jw(n.localStore,i.targetId,!0))}async function X7(e,t){const r=me(e),n=r.Fa.get(t),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ax(r.remoteStore,n.targetId))}async function J7(e,t,r){const n=aK(e);try{const i=await function(o,s){const l=me(o),u=Mt.now(),c=s.reduce((p,g)=>p.add(g.key),_e());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Ui(),_=_e();return l.cs.getEntries(p,c).next(v=>{g=v,g.forEach((y,x)=>{x.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(v=>{d=v;const y=[];for(const x of s){const E=bW(x,d.get(x.key).overlayedDocument);E!=null&&y.push(new oo(x.key,E,oR(E.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,s)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:vR(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new ft(Ie)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(n,i.batchId,r),await Ld(n,i.changes),await Eg(n.remoteStore)}catch(i){const a=Dx(i,"Failed to persist write");r.reject(a)}}async function JR(e,t){const r=me(e);try{const n=await h7(r.localStore,t);t.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),await Ld(r,n,t)}catch(n){await Cd(n)}}function wT(e,t,r){const n=me(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=me(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&Rx(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Z7(e,t,r){const n=me(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Na.get(t),a=i&&i.key;if(a){let o=new ft(le.comparator);o=o.insert(a,yr.newNoDocument(a,pe.min()));const s=_e().add(a),l=new bg(pe.min(),new Map,new ft(Ie),o,s);await JR(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(t),jx(n)}else await jw(n.localStore,t,!1).then(()=>Lw(n,t,r)).catch(Cd)}async function eK(e,t){const r=me(e),n=t.batch.batchId;try{const i=await f7(r.localStore,t);ej(r,n,null),ZR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ld(r,i)}catch(i){await Cd(i)}}async function tK(e,t,r){const n=me(e);try{const i=await function(o,s){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(je(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);ej(n,t,r),ZR(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Ld(n,i)}catch(i){await Cd(i)}}function ZR(e,t){(e.ka.get(t)||[]).forEach(r=>{r.resolve()}),e.ka.delete(t)}function ej(e,t,r){const n=me(e);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function Lw(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),r&&e.Ca.$a(n,r);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(n=>{e.La.containsKey(n)||tj(e,n)})}function tj(e,t){e.xa.delete(t.path.canonicalString());const r=e.Oa.get(t);r!==null&&(Ax(e.remoteStore,r),e.Oa=e.Oa.remove(t),e.Na.delete(r),jx(e))}function bT(e,t,r){for(const n of r)n instanceof YR?(e.La.addReference(n.key,t),rK(e,n)):n instanceof QR?(ae("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||tj(e,n.key)):he()}function rK(e,t){const r=t.key,n=r.path.canonicalString();e.Oa.get(r)||e.xa.has(n)||(ae("SyncEngine","New document in limbo: "+r),e.xa.add(n),jx(e))}function jx(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const r=new le(Xe.fromString(t)),n=e.qa.next();e.Na.set(n,new K7(r)),e.Oa=e.Oa.insert(r,n),FR(e.remoteStore,new Ta(ii(mg(r.path)),n,"TargetPurposeLimboResolution",px.oe))}}async function Ld(e,t,r){const n=me(e),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=Tx.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>K.forEach(u,h=>K.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>K.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Nd(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.os.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,_)}}}(n.localStore,a))}async function nK(e,t){const r=me(e);if(!r.currentUser.isEqual(t)){ae("SyncEngine","User change. New user:",t.toKey());const n=await MR(r.localStore,t);r.currentUser=t,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new re(B.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Ld(r,n.hs)}}function iK(e,t){const r=me(e),n=r.Na.get(t);if(n&&n.va)return _e().add(n.key);{let i=_e();const a=r.Ma.get(t);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function rj(e){const t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=JR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iK.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Z7.bind(null,t),t.Ca.d_=z7.bind(null,t.eventManager),t.Ca.$a=U7.bind(null,t.eventManager),t}function aK(e){const t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=eK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=tK.bind(null,t),t}class Lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_g(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return d7(this.persistence,new u7,t.initialUser,this.serializer)}Ga(t){return new o7(kx.Zr,this.serializer)}Wa(t){return new y7}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lp.provider={build:()=>new Lp};class Vw{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>wT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=nK.bind(null,this.syncEngine),await V7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new F7}()}createDatastore(t){const r=_g(t.databaseInfo.databaseId),n=function(a){return new x7(a)}(t.databaseInfo);return function(a,o,s,l){return new P7(a,o,s,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,o,s){return new T7(n,i,a,o,s)}(this.localStore,this.datastore,t.asyncQueue,r=>wT(this.syncEngine,r,0),function(){return pT.D()?new pT:new w7}())}createSyncEngine(t,r){return function(i,a,o,s,l,u,c){const d=new H7(i,a,o,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=me(i);ae("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await Md(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Vw.provider={build:()=>new Vw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=gr.UNAUTHENTICATED,this.clientId=nR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new za;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Dx(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function $y(e,t){e.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await MR(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _T(e,t){e.asyncQueue.verifyOperationInProgress();const r=await sK(e);ae("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>mT(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>mT(t.remoteStore,i)),e._onlineComponents=t}async function sK(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await $y(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;Nl("Error using user provided cache. Falling back to memory cache: "+r),await $y(e,new Lp)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await $y(e,new Lp);return e._offlineComponents}async function ij(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await _T(e,e._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await _T(e,new Vw))),e._onlineComponents}function lK(e){return ij(e).then(t=>t.syncEngine)}async function $w(e){const t=await ij(e),r=t.eventManager;return r.onListen=q7.bind(null,t.syncEngine),r.onUnlisten=Q7.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=G7.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=X7.bind(null,t.syncEngine),r}function uK(e,t,r={}){const n=new za;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new nj({next:h=>{c.Za(),o.enqueueAndForget(()=>qR(a,d));const p=h.docs.has(s);!p&&h.fromCache?u.reject(new re(B.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new re(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new GR(mg(s.path),c,{includeMetadataChanges:!0,_a:!0});return HR(a,d)}(await $w(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(e,t,r){if(!r)throw new re(B.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function cK(e,t,r,n){if(t===!0&&n===!0)throw new re(B.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function ET(e){if(!le.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ST(e){if(le.isDocumentKey(e))throw new re(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":he()}function yn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new re(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Sg(e);throw new re(B.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new re(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new re(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}cK("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aj((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new re(B.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pg{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new re(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new A8;switch(n.type){case"firstParty":return new N8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new re(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=xT.get(r);n&&(ae("ComponentProvider","Removing Datastore"),xT.delete(r),n.terminate())}(this),Promise.resolve()}}function dK(e,t,r,n={}){var i;const a=(e=yn(e,Pg))._getSettings(),o=`${t}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&Nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=gr.MOCK_USER;else{s=V6(n.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new re(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gr(u)}e._authCredentials=new I8(new rR(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new iu(this.firestore,t,this._query)}}class br{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new br(this.firestore,t,this._key)}}class Ua extends iu{constructor(t,r,n){super(t,r,mg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new br(this.firestore,null,new le(t))}withConverter(t){return new Ua(this.firestore,t,this._path)}}function Jn(e,t,...r){if(e=bt(e),oj("collection","path",t),e instanceof Pg){const n=Xe.fromString(t,...r);return ST(n),new Ua(e,null,n)}{if(!(e instanceof br||e instanceof Ua))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xe.fromString(t,...r));return ST(n),new Ua(e.firestore,null,n)}}function Qr(e,t,...r){if(e=bt(e),arguments.length===1&&(t=nR.newId()),oj("doc","path",t),e instanceof Pg){const n=Xe.fromString(t,...r);return ET(n),new br(e,null,new le(n))}{if(!(e instanceof br||e instanceof Ua))throw new re(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Xe.fromString(t,...r));return ET(n),new br(e.firestore,e instanceof Ua?e.converter:null,new le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VR(this,"async_queue_retry"),this.Vu=()=>{const n=Vy();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const r=Vy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=Vy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new za;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Nd(t))throw t;ae("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw zi("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(t,r,n){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const i=Nx.createAndSchedule(this,t,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function TT(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class Ya extends Pg{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new kT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kT(t),this._firestoreClient=void 0,await t}}}function fK(e,t){const r=typeof e=="object"?e:fD(),n=typeof e=="string"?e:"(default)",i=nx(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=M6("firestore");a&&dK(i,...a)}return i}function Mx(e){if(e._terminated)throw new re(B.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||hK(e),e._firestoreClient}function hK(e){var t,r,n;const i=e._freezeSettings(),a=function(s,l,u,c){return new K8(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,aj(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new oK(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vl(ur.fromBase64String(t))}catch(r){throw new re(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Vl(ur.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new re(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new re(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new re(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Ie(this._lat,t._lat)||Ie(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=/^__.*__$/;class mK{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new oo(t,this.data,this.fieldMask,r,this.fieldTransforms):new Rd(t,this.data,r,this.fieldTransforms)}}class sj{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new oo(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function lj(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class $x{constructor(t,r,n,i,a,o){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new $x(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return Vp(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(lj(this.Cu)&&pK.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class gK{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||_g(t)}Qu(t,r,n,i=!1){return new $x({Cu:t,methodName:r,qu:n,path:ir.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ag(e){const t=e._freezeSettings(),r=_g(e._databaseId);return new gK(e._databaseId,!!t.ignoreUndefinedProperties,r)}function uj(e,t,r,n,i,a={}){const o=e.Qu(a.merge||a.mergeFields?2:0,t,r,i);zx("Data must be an object, but it was:",o,n);const s=cj(n,o);let l,u;if(a.merge)l=new Zr(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const h=Fw(t,d,r);if(!o.contains(h))throw new re(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fj(c,h)||c.push(h)}l=new Zr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new mK(new Mr(s),l,u)}class Ig extends Tg{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ig}}class Fx extends Tg{_toFieldTransform(t){return new gW(t.path,new ed)}isEqual(t){return t instanceof Fx}}function vK(e,t,r,n){const i=e.Qu(1,t,r);zx("Data must be an object, but it was:",i,n);const a=[],o=Mr.empty();bs(n,(l,u)=>{const c=Ux(t,l,r);u=bt(u);const d=i.Nu(c);if(u instanceof Ig)a.push(c);else{const h=Vd(u,d);h!=null&&(a.push(c),o.set(c,h))}});const s=new Zr(a);return new sj(o,s,i.fieldTransforms)}function yK(e,t,r,n,i,a){const o=e.Qu(1,t,r),s=[Fw(t,n,r)],l=[i];if(a.length%2!=0)throw new re(B.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Fw(t,a[h])),l.push(a[h+1]);const u=[],c=Mr.empty();for(let h=s.length-1;h>=0;--h)if(!fj(u,s[h])){const p=s[h];let g=l[h];g=bt(g);const _=o.Nu(p);if(g instanceof Ig)u.push(p);else{const v=Vd(g,_);v!=null&&(u.push(p),c.set(p,v))}}const d=new Zr(u);return new sj(c,d,o.fieldTransforms)}function wK(e,t,r,n=!1){return Vd(r,e.Qu(n?4:3,t))}function Vd(e,t){if(dj(e=bt(e)))return zx("Unsupported field value:",t,e),cj(e,t);if(e instanceof Tg)return function(n,i){if(!lj(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=Vd(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return hW(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Mt.fromDate(n);return{timestampValue:jp(i.serializer,a)}}if(n instanceof Mt){const a=new Mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jp(i.serializer,a)}}if(n instanceof Lx)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Vl)return{bytesValue:IR(i.serializer,n._byteString)};if(n instanceof br){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Sx(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Vx)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return bx(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Sg(n)}`)}(e,t)}function cj(e,t){const r={};return iR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):bs(e,(n,i)=>{const a=Vd(i,t.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function dj(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Mt||e instanceof Lx||e instanceof Vl||e instanceof br||e instanceof Tg||e instanceof Vx)}function zx(e,t,r){if(!dj(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Sg(r);throw n==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function Fw(e,t,r){if((t=bt(t))instanceof kg)return t._internalPath;if(typeof t=="string")return Ux(e,t);throw Vp("Field path arguments must be of type string or ",e,!1,void 0,r)}const bK=new RegExp("[~\\*/\\[\\]]");function Ux(e,t,r){if(t.search(bK)>=0)throw Vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new kg(...t.split("."))._internalPath}catch{throw Vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Vp(e,t,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new re(B.INVALID_ARGUMENT,s+e+l)}function fj(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new br(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _K(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(Bx("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class _K extends hj{data(){return super.data()}}function Bx(e,t){return typeof t=="string"?Ux(e,t):t instanceof kg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new re(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wx{}class EK extends Wx{}function $l(e,t,...r){let n=[];t instanceof Wx&&n.push(t),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof Kx).length,s=a.filter(l=>l instanceof Og).length;if(o>1||o>0&&s>0)throw new re(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class Og extends EK{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Og(t,r,n)}_apply(t){const r=this._parse(t);return pj(t._query,r),new iu(t.firestore,t.converter,Iw(t._query,r))}_parse(t){const r=Ag(t.firestore);return function(a,o,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new re(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){IT(d,c);const p=[];for(const g of d)p.push(AT(l,a,g));h={arrayValue:{values:p}}}else h=AT(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||IT(d,c),h=wK(s,o,d,c==="in"||c==="not-in");return At.create(u,c,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Uo(e,t,r){const n=t,i=Bx("where",e);return Og._create(i,n,r)}class Kx extends Wx{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Kx(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:$n.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)pj(o,l),o=Iw(o,l)}(t._query,r),new iu(t.firestore,t.converter,Iw(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AT(e,t,r){if(typeof(r=bt(r))=="string"){if(r==="")throw new re(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hR(t)&&r.indexOf("/")!==-1)throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Xe.fromString(r));if(!le.isDocumentKey(n))throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Yk(e,new le(n))}if(r instanceof br)return Yk(e,r._key);throw new re(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sg(r)}.`)}function IT(e,t){if(!Array.isArray(e)||e.length===0)throw new re(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function pj(e,t){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new re(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class SK{convertValue(t,r="none"){switch(os(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(as(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw he()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return bs(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var r,n,i;const a=(i=(n=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>xt(o.doubleValue));return new Vx(a)}convertGeoPoint(t){return new Lx(xt(t.latitude),xt(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=gx(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Xc(t));default:return null}}convertTimestamp(t){const r=qa(t);return new Mt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Xe.fromString(t);je(jR(n));const i=new Jc(n.get(1),n.get(3)),a=new le(n.popFirst(5));return i.isEqual(r)||zi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(e,t,r){let n;return n=e?e.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gj extends hj{constructor(t,r,n,i,a,o){super(t,r,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(Bx("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Wh extends gj{data(t={}){return super.data(t)}}class PK{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Wh(this._firestore,this._userDataWriter,n.key,n,new lc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new re(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new Wh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new lc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new Wh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new lc(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:kK(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function kK(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(e){e=yn(e,br);const t=yn(e.firestore,Ya);return uK(Mx(t),e._key).then(r=>bj(t,e,r))}class vj extends SK{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vl(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new br(this.firestore,null,r)}}function yj(e,t,r){e=yn(e,br);const n=yn(e.firestore,Ya),i=mj(e.converter,t);return Cg(n,[uj(Ag(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,vn.none())])}function Oo(e,t,r,...n){e=yn(e,br);const i=yn(e.firestore,Ya),a=Ag(i);let o;return o=typeof(t=bt(t))=="string"||t instanceof kg?yK(a,"updateDoc",e._key,t,r,n):vK(a,"updateDoc",e._key,t),Cg(i,[o.toMutation(e._key,vn.exists(!0))])}function wj(e){return Cg(yn(e.firestore,Ya),[new _x(e._key,vn.none())])}function $p(e,t){const r=yn(e.firestore,Ya),n=Qr(e),i=mj(e.converter,t);return Cg(r,[uj(Ag(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,vn.exists(!1))]).then(()=>n)}function Bo(e,...t){var r,n,i;e=bt(e);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||TT(t[o])||(a=t[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(TT(t[o])){const d=t[o];t[o]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[o+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof br)u=yn(e.firestore,Ya),c=mg(e._key.path),l={next:d=>{t[o]&&t[o](bj(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=yn(e,iu);u=yn(d.firestore,Ya),c=d._query;const h=new vj(u);l={next:p=>{t[o]&&t[o](new PK(u,h,d,p))},error:t[o+1],complete:t[o+2]},xK(e._query)}return function(h,p,g,_){const v=new nj(_),y=new GR(p,v,g);return h.asyncQueue.enqueueAndForget(async()=>HR(await $w(h),y)),()=>{v.Za(),h.asyncQueue.enqueueAndForget(async()=>qR(await $w(h),y))}}(Mx(u),c,s,l)}function Cg(e,t){return function(n,i){const a=new za;return n.asyncQueue.enqueueAndForget(async()=>J7(await lK(n),i,a)),a.promise}(Mx(e),t)}function bj(e,t,r){const n=r.docs.get(t._key),i=new vj(e);return new gj(e,i,t._key,n,new lc(r.hasPendingWrites,r.fromCache),t.converter)}function Fp(){return new Fx("serverTimestamp")}(function(t,r=!0){(function(i){tu=i})(eu),Cl(new es("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new Ya(new O8(n.getProvider("auth-internal")),new R8(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jc(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),Fa(Wk,"4.7.3",t),Fa(Wk,"4.7.3","esm2017")})();const AK={apiKey:"AIzaSyAausPXJhXSRr7Aa8Ob0s8AATtv2FbtM8o",authDomain:"spendwisewebapp.firebaseapp.com",projectId:"spendwisewebapp",storageBucket:"spendwisewebapp.firebasestorage.app",messagingSenderId:"391185653870",appId:"1:391185653870:web:2cf9119a304ca58f16467f"},_j=dD(AK),zp=S8(_j),wt=fK(_j);function IK(){const[e,t]=m.useState(!0),[r,n]=m.useState(""),[i,a]=m.useState(""),[o,s]=m.useState(""),l=async u=>{u.preventDefault(),s("");try{e?await a9(zp,r,i):await i9(zp,r,i)}catch(c){s(c.message)}};return w.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:w.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[w.jsx("h1",{className:"text-3xl font-bold text-center mb-2 bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent",children:"SpendWise"}),w.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Kiisel finans ynetiminizi basitletirin."}),o&&w.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-3 rounded-lg mb-4 text-sm",children:o}),w.jsxs("form",{onSubmit:l,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta"}),w.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:r,onChange:u=>n(u.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"ifre"}),w.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:i,onChange:u=>a(u.target.value)})]}),w.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-300",children:e?"Giri Yap":"Kayt Ol"})]}),w.jsx("div",{className:"mt-6 text-center",children:w.jsx("button",{onClick:()=>t(!e),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium transition-colors",children:e?"Hesabn yok mu? Kayt Ol":"Zaten hesabn var m? Giri Yap"})})]})})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),we=(e,t)=>{const r=m.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>m.createElement("svg",{ref:c,...OK,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${CK(e)}`,s].join(" "),...u},[...t.map(([d,h])=>m.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=we("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=we("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=we("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=we("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=we("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qx=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oi=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=we("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=we("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=we("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=we("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=we("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=we("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=we("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=we("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=we("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=we("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=we("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=we("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=we("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=we("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QK=we("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Sj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=Sj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function xe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=Sj(e))&&(n&&(n+=" "),n+=t);return n}var XK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Gx(e){if(typeof e!="string")return!1;var t=XK;return t.includes(e)}var JK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZK=new Set(JK);function Pj(e){return typeof e!="string"?!1:ZK.has(e)}function kj(e){return typeof e=="string"&&e.startsWith("data-")}function Ur(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Pj(r)||kj(r))&&(t[r]=e[r]);return t}function ss(e){if(e==null)return null;if(m.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Ur(t)}return typeof e=="object"&&!Array.isArray(e)?Ur(e):null}function Or(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Pj(r)||kj(r)||Gx(r))&&(t[r]=e[r]);return t}function eH(e){return e==null?null:m.isValidElement(e)?Or(e.props):typeof e=="object"&&!Array.isArray(e)?Or(e):null}var tH=["children","width","height","viewBox","className","style","title","desc"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uw.apply(null,arguments)}function rH(e,t){if(e==null)return{};var r,n,i=nH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yx=m.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=rH(e,tH),d=a||{width:n,height:i,x:0,y:0},h=xe("recharts-surface",o);return m.createElement("svg",Uw({},Or(c),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),m.createElement("title",null,l),m.createElement("desc",null,u),r)}),iH=["children","className"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(null,arguments)}function aH(e,t){if(e==null)return{};var r,n,i=oH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var St=m.forwardRef((e,t)=>{var{children:r,className:n}=e,i=aH(e,iH),a=xe("recharts-layer",n);return m.createElement("g",Bw({className:a},Or(i),{ref:t}),r)}),Tj=m.createContext(null),sH=()=>m.useContext(Tj);function Be(e){return function(){return e}}const Aj=Math.cos,qp=Math.sin,zn=Math.sqrt,Gp=Math.PI,Ng=2*Gp,Ww=Math.PI,Kw=2*Ww,To=1e-6,lH=Kw-To;function Ij(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uH(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Ij;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class cH{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Ij:uH(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>To)if(!(Math.abs(d*l-u*c)>To)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,g=i-s,_=l*l+u*u,v=p*p+g*g,y=Math.sqrt(_),x=Math.sqrt(h),E=a*Math.tan((Ww-Math.acos((_+h-v)/(2*y*x)))/2),k=E/x,I=E/y;Math.abs(k-1)>To&&this._append`L${t+k*c},${r+k*d}`,this._append`A${a},${a},0,0,${+(d*p>c*g)},${this._x1=t+I*l},${this._y1=r+I*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>To||Math.abs(this._y1-c)>To)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%Kw+Kw),h>lH?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:h>To&&this._append`A${n},${n},0,${+(h>=Ww)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Qx(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new cH(t)}function Xx(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Oj(e){this._context=e}Oj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dg(e){return new Oj(e)}function Cj(e){return e[0]}function Nj(e){return e[1]}function Dj(e,t){var r=Be(!0),n=null,i=Dg,a=null,o=Qx(s);e=typeof e=="function"?e:e===void 0?Cj:Be(e),t=typeof t=="function"?t:t===void 0?Nj:Be(t);function s(l){var u,c=(l=Xx(l)).length,d,h=!1,p;for(n==null&&(a=i(p=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,l),+t(d,u,l));if(p)return a=null,p+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Be(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Be(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Be(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function ih(e,t,r){var n=null,i=Be(!0),a=null,o=Dg,s=null,l=Qx(u);e=typeof e=="function"?e:e===void 0?Cj:Be(+e),t=typeof t=="function"?t:Be(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Nj:Be(+r);function u(d){var h,p,g,_=(d=Xx(d)).length,v,y=!1,x,E=new Array(_),k=new Array(_);for(a==null&&(s=o(x=l())),h=0;h<=_;++h){if(!(h<_&&i(v=d[h],h,d))===y)if(y=!y)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=p;--g)s.point(E[g],k[g]);s.lineEnd(),s.areaEnd()}y&&(E[h]=+e(v,h,d),k[h]=+t(v,h,d),s.point(n?+n(v,h,d):E[h],r?+r(v,h,d):k[h]))}if(x)return s=null,x+""||null}function c(){return Dj().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Be(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Be(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Be(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Be(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Be(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class Rj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function dH(e){return new Rj(e,!0)}function fH(e){return new Rj(e,!1)}const Jx={draw(e,t){const r=zn(t/Gp);e.moveTo(r,0),e.arc(0,0,r,0,Ng)}},hH={draw(e,t){const r=zn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},jj=zn(1/3),pH=jj*2,mH={draw(e,t){const r=zn(t/pH),n=r*jj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gH={draw(e,t){const r=zn(t),n=-r/2;e.rect(n,n,r,r)}},vH=.8908130915292852,Mj=qp(Gp/10)/qp(7*Gp/10),yH=qp(Ng/10)*Mj,wH=-Aj(Ng/10)*Mj,bH={draw(e,t){const r=zn(t*vH),n=yH*r,i=wH*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=Ng*a/5,s=Aj(o),l=qp(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},zy=zn(3),_H={draw(e,t){const r=-zn(t/(zy*3));e.moveTo(0,r*2),e.lineTo(-zy*r,-r),e.lineTo(zy*r,-r),e.closePath()}},ln=-.5,un=zn(3)/2,Hw=1/zn(12),xH=(Hw/2+1)*3,EH={draw(e,t){const r=zn(t/xH),n=r/2,i=r*Hw,a=n,o=r*Hw+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(ln*n-un*i,un*n+ln*i),e.lineTo(ln*a-un*o,un*a+ln*o),e.lineTo(ln*s-un*l,un*s+ln*l),e.lineTo(ln*n+un*i,ln*i-un*n),e.lineTo(ln*a+un*o,ln*o-un*a),e.lineTo(ln*s+un*l,ln*l-un*s),e.closePath()}};function SH(e,t){let r=null,n=Qx(i);e=typeof e=="function"?e:Be(e||Jx),t=typeof t=="function"?t:Be(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Be(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Be(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function Yp(){}function Qp(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Lj(e){this._context=e}Lj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function PH(e){return new Lj(e)}function Vj(e){this._context=e}Vj.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kH(e){return new Vj(e)}function $j(e){this._context=e}$j.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TH(e){return new $j(e)}function Fj(e){this._context=e}Fj.prototype={areaStart:Yp,areaEnd:Yp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function AH(e){return new Fj(e)}function MT(e){return e<0?-1:1}function LT(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(MT(a)+MT(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function VT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Uy(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function Xp(e){this._context=e}Xp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Uy(this,this._t0,VT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Uy(this,VT(this,r=LT(this,e,t)),r);break;default:Uy(this,this._t0,r=LT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zj(e){this._context=new Uj(e)}(zj.prototype=Object.create(Xp.prototype)).point=function(e,t){Xp.prototype.point.call(this,t,e)};function Uj(e){this._context=e}Uj.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function IH(e){return new Xp(e)}function OH(e){return new zj(e)}function Bj(e){this._context=e}Bj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=$T(e),i=$T(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function $T(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function CH(e){return new Bj(e)}function Rg(e,t){this._context=e,this._t=t}Rg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function NH(e){return new Rg(e,.5)}function DH(e){return new Rg(e,0)}function RH(e){return new Rg(e,1)}function ls(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function qw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function jH(e,t){return e[t]}function MH(e){const t=[];return t.key=e,t}function LH(){var e=Be([]),t=qw,r=ls,n=jH;function i(a){var o=Array.from(e.apply(this,arguments),MH),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=Xx(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Be(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Be(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?qw:typeof a=="function"?a:Be(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??ls,i):r},i}function VH(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}ls(e,t)}}function $H(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}ls(e,t)}}function FH(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,h=c[n-1][1]||0,p=(d-h)/2,g=0;g<s;++g){var _=e[t[g]],v=_[n][1]||0,y=_[n-1][1]||0;p+=v-y}l+=d,u+=p*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,ls(e,t)}}var jg={},Wj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Wj);var Zx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Zx);var Mg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Mg);var Lg={},Kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Kj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kj,r=Mg;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];u?d==="\\"&&s+1<o?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=n})(Lg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wj,r=Zx,n=Mg,i=Lg;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(jg);var zH=jg.get;const us=Qi(zH);var UH=4;function Aa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:UH,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function gt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var s=r[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+Aa(s)+a:i+a},"")}var Yt=e=>e===0?0:e>0?1:-1,_n=e=>typeof e=="number"&&e!=+e,Bi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,J=e=>(typeof e=="number"||e instanceof Number)&&!_n(e),ui=e=>J(e)||typeof e=="string",BH=0,nd=e=>{var t=++BH;return"".concat(e||"").concat(t)},_r=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!J(t)&&typeof t!="string")return n;var a;if(Bi(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return _n(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},Hj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Qe(e,t,r){return J(e)&&J(t)?Aa(e+r*(t-e)):t}function qj(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):us(n,t))===r)}var ct=e=>e===null||typeof e>"u",$d=e=>ct(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function WH(e){return e!=null}function Fd(){}var KH=["type","size","sizeType"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(null,arguments)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){HH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=GH(e,"string");return typeof t=="symbol"?t:t+""}function GH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YH(e,t){if(e==null)return{};var r,n,i=QH(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gj={symbolCircle:Jx,symbolCross:hH,symbolDiamond:mH,symbolSquare:gH,symbolStar:bH,symbolTriangle:_H,symbolWye:EH},XH=Math.PI/180,JH=e=>{var t="symbol".concat($d(e));return Gj[t]||Jx},ZH=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*XH;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},eq=(e,t)=>{Gj["symbol".concat($d(e))]=t},e1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=YH(e,KH),a=zT(zT({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=JH(o),p=SH().type(h).size(ZH(r,n,o)),g=p();if(g!==null)return g},{className:l,cx:u,cy:c}=a,d=Or(a);return J(u)&&J(c)&&J(r)?m.createElement("path",Gw({},d,{className:xe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};e1.registerSymbol=eq;var Yj=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,t1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(m.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Gx(i)&&(n[i]=a=>r[i](r,a))}),n},tq=(e,t,r)=>n=>(e(t,r,n),null),zd=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];Gx(i)&&typeof a=="function"&&(n||(n={}),n[i]=tq(a,t,r))}),n};function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nq(e,t,r){return(t=iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=aq(e,"string");return typeof t=="symbol"?t:t+""}function aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t){var r=rq({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jp.apply(null,arguments)}function BT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BT(Object(r),!0).forEach(function(n){sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t,r){return(t=lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dn=32,cq={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function dq(e){var{data:t,iconType:r,inactiveColor:n}=e,i=dn/2,a=dn/6,o=dn/3,s=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return m.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:dn,y2:i,className:"recharts-legend-icon"})}if(l==="line")return m.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(dn,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return m.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(dn/8,"h").concat(dn,"v").concat(dn*3/4,"h").concat(-dn,"z"),className:"recharts-legend-icon"});if(m.isValidElement(t.legendIcon)){var c=oq({},t);return delete c.legendIcon,m.cloneElement(t.legendIcon,c)}return m.createElement(e1,{fill:s,cx:i,cy:i,size:dn,sizeType:"diameter",type:l})}function fq(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,s={x:0,y:0,width:dn,height:dn},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var h=c.formatter||i,p=xe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var g=c.inactive?a:c.color,_=h?h(c.value,c,d):c.value;return m.createElement("li",Jp({className:p,style:l,key:"legend-item-".concat(d)},zd(e,c,d)),m.createElement(Yx,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(_," legend icon")},m.createElement(dq,{data:c,iconType:o,inactiveColor:a})),m.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},_))})}var hq=e=>{var t=Nt(e,cq),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return m.createElement("ul",{className:"recharts-default-legend",style:a},m.createElement(fq,Jp({},t,{payload:r})))},Qj={},Xj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(Xj);var r1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(r1);var Jj={},Vg={},Zj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Zj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Vg);var eM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(eM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vg,r=eM;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(Jj);var tM={},rM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jg;function r(n){return function(i){return t.get(i,n)}}e.property=r})(rM);var nM={},n1={},iM={},i1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(i1);var a1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(a1);var o1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(o1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i1,r=a1,n=o1;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):a(c,d,function p(g,_,v,y,x,E){const k=h(g,_,v,y,x,E);return k!==void 0?!!k:a(g,_,p,E)},new Map)}function a(c,d,h,p){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,h,p);case"function":return Object.keys(d).length>0?a(c,{...d},h,p):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,h,p){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,p);if(d instanceof Map)return s(c,d,h,p);if(d instanceof Set)return u(c,d,h,p);const g=Object.keys(d);if(c==null||r.isPrimitive(c))return g.length===0;if(g.length===0)return!0;if(p!=null&&p.has(d))return p.get(d)===c;p==null||p.set(d,c);try{for(let _=0;_<g.length;_++){const v=g[_];if(!r.isPrimitive(c)&&!(v in c)||d[v]===void 0&&c[v]!==void 0||d[v]===null&&c[v]!==null||!h(c[v],d[v],v,c,d,p))return!1}return!0}finally{p==null||p.delete(d)}}function s(c,d,h,p){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[g,_]of d.entries()){const v=c.get(g);if(h(v,_,g,c,d,p)===!1)return!1}return!0}function l(c,d,h,p){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const g=new Set;for(let _=0;_<d.length;_++){const v=d[_];let y=!1;for(let x=0;x<c.length;x++){if(g.has(x))continue;const E=c[x];let k=!1;if(h(E,v,_,c,d,p)&&(k=!0),k){g.add(x),y=!0;break}}if(!y)return!1}return!0}function u(c,d,h,p){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,p):!1}e.isMatchWith=i,e.isSetMatch=u})(iM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(n1);var aM={},s1={},oM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(oM);var l1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(l1);var u1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",p="[object Object]",g="[object Error]",_="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",E="[object Uint32Array]",k="[object BigUint64Array]",I="[object Int8Array]",C="[object Int16Array]",T="[object Int32Array]",P="[object BigInt64Array]",A="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=k,e.booleanTag=i,e.dataViewTag=_,e.dateTag=s,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=O,e.functionTag=d,e.int16ArrayTag=C,e.int32ArrayTag=T,e.int8ArrayTag=I,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=x,e.uint32ArrayTag=E,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(u1);var sM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(sM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM,r=l1,n=u1,i=a1,a=sM;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,h,p=new Map,g=void 0){const _=g==null?void 0:g(c,d,h,p);if(_!==void 0)return _;if(i.isPrimitive(c))return c;if(p.has(c))return p.get(c);if(Array.isArray(c)){const v=new Array(c.length);p.set(c,v);for(let y=0;y<c.length;y++)v[y]=s(c[y],y,h,p,g);return Object.hasOwn(c,"index")&&(v.index=c.index),Object.hasOwn(c,"input")&&(v.input=c.input),v}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const v=new RegExp(c.source,c.flags);return v.lastIndex=c.lastIndex,v}if(c instanceof Map){const v=new Map;p.set(c,v);for(const[y,x]of c)v.set(y,s(x,y,h,p,g));return v}if(c instanceof Set){const v=new Set;p.set(c,v);for(const y of c)v.add(s(y,void 0,h,p,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const v=new(Object.getPrototypeOf(c)).constructor(c.length);p.set(c,v);for(let y=0;y<c.length;y++)v[y]=s(c[y],y,h,p,g);return v}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const v=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return p.set(c,v),l(v,c,h,p,g),v}if(typeof File<"u"&&c instanceof File){const v=new File([c],c.name,{type:c.type});return p.set(c,v),l(v,c,h,p,g),v}if(typeof Blob<"u"&&c instanceof Blob){const v=new Blob([c],{type:c.type});return p.set(c,v),l(v,c,h,p,g),v}if(c instanceof Error){const v=new c.constructor;return p.set(c,v),v.message=c.message,v.name=c.name,v.stack=c.stack,v.cause=c.cause,l(v,c,h,p,g),v}if(c instanceof Boolean){const v=new Boolean(c.valueOf());return p.set(c,v),l(v,c,h,p,g),v}if(c instanceof Number){const v=new Number(c.valueOf());return p.set(c,v),l(v,c,h,p,g),v}if(c instanceof String){const v=new String(c.valueOf());return p.set(c,v),l(v,c,h,p,g),v}if(typeof c=="object"&&u(c)){const v=Object.create(Object.getPrototypeOf(c));return p.set(c,v),l(v,c,h,p,g),v}return c}function l(c,d,h=c,p,g){const _=[...Object.keys(d),...t.getSymbols(d)];for(let v=0;v<_.length;v++){const y=_[v],x=Object.getOwnPropertyDescriptor(c,y);(x==null||x.writable)&&(c[y]=s(d[y],y,h,p,g))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(s1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(aM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n1,r=aM;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(nM);var lM={},uM={},cM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s1,r=u1;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(cM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(uM);var dM={},c1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(c1);var fM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l1;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(fM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zx,r=c1,n=fM,i=Lg;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(dM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n1,r=Mg,n=uM,i=jg,a=dM;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(lM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r1,r=rM,n=nM,i=lM;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(tM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xj,r=r1,n=Jj,i=tM;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(Qj);var pq=Qj.uniqBy;const WT=Qi(pq);function hM(e,t,r){return t===!0?WT(e,r):typeof t=="function"?WT(e,t):e}var pM={exports:{}},mM={},gM={exports:{}},vM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fl=m;function mq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var gq=typeof Object.is=="function"?Object.is:mq,vq=Fl.useState,yq=Fl.useEffect,wq=Fl.useLayoutEffect,bq=Fl.useDebugValue;function _q(e,t){var r=t(),n=vq({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return wq(function(){i.value=r,i.getSnapshot=t,By(i)&&a({inst:i})},[e,r,t]),yq(function(){return By(i)&&a({inst:i}),e(function(){By(i)&&a({inst:i})})},[e]),bq(r),r}function By(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!gq(e,r)}catch{return!0}}function xq(e,t){return t()}var Eq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xq:_q;vM.useSyncExternalStore=Fl.useSyncExternalStore!==void 0?Fl.useSyncExternalStore:Eq;gM.exports=vM;var Sq=gM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g=m,Pq=Sq;function kq(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tq=typeof Object.is=="function"?Object.is:kq,Aq=Pq.useSyncExternalStore,Iq=$g.useRef,Oq=$g.useEffect,Cq=$g.useMemo,Nq=$g.useDebugValue;mM.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Iq(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Cq(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,Tq(c,p))return g;var _=n(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,d=_)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var s=Aq(e,a[0],a[1]);return Oq(function(){o.hasValue=!0,o.value=s},[s]),Nq(s),s};pM.exports=mM;var Dq=pM.exports,d1=m.createContext(null),Rq=e=>e,Ke=()=>{var e=m.useContext(d1);return e?e.store.dispatch:Rq},Kh=()=>{},jq=()=>Kh,Mq=(e,t)=>e===t;function ie(e){var t=m.useContext(d1);return Dq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:jq,t?t.store.getState:Kh,t?t.store.getState:Kh,t?e:Kh,Mq)}function Lq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Vq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $q(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var KT=e=>Array.isArray(e)?e:[e];function Fq(e){const t=Array.isArray(e[0])?e[0]:e;return $q(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zq(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var Uq=class{constructor(e){this.value=e}deref(){return this.value}},Bq=typeof WeakRef<"u"?WeakRef:Uq,Wq=0,HT=1;function ah(){return{s:Wq,v:void 0,o:null,p:null}}function yM(e,t={}){let r=ah();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let _=s.o;_===null&&(s.o=_=new WeakMap);const v=_.get(g);v===void 0?(s=ah(),_.set(g,s)):s=v}else{let _=s.p;_===null&&(s.p=_=new Map);const v=_.get(g);v===void 0?(s=ah(),_.set(g,s)):s=v}}const u=s;let c;if(s.s===HT)c=s.v;else if(c=e.apply(null,arguments),a++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new Bq(c):c}return u.s=HT,u.v=c,c}return o.clearCache=()=>{r=ah(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Kq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),Lq(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=yM,argsMemoizeOptions:g=[]}=c,_=KT(h),v=KT(g),y=Fq(i),x=d(function(){return a++,u.apply(null,arguments)},..._),E=p(function(){o++;const I=zq(y,arguments);return s=x.apply(null,I),s},...v);return Object.assign(E,{resultFunc:u,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var V=Kq(yM),Hq=Object.assign((e,t=V)=>{Vq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>Hq}),wM={},bM={},_M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(_M);var xM={},f1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(f1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(xM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_M,r=xM,n=Lg;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,g)=>{let _=p;for(let v=0;v<g.length&&_!=null;++v)_=_[g[v]];return _},c=(p,g)=>g==null||p==null?g:typeof p=="object"&&"key"in p?Object.hasOwn(g,p.key)?g[p.key]:u(g,p.path):typeof p=="function"?p(g):Array.isArray(p)?u(g,p):typeof g=="object"?g[p]:g,d=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return a.map(p=>({original:p,criteria:d.map(g=>c(g,p))})).slice().sort((p,g)=>{for(let _=0;_<d.length;_++){const v=t.compareValues(p.criteria[_],g.criteria[_],s[_]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=i})(bM);var EM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(EM);var h1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c1,r=Vg,n=i1,i=o1;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(h1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM,r=EM,n=h1;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(wM);var qq=wM.sortBy;const Fg=Qi(qq);var SM=e=>e.legend.settings,Gq=e=>e.legend.size,Yq=e=>e.legend.payload,Qq=V([Yq,SM],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Fg(n,r):n});function Xq(){return ie(Qq)}var oh=1;function PM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=m.useState({height:0,left:0,top:0,width:0}),n=m.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>oh||Math.abs(o.left-t.left)>oh||Math.abs(o.top-t.top)>oh||Math.abs(o.width-t.width)>oh)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function er(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Jq=typeof Symbol=="function"&&Symbol.observable||"@@observable",qT=Jq,Wy=()=>Math.random().toString(36).substring(7).split("").join("."),Zq={INIT:`@@redux/INIT${Wy()}`,REPLACE:`@@redux/REPLACE${Wy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wy()}`},Zp=Zq;function p1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kM(e,t,r){if(typeof e!="function")throw new Error(er(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(er(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(er(1));return r(kM)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((v,y)=>{o.set(y,v)}))}function c(){if(l)throw new Error(er(3));return i}function d(v){if(typeof v!="function")throw new Error(er(4));if(l)throw new Error(er(5));let y=!0;u();const x=s++;return o.set(x,v),function(){if(y){if(l)throw new Error(er(6));y=!1,u(),o.delete(x),a=null}}}function h(v){if(!p1(v))throw new Error(er(7));if(typeof v.type>"u")throw new Error(er(8));if(typeof v.type!="string")throw new Error(er(17));if(l)throw new Error(er(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=o).forEach(x=>{x()}),v}function p(v){if(typeof v!="function")throw new Error(er(10));n=v,h({type:Zp.REPLACE})}function g(){const v=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(er(11));function x(){const k=y;k.next&&k.next(c())}return x(),{unsubscribe:v(x)}},[qT](){return this}}}return h({type:Zp.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[qT]:g}}function eG(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Zp.INIT})>"u")throw new Error(er(12));if(typeof r(void 0,{type:Zp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(er(13))})}function TM(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{eG(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],h=r[d],p=o[d],g=h(p,s);if(typeof g>"u")throw s&&s.type,new Error(er(14));u[d]=g,l=l||g!==p}return l=l||n.length!==Object.keys(o).length,l?u:o}}function em(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function tG(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(er(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=em(...s)(i.dispatch),{...i,dispatch:a}}}function AM(e){return p1(e)&&"type"in e&&typeof e.type=="string"}var IM=Symbol.for("immer-nothing"),GT=Symbol.for("immer-draftable"),Cr=Symbol.for("immer-state");function Cn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var en=Object,zl=en.getPrototypeOf,tm="constructor",zg="prototype",Yw="configurable",rm="enumerable",Hh="writable",id="value",Wi=e=>!!e&&!!e[Cr];function Fn(e){var t;return e?OM(e)||Ug(e)||!!e[GT]||!!((t=e[tm])!=null&&t[GT])||Bg(e)||Wg(e):!1}var rG=en[zg][tm].toString(),YT=new WeakMap;function OM(e){if(!e||!m1(e))return!1;const t=zl(e);if(t===null||t===en[zg])return!0;const r=en.hasOwnProperty.call(t,tm)&&t[tm];if(r===Object)return!0;if(!Bs(r))return!1;let n=YT.get(r);return n===void 0&&(n=Function.toString.call(r),YT.set(r,n)),n===rG}function Ud(e,t,r=!0){Bd(e)===0?(r?Reflect.ownKeys(e):en.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Bd(e){const t=e[Cr];return t?t.type_:Ug(e)?1:Bg(e)?2:Wg(e)?3:0}var QT=(e,t,r=Bd(e))=>r===2?e.has(t):en[zg].hasOwnProperty.call(e,t),Qw=(e,t,r=Bd(e))=>r===2?e.get(t):e[t],nm=(e,t,r,n=Bd(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function nG(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ug=Array.isArray,Bg=e=>e instanceof Map,Wg=e=>e instanceof Set,m1=e=>typeof e=="object",Bs=e=>typeof e=="function",Ky=e=>typeof e=="boolean";function iG(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var _i=e=>e.copy_||e.base_,g1=e=>e.modified_?e.copy_:e.base_;function Xw(e,t){if(Bg(e))return new Map(e);if(Wg(e))return new Set(e);if(Ug(e))return Array[zg].slice.call(e);const r=OM(e);if(t===!0||t==="class_only"&&!r){const n=en.getOwnPropertyDescriptors(e);delete n[Cr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[Hh]===!1&&(s[Hh]=!0,s[Yw]=!0),(s.get||s.set)&&(n[o]={[Yw]:!0,[Hh]:!0,[rm]:s[rm],[id]:e[o]})}return en.create(zl(e),n)}else{const n=zl(e);if(n!==null&&r)return{...e};const i=en.create(n);return en.assign(i,e)}}function v1(e,t=!1){return Kg(e)||Wi(e)||!Fn(e)||(Bd(e)>1&&en.defineProperties(e,{set:sh,add:sh,clear:sh,delete:sh}),en.freeze(e),t&&Ud(e,(r,n)=>{v1(n,!0)},!1)),e}function aG(){Cn(2)}var sh={[id]:aG};function Kg(e){return e===null||!m1(e)?!0:en.isFrozen(e)}var im="MapSet",Jw="Patches",XT="ArrayMethods",CM={};function cs(e){const t=CM[e];return t||Cn(0,e),t}var JT=e=>!!CM[e],ad,NM=()=>ad,oG=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:JT(im)?cs(im):void 0,arrayMethodsPlugin_:JT(XT)?cs(XT):void 0});function ZT(e,t){t&&(e.patchPlugin_=cs(Jw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Zw(e){eb(e),e.drafts_.forEach(sG),e.drafts_=null}function eb(e){e===ad&&(ad=e.parent_)}var eA=e=>ad=oG(ad,e);function sG(e){const t=e[Cr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function tA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Cr].modified_&&(Zw(t),Cn(4)),Fn(e)&&(e=rA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Cr].base_,e,t)}else e=rA(t,r);return lG(t,e,!0),Zw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==IM?e:void 0}function rA(e,t){if(Kg(t))return t;const r=t[Cr];if(!r)return y1(t,e.handledSet_,e);if(!Hg(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);jM(r,e)}return r.copy_}function lG(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&v1(t,r)}function DM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Hg=(e,t)=>e.scope_===t,uG=[];function RM(e,t,r,n){const i=_i(e),a=e.type_;if(n!==void 0&&Qw(i,n,a)===t){nm(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;Ud(i,(l,u)=>{if(Wi(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=e.draftLocations_.get(t)??uG;for(const s of o)nm(i,s,r,a)}function cG(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!Hg(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=g1(a);RM(e,a.draft_??a,o,r),jM(a,i)})}function jM(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}DM(e)}}function dG(e,t,r){const{scope_:n}=e;if(Wi(r)){const i=r[Cr];Hg(i,n)&&i.callbacks_.push(function(){qh(e);const o=g1(i);RM(e,r,o,t)})}else Fn(r)&&e.callbacks_.push(function(){const a=_i(e);Qw(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&y1(Qw(e.copy_,t,e.type_),n.handledSet_,n)})}function y1(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Wi(e)||t.has(e)||!Fn(e)||Kg(e)||(t.add(e),Ud(e,(n,i)=>{if(Wi(i)){const a=i[Cr];if(Hg(a,r)){const o=g1(a);nm(e,n,o,e.type_),DM(a)}}else Fn(i)&&y1(i,t,r)})),e}function fG(e,t){const r=Ug(e),n={type_:r?1:0,scope_:t?t.scope_:NM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=w1;r&&(i=[n],a=od);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var w1={get(e,t){if(t===Cr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=_i(e);if(!QT(i,t,e.type_))return hG(e,i,t);const a=i[t];if(e.finalized_||!Fn(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&iG(t))return a;if(a===Hy(e.base_,t)){qh(e);const o=e.type_===1?+t:t,s=rb(e.scope_,a,e,o);return e.copy_[o]=s}return a},has(e,t){return t in _i(e)},ownKeys(e){return Reflect.ownKeys(_i(e))},set(e,t,r){const n=MM(_i(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Hy(_i(e),t),a=i==null?void 0:i[Cr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(nG(r,i)&&(r!==void 0||QT(e.base_,t,e.type_)))return!0;qh(e),tb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),dG(e,t,r)),!0},deleteProperty(e,t){return qh(e),Hy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),tb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=_i(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Hh]:!0,[Yw]:e.type_!==1||t!=="length",[rm]:n[rm],[id]:r[t]}},defineProperty(){Cn(11)},getPrototypeOf(e){return zl(e.base_)},setPrototypeOf(){Cn(12)}},od={};Ud(w1,(e,t)=>{od[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});od.deleteProperty=function(e,t){return od.set.call(this,e,t,void 0)};od.set=function(e,t,r){return w1.set.call(this,e[0],t,r,e[0])};function Hy(e,t){const r=e[Cr];return(r?_i(r):e)[t]}function hG(e,t,r){var i;const n=MM(t,r);return n?id in n?n[id]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function MM(e,t){if(!(t in e))return;let r=zl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=zl(r)}}function tb(e){e.modified_||(e.modified_=!0,e.parent_&&tb(e.parent_))}function qh(e){e.copy_||(e.assigned_=new Map,e.copy_=Xw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pG=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Bs(r)&&!Bs(n)){const o=n;n=r;const s=this;return function(u=o,...c){return s.produce(u,d=>n.call(this,d,...c))}}Bs(n)||Cn(6),i!==void 0&&!Bs(i)&&Cn(7);let a;if(Fn(r)){const o=eA(this),s=rb(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?Zw(o):eb(o)}return ZT(o,i),tA(a,o)}else if(!r||!m1(r)){if(a=n(r),a===void 0&&(a=r),a===IM&&(a=void 0),this.autoFreeze_&&v1(a,!0),i){const o=[],s=[];cs(Jw).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else Cn(1,r)},this.produceWithPatches=(r,n)=>{if(Bs(r))return(s,...l)=>this.produceWithPatches(s,u=>r(u,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},Ky(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Ky(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Ky(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fn(t)||Cn(8),Wi(t)&&(t=Mn(t));const r=eA(this),n=rb(r,t,void 0);return n[Cr].isManual_=!0,eb(r),n}finishDraft(t,r){const n=t&&t[Cr];(!n||!n.isManual_)&&Cn(9);const{scope_:i}=n;return ZT(i,r),tA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=cs(Jw).applyPatches_;return Wi(t)?i(t,r):this.produce(t,a=>i(a,r))}};function rb(e,t,r,n){const[i,a]=Bg(t)?cs(im).proxyMap_(t,r):Wg(t)?cs(im).proxySet_(t,r):fG(t,r);return((r==null?void 0:r.scope_)??NM()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?cG(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Mn(e){return Wi(e)||Cn(10,e),LM(e)}function LM(e){if(!Fn(e)||Kg(e))return e;const t=e[Cr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Xw(e,!0);return Ud(r,(i,a)=>{nm(r,i,LM(a))},n),t&&(t.finalized_=!1),r}var mG=new pG,VM=mG.produce;function $M(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var gG=$M(),vG=$M,yG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?em:em.apply(null,arguments)};function xn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(rn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AM(n)&&n.type===e,r}var FM=class uc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,uc.prototype)}static get[Symbol.species](){return uc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new uc(...t[0].concat(this)):new uc(...t.concat(this))}};function nA(e){return Fn(e)?VM(e,()=>{}):e}function lh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function wG(e){return typeof e=="boolean"}var bG=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new FM;return r&&(wG(r)?o.push(gG):o.push(vG(r.extraArgument))),o},zM="RTK_autoBatch",Ze=()=>e=>({payload:e,meta:{[zM]:!0}}),iA=e=>t=>{setTimeout(t,e)},UM=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:iA(10):e.type==="callback"?e.queueNotification:iA(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),h=n.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[zM]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},_G=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new FM(e);return n&&i.push(UM(typeof n=="object"?n:void 0)),i};function xG(e){const t=bG(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(p1(r))s=TM(r);else throw new Error(rn(1));let l;typeof n=="function"?l=n(t):l=t();let u=em;i&&(u=yG({trace:!1,...typeof i=="object"&&i}));const c=tG(...l),d=_G(c);let h=typeof o=="function"?o(d):d();const p=u(...h);return kM(s,a,p)}function BM(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(rn(28));if(s in t)throw new Error(rn(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function EG(e){return typeof e=="function"}function SG(e,t){let[r,n,i]=BM(t),a;if(EG(e))a=()=>nA(e());else{const s=nA(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(Wi(c)){const p=d(c,l);return p===void 0?c:p}else{if(Fn(c))return VM(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return o.getInitialState=a,o}var PG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kG=(e=21)=>{let t="",r=e;for(;r--;)t+=PG[Math.random()*64|0];return t},TG=Symbol.for("rtk-slice-createasyncthunk");function AG(e,t){return`${e}/${t}`}function IG({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[TG];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(rn(11));const s=(typeof i.reducers=="function"?i.reducers(CG()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(k,I){const C=typeof k=="string"?k:k.type;if(!C)throw new Error(rn(12));if(C in u.sliceCaseReducersByType)throw new Error(rn(13));return u.sliceCaseReducersByType[C]=I,c},addMatcher(k,I){return u.sliceMatchers.push({matcher:k,reducer:I}),c},exposeAction(k,I){return u.actionCreators[k]=I,c},exposeCaseReducer(k,I){return u.sliceCaseReducersByName[k]=I,c}};l.forEach(k=>{const I=s[k],C={reducerName:k,type:AG(a,k),createNotation:typeof i.reducers=="function"};DG(I)?jG(C,I,c,t):NG(C,I,c)});function d(){const[k={},I=[],C=void 0]=typeof i.extraReducers=="function"?BM(i.extraReducers):[i.extraReducers],T={...k,...u.sliceCaseReducersByType};return SG(i.initialState,P=>{for(let A in T)P.addCase(A,T[A]);for(let A of u.sliceMatchers)P.addMatcher(A.matcher,A.reducer);for(let A of I)P.addMatcher(A.matcher,A.reducer);C&&P.addDefaultCase(C)})}const h=k=>k,p=new Map,g=new WeakMap;let _;function v(k,I){return _||(_=d()),_(k,I)}function y(){return _||(_=d()),_.getInitialState()}function x(k,I=!1){function C(P){let A=P[k];return typeof A>"u"&&I&&(A=lh(g,C,y)),A}function T(P=h){const A=lh(p,I,()=>new WeakMap);return lh(A,P,()=>{const O={};for(const[N,j]of Object.entries(i.selectors??{}))O[N]=OG(j,P,()=>lh(g,P,y),I);return O})}return{reducerPath:k,getSelectors:T,get selectors(){return T(C)},selectSlice:C}}const E={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...x(o),injectInto(k,{reducerPath:I,...C}={}){const T=I??o;return k.inject({reducerPath:T,reducer:v},C),{...E,...x(T,!0)}}};return E}}function OG(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var Br=IG();function CG(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function NG({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!RG(n))throw new Error(rn(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?xn(e,o):xn(e))}function DG(e){return e._reducerDefinitionType==="asyncThunk"}function RG(e){return e._reducerDefinitionType==="reducerWithPrepare"}function jG({type:e,reducerName:t},r,n,i){if(!i)throw new Error(rn(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||uh,pending:s||uh,rejected:l||uh,settled:u||uh})}function uh(){}var MG="task",WM="listener",KM="completed",b1="cancelled",LG=`task-${b1}`,VG=`task-${KM}`,nb=`${WM}-${b1}`,$G=`${WM}-${KM}`,qg=class{constructor(e){ty(this,"name","TaskAbortError");ty(this,"message");this.code=e,this.message=`${MG} ${b1} (reason: ${e})`}},_1=(e,t)=>{if(typeof e!="function")throw new TypeError(rn(32))},am=()=>{},HM=(e,t=am)=>(e.catch(t),e),qM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Wo=e=>{if(e.aborted)throw new qg(e.reason)};function GM(e,t){let r=am;return new Promise((n,i)=>{const a=()=>i(new qg(e.reason));if(e.aborted){a();return}r=qM(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=am})}var FG=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof qg?"cancelled":"rejected",error:r}}finally{t==null||t()}},om=e=>t=>HM(GM(e,t).then(r=>(Wo(e),r))),YM=e=>{const t=om(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:wl}=Object,aA={},Gg="listenerMiddleware",zG=(e,t)=>{const r=n=>qM(e,()=>n.abort(e.reason));return(n,i)=>{_1(n);const a=new AbortController;r(a);const o=FG(async()=>{Wo(e),Wo(a.signal);const s=await n({pause:om(a.signal),delay:YM(a.signal),signal:a.signal});return Wo(a.signal),s},()=>a.abort(VG));return i!=null&&i.autoJoin&&t.push(o.catch(am)),{result:om(e)(o),cancel(){a.abort(LG)}}}},UG=(e,t)=>{const r=async(n,i)=>{Wo(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await GM(t,Promise.race(s));return Wo(t),l}finally{a()}};return(n,i)=>HM(r(n,i))},QM=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=xn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(rn(21));return _1(a),{predicate:i,type:t,effect:a}},XM=wl(e=>{const{type:t,predicate:r,effect:n}=QM(e);return{id:kG(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(rn(22))}}},{withTypes:()=>XM}),oA=(e,t)=>{const{type:r,effect:n,predicate:i}=QM(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},ib=e=>{e.pending.forEach(t=>{t.abort(nb)})},BG=(e,t)=>()=>{for(const r of t.keys())ib(r);e.clear()},sA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},JM=wl(xn(`${Gg}/add`),{withTypes:()=>JM}),WG=xn(`${Gg}/removeAll`),ZM=wl(xn(`${Gg}/remove`),{withTypes:()=>ZM}),KG=(...e)=>{console.error(`${Gg}/error`,...e)},Wd=(e={})=>{const t=new Map,r=new Map,n=p=>{const g=r.get(p)??0;r.set(p,g+1)},i=p=>{const g=r.get(p)??1;g===1?r.delete(p):r.set(p,g-1)},{extra:a,onError:o=KG}=e;_1(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),g=>{p.unsubscribe(),g!=null&&g.cancelActive&&ib(p)}),l=p=>{const g=oA(t,p)??XM(p);return s(g)};wl(l,{withTypes:()=>l});const u=p=>{const g=oA(t,p);return g&&(g.unsubscribe(),p.cancelActive&&ib(g)),!!g};wl(u,{withTypes:()=>u});const c=async(p,g,_,v)=>{const y=new AbortController,x=UG(l,y.signal),E=[];try{p.pending.add(y),n(p),await Promise.resolve(p.effect(g,wl({},_,{getOriginalState:v,condition:(k,I)=>x(k,I).then(Boolean),take:x,delay:YM(y.signal),pause:om(y.signal),extra:a,signal:y.signal,fork:zG(y.signal,E),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((k,I,C)=>{k!==y&&(k.abort(nb),C.delete(k))})},cancel:()=>{y.abort(nb),p.pending.delete(y)},throwIfCancelled:()=>{Wo(y.signal)}})))}catch(k){k instanceof qg||sA(o,k,{raisedBy:"effect"})}finally{await Promise.all(E),y.abort($G),i(p),p.pending.delete(y)}},d=BG(t,r);return{middleware:p=>g=>_=>{if(!AM(_))return g(_);if(JM.match(_))return l(_.payload);if(WG.match(_)){d();return}if(ZM.match(_))return u(_.payload);let v=p.getState();const y=()=>{if(v===aA)throw new Error(rn(23));return v};let x;try{if(x=g(_),t.size>0){const E=p.getState(),k=Array.from(t.values());for(const I of k){let C=!1;try{C=I.predicate(_,E,v)}catch(T){C=!1,sA(o,T,{raisedBy:"predicate"})}C&&c(I,_,p,y)}}}finally{v=aA}return x},startListening:l,stopListening:u,clearListeners:d}};function rn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var HG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},eL=Br({name:"chartLayout",initialState:HG,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:qG,setLayout:GG,setChartSize:YG,setScale:QG}=eL.actions,XG=eL.reducer;function tL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function ze(e){return Number.isFinite(e)}function ci(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function lA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lA(Object(r),!0).forEach(function(n){JG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JG(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=eY(e,"string");return typeof t=="symbol"?t:t+""}function eY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ve(e,t,r){return ct(e)||ct(t)?r:ui(t)?us(e,t,r):typeof t=="function"?t(e):r}var tY=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&J(e[a]))return il(il({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&J(e[o]))return il(il({},e),{},{[o]:e[o]+(i||0)})}return e},ea=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",rL=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},nL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:p}=e;if(!o)return null;var g=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,_=i==="category"&&o.bandwidth?o.bandwidth()/g:0;if(_=p==="angleAxis"&&a&&a.length>=2?Yt(a[0]-a[1])*2*_:_,d||h){var v=(d||h||[]).map((y,x)=>{var E=n?n.indexOf(y):y;return{coordinate:o(E)+_,value:y,offset:_,index:x}});return v.filter(y=>!_n(y.coordinate))}return l&&u?u.map((y,x)=>({coordinate:o(y)+_,value:y,index:x,offset:_})):o.ticks&&c!=null?o.ticks(c).map((y,x)=>({coordinate:o(y)+_,value:y,offset:_,index:x})):o.domain().map((y,x)=>({coordinate:o(y)+_,value:n?n[y]:y,index:x,offset:_}))},uA=1e-4,rY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-uA,a=Math.max(n[0],n[1])+uA,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},nY=(e,t)=>{if(!t||t.length!==2||!J(t[0])||!J(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!J(e[0])||e[0]<r)&&(i[0]=r),(!J(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},iY=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,s=0;s<r;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],h=_n(c)?d:c;h>=0?(u[0]=a,u[1]=a+h,a=c):(u[0]=o,u[1]=o+h,o=c)}}}},aY=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var s=e[o],l=s==null?void 0:s[i];if(l!=null){var u=_n(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},oY={sign:iY,expand:VH,none:ls,silhouette:$H,wiggle:FH,positive:aY},sY=(e,t,r)=>{var n,i=(n=oY[r])!==null&&n!==void 0?n:ls,a=LH().keys(t).value((s,l)=>Number(Ve(s,l,0))).order(qw).offset(i),o=a(e);return o.forEach((s,l)=>{s.forEach((u,c)=>{var d=Ve(e[c],t[l],0);Array.isArray(d)&&d.length===2&&J(d[0])&&J(d[1])&&(u[0]=d[0],u[1]=d[1])})}),o};function iL(e){return e==null?void 0:String(e)}function cA(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ct(i[t.dataKey])){var s=qj(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Ve(i,ct(o)?t.dataKey:o);return ct(l)?null:t.scale(l)}var dA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=Ve(a,t.dataKey,t.scale.domain()[o]);return ct(s)?null:t.scale(s)-i/2+n},lY=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},uY=e=>{var t=e.flat(2).filter(J);return[Math.min(...t),Math.max(...t)]},cY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dY=(e,t,r)=>{if(e!=null)return cY(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,s=o.reduce((l,u)=>{var c=tL(u,t,r),d=uY(c);return!ze(d[0])||!ze(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},fA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ul=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Fg(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function pA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return il(il({},t),{},{dataKey:r,payload:n,value:i,name:a})}function au(e,t){if(e)return String(e);if(typeof t=="string")return t}var fY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hY=(e,t)=>t==="centric"?e.angle:e.radius,ta=e=>e.layout.width,ra=e=>e.layout.height,pY=e=>e.layout.scale,aL=e=>e.layout.margin,Yg=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Qg=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),oL="data-recharts-item-index",sL="data-recharts-item-id",Kd=60;function mA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ch(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(r),!0).forEach(function(n){mY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mY(e,t,r){return(t=gY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gY(e){var t=vY(e,"string");return typeof t=="symbol"?t:t+""}function vY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yY=e=>e.brush.height;function wY(e){var t=Qg(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Kd;return r+i}return r},0)}function bY(e){var t=Qg(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Kd;return r+i}return r},0)}function _Y(e){var t=Yg(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function xY(e){var t=Yg(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Lt=V([ta,ra,aL,yY,wY,bY,_Y,xY,SM,Gq],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=ch(ch({},d),c),p=h.bottom;h.bottom+=n,h=tY(h,l,u);var g=e-h.left-h.right,_=t-h.top-h.bottom;return ch(ch({brushBottom:p},h),{},{width:Math.max(g,0),height:Math.max(_,0)})}),EY=V(Lt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),x1=V(ta,ra,(e,t)=>({x:0,y:0,width:e,height:t})),SY=m.createContext(null),Sr=()=>m.useContext(SY)!=null,Xg=e=>e.brush,Jg=V([Xg,Lt,aL],(e,t,r)=>({height:e.height,x:J(e.x)?e.x:t.left,y:J(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:J(e.width)?e.width:t.width})),lL={},uL={},cL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),_()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},_=()=>{g(),o=void 0,s=null},v=()=>{c()},y=function(...x){if(i!=null&&i.aborted)return;o=this,s=x;const E=h==null;p(),l&&E&&c()};return y.schedule=p,y.cancel=_,y.flush=v,i==null||i.addEventListener("abort",_,{once:!0}),y}e.debounce=t})(cL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cL;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(..._){c=n.apply(this,_),d=null},i,{edges:u}),p=function(..._){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,_),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,_),c)},g=()=>(h.flush(),c);return p.cancel=h.cancel,p.flush=g,p}e.debounce=r})(uL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uL;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(lL);var PY=lL.throttle;const kY=Qi(PY);var sm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},dL=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=Bi(n)?e:Number(n),l=Bi(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},TY={width:0,height:0,overflow:"visible"},AY={width:0,overflowX:"visible"},IY={height:0,overflowY:"visible"},OY={},CY=e=>{var{width:t,height:r}=e,n=Bi(t),i=Bi(r);return n&&i?TY:n?AY:i?IY:OY};function NY(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ab.apply(null,arguments)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){DY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t,r){return(t=RY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RY(e){var t=jY(e,"string");return typeof t=="symbol"?t:t+""}function jY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fL=m.createContext({width:-1,height:-1});function MY(e){return ci(e.width)&&ci(e.height)}function hL(e){var{children:t,width:r,height:n}=e,i=m.useMemo(()=>({width:r,height:n}),[r,n]);return MY(i)?m.createElement(fL.Provider,{value:i},t):null}var E1=()=>m.useContext(fL),LY=m.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:p,style:g={}}=e,_=m.useRef(null),v=m.useRef();v.current=p,m.useImperativeHandle(t,()=>_.current);var[y,x]=m.useState({containerWidth:n.width,containerHeight:n.height}),E=m.useCallback((P,A)=>{x(O=>{var N=Math.round(P),j=Math.round(A);return O.containerWidth===N&&O.containerHeight===j?O:{containerWidth:N,containerHeight:j}})},[]);m.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return Fd;var P=j=>{var R,{width:F,height:G}=j[0].contentRect;E(F,G),(R=v.current)===null||R===void 0||R.call(v,F,G)};c>0&&(P=kY(P,c,{trailing:!0,leading:!1}));var A=new ResizeObserver(P),{width:O,height:N}=_.current.getBoundingClientRect();return E(O,N),A.observe(_.current),()=>{A.disconnect()}},[E,c]);var{containerWidth:k,containerHeight:I}=y;sm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:C,calculatedHeight:T}=dL(k,I,{width:i,height:a,aspect:r,maxHeight:l});return sm(C!=null&&C>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,T,i,a,o,s,r),m.createElement("div",{id:d?"".concat(d):void 0,className:xe("recharts-responsive-container",h),style:vA(vA({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:_},m.createElement("div",{style:CY({width:i,height:a})},m.createElement(hL,{width:C,height:T},u)))}),kc=m.forwardRef((e,t)=>{var r=E1();if(ci(r.width)&&ci(r.height))return e.children;var{width:n,height:i}=NY({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=dL(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return J(a)&&J(o)?m.createElement(hL,{width:a,height:o},e.children):m.createElement(LY,ab({},e,{width:n,height:i,ref:t}))});function pL(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Zg=()=>{var e,t=Sr(),r=ie(EY),n=ie(Jg),i=(e=ie(Xg))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},VY={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mL=()=>{var e;return(e=ie(Lt))!==null&&e!==void 0?e:VY},S1=()=>ie(ta),P1=()=>ie(ra),$Y=()=>ie(e=>e.layout.margin),Pe=e=>e.layout.layoutType,xs=()=>ie(Pe),FY=()=>{var e=xs();if(e==="horizontal"||e==="vertical")return e},zY=()=>{var e=xs();return e!==void 0},ev=e=>{var t=Ke(),r=Sr(),{width:n,height:i}=e,a=E1(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),m.useEffect(()=>{!r&&ci(o)&&ci(s)&&t(YG({width:o,height:s}))},[t,r,o,s]),null},gL=Symbol.for("immer-nothing"),yA=Symbol.for("immer-draftable"),an=Symbol.for("immer-state");function Nn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var sd=Object.getPrototypeOf;function Bl(e){return!!e&&!!e[an]}function ds(e){var t;return e?vL(e)||Array.isArray(e)||!!e[yA]||!!((t=e.constructor)!=null&&t[yA])||Hd(e)||rv(e):!1}var UY=Object.prototype.constructor.toString(),wA=new WeakMap;function vL(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=wA.get(r);return n===void 0&&(n=Function.toString.call(r),wA.set(r,n)),n===UY}function lm(e,t,r=!0){tv(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function tv(e){const t=e[an];return t?t.type_:Array.isArray(e)?1:Hd(e)?2:rv(e)?3:0}function ob(e,t){return tv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function yL(e,t,r){const n=tv(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function BY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Hd(e){return e instanceof Map}function rv(e){return e instanceof Set}function Ao(e){return e.copy_||e.base_}function sb(e,t){if(Hd(e))return new Map(e);if(rv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=vL(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[an];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(sd(e),n)}else{const n=sd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function k1(e,t=!1){return nv(e)||Bl(e)||!ds(e)||(tv(e)>1&&Object.defineProperties(e,{set:dh,add:dh,clear:dh,delete:dh}),Object.freeze(e),t&&Object.values(e).forEach(r=>k1(r,!0))),e}function WY(){Nn(2)}var dh={value:WY};function nv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var KY={};function fs(e){const t=KY[e];return t||Nn(0,e),t}var ld;function wL(){return ld}function HY(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bA(e,t){t&&(fs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function lb(e){ub(e),e.drafts_.forEach(qY),e.drafts_=null}function ub(e){e===ld&&(ld=e.parent_)}function _A(e){return ld=HY(ld,e)}function qY(e){const t=e[an];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[an].modified_&&(lb(t),Nn(4)),ds(e)&&(e=um(t,e),t.parent_||cm(t,e)),t.patches_&&fs("Patches").generateReplacementPatches_(r[an].base_,e,t.patches_,t.inversePatches_)):e=um(t,r,[]),lb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gL?e:void 0}function um(e,t,r){if(nv(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[an];if(!i)return lm(t,(a,o)=>EA(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return cm(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),lm(o,(l,u)=>EA(e,i,a,l,u,r,s),n),cm(e,a,!1),r&&e.patches_&&fs("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function EA(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=nv(i);if(!(s&&!o)){if(Bl(i)){const l=a&&t&&t.type_!==3&&!ob(t.assigned_,n)?a.concat(n):void 0,u=um(e,i,l);if(yL(r,n,u),Bl(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(ds(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;um(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Hd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&cm(e,i)}}}function cm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&k1(t,r)}function GY(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:wL(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=T1;r&&(i=[n],a=ud);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var T1={get(e,t){if(t===an)return e;const r=Ao(e);if(!ob(r,t))return YY(e,r,t);const n=r[t];return e.finalized_||!ds(n)?n:n===qy(e.base_,t)?(Gy(e),e.copy_[t]=db(n,e)):n},has(e,t){return t in Ao(e)},ownKeys(e){return Reflect.ownKeys(Ao(e))},set(e,t,r){const n=bL(Ao(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=qy(Ao(e),t),a=i==null?void 0:i[an];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(BY(r,i)&&(r!==void 0||ob(e.base_,t)))return!0;Gy(e),cb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Gy(e),cb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ao(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Nn(11)},getPrototypeOf(e){return sd(e.base_)},setPrototypeOf(){Nn(12)}},ud={};lm(T1,(e,t)=>{ud[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ud.deleteProperty=function(e,t){return ud.set.call(this,e,t,void 0)};ud.set=function(e,t,r){return T1.set.call(this,e[0],t,r,e[0])};function qy(e,t){const r=e[an];return(r?Ao(r):e)[t]}function YY(e,t,r){var i;const n=bL(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function bL(e,t){if(!(t in e))return;let r=sd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=sd(r)}}function cb(e){e.modified_||(e.modified_=!0,e.parent_&&cb(e.parent_))}function Gy(e){e.copy_||(e.copy_=sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QY=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Nn(6),n!==void 0&&typeof n!="function"&&Nn(7);let i;if(ds(t)){const a=_A(this),o=db(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?lb(a):ub(a)}return bA(a,n),xA(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===gL&&(i=void 0),this.autoFreeze_&&k1(i,!0),n){const a=[],o=[];fs("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Nn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ds(e)||Nn(8),Bl(e)&&(e=XY(e));const t=_A(this),r=db(e,void 0);return r[an].isManual_=!0,ub(t),r}finishDraft(e,t){const r=e&&e[an];(!r||!r.isManual_)&&Nn(9);const{scope_:n}=r;return bA(n,t),xA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=fs("Patches").applyPatches_;return Bl(e)?n(e,t):this.produce(e,i=>n(i,t))}};function db(e,t){const r=Hd(e)?fs("MapSet").proxyMap_(e,t):rv(e)?fs("MapSet").proxySet_(e,t):GY(e,t);return(t?t.scope_:wL()).drafts_.push(r),r}function XY(e){return Bl(e)||Nn(10,e),_L(e)}function _L(e){if(!ds(e)||nv(e))return e;const t=e[an];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=sb(e,!0);return lm(r,(i,a)=>{yL(r,i,_L(a))},n),t&&(t.finalized_=!1),r}var JY=new QY;JY.produce;var ZY={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},xL=Br({name:"legend",initialState:ZY,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ze()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Mn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:Ze()},removeLegendPayload:{reducer(e,t){var r=Mn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Ze()}}}),{setLegendSize:SA,setLegendSettings:eQ,addLegendPayload:EL,replaceLegendPayload:SL,removeLegendPayload:PL}=xL.actions,tQ=xL.reducer,rQ=["contextPayload"];function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fb.apply(null,arguments)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){nQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nQ(e,t,r){return(t=iQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oQ(e,t){if(e==null)return{};var r,n,i=sQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lQ(e){return e.value}function uQ(e){var{contextPayload:t}=e,r=oQ(e,rQ),n=hM(t,e.payloadUniqBy,lQ),i=Wl(Wl({},r),{},{payload:n});return m.isValidElement(e.content)?m.cloneElement(e.content,i):typeof e.content=="function"?m.createElement(e.content,i):m.createElement(hq,i)}function cQ(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Wl(Wl({},u),c)}function dQ(e){var t=Ke();return m.useEffect(()=>{t(eQ(e))},[t,e]),null}function fQ(e){var t=Ke();return m.useEffect(()=>(t(SA(e)),()=>{t(SA({width:0,height:0}))}),[t,e]),null}function hQ(e,t,r,n){return e==="vertical"&&J(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var pQ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function A1(e){var t=Nt(e,pQ),r=Xq(),n=sH(),i=$Y(),{width:a,height:o,wrapperStyle:s,portal:l}=t,[u,c]=PM([r]),d=S1(),h=P1();if(d==null||h==null)return null;var p=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),g=hQ(t.layout,o,a,p),_=l?s:Wl(Wl({position:"absolute",width:(g==null?void 0:g.width)||a||"auto",height:(g==null?void 0:g.height)||o||"auto"},cQ(s,t,i,d,h,u)),s),v=l??n;if(v==null||r==null)return null;var y=m.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:c},m.createElement(dQ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&m.createElement(fQ,{width:u.width,height:u.height}),m.createElement(uQ,fb({},t,g,{margin:i,chartWidth:d,chartHeight:h,contextPayload:r})));return og.createPortal(y,v)}A1.displayName="Legend";function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hb.apply(null,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yQ(e){return Array.isArray(e)&&ui(e[0])&&ui(e[1])?e.join(" ~ "):e}var wQ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,p=()=>{if(a&&a.length){var I={padding:0,margin:0},C=(s?Fg(a,s):a).map((T,P)=>{if(T.type==="none")return null;var A=T.formatter||o||yQ,{value:O,name:N}=T,j=O,R=N;if(A){var F=A(O,N,T,P,a);if(Array.isArray(F))[j,R]=F;else if(F!=null)j=F;else return null}var G=Yy({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:G},ui(R)?m.createElement("span",{className:"recharts-tooltip-item-name"},R):null,ui(R)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},j),m.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:I},C)}return null},g=Yy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=Yy({margin:0},i),v=!ct(c),y=v?c:"",x=xe("recharts-default-tooltip",l),E=xe("recharts-tooltip-label",u);v&&d&&a!==void 0&&a!==null&&(y=d(c,a));var k=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",hb({className:x,style:g},k),m.createElement("p",{className:E,style:_},m.isValidElement(y)?y:"".concat(y)),p())},Ku="recharts-tooltip-wrapper",bQ={visibility:"hidden"};function _Q(e){var{coordinate:t,translateX:r,translateY:n}=e;return xe(Ku,{["".concat(Ku,"-right")]:J(r)&&t&&J(t.x)&&r>=t.x,["".concat(Ku,"-left")]:J(r)&&t&&J(t.x)&&r<t.x,["".concat(Ku,"-bottom")]:J(n)&&t&&J(t.y)&&n>=t.y,["".concat(Ku,"-top")]:J(n)&&t&&J(t.y)&&n<t.y})}function TA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&J(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var h=l[n];if(h==null)return 0;if(o[n]){var p=c,g=h;return p<g?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var _=d+s,v=h+u;return _>v?Math.max(c,h):Math.max(d,h)}function xQ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function EQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=TA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=TA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=xQ({translateX:c,translateY:d,useTranslate3d:s})):u=bQ,{cssProperties:u,cssClasses:_Q({translateX:c,translateY:d,coordinate:r})}}function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){pb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pb(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kQ extends m.PureComponent{constructor(){super(...arguments),pb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),pb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:p,wrapperStyle:g,lastBoundingBox:_,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:E}=EQ({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:_.height,width:_.width},useTranslate3d:h,viewBox:p}),k=y?{}:fh(fh({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),I=fh(fh({},k),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},g);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:I,ref:v},a)}}var kL=()=>{var e;return(e=ie(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mb.apply(null,arguments)}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){TQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQ(e,t,r){return(t=AQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CA={curveBasisClosed:kH,curveBasisOpen:TH,curveBasis:PH,curveBumpX:dH,curveBumpY:fH,curveLinearClosed:AH,curveLinear:Dg,curveMonotoneX:IH,curveMonotoneY:OH,curveNatural:CH,curveStep:NH,curveStepAfter:RH,curveStepBefore:DH},dm=e=>ze(e.x)&&ze(e.y),NA=e=>e.base!=null&&dm(e.base)&&dm(e),Hu=e=>e.x,qu=e=>e.y,OQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat($d(e));return(r==="curveMonotone"||r==="curveBump")&&t?CA["".concat(r).concat(t==="vertical"?"Y":"X")]:CA[r]||Dg},CQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=OQ(t,i),s=a?r.filter(dm):r,l;if(Array.isArray(n)){var u=r.map((p,g)=>OA(OA({},p),{},{base:n[g]}));i==="vertical"?l=ih().y(qu).x1(Hu).x0(p=>p.base.x):l=ih().x(Hu).y1(qu).y0(p=>p.base.y);var c=l.defined(NA).curve(o),d=a?u.filter(NA):u;return c(d)}i==="vertical"&&J(n)?l=ih().y(qu).x1(Hu).x0(n):J(n)?l=ih().x(Hu).y1(qu).y0(n):l=Dj().x(Hu).y(qu);var h=l.defined(dm).curve(o);return h(s)},bl=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=xs();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},s=r&&r.length?CQ(o):n;return m.createElement("path",mb({},Ur(e),t1(e),{className:xe("recharts-curve",t),d:s===null?void 0:s,ref:i}))},NQ=["x","y","top","left","width","height","className"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(null,arguments)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){RQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RQ(e,t,r){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LQ(e,t){if(e==null)return{};var r,n,i=VQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $Q=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),FQ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=LQ(e,NQ),u=DQ({x:t,y:r,top:n,left:i,width:a,height:o},l);return!J(t)||!J(r)||!J(a)||!J(o)||!J(n)||!J(i)?null:m.createElement("path",gb({},Or(u),{className:xe("recharts-cross",s),d:$Q(t,r,a,o,n,i)}))};function zQ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),TL=(e,t,r)=>e.map(n=>"".concat(KQ(n)," ").concat(t,"ms ").concat(r)).join(","),HQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),cd=(e,t)=>Object.keys(t).reduce((r,n)=>jA(jA({},r),{},{[n]:e(n,t[n])}),{});function MA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(r),!0).forEach(function(n){qQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qQ(e,t,r){return(t=GQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fm=(e,t,r)=>e+(t-e)*r,vb=e=>{var{from:t,to:r}=e;return t!==r},AL=(e,t,r)=>{var n=cd((i,a)=>{if(vb(a)){var[o,s]=e(a.from,a.to,a.velocity);return Rt(Rt({},a),{},{from:o,velocity:s})}return a},t);return r<1?cd((i,a)=>vb(a)&&n[i]!=null?Rt(Rt({},a),{},{velocity:fm(a.velocity,n[i].velocity,r),from:fm(a.from,n[i].from,r)}):a,t):AL(e,n,r-1)};function QQ(e,t,r,n,i,a){var o,s=n.reduce((h,p)=>Rt(Rt({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>cd((h,p)=>p.from,s),u=()=>!Object.values(s).filter(vb).length,c=null,d=h=>{o||(o=h);var p=h-o,g=p/r.dt;s=AL(r,s,g),i(Rt(Rt(Rt({},e),t),l())),o=h,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function XQ(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,h)=>{var p=e[h],g=t[h];return p==null||g==null?d:Rt(Rt({},d),{},{[h]:[p,g]})},{}),u,c=d=>{u||(u=d);var h=(d-u)/n,p=cd((_,v)=>fm(...v,r(h)),l);if(a(Rt(Rt(Rt({},e),t),p)),h<1)s=o.setTimeout(c);else{var g=cd((_,v)=>fm(...v,r(1)),l);a(Rt(Rt(Rt({},e),t),g))}};return()=>(s=o.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const JQ=(e,t,r,n,i,a)=>{var o=HQ(e,t);return r==null?()=>(i(Rt(Rt({},e),t)),()=>{}):r.isStepper===!0?QQ(e,t,r,o,i,a):XQ(e,t,r,n,o,i,a)};var hm=1e-4,IL=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],OL=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),LA=(e,t)=>r=>{var n=IL(e,t);return OL(n,r)},ZQ=(e,t)=>r=>{var n=IL(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return OL(i,r)},eX=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},tX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=eX(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},rX=(e,t,r,n)=>{var i=LA(e,r),a=LA(t,n),o=ZQ(e,r),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var p=i(d)-c,g=o(d);if(Math.abs(p-c)<hm||g<hm)return a(d);d=s(d-p/g)}return a(d)};return l.isStepper=!1,l},VA=function(){return rX(...tX(...arguments))},nX=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<hm&&Math.abs(d)<hm?[s,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},iX=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return VA(e);case"spring":return nX();default:if(e.split("(")[0]==="cubic-bezier")return VA(e)}return typeof e=="function"?e:null};function aX(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class oX{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function sX(){return aX(new oX)}var lX=m.createContext(sX);function uX(e,t){var r=m.useContext(lX);return m.useMemo(()=>t??r(e),[e,t,r])}var cX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),qd={isSsr:cX()},dX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},$A={t:0},Qy={t:1};function Gd(e){var t=Nt(e,dX),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=r==="auto"?!qd.isSsr:r,d=uX(t.animationId,t.animationManager),[h,p]=m.useState(c?$A:Qy),g=m.useRef(null);return m.useEffect(()=>{c||p(Qy)},[c]),m.useEffect(()=>{if(!c||!n)return Fd;var _=JQ($A,Qy,iX(a),i,p,d.getTimeoutController()),v=()=>{g.current=_()};return d.start([l,o,v,i,s]),()=>{d.stop(),g.current&&g.current(),s()}},[c,n,i,a,o,l,s,d]),u(h.t)}function Yd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=m.useRef(nd(t)),n=m.useRef(e);return n.current!==e&&(r.current=nd(t),n.current=e),r.current}var fX=["radius"],hX=["radius"],FA,zA,UA,BA,WA,KA,HA,qA,GA,YA;function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return(t=mX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pm(){return pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pm.apply(null,arguments)}function JA(e,t){if(e==null)return{};var r,n,i=vX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ZA=(e,t,r,n,i)=>{var a=Aa(r),o=Aa(n),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),l=o>=0?1:-1,u=a>=0?1:-1,c=o>=0&&a>=0||o<0&&a<0?1:0,d;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],p=0,g=4;p<g;p++)h[p]=i[p]>s?s:i[p];d=gt(FA||(FA=qn(["M",",",""])),e,t+l*h[0]),h[0]>0&&(d+=gt(zA||(zA=qn(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),d+=gt(UA||(UA=qn(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(d+=gt(BA||(BA=qn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+l*h[1])),d+=gt(WA||(WA=qn(["L ",",",""])),e+r,t+n-l*h[2]),h[2]>0&&(d+=gt(KA||(KA=qn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-u*h[2],t+n)),d+=gt(HA||(HA=qn(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(d+=gt(qA||(qA=qn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-l*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);d=gt(GA||(GA=qn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*_,_,_,c,e+u*_,t,e+r-u*_,t,_,_,c,e+r,t+l*_,e+r,t+n-l*_,_,_,c,e+r-u*_,t+n,e+u*_,t+n,_,_,c,e,t+n-l*_)}else d=gt(YA||(YA=qn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},eI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CL=e=>{var t=Nt(e,eI),r=m.useRef(null),[n,i]=m.useState(-1);m.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var ne=r.current.getTotalLength();ne&&i(ne)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:_}=t,v=m.useRef(s),y=m.useRef(l),x=m.useRef(a),E=m.useRef(o),k=m.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),I=Yd(k,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var C=xe("recharts-rectangle",c);if(!_){var T=Or(t),{radius:P}=T,A=JA(T,fX);return m.createElement("path",pm({},A,{x:Aa(a),y:Aa(o),width:Aa(s),height:Aa(l),radius:typeof u=="number"?u:void 0,className:C,d:ZA(a,o,s,l,u)}))}var O=v.current,N=y.current,j=x.current,R=E.current,F="0px ".concat(n===-1?1:n,"px"),G="".concat(n,"px 0px"),Z=TL(["strokeDasharray"],h,typeof d=="string"?d:eI.animationEasing);return m.createElement(Gd,{animationId:I,key:I,canBegin:n>0,duration:h,easing:d,isActive:_,begin:p},ne=>{var z=Qe(O,s,ne),W=Qe(N,l,ne),Q=Qe(j,a,ne),ue=Qe(R,o,ne);r.current&&(v.current=z,y.current=W,x.current=Q,E.current=ue);var ce;g?ne>0?ce={transition:Z,strokeDasharray:G}:ce={strokeDasharray:F}:ce={strokeDasharray:G};var ye=Or(t),{radius:Ne}=ye,it=JA(ye,hX);return m.createElement("path",pm({},it,{radius:typeof u=="number"?u:void 0,className:C,d:ZA(Q,ue,z,W,u),ref:r,style:XA(XA({},ce),t.style)}))})};function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){yX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=bX(e,"string");return typeof t=="symbol"?t:t+""}function bX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mm=Math.PI/180,_X=e=>e*180/Math.PI,It=(e,t,r,n)=>({x:e+Math.cos(-mm*n)*r,y:t+Math.sin(-mm*n)*r}),NL=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},xX=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},EX=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=xX({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:_X(l),angleInRadian:l}},SX=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},PX=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},kX=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=EX({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=SX(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?rI(rI({},t),{},{radius:i,angle:PX(c,t)}):null};function DL(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=It(t,r,n,i),s=It(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var nI,iI,aI,oI,sI,lI,uI;function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yb.apply(null,arguments)}function jo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var TX=(e,t)=>{var r=Yt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},hh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/mm,d=l?i:i+a*c,h=It(t,r,u,d),p=It(t,r,n,d),g=l?i-a*c:i,_=It(t,r,u*Math.cos(c*mm),g);return{center:h,circleTangency:p,lineTangency:_,theta:c}},RL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=TX(a,o),l=a+s,u=It(t,r,i,a),c=It(t,r,i,l),d=gt(nI||(nI=jo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(a>l),c.x,c.y);if(n>0){var h=It(t,r,n,a),p=It(t,r,n,l);d+=gt(iI||(iI=jo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),p.x,p.y,n,n,+(Math.abs(s)>180),+(a<=l),h.x,h.y)}else d+=gt(aI||(aI=jo(["L ",","," Z"])),t,r);return d},AX=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Yt(u-l),{circleTangency:d,lineTangency:h,theta:p}=hh({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:g,lineTangency:_,theta:v}=hh({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),y=s?Math.abs(l-u):Math.abs(l-u)-p-v;if(y<0)return o?gt(oI||(oI=jo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):RL({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var x=gt(sI||(sI=jo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(c<0),d.x,d.y,i,i,+(y>180),+(c<0),g.x,g.y,a,a,+(c<0),_.x,_.y);if(n>0){var{circleTangency:E,lineTangency:k,theta:I}=hh({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:C,lineTangency:T,theta:P}=hh({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(l-u):Math.abs(l-u)-I-P;if(A<0&&a===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+=gt(lI||(lI=jo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,a,a,+(c<0),C.x,C.y,n,n,+(A>180),+(c>0),E.x,E.y,a,a,+(c<0),k.x,k.y)}else x+=gt(uI||(uI=jo(["L",",","Z"])),t,r);return x},IX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jL=e=>{var t=Nt(e,IX),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var h=xe("recharts-sector",d),p=a-i,g=_r(o,p,0,!0),_;return g>0&&Math.abs(u-c)<360?_=AX({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):_=RL({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),m.createElement("path",yb({},Or(t),{className:h,d:_}))};function OX(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Yj(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=It(n,i,a,s),u=It(n,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return DL(t)}}var ML={},LL={},VL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f1;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(VL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VL;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(LL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h1,r=LL;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(ML);var CX=ML.range;const $L=Qi(CX);function Ba(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I1(e){let t,r,n;e.length!==2?(t=Ba,r=(s,l)=>Ba(e(s),l),n=(s,l)=>e(s)-l):(t=e===Ba||e===NX?e:DX,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function DX(){return 0}function FL(e){return e===null?NaN:+e}function*RX(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const jX=I1(Ba),Qd=jX.right;I1(FL).center;class cI extends Map{constructor(t,r=VX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(dI(this,t))}has(t){return super.has(dI(this,t))}set(t,r){return super.set(MX(this,t),r)}delete(t){return super.delete(LX(this,t))}}function dI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function MX({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function LX({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function VX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $X(e=Ba){if(e===Ba)return zL;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function zL(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const FX=Math.sqrt(50),zX=Math.sqrt(10),UX=Math.sqrt(2);function gm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=FX?10:a>=zX?5:a>=UX?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?gm(e,t,r*2):[s,l,u]}function wb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?gm(t,e,r):gm(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function bb(e,t,r){return t=+t,e=+e,r=+r,gm(e,t,r)[2]}function _b(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?bb(t,e,r):bb(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function fI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function hI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function UL(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?zL:$X(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/l+h)),g=Math.min(n,Math.floor(t+(l-u)*d/l+h));UL(e,t,p,g,i)}const a=e[t];let o=r,s=n;for(Gu(e,r,t),i(e[n],a)>0&&Gu(e,r,n);o<s;){for(Gu(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?Gu(e,r,s):(++s,Gu(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Gu(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function BX(e,t,r){if(e=Float64Array.from(RX(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return hI(e);if(t>=1)return fI(e);var n,i=(n-1)*t,a=Math.floor(i),o=fI(UL(e,a).subarray(0,a+1)),s=hI(e.subarray(a+1));return o+(s-o)*(i-a)}}function WX(e,t,r=FL){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function KX(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Sn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function na(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xb=Symbol("implicit");function O1(){var e=new cI,t=[],r=[],n=xb;function i(a){let o=e.get(a);if(o===void 0){if(n!==xb)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new cI;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return O1(t,r).unknown(n)},Sn.apply(i,arguments),i}function C1(){var e=O1().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,p=i<n,g=p?i:n,_=p?n:i;a=(_-g)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),g+=(_-g-a*(h-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var v=KX(h).map(function(y){return g+a*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return C1(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Sn.apply(d(),arguments)}function BL(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BL(t())},e}function HX(){return BL(C1.apply(null,arguments).paddingInner(1))}function N1(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function WL(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Xd(){}var dd=.7,vm=1/dd,_l="\\s*([+-]?\\d+)\\s*",fd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qX=/^#([0-9a-f]{3,8})$/,GX=new RegExp(`^rgb\\(${_l},${_l},${_l}\\)$`),YX=new RegExp(`^rgb\\(${si},${si},${si}\\)$`),QX=new RegExp(`^rgba\\(${_l},${_l},${_l},${fd}\\)$`),XX=new RegExp(`^rgba\\(${si},${si},${si},${fd}\\)$`),JX=new RegExp(`^hsl\\(${fd},${si},${si}\\)$`),ZX=new RegExp(`^hsla\\(${fd},${si},${si},${fd}\\)$`),pI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N1(Xd,hd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:mI,formatHex:mI,formatHex8:eJ,formatHsl:tJ,formatRgb:gI,toString:gI});function mI(){return this.rgb().formatHex()}function eJ(){return this.rgb().formatHex8()}function tJ(){return KL(this).formatHsl()}function gI(){return this.rgb().formatRgb()}function hd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qX.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vI(t):r===3?new Vr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ph(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ph(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GX.exec(e))?new Vr(t[1],t[2],t[3],1):(t=YX.exec(e))?new Vr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QX.exec(e))?ph(t[1],t[2],t[3],t[4]):(t=XX.exec(e))?ph(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JX.exec(e))?bI(t[1],t[2]/100,t[3]/100,1):(t=ZX.exec(e))?bI(t[1],t[2]/100,t[3]/100,t[4]):pI.hasOwnProperty(e)?vI(pI[e]):e==="transparent"?new Vr(NaN,NaN,NaN,0):null}function vI(e){return new Vr(e>>16&255,e>>8&255,e&255,1)}function ph(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vr(e,t,r,n)}function rJ(e){return e instanceof Xd||(e=hd(e)),e?(e=e.rgb(),new Vr(e.r,e.g,e.b,e.opacity)):new Vr}function Eb(e,t,r,n){return arguments.length===1?rJ(e):new Vr(e,t,r,n??1)}function Vr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}N1(Vr,Eb,WL(Xd,{brighter(e){return e=e==null?vm:Math.pow(vm,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dd:Math.pow(dd,e),new Vr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vr(Ko(this.r),Ko(this.g),Ko(this.b),ym(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yI,formatHex:yI,formatHex8:nJ,formatRgb:wI,toString:wI}));function yI(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}`}function nJ(){return`#${Mo(this.r)}${Mo(this.g)}${Mo(this.b)}${Mo((isNaN(this.opacity)?1:this.opacity)*255)}`}function wI(){const e=ym(this.opacity);return`${e===1?"rgb(":"rgba("}${Ko(this.r)}, ${Ko(this.g)}, ${Ko(this.b)}${e===1?")":`, ${e})`}`}function ym(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ko(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Mo(e){return e=Ko(e),(e<16?"0":"")+e.toString(16)}function bI(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Dn(e,t,r,n)}function KL(e){if(e instanceof Dn)return new Dn(e.h,e.s,e.l,e.opacity);if(e instanceof Xd||(e=hd(e)),!e)return new Dn;if(e instanceof Dn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Dn(o,s,l,e.opacity)}function iJ(e,t,r,n){return arguments.length===1?KL(e):new Dn(e,t,r,n??1)}function Dn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}N1(Dn,iJ,WL(Xd,{brighter(e){return e=e==null?vm:Math.pow(vm,e),new Dn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dd:Math.pow(dd,e),new Dn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Vr(Xy(e>=240?e-240:e+120,i,n),Xy(e,i,n),Xy(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Dn(_I(this.h),mh(this.s),mh(this.l),ym(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ym(this.opacity);return`${e===1?"hsl(":"hsla("}${_I(this.h)}, ${mh(this.s)*100}%, ${mh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _I(e){return e=(e||0)%360,e<0?e+360:e}function mh(e){return Math.max(0,Math.min(1,e||0))}function Xy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const D1=e=>()=>e;function aJ(e,t){return function(r){return e+r*t}}function oJ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function sJ(e){return(e=+e)==1?HL:function(t,r){return r-t?oJ(t,r,e):D1(isNaN(t)?r:t)}}function HL(e,t){var r=t-e;return r?aJ(e,r):D1(isNaN(e)?t:e)}const xI=function e(t){var r=sJ(t);function n(i,a){var o=r((i=Eb(i)).r,(a=Eb(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=HL(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function lJ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function uJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cJ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ou(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function dJ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function wm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fJ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ou(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Sb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jy=new RegExp(Sb.source,"g");function hJ(e){return function(){return e}}function pJ(e){return function(t){return e(t)+""}}function mJ(e,t){var r=Sb.lastIndex=Jy.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Sb.exec(e))&&(i=Jy.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:wm(n,i)})),r=Jy.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?pJ(l[0].x):hJ(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function ou(e,t){var r=typeof t,n;return t==null||r==="boolean"?D1(t):(r==="number"?wm:r==="string"?(n=hd(t))?(t=n,xI):mJ:t instanceof hd?xI:t instanceof Date?dJ:uJ(t)?lJ:Array.isArray(t)?cJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fJ:wm)(e,t)}function R1(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gJ(e,t){t===void 0&&(t=e,e=ou);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function vJ(e){return function(){return e}}function bm(e){return+e}var EI=[0,1];function Ar(e){return e}function Pb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vJ(isNaN(t)?NaN:.5)}function yJ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wJ(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Pb(i,n),a=r(o,a)):(n=Pb(n,i),a=r(a,o)),function(s){return a(n(s))}}function bJ(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Pb(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=Qd(e,s,1,n)-1;return a[l](i[l](s))}}function Jd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function iv(){var e=EI,t=EI,r=ou,n,i,a,o=Ar,s,l,u;function c(){var h=Math.min(e.length,t.length);return o!==Ar&&(o=yJ(e[0],e[h-1])),s=h>2?bJ:wJ,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(i((u||(u=s(t,e.map(n),wm)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,bm),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=R1,c()},d.clamp=function(h){return arguments.length?(o=h?!0:Ar,c()):o!==Ar},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,p){return n=h,i=p,c()}}function j1(){return iv()(Ar,Ar)}function _J(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function _m(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Kl(e){return e=_m(Math.abs(e)),e?e[1]:NaN}function xJ(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function EJ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pd(e){if(!(t=SJ.exec(e)))throw new Error("invalid format: "+e);var t;return new M1({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pd.prototype=M1.prototype;function M1(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}M1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PJ(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var qL;function kJ(e,t){var r=_m(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(qL=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+_m(e,Math.max(0,t+a-1))[0]}function SI(e,t){var r=_m(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const PI={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:_J,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>SI(e*100,t),r:SI,s:kJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kI(e){return e}var TI=Array.prototype.map,AI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TJ(e){var t=e.grouping===void 0||e.thousands===void 0?kI:xJ(TI.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?kI:EJ(TI.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=pd(d);var h=d.fill,p=d.align,g=d.sign,_=d.symbol,v=d.zero,y=d.width,x=d.comma,E=d.precision,k=d.trim,I=d.type;I==="n"?(x=!0,I="g"):PI[I]||(E===void 0&&(E=12),k=!0,I="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var C=_==="$"?r:_==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",T=_==="$"?n:/[%p]/.test(I)?o:"",P=PI[I],A=/[defgprs%]/.test(I);E=E===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(N){var j=C,R=T,F,G,Z;if(I==="c")R=P(N)+R,N="";else{N=+N;var ne=N<0||1/N<0;if(N=isNaN(N)?l:P(Math.abs(N),E),k&&(N=PJ(N)),ne&&+N==0&&g!=="+"&&(ne=!1),j=(ne?g==="("?g:s:g==="-"||g==="("?"":g)+j,R=(I==="s"?AI[8+qL/3]:"")+R+(ne&&g==="("?")":""),A){for(F=-1,G=N.length;++F<G;)if(Z=N.charCodeAt(F),48>Z||Z>57){R=(Z===46?i+N.slice(F+1):N.slice(F))+R,N=N.slice(0,F);break}}}x&&!v&&(N=t(N,1/0));var z=j.length+N.length+R.length,W=z<y?new Array(y-z+1).join(h):"";switch(x&&v&&(N=t(W+N,W.length?y-R.length:1/0),W=""),p){case"<":N=j+N+R+W;break;case"=":N=j+W+N+R;break;case"^":N=W.slice(0,z=W.length>>1)+j+N+R+W.slice(z);break;default:N=W+j+N+R;break}return a(N)}return O.toString=function(){return d+""},O}function c(d,h){var p=u((d=pd(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Kl(h)/3)))*3,_=Math.pow(10,-g),v=AI[8+g/3];return function(y){return p(_*y)+v}}return{format:u,formatPrefix:c}}var gh,L1,GL;AJ({thousands:",",grouping:[3],currency:["$",""]});function AJ(e){return gh=TJ(e),L1=gh.format,GL=gh.formatPrefix,gh}function IJ(e){return Math.max(0,-Kl(Math.abs(e)))}function OJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kl(t)/3)))*3-Kl(Math.abs(e)))}function CJ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Kl(t)-Kl(e))+1}function YL(e,t,r,n){var i=_b(e,t,r),a;switch(n=pd(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=OJ(i,o))&&(n.precision=a),GL(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=CJ(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=IJ(i))&&(n.precision=a-(n.type==="%")*2);break}}return L1(n)}function so(e){var t=e.domain;return e.ticks=function(r){var n=t();return wb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return YL(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=bb(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function QL(){var e=j1();return e.copy=function(){return Jd(e,QL())},Sn.apply(e,arguments),so(e)}function XL(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,bm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return XL(e).unknown(t)},e=arguments.length?Array.from(e,bm):[0,1],so(r)}function JL(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function II(e){return Math.log(e)}function OI(e){return Math.exp(e)}function NJ(e){return-Math.log(-e)}function DJ(e){return-Math.exp(-e)}function RJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function jJ(e){return e===10?RJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CI(e){return(t,r)=>-e(-t,r)}function V1(e){const t=e(II,OI),r=t.domain;let n=10,i,a;function o(){return i=MJ(n),a=jJ(n),r()[0]<0?(i=CI(i),a=CI(a),e(NJ,DJ)):e(II,OI),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),p=i(c),g,_;const v=s==null?10:+s;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(g=1;g<n;++g)if(_=h<0?g/a(-h):g*a(h),!(_<u)){if(_>c)break;y.push(_)}}else for(;h<=p;++h)for(g=n-1;g>=1;--g)if(_=h>0?g/a(-h):g*a(h),!(_<u)){if(_>c)break;y.push(_)}y.length*2<v&&(y=wb(u,c,v))}else y=wb(h,p,Math.min(p-h,v)).map(a);return d?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=pd(l)).precision==null&&(l.trim=!0),l=L1(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(JL(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function ZL(){const e=V1(iv()).domain([1,10]);return e.copy=()=>Jd(e,ZL()).base(e.base()),Sn.apply(e,arguments),e}function NI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function $1(e){var t=1,r=e(NI(t),DI(t));return r.constant=function(n){return arguments.length?e(NI(t=+n),DI(t)):t},so(r)}function e4(){var e=$1(iv());return e.copy=function(){return Jd(e,e4()).constant(e.constant())},Sn.apply(e,arguments)}function RI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function VJ(e){return e<0?-e*e:e*e}function F1(e){var t=e(Ar,Ar),r=1;function n(){return r===1?e(Ar,Ar):r===.5?e(LJ,VJ):e(RI(r),RI(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},so(t)}function z1(){var e=F1(iv());return e.copy=function(){return Jd(e,z1()).exponent(e.exponent())},Sn.apply(e,arguments),e}function $J(){return z1.apply(null,arguments).exponent(.5)}function jI(e){return Math.sign(e)*e*e}function FJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function t4(){var e=j1(),t=[0,1],r=!1,n;function i(a){var o=FJ(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(jI(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,bm)).map(jI)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return t4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Sn.apply(i,arguments),so(i)}function r4(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=WX(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[Qd(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ba),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return r4().domain(e).range(t).unknown(n)},Sn.apply(a,arguments)}function n4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[Qd(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return n4().domain([e,t]).range(i).unknown(a)},Sn.apply(so(o),arguments)}function i4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Qd(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return i4().domain(e).range(t).unknown(r)},Sn.apply(i,arguments)}const Zy=new Date,e0=new Date;function Vt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>Vt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(Zy.setTime(+a),e0.setTime(+o),e(Zy),e(e0),Math.floor(r(Zy,e0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const xm=Vt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):xm);xm.range;const Ii=1e3,mn=Ii*60,Oi=mn*60,Ki=Oi*24,U1=Ki*7,MI=Ki*30,t0=Ki*365,Lo=Vt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCSeconds());Lo.range;const B1=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getMinutes());B1.range;const W1=Vt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*mn)},(e,t)=>(t-e)/mn,e=>e.getUTCMinutes());W1.range;const K1=Vt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ii-e.getMinutes()*mn)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getHours());K1.range;const H1=Vt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCHours());H1.range;const Zd=Vt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*mn)/Ki,e=>e.getDate()-1);Zd.range;const av=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);av.range;const a4=Vt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));a4.range;function Es(e){return Vt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*mn)/U1)}const ov=Es(0),Em=Es(1),zJ=Es(2),UJ=Es(3),Hl=Es(4),BJ=Es(5),WJ=Es(6);ov.range;Em.range;zJ.range;UJ.range;Hl.range;BJ.range;WJ.range;function Ss(e){return Vt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/U1)}const sv=Ss(0),Sm=Ss(1),KJ=Ss(2),HJ=Ss(3),ql=Ss(4),qJ=Ss(5),GJ=Ss(6);sv.range;Sm.range;KJ.range;HJ.range;ql.range;qJ.range;GJ.range;const q1=Vt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());q1.range;const G1=Vt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());G1.range;const Hi=Vt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hi.range;const qi=Vt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});qi.range;function o4(e,t,r,n,i,a){const o=[[Lo,1,Ii],[Lo,5,5*Ii],[Lo,15,15*Ii],[Lo,30,30*Ii],[a,1,mn],[a,5,5*mn],[a,15,15*mn],[a,30,30*mn],[i,1,Oi],[i,3,3*Oi],[i,6,6*Oi],[i,12,12*Oi],[n,1,Ki],[n,2,2*Ki],[r,1,U1],[t,1,MI],[t,3,3*MI],[e,1,t0]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const p=d&&typeof d.range=="function"?d:l(u,c,d),g=p?p.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,d){const h=Math.abs(c-u)/d,p=I1(([,,v])=>v).right(o,h);if(p===o.length)return e.every(_b(u/t0,c/t0,d));if(p===0)return xm.every(Math.max(_b(u,c,d),1));const[g,_]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return g.every(_)}return[s,l]}const[YJ,QJ]=o4(qi,G1,sv,a4,H1,W1),[XJ,JJ]=o4(Hi,q1,ov,Zd,K1,B1);function r0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function n0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yu(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function ZJ(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=Qu(i),c=Xu(i),d=Qu(a),h=Xu(a),p=Qu(o),g=Xu(o),_=Qu(s),v=Xu(s),y=Qu(l),x=Xu(l),E={a:ne,A:z,b:W,B:Q,c:null,d:UI,e:UI,f:xZ,g:NZ,G:RZ,H:wZ,I:bZ,j:_Z,L:s4,m:EZ,M:SZ,p:ue,q:ce,Q:KI,s:HI,S:PZ,u:kZ,U:TZ,V:AZ,w:IZ,W:OZ,x:null,X:null,y:CZ,Y:DZ,Z:jZ,"%":WI},k={a:ye,A:Ne,b:it,B:at,c:null,d:BI,e:BI,f:$Z,g:YZ,G:XZ,H:MZ,I:LZ,j:VZ,L:u4,m:FZ,M:zZ,p:Ee,q:Kr,Q:KI,s:HI,S:UZ,u:BZ,U:WZ,V:KZ,w:HZ,W:qZ,x:null,X:null,y:GZ,Y:QZ,Z:JZ,"%":WI},I={a:O,A:N,b:j,B:R,c:F,d:FI,e:FI,f:mZ,g:$I,G:VI,H:zI,I:zI,j:dZ,L:pZ,m:cZ,M:fZ,p:A,q:uZ,Q:vZ,s:yZ,S:hZ,u:iZ,U:aZ,V:oZ,w:nZ,W:sZ,x:G,X:Z,y:$I,Y:VI,Z:lZ,"%":gZ};E.x=C(r,E),E.X=C(n,E),E.c=C(t,E),k.x=C(r,k),k.X=C(n,k),k.c=C(t,k);function C(U,de){return function(ge){var M=[],X=-1,q=0,oe=U.length,se,Me,He;for(ge instanceof Date||(ge=new Date(+ge));++X<oe;)U.charCodeAt(X)===37&&(M.push(U.slice(q,X)),(Me=LI[se=U.charAt(++X)])!=null?se=U.charAt(++X):Me=se==="e"?" ":"0",(He=de[se])&&(se=He(ge,Me)),M.push(se),q=X+1);return M.push(U.slice(q,X)),M.join("")}}function T(U,de){return function(ge){var M=Yu(1900,void 0,1),X=P(M,U,ge+="",0),q,oe;if(X!=ge.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(de&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(q=n0(Yu(M.y,0,1)),oe=q.getUTCDay(),q=oe>4||oe===0?Sm.ceil(q):Sm(q),q=av.offset(q,(M.V-1)*7),M.y=q.getUTCFullYear(),M.m=q.getUTCMonth(),M.d=q.getUTCDate()+(M.w+6)%7):(q=r0(Yu(M.y,0,1)),oe=q.getDay(),q=oe>4||oe===0?Em.ceil(q):Em(q),q=Zd.offset(q,(M.V-1)*7),M.y=q.getFullYear(),M.m=q.getMonth(),M.d=q.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),oe="Z"in M?n0(Yu(M.y,0,1)).getUTCDay():r0(Yu(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(oe+5)%7:M.w+M.U*7-(oe+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,n0(M)):r0(M)}}function P(U,de,ge,M){for(var X=0,q=de.length,oe=ge.length,se,Me;X<q;){if(M>=oe)return-1;if(se=de.charCodeAt(X++),se===37){if(se=de.charAt(X++),Me=I[se in LI?de.charAt(X++):se],!Me||(M=Me(U,ge,M))<0)return-1}else if(se!=ge.charCodeAt(M++))return-1}return M}function A(U,de,ge){var M=u.exec(de.slice(ge));return M?(U.p=c.get(M[0].toLowerCase()),ge+M[0].length):-1}function O(U,de,ge){var M=p.exec(de.slice(ge));return M?(U.w=g.get(M[0].toLowerCase()),ge+M[0].length):-1}function N(U,de,ge){var M=d.exec(de.slice(ge));return M?(U.w=h.get(M[0].toLowerCase()),ge+M[0].length):-1}function j(U,de,ge){var M=y.exec(de.slice(ge));return M?(U.m=x.get(M[0].toLowerCase()),ge+M[0].length):-1}function R(U,de,ge){var M=_.exec(de.slice(ge));return M?(U.m=v.get(M[0].toLowerCase()),ge+M[0].length):-1}function F(U,de,ge){return P(U,t,de,ge)}function G(U,de,ge){return P(U,r,de,ge)}function Z(U,de,ge){return P(U,n,de,ge)}function ne(U){return o[U.getDay()]}function z(U){return a[U.getDay()]}function W(U){return l[U.getMonth()]}function Q(U){return s[U.getMonth()]}function ue(U){return i[+(U.getHours()>=12)]}function ce(U){return 1+~~(U.getMonth()/3)}function ye(U){return o[U.getUTCDay()]}function Ne(U){return a[U.getUTCDay()]}function it(U){return l[U.getUTCMonth()]}function at(U){return s[U.getUTCMonth()]}function Ee(U){return i[+(U.getUTCHours()>=12)]}function Kr(U){return 1+~~(U.getUTCMonth()/3)}return{format:function(U){var de=C(U+="",E);return de.toString=function(){return U},de},parse:function(U){var de=T(U+="",!1);return de.toString=function(){return U},de},utcFormat:function(U){var de=C(U+="",k);return de.toString=function(){return U},de},utcParse:function(U){var de=T(U+="",!0);return de.toString=function(){return U},de}}}var LI={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,eZ=/^%/,tZ=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function rZ(e){return e.replace(tZ,"\\$&")}function Qu(e){return new RegExp("^(?:"+e.map(rZ).join("|")+")","i")}function Xu(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function nZ(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function iZ(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aZ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function oZ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function sZ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function VI(e,t,r){var n=Xt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $I(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function uZ(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cZ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function FI(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function dZ(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zI(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function fZ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function hZ(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pZ(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mZ(e,t,r){var n=Xt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gZ(e,t,r){var n=eZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vZ(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function yZ(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function UI(e,t){return Oe(e.getDate(),t,2)}function wZ(e,t){return Oe(e.getHours(),t,2)}function bZ(e,t){return Oe(e.getHours()%12||12,t,2)}function _Z(e,t){return Oe(1+Zd.count(Hi(e),e),t,3)}function s4(e,t){return Oe(e.getMilliseconds(),t,3)}function xZ(e,t){return s4(e,t)+"000"}function EZ(e,t){return Oe(e.getMonth()+1,t,2)}function SZ(e,t){return Oe(e.getMinutes(),t,2)}function PZ(e,t){return Oe(e.getSeconds(),t,2)}function kZ(e){var t=e.getDay();return t===0?7:t}function TZ(e,t){return Oe(ov.count(Hi(e)-1,e),t,2)}function l4(e){var t=e.getDay();return t>=4||t===0?Hl(e):Hl.ceil(e)}function AZ(e,t){return e=l4(e),Oe(Hl.count(Hi(e),e)+(Hi(e).getDay()===4),t,2)}function IZ(e){return e.getDay()}function OZ(e,t){return Oe(Em.count(Hi(e)-1,e),t,2)}function CZ(e,t){return Oe(e.getFullYear()%100,t,2)}function NZ(e,t){return e=l4(e),Oe(e.getFullYear()%100,t,2)}function DZ(e,t){return Oe(e.getFullYear()%1e4,t,4)}function RZ(e,t){var r=e.getDay();return e=r>=4||r===0?Hl(e):Hl.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function jZ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function BI(e,t){return Oe(e.getUTCDate(),t,2)}function MZ(e,t){return Oe(e.getUTCHours(),t,2)}function LZ(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function VZ(e,t){return Oe(1+av.count(qi(e),e),t,3)}function u4(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function $Z(e,t){return u4(e,t)+"000"}function FZ(e,t){return Oe(e.getUTCMonth()+1,t,2)}function zZ(e,t){return Oe(e.getUTCMinutes(),t,2)}function UZ(e,t){return Oe(e.getUTCSeconds(),t,2)}function BZ(e){var t=e.getUTCDay();return t===0?7:t}function WZ(e,t){return Oe(sv.count(qi(e)-1,e),t,2)}function c4(e){var t=e.getUTCDay();return t>=4||t===0?ql(e):ql.ceil(e)}function KZ(e,t){return e=c4(e),Oe(ql.count(qi(e),e)+(qi(e).getUTCDay()===4),t,2)}function HZ(e){return e.getUTCDay()}function qZ(e,t){return Oe(Sm.count(qi(e)-1,e),t,2)}function GZ(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function YZ(e,t){return e=c4(e),Oe(e.getUTCFullYear()%100,t,2)}function QZ(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function XZ(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ql(e):ql.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function JZ(){return"+0000"}function WI(){return"%"}function KI(e){return+e}function HI(e){return Math.floor(+e/1e3)}var Ms,d4,f4;ZZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZZ(e){return Ms=ZJ(e),d4=Ms.format,Ms.parse,f4=Ms.utcFormat,Ms.utcParse,Ms}function eee(e){return new Date(e)}function tee(e){return e instanceof Date?+e:+new Date(+e)}function Y1(e,t,r,n,i,a,o,s,l,u){var c=j1(),d=c.invert,h=c.domain,p=u(".%L"),g=u(":%S"),_=u("%I:%M"),v=u("%I %p"),y=u("%a %d"),x=u("%b %d"),E=u("%B"),k=u("%Y");function I(C){return(l(C)<C?p:s(C)<C?g:o(C)<C?_:a(C)<C?v:n(C)<C?i(C)<C?y:x:r(C)<C?E:k)(C)}return c.invert=function(C){return new Date(d(C))},c.domain=function(C){return arguments.length?h(Array.from(C,tee)):h().map(eee)},c.ticks=function(C){var T=h();return e(T[0],T[T.length-1],C??10)},c.tickFormat=function(C,T){return T==null?I:u(T)},c.nice=function(C){var T=h();return(!C||typeof C.range!="function")&&(C=t(T[0],T[T.length-1],C??10)),C?h(JL(T,C)):c},c.copy=function(){return Jd(c,Y1(e,t,r,n,i,a,o,s,l,u))},c}function ree(){return Sn.apply(Y1(XJ,JJ,Hi,q1,ov,Zd,K1,B1,Lo,d4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nee(){return Sn.apply(Y1(YJ,QJ,qi,G1,sv,av,H1,W1,Lo,f4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lv(){var e=0,t=1,r,n,i,a,o=Ar,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(h){var p,g;return arguments.length?([p,g]=h,o=d(p,g),u):[o(0),o(1)]}}return u.range=c(ou),u.rangeRound=c(R1),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function lo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h4(){var e=so(lv()(Ar));return e.copy=function(){return lo(e,h4())},na.apply(e,arguments)}function p4(){var e=V1(lv()).domain([1,10]);return e.copy=function(){return lo(e,p4()).base(e.base())},na.apply(e,arguments)}function m4(){var e=$1(lv());return e.copy=function(){return lo(e,m4()).constant(e.constant())},na.apply(e,arguments)}function Q1(){var e=F1(lv());return e.copy=function(){return lo(e,Q1()).exponent(e.exponent())},na.apply(e,arguments)}function iee(){return Q1.apply(null,arguments).exponent(.5)}function g4(){var e=[],t=Ar;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ba),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>BX(e,a/n))},r.copy=function(){return g4(t).domain(e)},na.apply(r,arguments)}function uv(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=Ar,c,d=!1,h;function p(_){return isNaN(_=+_)?h:(_=.5+((_=+c(_))-a)*(n*_<n*a?s:l),u(d?Math.max(0,Math.min(1,_)):_))}p.domain=function(_){return arguments.length?([e,t,r]=_,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p):[e,t,r]},p.clamp=function(_){return arguments.length?(d=!!_,p):d},p.interpolator=function(_){return arguments.length?(u=_,p):u};function g(_){return function(v){var y,x,E;return arguments.length?([y,x,E]=v,u=gJ(_,[y,x,E]),p):[u(0),u(.5),u(1)]}}return p.range=g(ou),p.rangeRound=g(R1),p.unknown=function(_){return arguments.length?(h=_,p):h},function(_){return c=_,i=_(e),a=_(t),o=_(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,p}}function v4(){var e=so(uv()(Ar));return e.copy=function(){return lo(e,v4())},na.apply(e,arguments)}function y4(){var e=V1(uv()).domain([.1,1,10]);return e.copy=function(){return lo(e,y4()).base(e.base())},na.apply(e,arguments)}function w4(){var e=$1(uv());return e.copy=function(){return lo(e,w4()).constant(e.constant())},na.apply(e,arguments)}function X1(){var e=F1(uv());return e.copy=function(){return lo(e,X1()).exponent(e.exponent())},na.apply(e,arguments)}function aee(){return X1.apply(null,arguments).exponent(.5)}const cc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:C1,scaleDiverging:v4,scaleDivergingLog:y4,scaleDivergingPow:X1,scaleDivergingSqrt:aee,scaleDivergingSymlog:w4,scaleIdentity:XL,scaleImplicit:xb,scaleLinear:QL,scaleLog:ZL,scaleOrdinal:O1,scalePoint:HX,scalePow:z1,scaleQuantile:r4,scaleQuantize:n4,scaleRadial:t4,scaleSequential:h4,scaleSequentialLog:p4,scaleSequentialPow:Q1,scaleSequentialQuantile:g4,scaleSequentialSqrt:iee,scaleSequentialSymlog:m4,scaleSqrt:$J,scaleSymlog:e4,scaleThreshold:i4,scaleTime:ree,scaleUtc:nee,tickFormat:YL},Symbol.toStringTag,{value:"Module"}));var ia=e=>e.chartData,cv=V([ia],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),b4=(e,t,r,n)=>n?cv(e):ia(e),_4=(e,t,r)=>r?cv(e):ia(e);function Qa(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ze(t)&&ze(r))return!0}return!1}function qI(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function x4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(ze(r))i=r;else if(typeof r=="function")return;if(ze(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(Qa(o))return o}}function oee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Qa(n))return qI(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(J(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&fA.test(i)){var l=fA.exec(i);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(J(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&hA.test(a)){var c=hA.exec(a);if(c==null||c[1]==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[o,s];if(Qa(h))return t==null?h:qI(h,t,r)}}}var su=1e9,see={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Z1,tt=!0,En="[DecimalError] ",Ho=En+"Invalid argument: ",J1=En+"Exponent out of range: ",lu=Math.floor,Io=Math.pow,lee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xr,qt=1e7,Ye=7,E4=9007199254740991,Pm=lu(E4/Ye),te={};te.absoluteValue=te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};te.comparedTo=te.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};te.decimalPlaces=te.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ye;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};te.dividedBy=te.div=function(e){return Di(this,new this.constructor(e))};te.dividedToIntegerBy=te.idiv=function(e){var t=this,r=t.constructor;return Fe(Di(t,new r(e),0,1),r.precision)};te.equals=te.eq=function(e){return!this.cmp(e)};te.exponent=function(){return Ct(this)};te.greaterThan=te.gt=function(e){return this.cmp(e)>0};te.greaterThanOrEqualTo=te.gte=function(e){return this.cmp(e)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(e){return this.cmp(e)<0};te.lessThanOrEqualTo=te.lte=function(e){return this.cmp(e)<1};te.logarithm=te.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xr))throw Error(En+"NaN");if(r.s<1)throw Error(En+(r.s?"NaN":"-Infinity"));return r.eq(Xr)?new n(0):(tt=!1,t=Di(md(r,a),md(e,a),a),tt=!0,Fe(t,i))};te.minus=te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?k4(t,e):S4(t,(e.s=-e.s,e))};te.modulo=te.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(En+"NaN");return r.s?(tt=!1,t=Di(r,e,0,1).times(e),tt=!0,r.minus(t)):Fe(new n(r),i)};te.naturalExponential=te.exp=function(){return P4(this)};te.naturalLogarithm=te.ln=function(){return md(this)};te.negated=te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};te.plus=te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S4(t,e):k4(t,(e.s=-e.s,e))};te.precision=te.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ho+e);if(t=Ct(i)+1,n=i.d.length-1,r=n*Ye+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};te.squareRoot=te.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(En+"NaN")}for(e=Ct(s),tt=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=Zn(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=lu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Di(s,a,o+2)).times(.5),Zn(a.d).slice(0,o)===(t=Zn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Fe(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return tt=!0,Fe(n,r)};te.times=te.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,h=c.d,p=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=h.length,u=p.length,l<u&&(a=h,h=p,p=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+p[n]*h[i-n-1]+t,a[i--]=s%qt|0,t=s/qt|0;a[i]=(a[i]+t)%qt|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,tt?Fe(e,d.precision):e};te.toDecimalPlaces=te.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(di(e,0,su),t===void 0?t=n.rounding:di(t,0,8),Fe(r,e+Ct(r)+1,t))};te.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=hs(n,!0):(di(e,0,su),t===void 0?t=i.rounding:di(t,0,8),n=Fe(new i(n),e+1,t),r=hs(n,!0,e+1)),r};te.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?hs(i):(di(e,0,su),t===void 0?t=a.rounding:di(t,0,8),n=Fe(new a(i),e+Ct(i)+1,t),r=hs(n.abs(),!1,e+Ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};te.toInteger=te.toint=function(){var e=this,t=e.constructor;return Fe(new t(e),Ct(e)+1,t.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(Xr);if(s=new l(s),!s.s){if(e.s<1)throw Error(En+"Infinity");return s}if(s.eq(Xr))return s;if(n=l.precision,e.eq(Xr))return Fe(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=E4){for(i=new l(Xr),t=Math.ceil(n/Ye+4),tt=!1;r%2&&(i=i.times(s),YI(i.d,t)),r=lu(r/2),r!==0;)s=s.times(s),YI(s.d,t);return tt=!0,e.s<0?new l(Xr).div(i):Fe(i,n)}}else if(a<0)throw Error(En+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,tt=!1,i=e.times(md(s,n+u)),tt=!0,i=P4(i),i.s=a,i};te.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=Ct(i),n=hs(i,r<=a.toExpNeg||r>=a.toExpPos)):(di(e,1,su),t===void 0?t=a.rounding:di(t,0,8),i=Fe(new a(i),e,t),r=Ct(i),n=hs(i,e<=r||r<=a.toExpNeg,e)),n};te.toSignificantDigits=te.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(di(e,1,su),t===void 0?t=n.rounding:di(t,0,8)),Fe(new n(r),e,t)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ct(e),r=e.constructor;return hs(e,t<=r.toExpNeg||t>=r.toExpPos)};function S4(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),tt?Fe(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/Ye),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/qt|0,l[a]%=qt;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,tt?Fe(t,d):t}function di(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ho+e)}function Zn(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=Ye-n.length,r&&(a+=ma(r)),a+=n;o=e[t],n=o+"",r=Ye-n.length,r&&(a+=ma(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Di=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%qt|0,o=a/qt|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*qt+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,h,p,g,_,v,y,x,E,k,I,C,T,P,A=n.constructor,O=n.s==i.s?1:-1,N=n.d,j=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(En+"Division by zero");for(l=n.e-i.e,T=j.length,I=N.length,p=new A(O),g=p.d=[],u=0;j[u]==(N[u]||0);)++u;if(j[u]>(N[u]||0)&&--l,a==null?x=a=A.precision:o?x=a+(Ct(n)-Ct(i))+1:x=a,x<0)return new A(0);if(x=x/Ye+2|0,u=0,T==1)for(c=0,j=j[0],x++;(u<I||c)&&x--;u++)E=c*qt+(N[u]||0),g[u]=E/j|0,c=E%j|0;else{for(c=qt/(j[0]+1)|0,c>1&&(j=e(j,c),N=e(N,c),T=j.length,I=N.length),k=T,_=N.slice(0,T),v=_.length;v<T;)_[v++]=0;P=j.slice(),P.unshift(0),C=j[0],j[1]>=qt/2&&++C;do c=0,s=t(j,_,T,v),s<0?(y=_[0],T!=v&&(y=y*qt+(_[1]||0)),c=y/C|0,c>1?(c>=qt&&(c=qt-1),d=e(j,c),h=d.length,v=_.length,s=t(d,_,h,v),s==1&&(c--,r(d,T<h?P:j,h))):(c==0&&(s=c=1),d=j.slice()),h=d.length,h<v&&d.unshift(0),r(_,d,v),s==-1&&(v=_.length,s=t(j,_,T,v),s<1&&(c++,r(_,T<v?P:j,v))),v=_.length):s===0&&(c++,_=[0]),g[u++]=c,s&&_[0]?_[v++]=N[k]||0:(_=[N[k]],v=1);while((k++<I||_[0]!==void 0)&&x--)}return g[0]||g.shift(),p.e=l,Fe(p,o?a+Ct(p)+1:a)}}();function P4(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if(Ct(e)>16)throw Error(J1+Ct(e));if(!e.s)return new c(Xr);for(tt=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Io(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(Xr),c.precision=s;;){if(i=Fe(i.times(e),s),r=r.times(++l),o=a.plus(Di(i,r,s)),Zn(o.d).slice(0,s)===Zn(a.d).slice(0,s)){for(;u--;)a=Fe(a.times(a),s);return c.precision=d,t==null?(tt=!0,Fe(a,d)):a}a=o}}function Ct(e){for(var t=e.e*Ye,r=e.d[0];r>=10;r/=10)t++;return t}function i0(e,t,r){if(t>e.LN10.sd())throw tt=!0,r&&(e.precision=r),Error(En+"LN10 precision limit exceeded");return Fe(new e(e.LN10),t)}function ma(e){for(var t="";e--;)t+="0";return t}function md(e,t){var r,n,i,a,o,s,l,u,c,d=1,h=10,p=e,g=p.d,_=p.constructor,v=_.precision;if(p.s<1)throw Error(En+(p.s?"NaN":"-Infinity"));if(p.eq(Xr))return new _(0);if(t==null?(tt=!1,u=v):u=t,p.eq(10))return t==null&&(tt=!0),i0(_,u);if(u+=h,_.precision=u,r=Zn(g),n=r.charAt(0),a=Ct(p),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Zn(p.d),n=r.charAt(0),d++;a=Ct(p),n>1?(p=new _("0."+r),a++):p=new _(n+"."+r.slice(1))}else return l=i0(_,u+2,v).times(a+""),p=md(new _(n+"."+r.slice(1)),u-h).plus(l),_.precision=v,t==null?(tt=!0,Fe(p,v)):p;for(s=o=p=Di(p.minus(Xr),p.plus(Xr),u),c=Fe(p.times(p),u),i=3;;){if(o=Fe(o.times(c),u),l=s.plus(Di(o,new _(i),u)),Zn(l.d).slice(0,u)===Zn(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(i0(_,u+2,v).times(a+""))),s=Di(s,new _(d),u),_.precision=v,t==null?(tt=!0,Fe(s,v)):s;s=l,i+=2}}function GI(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=lu(r/Ye),e.d=[],n=(r+1)%Ye,r<0&&(n+=Ye),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Ye;n<i;)e.d.push(+t.slice(n,n+=Ye));t=t.slice(n),n=Ye-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),tt&&(e.e>Pm||e.e<-Pm))throw Error(J1+r)}else e.s=0,e.e=0,e.d=[0];return e}function Fe(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Ye,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/Ye),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=Ye,i=n-Ye+o}if(r!==void 0&&(a=Io(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Io(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Ct(e),d.length=1,t=t-a-1,d[0]=Io(10,(Ye-t%Ye)%Ye),e.e=lu(-t/Ye)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Io(10,Ye-n),d[c]=i>0?(u/Io(10,o-i)%Io(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==qt&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=qt)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(tt&&(e.e>Pm||e.e<-Pm))throw Error(J1+Ct(e));return e}function k4(e,t){var r,n,i,a,o,s,l,u,c,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),tt?Fe(t,p):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(p/Ye),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=qt-1;--l[a],l[i]+=qt}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,tt?Fe(t,p):t):new h(0)}function hs(e,t,r){var n,i=Ct(e),a=Zn(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ma(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ma(-i-1)+a,r&&(n=r-o)>0&&(a+=ma(n))):i>=o?(a+=ma(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+ma(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=ma(n))),e.s<0?"-"+a:a}function YI(e,t){if(e.length>t)return e.length=t,!0}function T4(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Ho+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return GI(o,a.toString())}else if(typeof a!="string")throw Error(Ho+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,lee.test(a))GI(o,a);else throw Error(Ho+a)}if(i.prototype=te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=T4,i.config=i.set=uee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function uee(e){if(!e||typeof e!="object")throw Error(En+"Object expected");var t,r,n,i=["precision",1,su,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(lu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ho+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ho+r+": "+n);return this}var Z1=T4(see);Xr=new Z1(1);const De=Z1;var cee=e=>e,A4={},I4=e=>e===A4,QI=e=>function t(){return arguments.length===0||arguments.length===1&&I4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},O4=(e,t)=>e===1?t:QI(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==A4).length;return a>=e?t(...n):O4(e-a,QI(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>I4(c)?s.shift():c);return t(...u,...s)}))}),dee=e=>O4(e.length,e),kb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},fee=dee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),hee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cee;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}};function C4(e){var t;return e===0?t=1:t=Math.floor(new De(e).abs().log(10).toNumber())+1,t}function N4(e,t,r){for(var n=new De(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var D4=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},R4=(e,t,r)=>{if(e.lte(0))return new De(0);var n=C4(e.toNumber()),i=new De(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new De(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new De(l.toNumber()):new De(Math.ceil(l.toNumber()))},pee=(e,t,r)=>{var n=new De(1),i=new De(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new De(10).pow(C4(e)-1),i=new De(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new De(Math.floor(e)))}else e===0?i=new De(Math.floor((t-1)/2)):r||(i=new De(Math.floor(e)));var o=Math.floor((t-1)/2),s=hee(fee(l=>i.add(new De(l-o).mul(n)).toNumber()),kb);return s(0,t)},j4=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new De(0),tickMin:new De(0),tickMax:new De(0)};var o=R4(new De(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new De(0):(s=new De(t).add(r).div(2),s=s.sub(new De(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new De(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?j4(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new De(l).mul(o)),tickMax:s.add(new De(u).mul(o))})},mee=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=D4([r,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...kb(0,i-1).map(()=>1/0)]:[...kb(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(s===l)return pee(s,i,a);var{step:c,tickMin:d,tickMax:h}=j4(s,l,o,a,0),p=N4(d,h.add(new De(.1).mul(c)),c);return r>n?p.reverse():p},gee=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=D4([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),u=R4(new De(s).sub(o).div(l-1),a,0),c=[...N4(new De(o),new De(s),u),s];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?c.reverse():c},M4=e=>e.rootProps.maxBarSize,vee=e=>e.rootProps.barGap,L4=e=>e.rootProps.barCategoryGap,yee=e=>e.rootProps.barSize,ef=e=>e.rootProps.stackOffset,V4=e=>e.rootProps.reverseStackOrder,eE=e=>e.options.chartName,tE=e=>e.rootProps.syncId,$4=e=>e.rootProps.syncMethod,rE=e=>e.options.eventEmitter,wee=e=>e.rootProps.baseValue,Ot={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},xi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Yr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},dv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},bee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xi.angleAxisId,includeHidden:!1,name:void 0,reversed:xi.reversed,scale:xi.scale,tick:xi.tick,tickCount:void 0,ticks:void 0,type:xi.type,unit:void 0},_ee={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,ticks:void 0,type:Yr.type,unit:void 0},xee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xi.scale,tick:xi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Eee={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,ticks:void 0,type:"category",unit:void 0},nE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?xee:bee,iE=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Eee:_ee,fv=e=>e.polarOptions,aE=V([ta,ra,Lt],NL),F4=V([fv,aE],(e,t)=>{if(e!=null)return _r(e.innerRadius,t,0)}),z4=V([fv,aE],(e,t)=>{if(e!=null)return _r(e.outerRadius,t,t*.8)}),See=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},U4=V([fv],See);V([nE,U4],dv);var B4=V([aE,F4,z4],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([iE,B4],dv);var W4=V([Pe,fv,F4,z4,ta,ra],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:_r(o,i,i/2),cy:_r(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),rt=(e,t)=>t,tf=(e,t,r)=>r;function hv(e){return e==null?void 0:e.id}function K4(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=hv(s);u.forEach((d,h)=>{var p=a==null||i?h:String(Ve(d,a,null)),g=Ve(d,s.dataKey,0),_;o.has(p)?_=o.get(p):_={},Object.assign(_,{[c]:g}),o.set(p,_)})}}),Array.from(o.values())}function pv(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var mv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function gv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Pee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var $t=e=>{var t=Pe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},uu=e=>e.tooltip.settings.axisId;function XI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function km(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tb=[0,"auto"],Wt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},H4=(e,t)=>e.cartesianAxis.xAxis[t],aa=(e,t)=>{var r=H4(e,t);return r??Wt},Kt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Tb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Kd},q4=(e,t)=>e.cartesianAxis.yAxis[t],oa=(e,t)=>{var r=q4(e,t);return r??Kt},Iee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},oE=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Iee},ht=(e,t,r)=>{switch(t){case"xAxis":return aa(e,r);case"yAxis":return oa(e,r);case"zAxis":return oE(e,r);case"angleAxis":return nE(e,r);case"radiusAxis":return iE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Oee=(e,t,r)=>{switch(t){case"xAxis":return aa(e,r);case"yAxis":return oa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},rf=(e,t,r)=>{switch(t){case"xAxis":return aa(e,r);case"yAxis":return oa(e,r);case"angleAxis":return nE(e,r);case"radiusAxis":return iE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},G4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function sE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var vv=e=>e.graphicalItems.cartesianItems,Cee=V([rt,tf],sE),lE=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),nf=V([vv,ht,Cee],lE,{memoizeOptions:{resultEqualityCheck:gv}}),Y4=V([nf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pv)),Q4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Nee=V([nf],Q4),uE=e=>e.map(t=>t.data).filter(Boolean).flat(1),Dee=V([nf],uE,{memoizeOptions:{resultEqualityCheck:gv}}),cE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},dE=V([Dee,b4],cE),fE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ve(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ve(i,n)}))):e.map(n=>({value:n})),yv=V([dE,ht,nf],fE);function X4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Gh(e){if(ui(e)||e instanceof Date){var t=Number(e);if(ze(t))return t}}function JI(e){if(Array.isArray(e)){var t=[Gh(e[0]),Gh(e[1])];return Qa(t)?t:void 0}var r=Gh(e);if(r!=null)return[r,r]}function Gi(e){return e.map(Gh).filter(WH)}function Ree(e,t,r){return!r||typeof t!="number"||_n(t)?[]:r.length?Gi(r.flatMap(n=>{var i=Ve(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!ze(a)||!ze(o)))return[t-a,t+o]})):[]}var Ft=e=>{var t=$t(e),r=uu(e);return rf(e,t,r)},af=V([Ft],e=>e==null?void 0:e.dataKey),jee=V([Y4,b4,Ft],K4),J4=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=n?[...l].reverse():l,c=u.map(hv);return[s,{stackedData:sY(e,c,r),graphicalItems:u}]}))},Tm=V([jee,Y4,ef,V4],J4),Z4=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=dY(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Mee=V([ht],e=>e.allowDataOverflow),hE=e=>{var t;if(e==null||!("domain"in e))return Tb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Gi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Tb},pE=V([ht],hE),mE=V([pE,Mee],x4),Lee=V([Tm,ia,rt,mE],Z4,{memoizeOptions:{resultEqualityCheck:mv}}),wv=e=>e.errorBars,Vee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>X4(r,n)),Am=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},gE=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(y=>X4(i,y)),h=Ve(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),p=Ree(s,h,d);if(p.length>=2){var g=Math.min(...p),_=Math.max(...p);(a==null||g<a)&&(a=g),(o==null||_>o)&&(o=_)}var v=JI(h);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),o=o==null?v[1]:Math.max(o,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=JI(Ve(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),ze(a)&&ze(o))return[a,o]},$ee=V([dE,ht,Nee,wv,rt],gE,{memoizeOptions:{resultEqualityCheck:mv}});function Fee(e){var{value:t}=e;if(ui(t)||t instanceof Date)return t}var zee=(e,t,r)=>{var n=e.map(Fee).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Hj(n))?$L(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},eV=e=>e.referenceElements.dots,cu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Uee=V([eV,rt,tf],cu),tV=e=>e.referenceElements.areas,Bee=V([tV,rt,tf],cu),rV=e=>e.referenceElements.lines,Wee=V([rV,rt,tf],cu),nV=(e,t)=>{if(e!=null){var r=Gi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Kee=V(Uee,rt,nV),iV=(e,t)=>{if(e!=null){var r=Gi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Hee=V([Bee,rt],iV);function qee(e){var t;if(e.x!=null)return Gi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Gi(r)}function Gee(e){var t;if(e.y!=null)return Gi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Gi(r)}var aV=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?qee(n):Gee(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Yee=V([Wee,rt],aV),Qee=V(Kee,Yee,Hee,(e,t,r)=>Am(e,r,t)),vE=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?Am(n,a,i):Am(a,i);return oee(t,u,e.allowDataOverflow)},Xee=V([ht,pE,mE,Lee,$ee,Qee,Pe,rt],vE,{memoizeOptions:{resultEqualityCheck:mv}}),Jee=[0,1],yE=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=ea(t,a);if(u&&s==null){var c;return $L(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?zee(n,e,u):i==="expand"?Jee:o}},wE=V([ht,Pe,dE,yv,ef,rt,Xee],yE),oV=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat($d(a));return s in cc?s:"point"}}},du=V([ht,Pe,G4,eE,rt],oV);function Zee(e){if(e!=null){if(e in cc)return cc[e]();var t="scale".concat($d(e));if(t in cc)return cc[t]()}}function bE(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Zee(t);if(i!=null){var a=i.domain(r).range(n);return rY(a),a}}}var _E=(e,t,r)=>{var n=hE(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Qa(e))return mee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Qa(e))return gee(e,t.tickCount,t.allowDecimals)}},xE=V([wE,rf,du],_E),EE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Qa(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},ete=V([ht,wE,xE,rt],EE),tte=V(yv,ht,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Gi(e.map(d=>d.value))).sort((d,h)=>d-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s],u=n[s+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/o}}),sV=V(tte,Pe,L4,Lt,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!ze(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=_r(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),rte=(e,t,r)=>{var n=aa(e,t);return n==null||typeof n.padding!="string"?0:sV(e,"xAxis",t,r,n.padding)},nte=(e,t,r)=>{var n=oa(e,t);return n==null||typeof n.padding!="string"?0:sV(e,"yAxis",t,r,n.padding)},ite=V(aa,rte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),ate=V(oa,nte,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),ote=V([Lt,ite,Jg,Xg,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),ste=V([Lt,Pe,ate,Jg,Xg,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),of=(e,t,r,n)=>{var i;switch(t){case"xAxis":return ote(e,r,n);case"yAxis":return ste(e,r,n);case"zAxis":return(i=oE(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return U4(e);case"radiusAxis":return B4(e,r);default:return}},lV=V([ht,of],dv),bv=V([ht,du,ete,lV],bE);V([nf,wv,rt],Vee);function uV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var _v=(e,t)=>t,xv=(e,t,r)=>r,lte=V(Yg,_v,xv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(uV)),ute=V(Qg,_v,xv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(uV)),cV=(e,t)=>({width:e.width,height:t.height}),cte=(e,t)=>{var r=typeof t.width=="number"?t.width:Kd;return{width:r,height:e.height}},dV=V(Lt,aa,cV),dte=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},fte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},hte=V(ra,Lt,lte,_v,xv,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=cV(t,s);o==null&&(o=dte(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),pte=V(ta,Lt,ute,_v,xv,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=cte(t,s);o==null&&(o=fte(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),mte=(e,t)=>{var r=aa(e,t);if(r!=null)return hte(e,r.orientation,r.mirror)},gte=V([Lt,aa,mte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),vte=(e,t)=>{var r=oa(e,t);if(r!=null)return pte(e,r.orientation,r.mirror)},yte=V([Lt,oa,vte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),fV=V(Lt,oa,(e,t)=>{var r=typeof t.width=="number"?t.width:Kd;return{width:r,height:e.height}}),ZI=(e,t,r)=>{switch(t){case"xAxis":return dV(e,r).width;case"yAxis":return fV(e,r).height;default:return}},hV=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=ea(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&Hj(l))return l}},SE=V([Pe,yv,ht,rt],hV),pV=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=ea(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},PE=V([Pe,yv,rf,rt],pV),eO=V([Pe,Oee,du,bv,SE,PE,of,xE,rt],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var u=ea(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),wte=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=ea(e,l),{type:c,ticks:d,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=c==="category"&&n.bandwidth?n.bandwidth()/p:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Yt(a[0]-a[1])*2*g:g;var _=d||i;if(_){var v=_.map((y,x)=>{var E=o?o.indexOf(y):y;return{index:x,coordinate:n(E)+g,value:y,offset:g}});return v.filter(y=>ze(y.coordinate))}return u&&s?s.map((y,x)=>({coordinate:n(y)+g,value:y,index:x,offset:g})).filter(y=>ze(y.coordinate)):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+g,value:y,offset:g})):n.domain().map((y,x)=>({coordinate:n(y)+g,value:o?o[y]:y,index:x,offset:g}))}},mV=V([Pe,rf,du,bv,xE,of,SE,PE,rt],wte),bte=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=ea(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Yt(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},Xa=V([Pe,rf,bv,of,SE,PE,rt],bte),Ja=V(ht,bv,(e,t)=>{if(!(e==null||t==null))return km(km({},e),{},{scale:t})}),_te=V([ht,du,wE,lV],bE);V((e,t,r)=>oE(e,r),_te,(e,t)=>{if(!(e==null||t==null))return km(km({},e),{},{scale:t})});var xte=V([Pe,Yg,Qg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),gV=e=>e.options.defaultTooltipEventType,vV=e=>e.options.validateTooltipEventTypes;function yV(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function kE(e,t){var r=gV(e),n=vV(e);return yV(t,r,n)}function Ete(e){return ie(t=>kE(t,e))}var wV=(e,t)=>{var r,n=Number(t);if(!(_n(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Ste=e=>e.tooltip.settings,Ea={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Pte={itemInteraction:{click:Ea,hover:Ea},axisInteraction:{click:Ea,hover:Ea},keyboardInteraction:Ea,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},bV=Br({name:"tooltip",initialState:Pte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ze()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Mn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:Ze()},removeTooltipEntrySettings:{reducer(e,t){var r=Mn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Ze()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:kte,replaceTooltipEntrySettings:Tte,removeTooltipEntrySettings:Ate,setTooltipSettingsState:Ite,setActiveMouseOverItemIndex:_V,mouseLeaveItem:Ote,mouseLeaveChart:xV,setActiveClickItemIndex:Cte,setMouseOverAxisIndex:EV,setMouseClickAxisIndex:Nte,setSyncInteraction:Ab,setKeyboardInteraction:Ib}=bV.actions,Dte=bV.reducer;function tO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tO(Object(r),!0).forEach(function(n){Rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rte(e,t,r){return(t=jte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jte(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lte(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Vte(e){return e.index!=null}var SV=(e,t,r,n)=>{if(t==null)return Ea;var i=Lte(e,t,r);if(i==null)return Ea;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Vte(i)){if(a)return vh(vh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return vh(vh({},Ea),{},{coordinate:i.coordinate})};function $te(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Fte(e,t){var r=$te(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function zte(e,t,r){if(r==null||t==null)return!0;var n=Ve(e,t);return n==null||!Qa(r)?!0:Fte(n,r)}var TE=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!ze(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),u=t[l];return u==null||zte(u,r,n)?String(l):null},PV=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},kV=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},sf=e=>e.options.tooltipPayloadSearcher,fu=e=>e.tooltip;function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(n){Ute(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ute(e,t,r){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bte(e){var t=Wte(e,"string");return typeof t=="symbol"?t:t+""}function Wte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kte(e,t){return e??t}var TV=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((h,p)=>{var g,{dataDefinedOnItem:_,settings:v}=p,y=Kte(_,s),x=Array.isArray(y)?tL(y,u,c):y,E=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,k=v==null?void 0:v.nameKey,I;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&o==="axis"?I=qj(x,n,i):I=a(x,t,l,k),Array.isArray(I))I.forEach(T=>{var P=nO(nO({},v),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});h.push(pA({tooltipEntrySettings:P,dataKey:T.dataKey,payload:T.payload,value:Ve(T.payload,T.dataKey),name:T.name}))});else{var C;h.push(pA({tooltipEntrySettings:v,dataKey:E,payload:I,value:Ve(I,E),name:(C=Ve(I,k))!==null&&C!==void 0?C:v==null?void 0:v.name}))}return h},d)}},AE=V([Ft,Pe,G4,eE,$t],oV),Hte=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qte=V([$t,uu],sE),hu=V([Hte,Ft,qte],lE,{memoizeOptions:{resultEqualityCheck:gv}}),Gte=V([hu],e=>e.filter(pv)),Yte=V([hu],uE,{memoizeOptions:{resultEqualityCheck:gv}}),pu=V([Yte,ia],cE),Qte=V([Gte,ia,Ft],K4),IE=V([pu,Ft,hu],fE),AV=V([Ft],hE),Xte=V([Ft],e=>e.allowDataOverflow),IV=V([AV,Xte],x4),Jte=V([hu],e=>e.filter(pv)),Zte=V([Qte,Jte,ef,V4],J4),ere=V([Zte,ia,$t,IV],Z4),tre=V([hu],Q4),rre=V([pu,Ft,tre,wv,$t],gE,{memoizeOptions:{resultEqualityCheck:mv}}),nre=V([eV,$t,uu],cu),ire=V([nre,$t],nV),are=V([tV,$t,uu],cu),ore=V([are,$t],iV),sre=V([rV,$t,uu],cu),lre=V([sre,$t],aV),ure=V([ire,lre,ore],Am),cre=V([Ft,AV,IV,ere,rre,ure,Pe,$t],vE),lf=V([Ft,Pe,pu,IE,ef,$t,cre],yE),dre=V([lf,Ft,AE],_E),fre=V([Ft,lf,dre,$t],EE),OV=e=>{var t=$t(e),r=uu(e),n=!1;return of(e,t,r,n)},CV=V([Ft,OV],dv),NV=V([Ft,AE,fre,CV],bE),hre=V([Pe,IE,Ft,$t],hV),pre=V([Pe,IE,Ft,$t],pV),mre=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=ea(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Yt(i[0]-i[1])*2*d:d,u&&o?o.map((h,p)=>({coordinate:n(h)+d,value:h,index:p,offset:d})):n.domain().map((h,p)=>({coordinate:n(h)+d,value:a?a[h]:h,index:p,offset:d}))}}},sa=V([Pe,Ft,AE,NV,OV,hre,pre,$t],mre),OE=V([gV,vV,Ste],(e,t,r)=>yV(r.shared,e,t)),DV=e=>e.tooltip.settings.trigger,CE=e=>e.tooltip.settings.defaultIndex,uf=V([fu,OE,DV,CE],SV),Za=V([uf,pu,af,lf],TE),RV=V([sa,Za],wV),NE=V([uf],e=>{if(e)return e.dataKey}),gre=V([uf],e=>{if(e)return e.graphicalItemId}),jV=V([fu,OE,DV,CE],kV),vre=V([ta,ra,Pe,Lt,sa,CE,jV,sf],PV),yre=V([uf,vre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),wre=V([uf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),bre=V([jV,Za,ia,af,RV,sf,OE],TV),_re=V([bre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){xre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xre(e,t,r){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ere(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pre=()=>ie(Ft),kre=()=>{var e=Pre(),t=ie(sa),r=ie(NV);return Ul(!e||!r?void 0:aO(aO({},e),{},{scale:r}),t)};function oO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ls(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oO(Object(r),!0).forEach(function(n){Tre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tre(e,t,r){return(t=Are(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Are(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ore=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Cre=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return Ls(Ls(Ls({},n),It(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return Ls(Ls(Ls({},n),It(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Nre(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var MV=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,c,d,h,p=s>0?(l=r[s-1])===null||l===void 0?void 0:l.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,g=(c=r[s])===null||c===void 0?void 0:c.coordinate,_=s>=o-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(p==null||g==null||_==null))if(Yt(g-p)!==Yt(_-g)){var y=[];if(Yt(_-g)===Yt(i[1]-i[0])){v=_;var x=g+i[1]-i[0];y[0]=Math.min(x,(x+p)/2),y[1]=Math.max(x,(x+p)/2)}else{v=p;var E=_+i[1]-i[0];y[0]=Math.min(g,(E+g)/2),y[1]=Math.max(g,(E+g)/2)}var k=[Math.min(g,(v+g)/2),Math.max(g,(v+g)/2)];if(e>k[0]&&e<=k[1]||e>=y[0]&&e<=y[1]){var I;return(I=r[s])===null||I===void 0?void 0:I.index}}else{var C=Math.min(p,_),T=Math.max(p,_);if(e>(C+g)/2&&e<=(T+g)/2){var P;return(P=r[s])===null||P===void 0?void 0:P.index}}}else if(t)for(var A=0;A<o;A++){var O=t[A];if(O!=null){var N=t[A+1],j=t[A-1];if(A===0&&N!=null&&e<=(O.coordinate+N.coordinate)/2||A===o-1&&j!=null&&e>(O.coordinate+j.coordinate)/2||A>0&&A<o-1&&j!=null&&N!=null&&e>(O.coordinate+j.coordinate)/2&&e<=(O.coordinate+N.coordinate)/2)return O.index}}return-1},LV=()=>ie(eE),DE=(e,t)=>t,VV=(e,t,r)=>r,RE=(e,t,r,n)=>n,Dre=V(sa,e=>Fg(e,t=>t.coordinate)),jE=V([fu,DE,VV,RE],SV),ME=V([jE,pu,af,lf],TE),Rre=(e,t,r)=>{if(t!=null){var n=fu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},$V=V([fu,DE,VV,RE],kV),Im=V([ta,ra,Pe,Lt,sa,RE,$V,sf],PV),jre=V([jE,Im],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),FV=V([sa,ME],wV),Mre=V([$V,ME,ia,af,FV,sf,DE],TV),Lre=V([jE,ME],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Vre=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&Nre(e,o)){var s=fY(e,t),l=MV(s,a,i,r,n),u=Ore(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},$re=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=kX(e,r);if(s){var l=hY(s,t),u=MV(l,o,a,n,i),c=Cre(t,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},Fre=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Vre(e,t,n,i,a,o,s):$re(e,t,r,n,i,a,o)},zre=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Ure=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ot)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:Pee}});function sO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sO(Object(r),!0).forEach(function(n){Bre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bre(e,t,r){return(t=Wre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wre(e){var t=Kre(e,"string");return typeof t=="symbol"?t:t+""}function Kre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hre={},qre={zIndexMap:Object.values(Ot).reduce((e,t)=>lO(lO({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Hre)},Gre=new Set(Object.values(Ot));function Yre(e){return Gre.has(e)}var zV=Br({name:"zIndex",initialState:qre,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ze()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Yre(r)&&delete e.zIndexMap[r])},prepare:Ze()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Ze()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Ze()}}}),{registerZIndexPortal:Qre,unregisterZIndexPortal:Xre,registerZIndexPortalElement:Jre,unregisterZIndexPortalElement:Zre}=zV.actions,ene=zV.reducer;function Wr(e){var{zIndex:t,children:r}=e,n=zY(),i=n&&t!==void 0&&t!==0,a=Sr(),o=Ke();m.useLayoutEffect(()=>i?(o(Qre({zIndex:t})),()=>{o(Xre({zIndex:t}))}):Fd,[o,t,i]);var s=ie(l=>zre(l,t,a));return i?s?og.createPortal(r,s):null:r}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ob.apply(null,arguments)}function uO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uO(Object(r),!0).forEach(function(n){tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tne(e,t,r){return(t=rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rne(e){var t=nne(e,"string");return typeof t=="symbol"?t:t+""}function nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ine(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return m.isValidElement(t)?m.cloneElement(t,n):m.createElement(r,n)}function ane(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,h=n,p=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var g,_,v;if(c==="ScatterChart")g=d,_=FQ,v=Ot.cursorLine;else if(c==="BarChart")g=zQ(s,d,a,o),_=CL,v=Ot.cursorRectangle;else if(s==="radial"&&Yj(d)){var{cx:y,cy:x,radius:E,startAngle:k,endAngle:I}=DL(d);g={cx:y,cy:x,startAngle:k,endAngle:I,innerRadius:E,outerRadius:E},_=jL,v=Ot.cursorLine}else g={points:OX(s,d,a)},_=bl,v=Ot.cursorLine;var C=typeof l=="object"&&"className"in l?l.className:void 0,T=yh(yh(yh(yh({stroke:"#ccc",pointerEvents:"none"},a),g),ss(l)),{},{payload:h,payloadIndex:p,className:xe("recharts-tooltip-cursor",C)});return m.createElement(Wr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},m.createElement(ine,{cursor:l,cursorComp:_,cursorProps:T}))}function one(e){var t=kre(),r=mL(),n=xs(),i=LV();return t==null||r==null||n==null||i==null?null:m.createElement(ane,Ob({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var UV=m.createContext(null),sne=()=>m.useContext(UV),BV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,d||l,h),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,g=new Array(p);h<p;h++)g[h]=d[h].fn;return g},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,p,g){var _=r?r+u:u;if(!this._events[_])return!1;var v=this._events[_],y=arguments.length,x,E;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,p),!0;case 6:return v.fn.call(v.context,c,d,h,p,g),!0}for(E=1,x=new Array(y-1);E<y;E++)x[E-1]=arguments[E];v.fn.apply(v.context,x)}else{var k=v.length,I;for(E=0;E<k;E++)switch(v[E].once&&this.removeListener(u,v[E].fn,void 0,!0),y){case 1:v[E].fn.call(v[E].context);break;case 2:v[E].fn.call(v[E].context,c);break;case 3:v[E].fn.call(v[E].context,c,d);break;case 4:v[E].fn.call(v[E].context,c,d,h);break;default:if(!x)for(I=1,x=new Array(y-1);I<y;I++)x[I-1]=arguments[I];v[E].fn.apply(v[E].context,x)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!c)return o(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!h||g.once)&&(!d||g.context===d)&&o(this,p);else{for(var _=0,v=[],y=g.length;_<y;_++)(g[_].fn!==c||h&&!g[_].once||d&&g[_].context!==d)&&v.push(g[_]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(BV);var lne=BV.exports;const une=Qi(lne);var gd=new une,Cb="recharts.syncEvent.tooltip",cO="recharts.syncEvent.brush";function LE(e,t){if(t){var r=Number.parseInt(t,10);if(!_n(r))return e==null?void 0:e[r]}}var cne={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},WV=Br({name:"options",initialState:cne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dne=WV.reducer,{createEventEmitter:fne}=WV.actions;function hne(e){return e.tooltip.syncInteraction}var pne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KV=Br({name:"chartData",initialState:pne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:dO,setDataStartEndIndexes:mne,setComputedData:Bfe}=KV.actions,gne=KV.reducer,vne=["x","y"];function fO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fO(Object(r),!0).forEach(function(n){yne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yne(e,t,r){return(t=wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wne(e){var t=bne(e,"string");return typeof t=="symbol"?t:t+""}function bne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ne(e,t){if(e==null)return{};var r,n,i=xne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ene(){var e=ie(tE),t=ie(rE),r=Ke(),n=ie($4),i=ie(sa),a=xs(),o=Zg(),s=ie(l=>l.rootProps.className);m.useEffect(()=>{if(e==null)return Fd;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var h;if(o&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var p=c.payload.coordinate,{x:g,y:_}=p,v=_ne(p,vne),{x:y,y:x,width:E,height:k}=c.payload.sourceViewBox,I=Vs(Vs({},v),{},{x:o.x+(E?(g-y)/E:0)*o.width,y:o.y+(k?(_-x)/k:0)*o.height});r(Vs(Vs({},c),{},{payload:Vs(Vs({},c.payload),{},{coordinate:I})}))}else r(c);return}if(i!=null){var C;if(typeof n=="function"){var T={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},P=n(i,T);C=i[P]}else n==="value"&&(C=i.find(Z=>String(Z.value)===c.payload.label));var{coordinate:A}=c.payload;if(C==null||c.payload.active===!1||A==null||o==null){r(Ab({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:N}=A,j=Math.min(O,o.x+o.width),R=Math.min(N,o.y+o.height),F={x:a==="horizontal"?C.coordinate:j,y:a==="horizontal"?R:C.coordinate},G=Ab({active:c.payload.active,coordinate:F,dataKey:c.payload.dataKey,index:String(C.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(G)}}};return gd.on(Cb,l),()=>{gd.off(Cb,l)}},[s,r,t,e,n,i,a,o])}function Sne(){var e=ie(tE),t=ie(rE),r=Ke();m.useEffect(()=>{if(e==null)return Fd;var n=(i,a,o)=>{t!==o&&e===i&&r(mne(a))};return gd.on(cO,n),()=>{gd.off(cO,n)}},[r,t,e])}function Pne(){var e=Ke();m.useEffect(()=>{e(fne())},[e]),Ene(),Sne()}function kne(e,t,r,n,i,a){var o=ie(p=>Rre(p,e,t)),s=ie(rE),l=ie(tE),u=ie($4),c=ie(hne),d=c==null?void 0:c.active,h=Zg();m.useEffect(()=>{if(!d&&l!=null&&s!=null){var p=Ab({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});gd.emit(Cb,l,p,s)}},[d,r,o,i,n,s,l,u,a,h])}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tne(e,t,r){return(t=Ane(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ane(e){var t=Ine(e,"string");return typeof t=="symbol"?t:t+""}function Ine(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function One(e){return e.dataKey}function Cne(e,t){return m.isValidElement(e)?m.cloneElement(e,t):typeof e=="function"?m.createElement(e,t):m.createElement(wQ,t)}var mO=[],Nne={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tc(e){var t,r,n=Nt(e,Nne),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:p,reverseDirection:g,useTranslate3d:_,wrapperStyle:v,cursor:y,shared:x,trigger:E,defaultIndex:k,portal:I,axisId:C}=n,T=Ke(),P=typeof k=="number"?String(k):k;m.useEffect(()=>{T(Ite({shared:x,trigger:E,axisId:C,active:i,defaultIndex:P}))},[T,x,E,C,i,P]);var A=Zg(),O=kL(),N=Ete(x),{activeIndex:j,isActive:R}=(t=ie(Ee=>Lre(Ee,N,E,P)))!==null&&t!==void 0?t:{},F=ie(Ee=>Mre(Ee,N,E,P)),G=ie(Ee=>FV(Ee,N,E,P)),Z=ie(Ee=>jre(Ee,N,E,P)),ne=F,z=sne(),W=(r=i??R)!==null&&r!==void 0?r:!1,[Q,ue]=PM([ne,W]),ce=N==="axis"?G:void 0;kne(N,E,Z,ce,j,W);var ye=I??z;if(ye==null||A==null||N==null)return null;var Ne=ne??mO;W||(Ne=mO),u&&Ne.length&&(Ne=hM(Ne.filter(Ee=>Ee.value!=null&&(Ee.hide!==!0||n.includeHidden)),h,One));var it=Ne.length>0,at=m.createElement(kQ,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:W,coordinate:Z,hasPayload:it,offset:d,position:p,reverseDirection:g,useTranslate3d:_,viewBox:A,wrapperStyle:v,lastBoundingBox:Q,innerRef:ue,hasPortalFromProps:!!I},Cne(l,pO(pO({},n),{},{payload:Ne,label:ce,active:W,activeIndex:j,coordinate:Z,accessibilityLayer:O})));return m.createElement(m.Fragment,null,og.createPortal(at,ye),W&&m.createElement(one,{cursor:y,tooltipEventType:N,coordinate:Z,payload:Ne,index:j}))}var mu=e=>null;mu.displayName="Cell";function Dne(e,t,r){return(t=Rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rne(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mne{constructor(t){Dne(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function gO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gO(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return(t=$ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ne(e){var t=Fne(e,"string");return typeof t=="symbol"?t:t+""}function Fne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zne={cacheSize:2e3,enableCache:!0},HV=Lne({},zne),vO=new Mne(HV.cacheSize),Une={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yO="recharts_measurement_span";function Bne(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var wO=(e,t)=>{try{var r=document.getElementById(yO);r||(r=document.createElement("span"),r.setAttribute("id",yO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Une,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ac=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qd.isSsr)return{width:0,height:0};if(!HV.enableCache)return wO(t,r);var n=Bne(t,r),i=vO.get(n);if(i)return i;var a=wO(t,r);return vO.set(n,a),a},qV;function Wne(e,t,r){return(t=Kne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_O=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Gne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Qne=["cm","mm","pt","pc","in","Q","px"];function Xne(e){return Qne.includes(e)}var al="NaN";function Jne(e,t){return e*Yne[t]}class rr{static parse(t){var r,[,n,i]=(r=Gne.exec(t))!==null&&r!==void 0?r:[];return n==null?rr.NaN:new rr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,_n(t)&&(this.unit=""),r!==""&&!qne.test(r)&&(this.num=NaN,this.unit=""),Xne(r)&&(this.num=Jne(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new rr(NaN,""):new rr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new rr(NaN,""):new rr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new rr(NaN,""):new rr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new rr(NaN,""):new rr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _n(this.num)}}qV=rr;Wne(rr,"NaN",new qV(NaN,""));function GV(e){if(e==null||e.includes(al))return al;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=bO.exec(t))!==null&&r!==void 0?r:[],o=rr.parse(n??""),s=rr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return al;t=t.replace(bO,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=_O.exec(t))!==null&&u!==void 0?u:[],p=rr.parse(c??""),g=rr.parse(h??""),_=d==="+"?p.add(g):p.subtract(g);if(_.isNaN())return al;t=t.replace(_O,_.toString())}return t}var xO=/\(([^()]*)\)/;function Zne(e){for(var t=e,r;(r=xO.exec(t))!=null;){var[,n]=r;t=t.replace(xO,GV(n))}return t}function eie(e){var t=e.replace(/\s+/g,"");return t=Zne(t),t=GV(t),t}function tie(e){try{return eie(e)}catch{return al}}function a0(e){var t=tie(e.slice(5,-1));return t===al?"":t}var rie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],nie=["dx","dy","angle","className","breakAll"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(null,arguments)}function EO(e,t){if(e==null)return{};var r,n,i=iie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YV=/[ \f\n\r\t\v\u2028\u2029]+/,QV=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];ct(t)||(r?i=t.toString().split(""):i=t.toString().split(YV));var a=i.map(s=>({word:s,width:Ac(s,n).width})),o=r?0:Ac("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function aie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var XV=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var u={words:[o],width:s};i.push(u)}return i},[]),JV=e=>e.reduce((t,r)=>t.width>r.width?t:r),oie="",SO=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),u=QV({breakAll:r,style:n,children:l+oie});if(!u)return[!1,[]];var c=XV(u.wordsWithComputedWidth,a,o,s),d=c.length>i||JV(c).width>Number(a);return[d,c]},sie=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=J(a),c=String(o),d=XV(t,n,r,i);if(!u||i)return d;var h=d.length>a||JV(d).width>Number(n);if(!h)return d;for(var p=0,g=c.length-1,_=0,v;p<=g&&_<=c.length-1;){var y=Math.floor((p+g)/2),x=y-1,[E,k]=SO(c,x,l,s,a,n,r,i),[I]=SO(c,y,l,s,a,n,r,i);if(!E&&!I&&(p=y+1),E&&I&&(g=y-1),!E&&I){v=k;break}_++}return v||d},PO=e=>{var t=ct(e)?[]:e.toString().split(YV);return[{words:t,width:void 0}]},lie=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!qd.isSsr){var s,l,u=QV({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return PO(n);return sie({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return PO(n)},ZV="#808080",uie={angle:0,breakAll:!1,capHeight:"0.71em",fill:ZV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Ev=m.forwardRef((e,t)=>{var r=Nt(e,uie),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=EO(r,rie),h=m.useMemo(()=>lie({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:g,angle:_,className:v,breakAll:y}=d,x=EO(d,nie);if(!ui(n)||!ui(i)||h.length===0)return null;var E=Number(n)+(J(p)?p:0),k=Number(i)+(J(g)?g:0);if(!ze(E)||!ze(k))return null;var I;switch(c){case"start":I=a0("calc(".concat(o,")"));break;case"middle":I=a0("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:I=a0("calc(".concat(h.length-1," * -").concat(a,")"));break}var C=[];if(l){var T=h[0].width,{width:P}=d;C.push("scale(".concat(J(P)&&J(T)?P/T:1,")"))}return _&&C.push("rotate(".concat(_,", ").concat(E,", ").concat(k,")")),C.length&&(x.transform=C.join(" ")),m.createElement("text",Nb({},Or(x),{ref:t,x:E,y:k,className:xe("recharts-text",v),textAnchor:u,fill:s.includes("url")?ZV:s}),h.map((A,O)=>{var N=A.words.join(y?"":" ");return m.createElement("tspan",{x:E,dy:O===0?I:a,key:"".concat(N,"-").concat(O)},N)}))});Ev.displayName="Text";var cie=["labelRef"],die=["content"];function kO(e,t){if(e==null)return{};var r,n,i=fie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){hie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hie(e,t,r){return(t=pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pie(e){var t=mie(e,"string");return typeof t=="symbol"?t:t+""}function mie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(null,arguments)}var e$=m.createContext(null),gie=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=m.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return m.createElement(e$.Provider,{value:l},s)},t$=()=>{var e=m.useContext(e$),t=Zg();return e||pL(t)},vie=m.createContext(null),yie=()=>{var e=m.useContext(vie),t=ie(W4);return e||t},wie=e=>{var{value:t,formatter:r}=e,n=ct(e.children)?t:e.children;return typeof r=="function"?r(n):n},VE=e=>e!=null&&typeof e=="function",bie=(e,t)=>{var r=Yt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},_ie=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:p}=i,g=(u+c)/2,_=bie(d,h),v=_>=0?1:-1,y,x;switch(t){case"insideStart":y=d+v*a,x=p;break;case"insideEnd":y=h-v*a,x=!p;break;case"end":y=h+v*a,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=_<=0?x:!x;var E=It(s,l,g,y),k=It(s,l,g,y+(x?1:-1)*359),I="M".concat(E.x,",").concat(E.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(x?0:1,`,
    `).concat(k.x,",").concat(k.y),C=ct(e.id)?nd("recharts-radial-line-"):e.id;return m.createElement("text",Ei({},n,{dominantBaseline:"central",className:xe("recharts-radial-bar-label",o)}),m.createElement("defs",null,m.createElement("path",{id:C,d:I})),m.createElement("textPath",{xlinkHref:"#".concat(C)},r))},xie=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:d}=It(n,i,o+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:p,y:g}=It(n,i,h,u);return{x:p,y:g,textAnchor:"middle",verticalAnchor:"middle"}},Db=e=>"cx"in e&&J(e.cx),Eie=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!Db(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=o,h=o+(l-u)/2,p=(d+h)/2,g=(l+u)/2,_=d+l/2,v=c>=0?1:-1,y=v*n,x=v>0?"end":"start",E=v>0?"start":"end",k=l>=0?1:-1,I=k*n,C=k>0?"end":"start",T=k>0?"start":"end";if(i==="top"){var P={x:d+l/2,y:s-y,textAnchor:"middle",verticalAnchor:x};return _t(_t({},P),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var A={x:h+u/2,y:s+c+y,textAnchor:"middle",verticalAnchor:E};return _t(_t({},A),a?{height:Math.max(a.y+a.height-(s+c),0),width:u}:{})}if(i==="left"){var O={x:p-I,y:s+c/2,textAnchor:C,verticalAnchor:"middle"};return _t(_t({},O),a?{width:Math.max(O.x-a.x,0),height:c}:{})}if(i==="right"){var N={x:p+g+I,y:s+c/2,textAnchor:T,verticalAnchor:"middle"};return _t(_t({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:c}:{})}var j=a?{width:g,height:c}:{};return i==="insideLeft"?_t({x:p+I,y:s+c/2,textAnchor:T,verticalAnchor:"middle"},j):i==="insideRight"?_t({x:p+g-I,y:s+c/2,textAnchor:C,verticalAnchor:"middle"},j):i==="insideTop"?_t({x:d+l/2,y:s+y,textAnchor:"middle",verticalAnchor:E},j):i==="insideBottom"?_t({x:h+u/2,y:s+c-y,textAnchor:"middle",verticalAnchor:x},j):i==="insideTopLeft"?_t({x:d+I,y:s+y,textAnchor:T,verticalAnchor:E},j):i==="insideTopRight"?_t({x:d+l-I,y:s+y,textAnchor:C,verticalAnchor:E},j):i==="insideBottomLeft"?_t({x:h+I,y:s+c-y,textAnchor:T,verticalAnchor:x},j):i==="insideBottomRight"?_t({x:h+u-I,y:s+c-y,textAnchor:C,verticalAnchor:x},j):i&&typeof i=="object"&&(J(i.x)||Bi(i.x))&&(J(i.y)||Bi(i.y))?_t({x:o+_r(i.x,g),y:s+_r(i.y,c),textAnchor:"end",verticalAnchor:"end"},j):_t({x:_,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},Sie={angle:0,offset:5,zIndex:Ot.label,position:"middle",textBreakAll:!1};function ga(e){var t=Nt(e,Sie),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=yie(),d=t$(),h=n==="center"?d:c??d,p,g,_;if(r==null?p=h:Db(r)?p=r:p=pL(r),!p||ct(i)&&ct(a)&&!m.isValidElement(o)&&typeof o!="function")return null;var v=_t(_t({},t),{},{viewBox:p});if(m.isValidElement(o)){var{labelRef:y}=v,x=kO(v,cie);return m.cloneElement(o,x)}if(typeof o=="function"){var{content:E}=v,k=kO(v,die);if(g=m.createElement(o,k),m.isValidElement(g))return g}else g=wie(t);var I=Or(t);if(Db(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return _ie(t,n,g,I,p);_=xie(p,t.offset,t.position)}else _=Eie(t,p);return m.createElement(Wr,{zIndex:t.zIndex},m.createElement(Ev,Ei({ref:u,className:xe("recharts-label",s)},I,_,{textAnchor:aie(I.textAnchor)?I.textAnchor:_.textAnchor,breakAll:l}),g))}ga.displayName="Label";var Pie=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?m.createElement(ga,Ei({key:"label-implicit"},n)):ui(e)?m.createElement(ga,Ei({key:"label-implicit",value:e},n)):m.isValidElement(e)?e.type===ga?m.cloneElement(e,_t({key:"label-implicit"},n)):m.createElement(ga,Ei({key:"label-implicit",content:e},n)):VE(e)?m.createElement(ga,Ei({key:"label-implicit",content:e},n)):e&&typeof e=="object"?m.createElement(ga,Ei({},e,{key:"label-implicit"},n)):null};function kie(e){var{label:t,labelRef:r}=e,n=t$();return Pie(t,n,r)||null}var r$={},n$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(n$);var i$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(i$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n$,r=i$,n=Vg;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(r$);var Tie=r$.last;const Aie=Qi(Tie);var Iie=["valueAccessor"],Oie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Om(){return Om=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Om.apply(null,arguments)}function AO(e,t){if(e==null)return{};var r,n,i=Cie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Cie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nie=e=>Array.isArray(e.value)?Aie(e.value):e.value,a$=m.createContext(void 0),o$=a$.Provider,s$=m.createContext(void 0),Die=s$.Provider;function Rie(){return m.useContext(a$)}function jie(){return m.useContext(s$)}function Yh(e){var{valueAccessor:t=Nie}=e,r=AO(e,Iie),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=AO(r,Oie),u=Rie(),c=jie(),d=u||c;return!d||!d.length?null:m.createElement(Wr,{zIndex:s??Ot.label},m.createElement(St,{className:"recharts-label-list"},d.map((h,p)=>{var g,_=ct(n)?t(h,p):Ve(h&&h.payload,n),v=ct(a)?{}:{id:"".concat(a,"-").concat(p)};return m.createElement(ga,Om({key:"label-".concat(p)},Or(h),l,v,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:_,textBreakAll:o,viewBox:h.viewBox,index:p,zIndex:0}))})))}Yh.displayName="LabelList";function $E(e){var{label:t}=e;return t?t===!0?m.createElement(Yh,{key:"labelList-implicit"}):m.isValidElement(t)||VE(t)?m.createElement(Yh,{key:"labelList-implicit",content:t}):typeof t=="object"?m.createElement(Yh,Om({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(null,arguments)}var l$=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=xe("recharts-dot",i);return J(t)&&J(r)&&J(n)?m.createElement("circle",Rb({},Ur(e),t1(e),{className:a,cx:t,cy:r,r:n})):null},u$=e=>e.graphicalItems.polarItems,Mie=V([rt,tf],sE),Sv=V([u$,ht,Mie],lE),Lie=V([Sv],uE),Pv=V([Lie,cv],cE),Vie=V([Pv,ht,Sv],fE);V([Pv,ht,Sv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=Ve(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ve(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var IO=()=>{},$ie=V([Pv,ht,Sv,wv,rt],gE),Fie=V([ht,pE,mE,IO,$ie,IO,Pe,rt],vE),c$=V([ht,Pe,Pv,Vie,ef,rt,Fie],yE),zie=V([c$,ht,du],_E);V([ht,c$,zie,rt],EE);var Uie={radiusAxis:{},angleAxis:{}},d$=Br({name:"polarAxis",initialState:Uie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Wfe,removeRadiusAxis:Kfe,addAngleAxis:Hfe,removeAngleAxis:qfe}=d$.actions,Bie=d$.reducer;function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){Wie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wie(e,t,r){return(t=Kie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kie(e){var t=Hie(e,"string");return typeof t=="symbol"?t:t+""}function Hie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qie=(e,t)=>t,FE=V([u$,qie],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Gie=[],zE=(e,t,r)=>(r==null?void 0:r.length)===0?Gie:r,f$=V([cv,FE,zE],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>CO(CO({},t.presentationProps),a.props))),i!=null)return i}}),Yie=V([f$,FE,zE],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=Ve(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:au(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),Qie=V([f$,FE,zE,Lt],(e,t,r,n)=>{if(!(t==null||e==null))return Qae({offset:n,pieSettings:t,displayedData:e,cells:r})}),h$={exports:{}},Ue={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE=Symbol.for("react.transitional.element"),BE=Symbol.for("react.portal"),kv=Symbol.for("react.fragment"),Tv=Symbol.for("react.strict_mode"),Av=Symbol.for("react.profiler"),Iv=Symbol.for("react.consumer"),Ov=Symbol.for("react.context"),Cv=Symbol.for("react.forward_ref"),Nv=Symbol.for("react.suspense"),Dv=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),jv=Symbol.for("react.lazy"),Xie=Symbol.for("react.view_transition"),Jie=Symbol.for("react.client.reference");function Pn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case UE:switch(e=e.type,e){case kv:case Av:case Tv:case Nv:case Dv:case Xie:return e;default:switch(e=e&&e.$$typeof,e){case Ov:case Cv:case jv:case Rv:return e;case Iv:return e;default:return t}}case BE:return t}}}Ue.ContextConsumer=Iv;Ue.ContextProvider=Ov;Ue.Element=UE;Ue.ForwardRef=Cv;Ue.Fragment=kv;Ue.Lazy=jv;Ue.Memo=Rv;Ue.Portal=BE;Ue.Profiler=Av;Ue.StrictMode=Tv;Ue.Suspense=Nv;Ue.SuspenseList=Dv;Ue.isContextConsumer=function(e){return Pn(e)===Iv};Ue.isContextProvider=function(e){return Pn(e)===Ov};Ue.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===UE};Ue.isForwardRef=function(e){return Pn(e)===Cv};Ue.isFragment=function(e){return Pn(e)===kv};Ue.isLazy=function(e){return Pn(e)===jv};Ue.isMemo=function(e){return Pn(e)===Rv};Ue.isPortal=function(e){return Pn(e)===BE};Ue.isProfiler=function(e){return Pn(e)===Av};Ue.isStrictMode=function(e){return Pn(e)===Tv};Ue.isSuspense=function(e){return Pn(e)===Nv};Ue.isSuspenseList=function(e){return Pn(e)===Dv};Ue.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===kv||e===Av||e===Tv||e===Nv||e===Dv||typeof e=="object"&&e!==null&&(e.$$typeof===jv||e.$$typeof===Rv||e.$$typeof===Ov||e.$$typeof===Iv||e.$$typeof===Cv||e.$$typeof===Jie||e.getModuleId!==void 0)};Ue.typeOf=Pn;h$.exports=Ue;var Zie=h$.exports,NO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",DO=null,o0=null,p$=e=>{if(e===DO&&Array.isArray(o0))return o0;var t=[];return m.Children.forEach(e,r=>{ct(r)||(Zie.isFragment(r)?t=t.concat(p$(r.props.children)):t.push(r))}),o0=t,DO=e,t};function WE(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>NO(i)):n=[NO(t)],p$(e).forEach(i=>{var a=us(i,"type.displayName")||us(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var m$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,g$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(g$);var eae=g$.isPlainObject;const tae=Qi(eae);var RO,jO,MO,LO,VO;function $O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(r),!0).forEach(function(n){rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rae(e,t,r){return(t=nae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nae(e){var t=iae(e,"string");return typeof t=="symbol"?t:t+""}function iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cm(){return Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cm.apply(null,arguments)}function Ju(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var zO=(e,t,r,n,i)=>{var a=r-n,o;return o=gt(RO||(RO=Ju(["M ",",",""])),e,t),o+=gt(jO||(jO=Ju(["L ",",",""])),e+r,t),o+=gt(MO||(MO=Ju(["L ",",",""])),e+r-a/2,t+i),o+=gt(LO||(LO=Ju(["L ",",",""])),e+r-a/2-n,t+i),o+=gt(VO||(VO=Ju(["L ",","," Z"])),e,t),o},aae={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oae=e=>{var t=Nt(e,aae),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=m.useRef(null),[p,g]=m.useState(-1),_=m.useRef(i),v=m.useRef(a),y=m.useRef(o),x=m.useRef(r),E=m.useRef(n),k=Yd(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var F=h.current.getTotalLength();F&&g(F)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var I=xe("recharts-trapezoid",s);if(!d)return m.createElement("g",null,m.createElement("path",Cm({},Or(t),{className:I,d:zO(r,n,i,a,o)})));var C=_.current,T=v.current,P=y.current,A=x.current,O=E.current,N="0px ".concat(p===-1?1:p,"px"),j="".concat(p,"px 0px"),R=TL(["strokeDasharray"],u,l);return m.createElement(Gd,{animationId:k,key:k,canBegin:p>0,duration:u,easing:l,isActive:d,begin:c},F=>{var G=Qe(C,i,F),Z=Qe(T,a,F),ne=Qe(P,o,F),z=Qe(A,r,F),W=Qe(O,n,F);h.current&&(_.current=G,v.current=Z,y.current=ne,x.current=z,E.current=W);var Q=F>0?{transition:R,strokeDasharray:j}:{strokeDasharray:N};return m.createElement("path",Cm({},Or(t),{className:I,d:zO(z,W,G,Z,ne),ref:h,style:FO(FO({},Q),t.style)}))})},sae=["option","shapeType","activeClassName"];function lae(e,t){if(e==null)return{};var r,n,i=uae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cae(e,t,r){return(t=dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hae(e,t){return Nm(Nm({},t),e)}function pae(e,t){return e==="symbols"}function BO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return m.createElement(CL,r);case"trapezoid":return m.createElement(oae,r);case"sector":return m.createElement(jL,r);case"symbols":if(pae(t))return m.createElement(e1,r);break;case"curve":return m.createElement(bl,r);default:return null}}function mae(e){return m.isValidElement(e)?e.props:e}function v$(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=lae(e,sae),a;if(m.isValidElement(t))a=m.cloneElement(t,Nm(Nm({},i),mae(t)));else if(typeof t=="function")a=t(i,i.index);else if(tae(t)&&typeof t!="boolean"){var o=hae(t,i);a=m.createElement(BO,{shapeType:r,elementProps:o})}else{var s=i;a=m.createElement(BO,{shapeType:r,elementProps:s})}return i.isActive?m.createElement(St,{className:n},a):a}var KE=(e,t,r)=>{var n=Ke();return(i,a)=>o=>{e==null||e(i,a,o),n(_V({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},HE=e=>{var t=Ke();return(r,n)=>i=>{e==null||e(r,n,i),t(Ote())}},qE=(e,t,r)=>{var n=Ke();return(i,a)=>o=>{e==null||e(i,a,o),n(Cte({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function GE(e){var{tooltipEntrySettings:t}=e,r=Ke(),n=Sr(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(kte(t)):i.current!==t&&r(Tte({prev:i.current,next:t})),i.current=t)},[t,r,n]),m.useLayoutEffect(()=>()=>{i.current&&(r(Ate(i.current)),i.current=null)},[r]),null}function y$(e){var{legendPayload:t}=e,r=Ke(),n=Sr(),i=m.useRef(null);return m.useLayoutEffect(()=>{n||(i.current===null?r(EL(t)):i.current!==t&&r(SL({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(PL(i.current)),i.current=null)},[r]),null}function gae(e){var{legendPayload:t}=e,r=Ke(),n=ie(Pe),i=m.useRef(null);return m.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(EL(t)):i.current!==t&&r(SL({prev:i.current,next:t})),i.current=t)},[r,n,t]),m.useLayoutEffect(()=>()=>{i.current&&(r(PL(i.current)),i.current=null)},[r]),null}var s0,vae=()=>{var[e]=m.useState(()=>nd("uid-"));return e},yae=(s0=WC.useId)!==null&&s0!==void 0?s0:vae;function wae(e,t){var r=yae();return t||(e?"".concat(e,"-").concat(r):r)}var bae=m.createContext(void 0),YE=e=>{var{id:t,type:r,children:n}=e,i=wae("recharts-".concat(r),t);return m.createElement(bae.Provider,{value:i},n(i))},_ae={cartesianItems:[],polarItems:[]},w$=Br({name:"graphicalItems",initialState:_ae,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ze()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Mn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:Ze()},removeCartesianGraphicalItem:{reducer(e,t){var r=Mn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Ze()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ze()},removePolarGraphicalItem:{reducer(e,t){var r=Mn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Ze()}}}),{addCartesianGraphicalItem:xae,replaceCartesianGraphicalItem:Eae,removeCartesianGraphicalItem:Sae,addPolarGraphicalItem:Pae,removePolarGraphicalItem:kae}=w$.actions,Tae=w$.reducer,Aae=e=>{var t=Ke(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(xae(e)):r.current!==e&&t(Eae({prev:r.current,next:e})),r.current=e},[t,e]),m.useLayoutEffect(()=>()=>{r.current&&(t(Sae(r.current)),r.current=null)},[t]),null},b$=m.memo(Aae);function Iae(e){var t=Ke();return m.useLayoutEffect(()=>(t(Pae(e)),()=>{t(kae(e))}),[t,e]),null}var Oae=["key"],Cae=["onMouseEnter","onClick","onMouseLeave"],Nae=["id"],Dae=["id"];function WO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(r),!0).forEach(function(n){Rae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rae(e,t,r){return(t=jae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jae(e){var t=Mae(e,"string");return typeof t=="symbol"?t:t+""}function Mae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(null,arguments)}function Mv(e,t){if(e==null)return{};var r,n,i=Lae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vae(e){var t=m.useMemo(()=>WE(e.children,mu),[e.children]),r=ie(n=>Yie(n,e.id,t));return r==null?null:m.createElement(gae,{legendPayload:r})}var $ae=m.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:au(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:c}};return m.createElement(GE,{tooltipEntrySettings:d})}),Fae=(e,t)=>e>t?"start":e<t?"end":"middle",zae=(e,t,r)=>_r(typeof t=="function"?t(e):t,r,r*.8),Uae=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=NL(a,o),l=i+_r(e.cx,a,a/2),u=n+_r(e.cy,o,o/2),c=_r(e.innerRadius,s,0),d=zae(r,e.outerRadius,s),h=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:h}},Bae=(e,t)=>{var r=Yt(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Wae(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Kae=(e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if(typeof e=="function")return e(t);var r=xe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=Mv(t,Oae);return m.createElement(bl,eo({},i,{type:"linear",className:r}))},Hae=(e,t,r)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),m.isValidElement(n)))return n;var i=xe("recharts-pie-label-text",Wae(e));return m.createElement(Ev,eo({},t,{alignmentBaseline:"middle",className:i}),n)};function qae(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=Ur(r),l=ss(i),u=ss(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((h,p)=>{var g=(h.startAngle+h.endAngle)/2,_=It(h.cx,h.cy,h.outerRadius+c,g),v=yt(yt(yt(yt({},s),h),{},{stroke:"none"},l),{},{index:p,textAnchor:Fae(_.x,h.cx)},_),y=yt(yt(yt(yt({},s),h),{},{fill:"none",stroke:h.fill},u),{},{index:p,points:[It(h.cx,h.cy,h.outerRadius,g),_],key:"line"});return m.createElement(Wr,{zIndex:Ot.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},m.createElement(St,null,a&&Kae(a,y),Hae(i,v,Ve(h,o))))});return m.createElement(St,{className:"recharts-pie-labels"},d)}function Gae(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?m.createElement($E,{label:i}):m.createElement(qae,{sectors:t,props:r,showLabels:n})}function Yae(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,s=ie(Za),l=ie(NE),u=ie(gre),{onMouseEnter:c,onClick:d,onMouseLeave:h}=i,p=Mv(i,Cae),g=KE(c,i.dataKey,o),_=HE(h),v=qE(d,i.dataKey,o);return t==null||t.length===0?null:m.createElement(m.Fragment,null,t.map((y,x)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var E=u==null||u===o,k=String(x)===s&&(l==null||i.dataKey===l)&&E,I=s?n:null,C=r&&k?r:I,T=yt(yt({},y),{},{stroke:y.stroke,tabIndex:-1,[oL]:x,[sL]:o});return m.createElement(St,eo({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(x),tabIndex:-1,className:"recharts-pie-sector"},zd(p,y,x),{onMouseEnter:g(y,x),onMouseLeave:_(y,x),onClick:v(y,x)}),m.createElement(v$,eo({option:a??C,index:x,shapeType:"sector",isActive:k},T)))}))}function Qae(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,h=Math.abs(r.minAngle),p=Bae(s,l),g=Math.abs(p),_=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(C=>Ve(C,u,0)!==0).length,y=(g>=360?v:v-1)*_,x=g-v*h-y,E=n.reduce((C,T)=>{var P=Ve(T,u,0);return C+(J(P)?P:0)},0),k;if(E>0){var I;k=n.map((C,T)=>{var P=Ve(C,u,0),A=Ve(C,c,T),O=Uae(r,a,C),N=(J(P)?P:0)/E,j,R=yt(yt({},C),i&&i[T]&&i[T].props);T?j=I.endAngle+Yt(p)*_*(P!==0?1:0):j=s;var F=j+Yt(p)*((P!==0?h:0)+N*x),G=(j+F)/2,Z=(O.innerRadius+O.outerRadius)/2,ne=[{name:A,value:P,payload:R,dataKey:u,type:d,graphicalItemId:r.id}],z=It(O.cx,O.cy,Z,G);return I=yt(yt(yt(yt({},r.presentationProps),{},{percent:N,cornerRadius:typeof o=="string"?parseFloat(o):o,name:A,tooltipPayload:ne,midAngle:G,middleRadius:Z,tooltipPosition:z},R),O),{},{value:P,dataKey:u,startAngle:j,endAngle:F,payload:R,paddingAngle:Yt(p)*_}),I})}return k}function Xae(e){var{showLabels:t,sectors:r,children:n}=e,i=m.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return m.createElement(Die,{value:t?i:void 0},n)}function Jae(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=t,p=Yd(t,"recharts-pie-"),g=r.current,[_,v]=m.useState(!1),y=m.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),x=m.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return m.createElement(Xae,{showLabels:!_,sectors:i},m.createElement(Gd,{animationId:p,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:x,onAnimationEnd:y,key:p},E=>{var k=[],I=i&&i[0],C=I==null?void 0:I.startAngle;return i==null||i.forEach((T,P)=>{var A=g&&g[P],O=P>0?us(T,"paddingAngle",0):0;if(A){var N=Qe(A.endAngle-A.startAngle,T.endAngle-T.startAngle,E),j=yt(yt({},T),{},{startAngle:C+O,endAngle:C+N+O});k.push(j),C=j.endAngle}else{var{endAngle:R,startAngle:F}=T,G=Qe(0,R-F,E),Z=yt(yt({},T),{},{startAngle:C+O,endAngle:C+G+O});k.push(Z),C=Z.endAngle}}),r.current=k,m.createElement(St,null,m.createElement(Yae,{sectors:k,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),m.createElement(Gae,{showLabels:!_,sectors:i,props:t}),t.children)}var Zae={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ot.area};function eoe(e){var{id:t}=e,r=Mv(e,Nae),{hide:n,className:i,rootTabIndex:a}=e,o=m.useMemo(()=>WE(e.children,mu),[e.children]),s=ie(c=>Qie(c,t,o)),l=m.useRef(null),u=xe("recharts-pie",i);return n||s==null?(l.current=null,m.createElement(St,{tabIndex:a,className:u})):m.createElement(Wr,{zIndex:e.zIndex},m.createElement($ae,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),m.createElement(St,{tabIndex:a,className:u},m.createElement(Jae,{props:yt(yt({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function QE(e){var t=Nt(e,Zae),{id:r}=t,n=Mv(t,Dae),i=Ur(n);return m.createElement(YE,{id:r,type:"pie"},a=>m.createElement(m.Fragment,null,m.createElement(Iae,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),m.createElement(Vae,eo({},n,{id:a})),m.createElement(eoe,eo({},n,{id:a}))))}QE.displayName="Pie";var toe=["points"];function KO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(r),!0).forEach(function(n){roe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function roe(e,t,r){return(t=noe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function noe(e){var t=ioe(e,"string");return typeof t=="symbol"?t:t+""}function ioe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(null,arguments)}function aoe(e,t){if(e==null)return{};var r,n,i=ooe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ooe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function soe(e){var{option:t,dotProps:r,className:n}=e;if(m.isValidElement(t))return m.cloneElement(t,r);if(typeof t=="function")return t(r);var i=xe(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,s=aoe(a,toe);return m.createElement(l$,Dm({},s,{className:i}))}function loe(e,t){return e==null?!1:t?!0:e.length===1}function uoe(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:u=Ot.scatter}=e;if(!loe(t,r))return null;var c=m$(r),d=eH(r),h=t.map((g,_)=>{var v,y,x=l0(l0(l0({r:3},o),d),{},{index:_,cx:(v=g.x)!==null&&v!==void 0?v:void 0,cy:(y=g.y)!==null&&y!==void 0?y:void 0,dataKey:a,value:g.value,payload:g.payload,points:t});return m.createElement(soe,{key:"dot-".concat(_),option:r,dotProps:x,className:i})}),p={};return s&&l!=null&&(p.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),m.createElement(Wr,{zIndex:u},m.createElement(St,Dm({className:n},p),h))}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){coe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function coe(e,t,r){return(t=doe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function doe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _$=0,hoe={xAxis:{},yAxis:{},zAxis:{}},x$=Br({name:"cartesianAxis",initialState:hoe,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ze()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Ze()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ze()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ze()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Ze()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ze()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ze()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Ze()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ze()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=qO(qO({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:poe,replaceXAxis:moe,removeXAxis:goe,addYAxis:voe,replaceYAxis:yoe,removeYAxis:woe,addZAxis:Gfe,replaceZAxis:Yfe,removeZAxis:Qfe,updateYAxisWidth:boe}=x$.actions,_oe=x$.reducer,xoe=V([Lt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Eoe=V([xoe,ta,ra],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),XE=()=>ie(Eoe),Soe=()=>ie(_re);function GO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function u0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(r),!0).forEach(function(n){Poe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Poe(e,t,r){return(t=koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function koe(e){var t=Toe(e,"string");return typeof t=="symbol"?t:t+""}function Toe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aoe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=u0(u0(u0({},s),ss(i)),t1(i)),u;return m.isValidElement(i)?u=m.cloneElement(i,l):typeof i=="function"?u=i(l):u=m.createElement(l$,l),m.createElement(St,{className:"recharts-active-dot",clipPath:o},u)};function YO(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=Ot.activeDot}=e,s=ie(Za),l=Soe();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return ct(u)?null:m.createElement(Wr,{zIndex:o},m.createElement(Aoe,{point:u,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var QO=(e,t,r)=>{var n=r??e;if(!ct(n))return _r(n,t,0)},Ioe=(e,t,r)=>{var n={},i=e.filter(pv),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,h=d.map(g=>g.dataKey),p=QO(t,r,d[0].barSize);return{stackId:c,dataKeys:h,barSize:p}}),l=a.map(u=>{var c=[u.dataKey].filter(h=>h!=null),d=QO(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]};function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(n){Ooe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ooe(e,t,r){return(t=Coe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Coe(e){var t=Noe(e,"string");return typeof t=="symbol"?t:t+""}function Noe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Doe(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=_r(e,r,0,!0),s,l=[];if(ze(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((y,x)=>y+(x.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var h=(r-d)/2>>0,p={offset:h-o,size:0};s=n.reduce((y,x)=>{var E,k={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p.offset+p.size+o,size:u?c:(E=x.barSize)!==null&&E!==void 0?E:0}},I=[...y,k];return p=I[I.length-1].position,I},l)}else{var g=_r(t,r,0,!0);r-2*g-(a-1)*o<=0&&(o=0);var _=(r-2*g-(a-1)*o)/a;_>1&&(_>>=0);var v=ze(i)?Math.min(_,i):_;s=n.reduce((y,x,E)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:g+(_+o)*E+(_-v)/2,size:v}}],l)}return s}}var Roe=(e,t,r,n,i,a,o)=>{var s=ct(o)?t:o,l=Doe(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>wh(wh({},u),{},{position:wh(wh({},u.position),{},{offset:u.position.offset-i/2})}))),l},joe=(e,t)=>{var r=hv(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}};function Moe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ze(e.zIndex)?e.zIndex:t}var E$=e=>{var{chartData:t}=e,r=Ke(),n=Sr();return m.useEffect(()=>n?()=>{}:(r(dO(t)),()=>{r(dO(void 0))}),[t,r,n]),null},JO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},S$=Br({name:"brush",initialState:JO,reducers:{setBrushSettings(e,t){return t.payload==null?JO:t.payload}}}),{setBrushSettings:Xfe}=S$.actions,Loe=S$.reducer;function Voe(e,t,r){return(t=$oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $oe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class JE{static create(t){return new JE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Voe(JE,"EPS",1e-4);function zoe(e){return(e%180+180)%180}var Uoe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=zoe(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Boe={dots:[],areas:[],lines:[]},P$=Br({name:"referenceElements",initialState:Boe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Mn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Mn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Mn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Jfe,removeDot:Zfe,addArea:ehe,removeArea:the,addLine:rhe,removeLine:nhe}=P$.actions,Woe=P$.reducer,Koe=m.createContext(void 0),Hoe=e=>{var{children:t}=e,[r]=m.useState("".concat(nd("recharts"),"-clip")),n=XE();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return m.createElement(Koe.Provider,{value:r},m.createElement("defs",null,m.createElement("clipPath",{id:r},m.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function k$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function qoe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Uoe(n,r)}function Goe(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function vd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Yoe(e,t){return k$(e,t+1)}function Qoe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:k$(n,u)};var _=l,v,y=()=>(v===void 0&&(v=r(g,_)),v),x=g.coordinate,E=l===0||vd(e,x,y,c,s);E||(l=0,c=o,u+=1),E&&(c=x+e*(y()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function Xoe(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var c=(o-1)%u,d=s,h=!0,p=function(){var x=n[g],E=g,k,I=()=>(k===void 0&&(k=r(x,E)),k),C=x.coordinate,T=g===c||vd(e,C,I,d,l);if(!T)return h=!1,1;T&&(d=C+e*(I()/2+i))},g=c;g<o&&!p();g+=u);if(h){for(var _=[],v=c;v<o;v+=u)_.push(n[v]);return _}}return[]}function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){Joe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Joe(e,t,r){return(t=Zoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zoe(e){var t=ese(e,"string");return typeof t=="symbol"?t:t+""}function ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tse(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(h){var p=a[h],g,_=()=>(g===void 0&&(g=r(p,h)),g);if(h===o-1){var v=e*(p.coordinate+e*_()/2-l);a[h]=p=mr(mr({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else a[h]=p=mr(mr({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var y=vd(e,p.tickCoord,_,s,l);y&&(l=p.tickCoord-e*(_()/2+i),a[h]=mr(mr({},p),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function rse(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),h=e*(c.coordinate+e*d/2-u);if(o[s-1]=c=mr(mr({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var p=vd(e,c.tickCoord,()=>d,l,u);p&&(u=c.tickCoord-e*(d/2+i),o[s-1]=mr(mr({},c),{},{isShow:!0}))}}for(var g=a?s-1:s,_=function(x){var E=o[x],k,I=()=>(k===void 0&&(k=r(E,x)),k);if(x===0){var C=e*(E.coordinate-e*I()/2-l);o[x]=E=mr(mr({},E),{},{tickCoord:C<0?E.coordinate-C*e:E.coordinate})}else o[x]=E=mr(mr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var T=vd(e,E.tickCoord,I,l,u);T&&(l=E.tickCoord+e*(I()/2+i),o[x]=mr(mr({},E),{},{isShow:!0}))}},v=0;v<g;v++)_(v);return o}function ZE(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(J(l)||qd.isSsr){var h;return(h=Yoe(i,J(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],g=s==="top"||s==="bottom"?"width":"height",_=c&&g==="width"?Ac(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(E,k)=>{var I=typeof u=="function"?u(E.value,k):E.value;return g==="width"?qoe(Ac(I,{fontSize:t,letterSpacing:r}),_,d):Ac(I,{fontSize:t,letterSpacing:r})[g]},y=i.length>=2?Yt(i[1].coordinate-i[0].coordinate):1,x=Goe(a,y,g);return l==="equidistantPreserveStart"?Qoe(y,x,v,i,o):l==="equidistantPreserveEnd"?Xoe(y,x,v,i,o):(l==="preserveStart"||l==="preserveStartEnd"?p=rse(y,x,v,i,o,l==="preserveStartEnd"):p=tse(y,x,v,i,o),p.filter(E=>E.isShow))}var nse=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},ise=["axisLine","width","height","className","hide","ticks","axisType"];function ase(e,t){if(e==null)return{};var r,n,i=ose(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ose(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ps(){return ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ps.apply(null,arguments)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(n){sse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sse(e,t,r){return(t=lse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lse(e){var t=use(e,"string");return typeof t=="symbol"?t:t+""}function use(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ri={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ot.axis};function cse(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=kt(kt(kt({},l),Ur(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=kt(kt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=kt(kt({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return m.createElement("line",ps({},u,{className:xe("recharts-cartesian-axis-line",us(s,"className"))}))}function dse(e,t,r,n,i,a,o,s,l){var u,c,d,h,p,g,_=s?-1:1,v=e.tickSize||o,y=J(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=r+ +!s*i,d=h-_*v,g=d-_*l,p=y;break;case"left":d=h=e.coordinate,c=t+ +!s*n,u=c-_*v,p=u-_*l,g=y;break;case"right":d=h=e.coordinate,c=t+ +s*n,u=c+_*v,p=u+_*l,g=y;break;default:u=c=e.coordinate,h=r+ +s*i,d=h+_*v,g=d+_*l,p=y;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:p,y:g}}}function fse(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function hse(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function pse(e){var{option:t,tickProps:r,value:n}=e,i,a=xe(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(t))i=m.cloneElement(t,kt(kt({},r),{},{className:a}));else if(typeof t=="function")i=t(kt(kt({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=xe(o,t==null?void 0:t.className)),i=m.createElement(Ev,ps({},r,{className:o}),n)}return i}var mse=m.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:p,width:g,height:_,tickSize:v,tickMargin:y,fontSize:x,letterSpacing:E,getTicksConfig:k,events:I,axisType:C}=e,T=ZE(kt(kt({},k),{},{ticks:r}),x,E),P=fse(c,d),A=hse(c,d),O=Ur(k),N=ss(n),j={};typeof i=="object"&&(j=i);var R=kt(kt({},O),{},{fill:"none"},j),F=T.map(ne=>kt({entry:ne},dse(ne,h,p,g,_,c,v,d,y))),G=F.map(ne=>{var{entry:z,line:W}=ne;return m.createElement(St,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(z.value,"-").concat(z.coordinate,"-").concat(z.tickCoord)},i&&m.createElement("line",ps({},R,W,{className:xe("recharts-cartesian-axis-tick-line",us(i,"className"))})))}),Z=F.map((ne,z)=>{var{entry:W,tick:Q}=ne,ue=kt(kt(kt(kt({textAnchor:P,verticalAnchor:A},O),{},{stroke:"none",fill:a},N),Q),{},{index:z,payload:W,visibleTicksCount:T.length,tickFormatter:o,padding:l},u);return m.createElement(St,ps({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},zd(I,W,z)),n&&m.createElement(pse,{option:n,tickProps:ue,value:"".concat(typeof o=="function"?o(W.value,z):W.value).concat(s||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(C,"-ticks")},Z.length>0&&m.createElement(Wr,{zIndex:Ot.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(C,"-tick-labels"),ref:t},Z)),G.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(C,"-tick-lines")},G))}),gse=m.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,u=ase(e,ise),[c,d]=m.useState(""),[h,p]=m.useState(""),g=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return nse({ticks:g.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=m.useCallback(v=>{if(v){var y=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=y;var x=y[0];if(x){var E=window.getComputedStyle(x),k=E.fontSize,I=E.letterSpacing;(k!==c||I!==h)&&(d(k),p(I))}}},[c,h]);return o||n!=null&&n<=0||i!=null&&i<=0?null:m.createElement(Wr,{zIndex:e.zIndex},m.createElement(St,{className:xe("recharts-cartesian-axis",a)},m.createElement(cse,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Ur(e)}),m.createElement(mse,{ref:_,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(gie,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(kie,{label:e.label,labelRef:e.labelRef}),e.children)))}),eS=m.forwardRef((e,t)=>{var r=Nt(e,Ri);return m.createElement(gse,ps({},r,{ref:t}))});eS.displayName="CartesianAxis";var vse=["x1","y1","x2","y2","key"],yse=["offset"],wse=["xAxisId","yAxisId"],bse=["xAxisId","yAxisId"];function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){_se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _se(e,t,r){return(t=xse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xse(e){var t=Ese(e,"string");return typeof t=="symbol"?t:t+""}function Ese(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(null,arguments)}function Rm(e,t){if(e==null)return{};var r,n,i=Sse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Sse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pse=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return m.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function T$(e){var{option:t,lineItemProps:r}=e,n;if(m.isValidElement(t))n=m.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=r,c=Rm(r,vse),d=(i=Ur(c))!==null&&i!==void 0?i:{},{offset:h}=d,p=Rm(d,yse);n=m.createElement("line",Vo({},p,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return n}function kse(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Rm(e,wse),l=i.map((u,c)=>{var d=wr(wr({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return m.createElement(T$,{key:"line-".concat(c),option:n,lineItemProps:d})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Tse(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=Rm(e,bse),l=i.map((u,c)=>{var d=wr(wr({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return m.createElement(T$,{option:n,lineItemProps:d,key:"line-".concat(c)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Ase(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+o-d:u[h+1]-d;if(g<=0)return null;var _=h%t.length;return m.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:g,width:a,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function Ise(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var p=!u[h+1],g=p?i+o-d:u[h+1]-d;if(g<=0)return null;var _=h%r.length;return m.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:g,height:s,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var Ose=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return rL(ZE(wr(wr(wr({},Ri),r),{},{ticks:nL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},Cse=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return rL(ZE(wr(wr(wr({},Ri),r),{},{ticks:nL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},Nse={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ot.grid};function jm(e){var t=S1(),r=P1(),n=mL(),i=wr(wr({},Nt(e,Nse)),{},{x:J(e.x)?e.x:n.left,y:J(e.y)?e.y:n.top,width:J(e.width)?e.width:n.width,height:J(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:p}=i,g=Sr(),_=ie(A=>eO(A,"xAxis",a,g)),v=ie(A=>eO(A,"yAxis",o,g));if(!ci(u)||!ci(c)||!J(s)||!J(l))return null;var y=i.verticalCoordinatesGenerator||Ose,x=i.horizontalCoordinatesGenerator||Cse,{horizontalPoints:E,verticalPoints:k}=i;if((!E||!E.length)&&typeof x=="function"){var I=h&&h.length,C=x({yAxis:v?wr(wr({},v),{},{ticks:I?h:v.ticks}):void 0,width:t??u,height:r??c,offset:n},I?!0:d);sm(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(E=C)}if((!k||!k.length)&&typeof y=="function"){var T=p&&p.length,P=y({xAxis:_?wr(wr({},_),{},{ticks:T?p:_.ticks}):void 0,width:t??u,height:r??c,offset:n},T?!0:d);sm(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}return m.createElement(Wr,{zIndex:i.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(Pse,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),m.createElement(Ase,Vo({},i,{horizontalPoints:E})),m.createElement(Ise,Vo({},i,{verticalPoints:k})),m.createElement(kse,Vo({},i,{offset:n,horizontalPoints:E,xAxis:_,yAxis:v})),m.createElement(Tse,Vo({},i,{offset:n,verticalPoints:k,xAxis:_,yAxis:v}))))}jm.displayName="CartesianGrid";var Dse={},A$=Br({name:"errorBars",initialState:Dse,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:ihe,replaceErrorBar:ahe,removeErrorBar:ohe}=A$.actions,Rse=A$.reducer,jse=["children"];function Mse(e,t){if(e==null)return{};var r,n,i=Lse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vse={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$se=m.createContext(Vse);function Fse(e){var{children:t}=e,r=Mse(e,jse);return m.createElement($se.Provider,{value:r},t)}function tS(e,t){var r,n,i=ie(u=>aa(u,e)),a=ie(u=>oa(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Wt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Kt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function I$(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=XE(),{needClipX:a,needClipY:o,needClip:s}=tS(t,r);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return m.createElement("clipPath",{id:"clipPath-".concat(n)},m.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}function zse(e){var t=ss(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(s)||s<0)&&(s=n),{r:o,strokeWidth:s}}return{r,strokeWidth:n}}var Use={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cf=m;function Bse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wse=typeof Object.is=="function"?Object.is:Bse,Kse=cf.useSyncExternalStore,Hse=cf.useRef,qse=cf.useEffect,Gse=cf.useMemo,Yse=cf.useDebugValue;Use.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Hse(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Gse(function(){function l(p){if(!u){if(u=!0,c=p,p=n(p),i!==void 0&&o.hasValue){var g=o.value;if(i(g,p))return d=g}return d=p}if(g=d,Wse(c,p))return g;var _=n(p);return i!==void 0&&i(g,_)?(c=p,g):(c=p,d=_)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var s=Kse(e,a[0],a[1]);return qse(function(){o.hasValue=!0,o.value=s},[s]),Yse(s),s};function Qse(e){e()}function Xse(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Qse(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var rC={notify(){},get:()=>[]};function Jse(e,t){let r,n=rC,i=0,a=!1;function o(_){c();const v=n.subscribe(_);let y=!1;return()=>{y||(y=!0,v(),d())}}function s(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=Xse())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=rC)}function h(){a||(a=!0,c())}function p(){a&&(a=!1,d())}const g={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return g}var Zse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ele=Zse(),tle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",rle=tle(),nle=()=>ele||rle?m.useLayoutEffect:m.useEffect,ile=nle();function nC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function ale(e,t){if(nC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!nC(e[r[i]],t[r[i]]))return!1;return!0}var c0=Symbol.for("react-redux-context"),d0=typeof globalThis<"u"?globalThis:{};function ole(){if(!m.createContext)return{};const e=d0[c0]??(d0[c0]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var sle=ole();function lle(e){const{children:t,context:r,serverState:n,store:i}=e,a=m.useMemo(()=>{const l=Jse(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=m.useMemo(()=>i.getState(),[i]);ile(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||sle;return m.createElement(s.Provider,{value:a},t)}var ule=lle,cle=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function dle(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Lv(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(cle.has(n)){if(e[n]==null&&t[n]==null)continue;if(!ale(e[n],t[n]))return!1}else if(!dle(e[n],t[n]))return!1;return!0}function hi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:_$}function pi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:_$}var O$=(e,t,r)=>Ja(e,"xAxis",hi(e,t),r),C$=(e,t,r)=>Xa(e,"xAxis",hi(e,t),r),N$=(e,t,r)=>Ja(e,"yAxis",pi(e,t),r),D$=(e,t,r)=>Xa(e,"yAxis",pi(e,t),r),fle=V([Pe,O$,N$,C$,D$],(e,t,r,n,i)=>ea(e,"xAxis")?Ul(t,n,!1):Ul(r,i,!1)),hle=(e,t)=>t,R$=V([vv,hle],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),j$=e=>{var t=Pe(e),r=ea(t,"xAxis");return r?"yAxis":"xAxis"},ple=(e,t)=>{var r=j$(e);return r==="yAxis"?pi(e,t):hi(e,t)},mle=(e,t,r)=>Tm(e,j$(e),ple(e,t),r),gle=V([R$,mle],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=hv(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,o=a==null?void 0:a.find(s=>s.key===i);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),vle=V([Pe,O$,N$,C$,D$,gle,_4,fle,R$,wee],(e,t,r,n,i,a,o,s,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=o;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{data:p}=l,g;if(p&&p.length>0?g=p:g=c==null?void 0:c.slice(d,h+1),g!=null)return Mle({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:g,chartBaseValue:u,bandSize:s})}}),yle=["id"],wle=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qo.apply(null,arguments)}function M$(e,t){if(e==null)return{};var r,n,i=ble(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ble(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){_le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _le(e,t,r){return(t=xle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xle(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mm(e,t){return e&&e!=="none"?e:t}var Sle=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:Mm(n,i),value:au(r,t),payload:e}]},Ple=m.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:au(o,t),hide:s,type:u,color:Mm(n,a),unit:l,graphicalItemId:c}};return m.createElement(GE,{tooltipEntrySettings:d})});function kle(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:o}=n,s=Ur(n);return m.createElement(uoe,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:i,clipPathId:t})}function Tle(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var o,s,l={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ol(ol({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return m.createElement(o$,{value:t?i:void 0},r)}function aC(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:o,type:s,stroke:l,connectNulls:u,isRange:c}=a,{id:d}=a,h=M$(a,yle),p=Ur(h),g=Or(h);return m.createElement(m.Fragment,null,(t==null?void 0:t.length)>1&&m.createElement(St,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},m.createElement(bl,qo({},g,{id:d,points:t,connectNulls:u,type:s,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&m.createElement(bl,qo({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&m.createElement(bl,qo({},p,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:r}))),m.createElement(kle,{points:t,props:h,clipPathId:i}))}function Ale(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:o}=e,s=(t=a[0])===null||t===void 0?void 0:t.y,l=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!ze(s)||!ze(l))return null;var u=n*Math.abs(s-l),c=Math.max(...a.map(d=>d.x||0));return J(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.x||0),c)),J(c)?m.createElement("rect",{x:0,y:s<l?s:s-u,width:c+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}function Ile(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:o}=e,s=(t=a[0])===null||t===void 0?void 0:t.x,l=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!ze(s)||!ze(l))return null;var u=n*Math.abs(s-l),c=Math.max(...a.map(d=>d.y||0));return J(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.y||0),c)),J(c)?m.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(c+(o?parseInt("".concat(o),10):1))}):null}function Ole(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?m.createElement(Ale,{alpha:t,points:n,baseLine:i,strokeWidth:a}):m.createElement(Ile,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function Cle(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:h,onAnimationEnd:p}=n,g=m.useMemo(()=>({points:o,baseLine:s}),[o,s]),_=Yd(g,"recharts-area-"),v=FY(),[y,x]=m.useState(!1),E=!y,k=m.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),I=m.useCallback(()=>{typeof h=="function"&&h(),x(!0)},[h]);if(v==null)return null;var C=i.current,T=a.current;return m.createElement(Tle,{showLabels:E,points:o},n.children,m.createElement(Gd,{animationId:_,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:k,onAnimationStart:I,key:_},P=>{if(C){var A=C.length/o.length,O=P===1?o:o.map((j,R)=>{var F=Math.floor(R*A);if(C[F]){var G=C[F];return ol(ol({},j),{},{x:Qe(G.x,j.x,P),y:Qe(G.y,j.y,P)})}return j}),N;return J(s)?N=Qe(T,s,P):ct(s)||_n(s)?N=Qe(T,0,P):N=s.map((j,R)=>{var F=Math.floor(R*A);if(Array.isArray(T)&&T[F]){var G=T[F];return ol(ol({},j),{},{x:Qe(G.x,j.x,P),y:Qe(G.y,j.y,P)})}return j}),P>0&&(i.current=O,a.current=N),m.createElement(aC,{points:O,baseLine:N,needClip:t,clipPathId:r,props:n})}return P>0&&(i.current=o,a.current=s),m.createElement(St,null,l&&m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(r)},m.createElement(Ole,{alpha:P,points:o,baseLine:s,layout:v,strokeWidth:n.strokeWidth}))),m.createElement(St,{clipPath:"url(#animationClipPath-".concat(r,")")},m.createElement(aC,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n})))}),m.createElement($E,{label:n.label}))}function Nle(e){var{needClip:t,clipPathId:r,props:n}=e,i=m.useRef(null),a=m.useRef();return m.createElement(Cle,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class Dle extends m.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:o,needClip:s,xAxisId:l,yAxisId:u,width:c,height:d,id:h,baseLine:p,zIndex:g}=this.props;if(t)return null;var _=xe("recharts-area",i),v=h,{r:y,strokeWidth:x}=zse(r),E=m$(r),k=y*2+x,I=s?"url(#clipPath-".concat(E?"":"dots-").concat(v,")"):void 0;return m.createElement(Wr,{zIndex:g},m.createElement(St,{className:_},s&&m.createElement("defs",null,m.createElement(I$,{clipPathId:v,xAxisId:l,yAxisId:u}),!E&&m.createElement("clipPath",{id:"clipPath-dots-".concat(v)},m.createElement("rect",{x:o-k/2,y:a-k/2,width:c+k,height:d+k}))),m.createElement(Nle,{needClip:s,clipPathId:v,props:this.props})),m.createElement(YO,{points:n,mainColor:Mm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(p)&&m.createElement(YO,{points:p,mainColor:Mm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var L$={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ot.area};function Rle(e){var t,r=Nt(e,L$),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:h,legendType:p,stroke:g,xAxisId:_,yAxisId:v}=r,y=M$(r,wle),x=xs(),E=LV(),{needClip:k}=tS(_,v),I=Sr(),{points:C,isRange:T,baseLine:P}=(t=ie(F=>vle(F,e.id,I)))!==null&&t!==void 0?t:{},A=XE();if(x!=="horizontal"&&x!=="vertical"||A==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:O,width:N,x:j,y:R}=A;return!C||!C.length?null:m.createElement(Dle,qo({},y,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:P,connectNulls:s,dot:l,fill:u,fillOpacity:c,height:O,hide:d,layout:x,isAnimationActive:h==="auto"?!qd.isSsr:h,isRange:T,legendType:p,needClip:k,points:C,stroke:g,width:N,left:j,top:R,xAxisId:_,yAxisId:v}))}var jle=(e,t,r,n,i)=>{var a=r??t;if(J(a))return a;var o=e==="horizontal"?i:n,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function Mle(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:h,bandSize:p}=e,g=i&&i.length,_=jle(a,o,r,s,l),v=a==="horizontal",y=!1,x=u.map((k,I)=>{var C,T,P;if(g)P=i[c+I];else{var A=Ve(k,n);Array.isArray(A)?(P=A,y=!0):P=[_,A]}var O=(C=(T=P)===null||T===void 0?void 0:T[1])!==null&&C!==void 0?C:null,N=O==null||g&&!t&&Ve(k,n)==null;return v?{x:cA({axis:s,ticks:d,bandSize:p,entry:k,index:I}),y:N?null:l.scale(O),value:P,payload:k}:{x:N?null:s.scale(O),y:cA({axis:l,ticks:h,bandSize:p,entry:k,index:I}),value:P,payload:k}}),E;return g||y?E=x.map(k=>{var I=Array.isArray(k.value)?k.value[0]:null;return v?{x:k.x,y:I!=null&&k.y!=null?l.scale(I):null,payload:k.payload}:{x:I!=null?s.scale(I):null,y:k.y,payload:k.payload}}):E=v?l.scale(_):s.scale(_),{points:x,baseLine:E,isRange:y}}function Lle(e){var t=Nt(e,L$),r=Sr();return m.createElement(YE,{id:t.id,type:"area"},n=>m.createElement(m.Fragment,null,m.createElement(y$,{legendPayload:Sle(t)}),m.createElement(Ple,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),m.createElement(b$,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:iL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),m.createElement(Rle,qo({},t,{id:n}))))}var jb=m.memo(Lle,Lv);jb.displayName="Area";var Vle="Invariant failed";function $le(e,t){throw new Error(Vle)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}function Lm(e){return m.createElement(v$,Mb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Fle=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(J(t))return t;var a=J(n)||ct(n);return a?t(n,i):(a||$le(),r)}},zle=(e,t,r)=>r,Ule=(e,t)=>t,df=V([vv,Ule],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Ble=V([df],e=>e==null?void 0:e.maxBarSize),Wle=(e,t,r,n)=>n,Kle=V([Pe,vv,hi,pi,zle],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Hle=(e,t,r)=>{var n=Pe(e),i=hi(e,t),a=pi(e,t);if(!(i==null||a==null))return n==="horizontal"?Tm(e,"yAxis",a,r):Tm(e,"xAxis",i,r)},qle=(e,t)=>{var r=Pe(e),n=hi(e,t),i=pi(e,t);if(!(n==null||i==null))return r==="horizontal"?ZI(e,"xAxis",n):ZI(e,"yAxis",i)},Gle=V([Kle,yee,qle],Ioe),Yle=(e,t,r)=>{var n,i,a=df(e,t);if(a!=null){var o=hi(e,t),s=pi(e,t);if(!(o==null||s==null)){var l=Pe(e),u=M4(e),{maxBarSize:c}=a,d=ct(c)?u:c,h,p;return l==="horizontal"?(h=Ja(e,"xAxis",o,r),p=Xa(e,"xAxis",o,r)):(h=Ja(e,"yAxis",s,r),p=Xa(e,"yAxis",s,r)),(n=(i=Ul(h,p,!0))!==null&&i!==void 0?i:d)!==null&&n!==void 0?n:0}}},V$=(e,t,r)=>{var n=Pe(e),i=hi(e,t),a=pi(e,t);if(!(i==null||a==null)){var o,s;return n==="horizontal"?(o=Ja(e,"xAxis",i,r),s=Xa(e,"xAxis",i,r)):(o=Ja(e,"yAxis",a,r),s=Xa(e,"yAxis",a,r)),Ul(o,s)}},Qle=V([Gle,M4,vee,L4,Yle,V$,Ble],Roe),Xle=(e,t,r)=>{var n=hi(e,t);if(n!=null)return Ja(e,"xAxis",n,r)},Jle=(e,t,r)=>{var n=pi(e,t);if(n!=null)return Ja(e,"yAxis",n,r)},Zle=(e,t,r)=>{var n=hi(e,t);if(n!=null)return Xa(e,"xAxis",n,r)},eue=(e,t,r)=>{var n=pi(e,t);if(n!=null)return Xa(e,"yAxis",n,r)},tue=V([Qle,df],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),rue=V([Hle,df],joe),nue=V([Lt,x1,Xle,Jle,Zle,eue,tue,Pe,_4,V$,rue,df,Wle],(e,t,r,n,i,a,o,s,l,u,c,d,h)=>{var{chartData:p,dataStartIndex:g,dataEndIndex:_}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:v}=d,y;if(v!=null&&v.length>0?y=v:y=p==null?void 0:p.slice(g,_+1),y!=null)return Nue({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:y,offset:e,cells:h,dataStartIndex:g})}}),iue=["index"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lb.apply(null,arguments)}function aue(e,t){if(e==null)return{};var r,n,i=oue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $$=m.createContext(void 0),sue=e=>{var t=m.useContext($$);if(t!=null)return t.stackId;if(e!=null)return iL(e)},lue=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),uue=e=>{var t=m.useContext($$);if(t!=null){var{stackId:r}=t;return"url(#".concat(lue(r,e),")")}},cue=e=>{var{index:t}=e,r=aue(e,iue),n=uue(t);return m.createElement(St,Lb({className:"recharts-bar-stack-layer",clipPath:n},r))},due=["onMouseEnter","onMouseLeave","onClick"],fue=["value","background","tooltipPosition"],hue=["id"],pue=["onMouseEnter","onClick","onMouseLeave"];function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yi.apply(null,arguments)}function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){mue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mue(e,t,r){return(t=gue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vm(e,t){if(e==null)return{};var r,n,i=yue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wue=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:au(r,t),payload:e}]},bue=m.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:au(a,t),hide:o,type:l,color:i,unit:s,graphicalItemId:u}};return m.createElement(GE,{tooltipEntrySettings:c})});function _ue(e){var t=ie(Za),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=Vm(a,due),c=KE(o,n,a.id),d=HE(s),h=qE(l,n,a.id);if(!i||r==null)return null;var p=ss(i);return m.createElement(Wr,{zIndex:Moe(i,Ot.barBackground)},r.map((g,_)=>{var{value:v,background:y,tooltipPosition:x}=g,E=Vm(g,fue);if(!y)return null;var k=c(g,_),I=d(g,_),C=h(g,_),T=Tr(Tr(Tr(Tr(Tr({option:i,isActive:String(_)===t},E),{},{fill:"#eee"},y),p),zd(u,g,_)),{},{onMouseEnter:k,onMouseLeave:I,onClick:C,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return m.createElement(Lm,Yi({key:"background-bar-".concat(_)},T))}))}function xue(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Tr(Tr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return m.createElement(o$,{value:t?i:void 0},r)}function Eue(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=ie(Za),l=ie(NE),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return u?m.createElement(Wr,{zIndex:Ot.activeBar},m.createElement(Lm,Yi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))):m.createElement(Lm,Yi({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function Sue(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return m.createElement(Lm,Yi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function Pue(e){var t,{data:r,props:n}=e,i=(t=Ur(n))!==null&&t!==void 0?t:{},{id:a}=i,o=Vm(i,hue),{shape:s,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:h}=n,p=Vm(n,pue),g=KE(c,l,a),_=HE(h),v=qE(d,l,a);return r?m.createElement(m.Fragment,null,r.map((y,x)=>m.createElement(cue,Yi({index:x,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(x),className:"recharts-bar-rectangle"},zd(p,y,x),{onMouseEnter:g(y,x),onMouseLeave:_(y,x),onClick:v(y,x)}),u?m.createElement(Eue,{shape:s,activeBar:u,baseProps:o,entry:y,index:x,dataKey:l}):m.createElement(Sue,{shape:s,baseProps:o,entry:y,index:x,dataKey:l})))):null}function kue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,h=Yd(t,"recharts-bar-"),[p,g]=m.useState(!1),_=!p,v=m.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),y=m.useCallback(()=>{typeof c=="function"&&c(),g(!0)},[c]);return m.createElement(xue,{showLabels:_,rects:n},m.createElement(Gd,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:y,key:h},x=>{var E=x===1?n:n==null?void 0:n.map((k,I)=>{var C=d&&d[I];if(C)return Tr(Tr({},k),{},{x:Qe(C.x,k.x,x),y:Qe(C.y,k.y,x),width:Qe(C.width,k.width,x),height:Qe(C.height,k.height,x)});if(i==="horizontal"){var T=Qe(0,k.height,x),P=Qe(k.stackedBarStart,k.y,x);return Tr(Tr({},k),{},{y:P,height:T})}var A=Qe(0,k.width,x),O=Qe(k.stackedBarStart,k.x,x);return Tr(Tr({},k),{},{width:A,x:O})});return x>0&&(r.current=E??null),E==null?null:m.createElement(St,null,m.createElement(Pue,{props:t,data:E}))}),m.createElement($E,{label:t.label}),t.children)}function Tue(e){var t=m.useRef(null);return m.createElement(kue,{previousRectanglesRef:t,props:e})}var F$=0,Aue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ve(e,t)}};class Iue extends m.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=xe("recharts-bar",i),d=u;return m.createElement(St,{className:c,id:u},s&&m.createElement("defs",null,m.createElement(I$,{clipPathId:d,xAxisId:a,yAxisId:o})),m.createElement(St,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},m.createElement(_ue,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),m.createElement(Tue,this.props)))}}var Oue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:F$,xAxisId:0,yAxisId:0,zIndex:Ot.bar};function Cue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=tS(t,r),h=xs(),p=Sr(),g=WE(e.children,mu),_=ie(x=>nue(x,e.id,p,g));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=_==null?void 0:_[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,m.createElement(Fse,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:Aue,errorBarOffset:v},m.createElement(Iue,Yi({},e,{layout:h,needClip:d,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function Nue(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:h,cells:p,parentViewBox:g,dataStartIndex:_}=e,v=t==="horizontal"?s:o,y=c?v.scale.domain():null,x=lY({numericAxis:v}),E=v.scale(x);return d.map((k,I)=>{var C,T,P,A,O,N;if(c){var j=c[I+_];if(j==null)return null;C=nY(j,y)}else C=Ve(k,r),Array.isArray(C)||(C=[x,C]);var R=Fle(n,F$)(C[1],I);if(t==="horizontal"){var F,[G,Z]=[s.scale(C[0]),s.scale(C[1])];T=dA({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:k,index:I}),P=(F=Z??G)!==null&&F!==void 0?F:void 0,A=i.size;var ne=G-Z;if(O=_n(ne)?0:ne,N={x:T,y:h.top,width:A,height:h.height},Math.abs(R)>0&&Math.abs(O)<Math.abs(R)){var z=Yt(O||R)*(Math.abs(R)-Math.abs(O));P-=z,O+=z}}else{var[W,Q]=[o.scale(C[0]),o.scale(C[1])];if(T=W,P=dA({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:k,index:I}),A=Q-W,O=i.size,N={x:h.left,y:P,width:h.width,height:O},Math.abs(R)>0&&Math.abs(A)<Math.abs(R)){var ue=Yt(A||R)*(Math.abs(R)-Math.abs(A));A+=ue}}if(T==null||P==null||A==null||O==null)return null;var ce=Tr(Tr({},k),{},{stackedBarStart:E,x:T,y:P,width:A,height:O,value:c?C:C[1],payload:k,background:N,tooltipPosition:{x:T+A/2,y:P+O/2},parentViewBox:g},p&&p[I]&&p[I].props);return ce}).filter(Boolean)}function Due(e){var t=Nt(e,Oue),r=sue(t.stackId),n=Sr();return m.createElement(YE,{id:t.id,type:"bar"},i=>m.createElement(m.Fragment,null,m.createElement(y$,{legendPayload:wue(t)}),m.createElement(bue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),m.createElement(b$,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),m.createElement(Wr,{zIndex:t.zIndex},m.createElement(Cue,Yi({},t,{id:i})))))}var xl=m.memo(Due,Lv);xl.displayName="Bar";var Rue=["domain","range"],jue=["domain","range"];function sC(e,t){if(e==null)return{};var r,n,i=Mue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Mue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lC(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function z$(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=sC(e,Rue),{domain:a,range:o}=t,s=sC(t,jue);return!lC(r,a)||!lC(n,o)?!1:Lv(i,s)}var Lue=["dangerouslySetInnerHTML","ticks","scale"],Vue=["id","scale"];function Vb(){return Vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vb.apply(null,arguments)}function uC(e,t){if(e==null)return{};var r,n,i=$ue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $ue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Fue(e){var t=Ke(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(poe(e)):r.current!==e&&t(moe({prev:r.current,next:e})),r.current=e},[e,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(goe(r.current)),r.current=null)},[t]),null}var zue=e=>{var{xAxisId:t,className:r}=e,n=ie(x1),i=Sr(),a="xAxis",o=ie(y=>mV(y,a,t,i)),s=ie(y=>dV(y,t)),l=ie(y=>gte(y,t)),u=ie(y=>H4(y,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,p=uC(e,Lue),{id:g,scale:_}=u,v=uC(u,Vue);return m.createElement(eS,Vb({},p,v,{x:l.x,y:l.y,width:s.width,height:s.height,className:xe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},Uue={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:Wt.allowDecimals,allowDuplicatedCategory:Wt.allowDuplicatedCategory,angle:Wt.angle,axisLine:Ri.axisLine,height:Wt.height,hide:!1,includeHidden:Wt.includeHidden,interval:Wt.interval,minTickGap:Wt.minTickGap,mirror:Wt.mirror,orientation:Wt.orientation,padding:Wt.padding,reversed:Wt.reversed,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,tickLine:Ri.tickLine,tickSize:Ri.tickSize,type:Wt.type,xAxisId:0},Bue=e=>{var t=Nt(e,Uue);return m.createElement(m.Fragment,null,m.createElement(Fue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),m.createElement(zue,t))},$m=m.memo(Bue,z$);$m.displayName="XAxis";var Wue=["dangerouslySetInnerHTML","ticks","scale"],Kue=["id","scale"];function $b(){return $b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$b.apply(null,arguments)}function cC(e,t){if(e==null)return{};var r,n,i=Hue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function que(e){var t=Ke(),r=m.useRef(null);return m.useLayoutEffect(()=>{r.current===null?t(voe(e)):r.current!==e&&t(yoe({prev:r.current,next:e})),r.current=e},[e,t]),m.useLayoutEffect(()=>()=>{r.current&&(t(woe(r.current)),r.current=null)},[t]),null}var Gue=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=m.useRef(null),o=m.useRef(null),s=ie(x1),l=Sr(),u=Ke(),c="yAxis",d=ie(C=>fV(C,t)),h=ie(C=>yte(C,t)),p=ie(C=>mV(C,c,t,l)),g=ie(C=>q4(C,t));if(m.useLayoutEffect(()=>{if(!(n!=="auto"||!d||VE(i)||m.isValidElement(i)||g==null)){var C=a.current;if(C){var T=C.getCalculatedWidth();Math.round(d.width)!==Math.round(T)&&u(boe({id:t,width:T}))}}},[p,d,u,i,t,n,g]),d==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:_,ticks:v,scale:y}=e,x=cC(e,Wue),{id:E,scale:k}=g,I=cC(g,Kue);return m.createElement(eS,$b({},x,I,{ref:a,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:xe("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:p,axisType:c}))},Yue={allowDataOverflow:Kt.allowDataOverflow,allowDecimals:Kt.allowDecimals,allowDuplicatedCategory:Kt.allowDuplicatedCategory,angle:Kt.angle,axisLine:Ri.axisLine,hide:!1,includeHidden:Kt.includeHidden,interval:Kt.interval,minTickGap:Kt.minTickGap,mirror:Kt.mirror,orientation:Kt.orientation,padding:Kt.padding,reversed:Kt.reversed,scale:Kt.scale,tick:Kt.tick,tickCount:Kt.tickCount,tickLine:Ri.tickLine,tickSize:Ri.tickSize,type:Kt.type,width:Kt.width,yAxisId:0},Que=e=>{var t=Nt(e,Yue);return m.createElement(m.Fragment,null,m.createElement(que,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),m.createElement(Gue,t))},Fm=m.memo(Que,z$);Fm.displayName="YAxis";var Xue=(e,t)=>t,rS=V([Xue,Pe,W4,$t,CV,sa,Dre,Lt],Fre),nS=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},U$=xn("mouseClick"),B$=Wd();B$.startListening({actionCreator:U$,effect:(e,t)=>{var r=e.payload,n=rS(t.getState(),nS(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Nte({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Fb=xn("mouseMove"),W$=Wd(),bh=null;W$.startListening({actionCreator:Fb,effect:(e,t)=>{var r=e.payload;bh!==null&&cancelAnimationFrame(bh);var n=nS(r);bh=requestAnimationFrame(()=>{var i=t.getState(),a=kE(i,i.tooltip.settings.shared);if(a==="axis"){var o=rS(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(EV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(xV())}bh=null})}});function Jue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var dC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},K$=Br({name:"rootProps",initialState:dC,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:dC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Zue=K$.reducer,{updateOptions:ece}=K$.actions,H$=Br({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:tce}=H$.actions,rce=H$.reducer,q$=xn("keyDown"),G$=xn("focus"),iS=Wd();iS.startListening({actionCreator:q$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=TE(i,pu(r),af(r),lf(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=sa(r);if(a==="Enter"){var u=Im(r,"axis","hover",String(i.index));t.dispatch(Ib({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=xte(r),d=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,p=s+h*d;if(!(l==null||p>=l.length||p<0)){var g=Im(r,"axis","hover",String(p));t.dispatch(Ib({active:!0,activeIndex:p.toString(),activeCoordinate:g}))}}}}}});iS.startListening({actionCreator:G$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Im(r,"axis","hover",String(a));t.dispatch(Ib({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var cn=xn("externalEvent"),Y$=Wd(),f0=new Map;Y$.startListening({actionCreator:cn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=f0.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:yre(s),activeDataKey:NE(s),activeIndex:Za(s),activeLabel:RV(s),activeTooltipIndex:Za(s),isTooltipActive:wre(s)};r(l,n)}finally{f0.delete(i)}});f0.set(i,o)}}});var nce=V([fu],e=>e.tooltipItemPayloads),ice=V([nce,sf,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),Q$=xn("touchMove"),X$=Wd();X$.startListening({actionCreator:Q$,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=kE(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=rS(n,nS({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(EV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(oL),d=(s=u.getAttribute(sL))!==null&&s!==void 0?s:void 0,h=hu(n).find(_=>_.id===d);if(c==null||h==null||d==null)return;var{dataKey:p}=h,g=ice(n,c,d);t.dispatch(_V({activeDataKey:p,activeIndex:c,activeCoordinate:g,activeGraphicalItemId:d}))}}}});var ace=TM({brush:Loe,cartesianAxis:_oe,chartData:gne,errorBars:Rse,graphicalItems:Tae,layout:XG,legend:tQ,options:dne,polarAxis:Bie,polarOptions:rce,referenceElements:Woe,rootProps:Zue,tooltip:Dte,zIndex:ene}),oce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return xG({reducer:ace,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([B$.middleware,W$.middleware,iS.middleware,Y$.middleware,X$.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(UM({type:"raf"}))},devTools:{serialize:{replacer:Jue},name:"recharts-".concat(r)}})};function J$(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Sr(),a=m.useRef(null);if(i)return r;a.current==null&&(a.current=oce(t,n));var o=d1;return m.createElement(ule,{context:o,store:a.current},r)}function sce(e){var{layout:t,margin:r}=e,n=Ke(),i=Sr();return m.useEffect(()=>{i||(n(GG(t)),n(qG(r)))},[n,i,t,r]),null}var Z$=m.memo(sce,Lv);function eF(e){var t=Ke();return m.useEffect(()=>{t(ece(e))},[t,e]),null}function fC(e){var{zIndex:t,isPanorama:r}=e,n=m.useRef(null),i=Ke();return m.useLayoutEffect(()=>(n.current&&i(Jre({zIndex:t,element:n.current,isPanorama:r})),()=>{i(Zre({zIndex:t,isPanorama:r}))}),[i,t,r]),m.createElement("g",{tabIndex:-1,ref:n})}function hC(e){var{children:t,isPanorama:r}=e,n=ie(Ure);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return m.createElement(m.Fragment,null,i.map(o=>m.createElement(fC,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>m.createElement(fC,{key:o,zIndex:o,isPanorama:r})))}var lce=["children"];function uce(e,t){if(e==null)return{};var r,n,i=cce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zm.apply(null,arguments)}var dce={width:"100%",height:"100%",display:"block"},fce=m.forwardRef((e,t)=>{var r=S1(),n=P1(),i=kL();if(!ci(r)||!ci(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),m.createElement(Yx,zm({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:dce,ref:t}),a)}),hce=e=>{var{children:t}=e,r=ie(Jg);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return m.createElement(Yx,{width:n,height:i,x:o,y:a},t)},pC=m.forwardRef((e,t)=>{var{children:r}=e,n=uce(e,lce),i=Sr();return i?m.createElement(hce,null,m.createElement(hC,{isPanorama:!0},r)):m.createElement(fce,zm({ref:t},n),m.createElement(hC,{isPanorama:!1},r))});function pce(){var e=Ke(),[t,r]=m.useState(null),n=ie(pY);return m.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;ze(a)&&a!==n&&e(QG(a))}},[t,e,n]),r}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(n){gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gce(e,t,r){return(t=vce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vce(e){var t=yce(e,"string");return typeof t=="symbol"?t:t+""}function yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(null,arguments)}var wce=()=>(Pne(),null);function Um(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var bce=m.forwardRef((e,t)=>{var r,n,i=m.useRef(null),[a,o]=m.useState({containerWidth:Um((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Um((n=e.style)===null||n===void 0?void 0:n.height)}),s=m.useCallback((u,c)=>{o(d=>{var h=Math.round(u),p=Math.round(c);return d.containerWidth===h&&d.containerHeight===p?d:{containerWidth:h,containerHeight:p}})},[]),l=m.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var h=g=>{var{width:_,height:v}=g[0].contentRect;s(_,v)},p=new ResizeObserver(h);p.observe(u),i.current=p}},[t,s]);return m.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),m.createElement(m.Fragment,null,m.createElement(ev,{width:a.containerWidth,height:a.containerHeight}),m.createElement("div",ms({ref:l},e)))}),_ce=m.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=m.useState({containerWidth:Um(r),containerHeight:Um(n)}),o=m.useCallback((l,u)=>{a(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),s=m.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[t,o]);return m.createElement(m.Fragment,null,m.createElement(ev,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",ms({ref:s},e)))}),xce=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return m.createElement(m.Fragment,null,m.createElement(ev,{width:r,height:n}),m.createElement("div",ms({ref:t},e)))}),Ece=m.forwardRef((e,t)=>{var{width:r,height:n}=e;return Bi(r)||Bi(n)?m.createElement(_ce,ms({},e,{ref:t})):m.createElement(xce,ms({},e,{ref:t}))});function Sce(e){return e===!0?bce:Ece}var Pce=m.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:p,onTouchMove:g,onTouchStart:_,style:v,width:y,responsive:x,dispatchTouchEvents:E=!0}=e,k=m.useRef(null),I=Ke(),[C,T]=m.useState(null),[P,A]=m.useState(null),O=pce(),N=E1(),j=(N==null?void 0:N.width)>0?N.width:y,R=(N==null?void 0:N.height)>0?N.height:i,F=m.useCallback(U=>{O(U),typeof t=="function"&&t(U),T(U),A(U),U!=null&&(k.current=U)},[O,t,T,A]),G=m.useCallback(U=>{I(U$(U)),I(cn({handler:a,reactEvent:U}))},[I,a]),Z=m.useCallback(U=>{I(Fb(U)),I(cn({handler:u,reactEvent:U}))},[I,u]),ne=m.useCallback(U=>{I(xV()),I(cn({handler:c,reactEvent:U}))},[I,c]),z=m.useCallback(U=>{I(Fb(U)),I(cn({handler:d,reactEvent:U}))},[I,d]),W=m.useCallback(()=>{I(G$())},[I]),Q=m.useCallback(U=>{I(q$(U.key))},[I]),ue=m.useCallback(U=>{I(cn({handler:o,reactEvent:U}))},[I,o]),ce=m.useCallback(U=>{I(cn({handler:s,reactEvent:U}))},[I,s]),ye=m.useCallback(U=>{I(cn({handler:l,reactEvent:U}))},[I,l]),Ne=m.useCallback(U=>{I(cn({handler:h,reactEvent:U}))},[I,h]),it=m.useCallback(U=>{I(cn({handler:_,reactEvent:U}))},[I,_]),at=m.useCallback(U=>{E&&I(Q$(U)),I(cn({handler:g,reactEvent:U}))},[I,E,g]),Ee=m.useCallback(U=>{I(cn({handler:p,reactEvent:U}))},[I,p]),Kr=Sce(x);return m.createElement(UV.Provider,{value:C},m.createElement(Tj.Provider,{value:P},m.createElement(Kr,{width:j??(v==null?void 0:v.width),height:R??(v==null?void 0:v.height),className:xe("recharts-wrapper",n),style:mce({position:"relative",cursor:"default",width:j,height:R},v),onClick:G,onContextMenu:ue,onDoubleClick:ce,onFocus:W,onKeyDown:Q,onMouseDown:ye,onMouseEnter:Z,onMouseLeave:ne,onMouseMove:z,onMouseUp:Ne,onTouchEnd:Ee,onTouchMove:at,onTouchStart:it,ref:F},m.createElement(wce,null),r)))}),kce=["width","height","responsive","children","className","style","compact","title","desc"];function Tce(e,t){if(e==null)return{};var r,n,i=Ace(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ace(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tF=m.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,d=Tce(e,kce),h=Ur(d);return l?m.createElement(m.Fragment,null,m.createElement(ev,{width:r,height:n}),m.createElement(pC,{otherAttributes:h,title:u,desc:c},a)):m.createElement(Pce,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(pC,{otherAttributes:h,title:u,desc:c,ref:t},m.createElement(Hoe,null,a)))});function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(null,arguments)}var Ice={top:5,right:5,bottom:5,left:5},Oce={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Ice,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},rF=m.forwardRef(function(t,r){var n,i=Nt(t.categoricalChartProps,Oce),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return m.createElement(J$,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},m.createElement(E$,{chartData:u.data}),m.createElement(Z$,{layout:i.layout,margin:i.margin}),m.createElement(eF,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(tF,zb({},i,{ref:r})))}),Cce=["axis","item"],nF=m.forwardRef((e,t)=>m.createElement(rF,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cce,tooltipPayloadSearcher:LE,categoricalChartProps:e,ref:t}));function Nce(e){var t=Ke();return m.useEffect(()=>{t(tce(e))},[t,e]),null}var Dce=["layout"];function Ub(){return Ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ub.apply(null,arguments)}function Rce(e,t){if(e==null)return{};var r,n,i=jce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Mce={top:5,right:5,bottom:5,left:5},iF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mce,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Lce=m.forwardRef(function(t,r){var n,i=Nt(t.categoricalChartProps,iF),{layout:a}=i,o=Rce(i,Dce),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return m.createElement(J$,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},m.createElement(E$,{chartData:i.data}),m.createElement(Z$,{layout:a,margin:i.margin}),m.createElement(eF,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),m.createElement(Nce,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),m.createElement(tF,Ub({},o,{ref:r})))});function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){Vce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vce(e,t,r){return(t=$ce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ce(e){var t=Fce(e,"string");return typeof t=="symbol"?t:t+""}function Fce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zce=["item"],Uce=vC(vC({},iF),{},{layout:"centric",startAngle:0,endAngle:360}),aF=m.forwardRef((e,t)=>{var r=Nt(e,Uce);return m.createElement(Lce,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:zce,tooltipPayloadSearcher:LE,categoricalChartProps:r,ref:t})}),Bce=["axis"],Wce=m.forwardRef((e,t)=>m.createElement(rF,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Bce,tooltipPayloadSearcher:LE,categoricalChartProps:e,ref:t}));function Kce({transactions:e,onClose:t,darkMode:r}){const[n,i]=m.useState(new Date().getFullYear()),[a,o]=m.useState(6),s=(()=>{const l=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],u=new Date,d=n===u.getFullYear()?u.getMonth():11;let h=[];for(let p=a-1;p>=0;p--){const g=d-p;if(g<0)continue;const _=`${n}-${String(g+1).padStart(2,"0")}`;h.push({key:_,name:l[g],income:0,expenseCash:0,expenseCard:0})}return e.forEach(p=>{var y;let g=p.date;if(!g&&((y=p.createdAt)!=null&&y.toDate)){const x=p.createdAt.toDate();g=`${x.getFullYear()}-${String(x.getMonth()+1).padStart(2,"0")}-${String(x.getDate()).padStart(2,"0")}`}if(!g)return;const _=g.slice(0,7),v=h.find(x=>x.key===_);v&&(p.type==="income"?v.income+=p.amount:p.type==="expense"&&(p.paymentMethod==="credit_card"?v.expenseCard+=p.amount:v.expenseCash+=p.amount))}),h})();return w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-opacity",children:w.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[w.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[w.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[w.jsx(Hx,{className:"text-indigo-600 dark:text-indigo-400",size:24}),"Gelir - Gider Trend Analizi"]}),w.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:w.jsx(YK,{size:24})})]}),w.jsxs("div",{className:"p-6",children:[w.jsxs("div",{className:"flex gap-4 mb-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Yl"}),w.jsxs("select",{value:n,onChange:l=>i(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:2024,children:"2024"}),w.jsx("option",{value:2025,children:"2025"}),w.jsx("option",{value:2026,children:"2026"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Ay Says"}),w.jsxs("select",{value:a,onChange:l=>o(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:3,children:"Son 3 Ay"}),w.jsx("option",{value:6,children:"Son 6 Ay"}),w.jsx("option",{value:9,children:"Son 9 Ay"}),w.jsx("option",{value:12,children:"Tm Yl"})]})]})]}),w.jsx("div",{className:"h-80 w-full min-w-[300px]",children:w.jsx(kc,{width:"100%",height:"100%",children:w.jsxs(nF,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[w.jsx(jm,{strokeDasharray:"3 3",vertical:!1,stroke:r?"#334155":"#e2e8f0"}),w.jsx($m,{dataKey:"name",stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"}}),w.jsx(Fm,{stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"},tickFormatter:l=>`${l}`}),w.jsx(Tc,{formatter:l=>l.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:r?"#1e293b":"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",color:r?"#f1f5f9":"#1e293b"}}),w.jsx(A1,{wrapperStyle:{paddingTop:"20px"}}),w.jsx(xl,{name:"Gelir",dataKey:"income",fill:"#10b981",radius:[4,4,0,0],barSize:32}),w.jsx(xl,{name:"Gider (Nakit)",dataKey:"expenseCash",stackId:"expense",fill:"#ef4444",radius:[0,0,4,4],barSize:32}),w.jsx(xl,{name:"Gider (K. Kart)",dataKey:"expenseCard",stackId:"expense",fill:"#f59e0b",radius:[4,4,0,0],barSize:32})]})})})]})]})})}const $s=["#6366f1","#ec4899","#8b5cf6","#14b8a6","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function Hce({user:e}){const t=ex(),[r,n]=m.useState([]),[i,a]=m.useState([]),[o,s]=m.useState(!1),[l,u]=m.useState(""),[c,d]=m.useState(""),[h,p]=m.useState("expense"),[g,_]=m.useState(""),[v,y]=m.useState(new Date().toISOString().split("T")[0]),[x,E]=m.useState("cash"),[k,I]=m.useState([]),[C,T]=m.useState(!1),[P,A]=m.useState(["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"]),[O,N]=m.useState(["Maa","Freelance","Yatrm","Ek Gelir","Dier"]),[j,R]=m.useState([]),[F,G]=m.useState("");m.useEffect(()=>{const M=Bo(Qr(wt,"user_settings",e.uid),X=>{if(X.exists()){const q=X.data();q.expenseCategories&&A(q.expenseCategories),q.incomeCategories&&N(q.incomeCategories),q.creditCards&&R(q.creditCards)}});return()=>M()},[e.uid]),m.useEffect(()=>{const M=$l(Jn(wt,"planned_transactions"),Uo("uid","==",e.uid),Uo("isCompleted","==",!1)),X=Bo(M,q=>{const oe=q.docs.map(se=>({id:se.id,...se.data()}));oe.sort((se,Me)=>new Date(se.date)-new Date(Me.date)),I(oe)});return()=>X()},[e.uid]);const Z=async M=>{confirm(`${M.title} demesini tamamland olarak iaretlemek istiyor musunuz?`)&&(await $p(Jn(wt,"transactions"),{uid:e.uid,title:M.title,amount:M.amount,type:"expense",category:M.category,paymentMethod:M.paymentMethod||"cash",date:M.date,createdAt:Fp()}),await Oo(Qr(wt,"planned_transactions",M.id),{isCompleted:!0}))},ne=M=>{const X=new Date;X.setHours(0,0,0,0);const q=new Date(M);q.setHours(0,0,0,0);const oe=Math.ceil((q-X)/(1e3*60*60*24));return oe<0?w.jsxs("span",{className:"text-red-500 font-bold",children:[Math.abs(oe)," gn gecikti"]}):oe===0?w.jsx("span",{className:"text-amber-500 font-bold",children:"Bugn"}):oe===1?w.jsx("span",{className:"text-amber-500 font-medium",children:"Yarn"}):w.jsxs("span",{className:"text-indigo-500 font-medium",children:[oe," gn kald"]})},z=M=>{switch(M){case"Market":return w.jsx(GK,{size:14});case"Ulam":return w.jsx(RK,{size:14});case"Konut":return w.jsx($K,{size:14});case"Fatura":return w.jsx(QK,{size:14});case"Elence":return w.jsx(MK,{size:14});case"Salk":return w.jsx(VK,{size:14});case"Eitim":return w.jsx(LK,{size:14});case"Giyim":return w.jsx(qK,{size:14});default:return w.jsx(Kp,{size:14})}},[W,Q]=m.useState(()=>{const M=localStorage.getItem("theme");return M?M==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),[ue,ce]=m.useState(()=>{const M=new Date,X=M.getFullYear(),q=String(M.getMonth()+1).padStart(2,"0");return`${X}-${q}`});m.useEffect(()=>{W?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[W]),m.useEffect(()=>{const M=$l(Jn(wt,"transactions"),Uo("uid","==",e.uid)),X=Bo(M,q=>{const oe=q.docs.map(se=>({id:se.id,...se.data()}));oe.sort((se,Me)=>{var Bn,mi;const He=new Date(se.date||((Bn=se.createdAt)==null?void 0:Bn.toDate()));return new Date(Me.date||((mi=Me.createdAt)==null?void 0:mi.toDate()))-He}),n(oe)},q=>{console.error("Veri ekme hatas:",q)});return()=>X()},[e.uid]),m.useEffect(()=>{const M=r.filter(X=>{var oe;let q=X.date;if(!q&&((oe=X.createdAt)!=null&&oe.toDate)){const se=X.createdAt.toDate(),Me=se.getFullYear(),He=String(se.getMonth()+1).padStart(2,"0"),Un=String(se.getDate()).padStart(2,"0");q=`${Me}-${He}-${Un}`}return q?q.startsWith(ue):!1});a(M)},[r,ue]),m.useEffect(()=>{_(h==="expense"?P[0]:O[0])},[h]);const ye=async M=>{M.preventDefault(),!(!l||!c)&&(await $p(Jn(wt,"transactions"),{uid:e.uid,title:c,amount:parseFloat(l),type:h,category:g,paymentMethod:x,cardName:x==="credit_card"?F:null,date:v,createdAt:Fp()}),u(""),d(""),E("cash"),G(""))},Ne=async M=>{await wj(Qr(wt,"transactions",M))},it=()=>{if(i.length===0){alert("Da aktarlacak veri bulunamad.");return}let M="data:text/csv;charset=utf-8,\uFEFF";M+=`Tarih,Balk,Kategori,Tutar,Tr
`,i.forEach(oe=>{var He;let se=oe.date||((He=oe.createdAt)!=null&&He.toDate?oe.createdAt.toDate().toLocaleDateString("tr-TR"):"-");if(oe.date){const[Un,Bn,mi]=oe.date.split("-");se=`${mi}.${Bn}.${Un}`}const Me=[se,`"${oe.title.replace(/"/g,'""')}"`,oe.category,oe.amount,oe.type==="income"?"Gelir":"Gider"].join(",");M+=Me+`\r
`});const X=encodeURI(M),q=document.createElement("a");q.setAttribute("href",X),q.setAttribute("download",`SpendWise_Islemler_${ue}.csv`),document.body.appendChild(q),q.click(),document.body.removeChild(q)},at=i.filter(M=>M.type==="income").reduce((M,X)=>M+X.amount,0),Ee=i.filter(M=>M.type==="expense").reduce((M,X)=>M+X.amount,0),Kr=at-Ee,U=i.filter(M=>M.type==="expense").reduce((M,X)=>{const q=X.category||"Dier";return M[q]=(M[q]||0)+X.amount,M},{}),de=Object.entries(U).sort(([,M],[,X])=>X-M).map(([M,X])=>({name:M,value:X,percentage:Ee>0?X/Ee*100:0})),ge=r.reduce((M,X)=>X.type==="income"?M+X.amount:M-X.amount,0);return w.jsxs("div",{className:"max-w-5xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[w.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[w.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[w.jsx("div",{className:"p-1.5 bg-indigo-600 rounded-lg text-white shadow-lg shadow-indigo-500/30",children:w.jsx(nl,{size:20})}),w.jsx("h1",{className:"text-xl font-bold text-indigo-700 dark:text-indigo-400",children:"SpendWise"})]}),w.jsx("h2",{className:"hidden lg:block text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Genel Bak"}),w.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 sm:gap-4 w-full md:w-auto",children:[w.jsxs("button",{onClick:it,className:"p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center gap-2",title:"CSV Olarak ndir",children:[w.jsx(jK,{size:20}),w.jsx("span",{className:"hidden sm:inline font-medium",children:"ndir"})]}),w.jsxs("button",{onClick:()=>s(!0),className:"p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center gap-2",children:[w.jsx(Hx,{size:20}),w.jsx("span",{className:"hidden sm:inline font-medium",children:"Trendler"})]}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"month",className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2 pr-10 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 transition-all shadow-sm w-full sm:w-auto",value:ue,onChange:M=>ce(M.target.value)}),w.jsx(Bp,{className:"absolute right-3 top-2.5 text-slate-400 pointer-events-none",size:18})]}),w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>T(!C),className:"relative p-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 transition-all shadow-sm",children:[w.jsx(OT,{size:20}),k.length>0&&w.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-sm animate-pulse",children:k.length})]}),C&&w.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 sm:w-96 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden z-50",children:[w.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/20",children:[w.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:"Finansal Asistan"}),w.jsx("button",{onClick:()=>t("/calendar"),className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"Takvime Git"})]}),w.jsx("div",{className:"max-h-[360px] overflow-y-auto p-2 space-y-4",children:k.length===0?w.jsxs("div",{className:"p-8 text-center text-slate-400 text-sm",children:[w.jsx(OT,{className:"mx-auto mb-2 opacity-50",size:24}),w.jsx("p",{children:"Harika! Planlanm demeniz yok."})]}):(()=>{const M=new Date;M.setHours(0,0,0,0);const X=k.reduce((oe,se)=>{const Me=new Date(se.date);Me.setHours(0,0,0,0);const He=Math.ceil((Me-M)/(1e3*60*60*24));return He<0?oe.overdue.push(se):He<=1?oe.upcoming.push(se):oe.future.push(se),oe},{overdue:[],upcoming:[],future:[]}),q=(oe,se,Me)=>se.length>0&&w.jsxs("div",{className:"space-y-1",children:[w.jsx("h4",{className:`text-[10px] uppercase font-bold tracking-wider px-2 ${Me}`,children:oe}),se.map(He=>w.jsxs("div",{className:"p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 border-b border-slate-50 dark:border-slate-700/50 last:border-0 transition-colors flex justify-between items-center group",children:[w.jsxs("div",{className:"min-w-0 flex-1 pr-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"p-1 rounded-md bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:z(He.category)}),w.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm truncate",children:He.title})]}),w.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1 pl-7",children:[w.jsx("span",{children:new Date(He.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),w.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-600 dark:text-slate-400",children:ne(He.date)})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:[He.amount.toLocaleString("tr-TR")," "]}),w.jsx("button",{onClick:()=>Z(He),className:"p-1.5 text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-full transition-all",title:"dendi Olarak aretle",children:w.jsx(qx,{size:18})})]})]},He.id))]});return w.jsxs(w.Fragment,{children:[q("Gecikenler",X.overdue,"text-red-500"),q("Yaklaanlar",X.upcoming,"text-amber-500"),q("Gelecek Planlar",X.future,"text-emerald-500")]})})()}),k.length>0&&w.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/40 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center text-xs font-medium",children:[w.jsx("span",{className:"text-slate-500",children:"Toplam Bekleyen"}),w.jsx("span",{className:"text-slate-800 dark:text-slate-200 text-sm",children:k.reduce((M,X)=>M+X.amount,0).toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]})]})]}),w.jsx("button",{onClick:()=>Q(!W),className:"p-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:W?w.jsx(Ej,{size:20}):w.jsx(xj,{size:20})}),w.jsx("button",{onClick:()=>h9(zp),className:"p-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:"k Yap",children:w.jsx(UK,{size:20})})]})]}),o&&w.jsx(Kce,{transactions:r,onClose:()=>s(!1),darkMode:W}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[w.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-600 p-6 rounded-2xl text-white shadow-xl shadow-indigo-500/20",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-indigo-100 font-medium mb-1",children:"Dnem Bakiyesi"}),w.jsx("h2",{className:"text-3xl font-bold",children:Kr.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),w.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:w.jsx(nl,{size:24,className:"text-white"})})]}),w.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100 bg-white/10 p-2 rounded-lg backdrop-blur-sm inline-flex",children:[w.jsx(nl,{size:14}),w.jsxs("span",{children:["Toplam Varlk: ",ge.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Gelirler"}),w.jsxs("h2",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["+",at.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),w.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full",children:w.jsx(zw,{size:24})})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Giderler"}),w.jsxs("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["-",Ee.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),w.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full",children:w.jsx(Fy,{size:24})})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[w.jsx(Wp,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"lem Ekle"]}),w.jsxs("form",{onSubmit:ye,className:"space-y-4",children:[w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsx("button",{type:"button",onClick:()=>p("expense"),className:`py-2 px-4 rounded-lg font-medium transition-all ${h==="expense"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 border ring-1 ring-red-200 dark:ring-red-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gider"}),w.jsx("button",{type:"button",onClick:()=>p("income"),className:`py-2 px-4 rounded-lg font-medium transition-all ${h==="income"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 border ring-1 ring-emerald-200 dark:ring-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gelir"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tarih"}),w.jsxs("div",{className:"relative",children:[w.jsx("input",{type:"date",required:!0,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:v,onChange:M=>y(M.target.value)}),w.jsx(Bp,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori"}),w.jsxs("div",{className:"relative",children:[w.jsx("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all appearance-none",value:g,onChange:M=>_(M.target.value),children:(h==="expense"?P:O).map(M=>w.jsx("option",{value:M,children:M},M))}),w.jsx(Kp,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aklama"}),w.jsx("input",{type:"text",placeholder:h==="expense"?"rn: Market Fii":"rn: Mart Ay Maa",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:c,onChange:M=>d(M.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar"}),w.jsx("input",{type:"number",placeholder:"0.00",required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:l,onChange:M=>u(M.target.value)})]}),h==="expense"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Yntemi"}),w.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[w.jsxs("button",{type:"button",onClick:()=>E("cash"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${x==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[w.jsx(Up,{size:16})," Nakit"]}),w.jsxs("button",{type:"button",onClick:()=>E("credit_card"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${x==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[w.jsx(oi,{size:16})," Kredi Kart"]})]}),x==="credit_card"&&j.length>0&&w.jsxs("div",{className:"mt-3 bg-amber-50/50 p-2 rounded-lg border border-amber-100",children:[w.jsx("label",{className:"block text-xs font-medium text-amber-800 mb-2",children:"Hangi Kart?"}),w.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(M=>w.jsxs("button",{type:"button",onClick:()=>G(M),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ${F===M?"bg-amber-100 border border-amber-300 text-amber-800 shadow-sm":"bg-white border border-amber-200 text-amber-600 hover:bg-white hover:border-amber-300"}`,children:[w.jsx(oi,{size:12}),M]},M))})]})]}),w.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2 mt-4",children:[w.jsx(Wp,{size:18}),"Ekle"]})]})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[w.jsx(Fy,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"Harcama Analizi"]}),de.length>0?w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{className:"h-48 w-full min-w-[200px]",children:w.jsx(kc,{width:"100%",height:"100%",children:w.jsxs(aF,{children:[w.jsx(QE,{data:de,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:de.map((M,X)=>w.jsx(mu,{fill:$s[X%$s.length]},`cell-${X}`))}),w.jsx(Tc,{formatter:M=>M.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#1e293b"}})]})})}),w.jsx("div",{className:"space-y-4",children:de.map((M,X)=>w.jsxs("div",{children:[w.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:$s[X%$s.length]}}),w.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:M.name})]}),w.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:M.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),w.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2",children:w.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${M.percentage}%`,backgroundColor:$s[X%$s.length]}})})]},M.name))})]}):w.jsx("p",{className:"text-slate-400 text-center text-sm py-4",children:"Bu dnem iin harcama kayd yok."})]})]}),w.jsx("div",{className:"lg:col-span-2",children:w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:["lemler (",i.length,")"]}),i.length===0?w.jsxs("div",{className:"text-center py-10 text-slate-400 flex flex-col items-center gap-3",children:[w.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-full",children:w.jsx(nl,{size:32,className:"opacity-50"})}),w.jsx("p",{children:"Bu dnem iin kayt bulunamad."})]}):w.jsx("div",{className:"space-y-3",children:i.map(M=>{var X;return w.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-indigo-100 dark:hover:border-indigo-900 hover:shadow-md transition-all bg-slate-50/50 dark:bg-slate-700/30 hover:bg-white dark:hover:bg-slate-700",children:[w.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[w.jsx("div",{className:"flex-shrink-0 p-3 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",children:M.type==="income"?w.jsx(zw,{size:20,className:"text-emerald-500"}):w.jsx(Fy,{size:20,className:"text-red-500"})}),w.jsxs("div",{className:"min-w-0 flex-1",children:[w.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 truncate pr-2",children:M.title}),w.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[w.jsx("span",{className:"bg-slate-200 dark:bg-slate-600 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300 font-medium whitespace-nowrap",children:M.category||(M.type==="income"?"Gelir":"Gider")}),w.jsx("span",{className:"hidden sm:inline",children:""}),w.jsx("span",{className:"whitespace-nowrap",children:new Date(M.date||((X=M.createdAt)==null?void 0:X.toDate())).toLocaleDateString("tr-TR")}),M.type==="expense"&&w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"hidden sm:inline",children:""}),w.jsxs("span",{className:`flex items-center gap-1 ${M.paymentMethod==="credit_card"?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"}`,children:[M.paymentMethod==="credit_card"?w.jsx(oi,{size:12}):w.jsx(Up,{size:12}),w.jsx("span",{className:"hidden sm:inline",children:M.paymentMethod==="credit_card"?"Kredi Kart":"Nakit"})]})]})]})]})]}),w.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-2",children:[w.jsxs("span",{className:`font-bold text-sm sm:text-lg whitespace-nowrap ${M.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[M.type==="income"?"+":"-",Math.abs(M.amount).toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),w.jsx("button",{onClick:()=>Ne(M.id),className:"p-2 text-slate-300 dark:text-slate-600 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all opacity-100 sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:w.jsx(Hp,{size:18})})]})]},M.id)})})]})})]})]})}const qce=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!Gce(i,a)&&n||Object.defineProperty(e,r,a)},Gce=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Yce=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},Qce=(e,t)=>`/* Wrapped ${e}*/
${t}`,Xce=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Jce=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Zce=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=Qce.bind(null,n,t.toString());Object.defineProperty(i,"name",Jce);const{writable:a,enumerable:o,configurable:s}=Xce;Object.defineProperty(e,"toString",{value:i,writable:a,enumerable:o,configurable:s})};function ede(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const i of Reflect.ownKeys(t))qce(e,t,i,r);return Yce(e,t),Zce(e,t,n),e}const _h=2147483647,tde=new WeakMap,h0=new WeakMap,rde=new WeakMap;function nde(e,t){const r=e.get(t);if(r){if(r.maxAge<=Date.now()){e.delete(t);return}return r}}function oF(e,{cacheKey:t,cache:r=new Map,maxAge:n}={}){if(n===0)return e;if(typeof n=="number"&&Number.isFinite(n)){if(n>_h)throw new TypeError(`The \`maxAge\` option cannot exceed ${_h}.`);if(n<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...a){var c;const o=t?t(a):a[0],s=nde(r,o);if(s)return s.data;const l=e.apply(this,a),u=typeof n=="function"?n(...a):n;if(u!==void 0&&u!==Number.POSITIVE_INFINITY){if(!Number.isFinite(u))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(u<=0)return l;if(u>_h)throw new TypeError(`The \`maxAge\` function result cannot exceed ${_h}.`)}if(r.set(o,{data:l,maxAge:u===void 0||u===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+u}),u!==void 0&&u!==Number.POSITIVE_INFINITY){const d=setTimeout(()=>{var p;r.delete(o),(p=h0.get(i))==null||p.delete(d)},u);(c=d.unref)==null||c.call(d);const h=h0.get(i)??new Set;h.add(d),h0.set(i,h)}return l};return ede(i,e,{ignoreNonConfigurable:!0}),tde.set(i,r),rde.set(i,t??(a=>a[0])),i}function ide(e){return typeof e=="string"}function ade(e,t,r){return r.indexOf(e)===t}function ode(e){return e.toLowerCase()===e}function yC(e){return e.indexOf(",")===-1?e:e.split(",")}function Bb(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],r=t===void 0?"":t;return Bb(r)}if(e.indexOf("@")!==-1){var n=e.split("@")[0],r=n===void 0?"":n;return Bb(r)}if(e.indexOf("-")===-1||!ode(e))return e;var i=e.split("-"),a=i[0],o=i[1],s=o===void 0?"":o;return"".concat(a,"-").concat(s.toUpperCase())}function sde(e){var t=e===void 0?{}:e,r=t.useFallbackLocale,n=r===void 0?!0:r,i=t.fallbackLocale,a=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var s=navigator.languages||[],l=[],u=0,c=s;u<c.length;u++){var d=c[u];l=l.concat(yC(d))}var h=navigator.language,p=h&&yC(h);o=o.concat(l,p)}return n&&o.push(a),o.filter(ide).map(Bb).filter(ade)}var lde=oF(sde,{cacheKey:JSON.stringify});function ude(e){return lde(e)[0]||null}var sF=oF(ude,{cacheKey:JSON.stringify});function la(e,t,r){return function(i,a=r){const o=e(i)+a;return t(o)}}function ff(e){return function(r){return new Date(e(r).getTime()-1)}}function hf(e,t){return function(n){return[e(n),t(n)]}}function nt(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;const t=Number.parseInt(e,10);if(typeof e=="string"&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${e}.`)}function uo(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function Vv(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function gu(e){const t=nt(e),r=t+(-t+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const cde=la(nt,gu,-100),lF=la(nt,gu,100),aS=ff(lF),dde=la(nt,aS,-100),uF=hf(gu,aS);function co(e){const t=nt(e),r=t+(-t+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const cF=la(nt,co,-10),oS=la(nt,co,10),$v=ff(oS),dF=la(nt,$v,-10),fF=hf(co,$v);function vu(e){const t=nt(e),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}const hF=la(nt,vu,-1),sS=la(nt,vu,1),Fv=ff(sS),pF=la(nt,Fv,-1),fde=hf(vu,Fv);function lS(e,t){return function(n,i=t){const a=nt(n),o=uo(n)+i,s=new Date;return s.setFullYear(a,o,1),s.setHours(0,0,0,0),e(s)}}function Ps(e){const t=nt(e),r=uo(e),n=new Date;return n.setFullYear(t,r,1),n.setHours(0,0,0,0),n}const mF=lS(Ps,-1),uS=lS(Ps,1),pf=ff(uS),gF=lS(pf,-1),hde=hf(Ps,pf);function pde(e,t){return function(n,i=t){const a=nt(n),o=uo(n),s=Vv(n)+i,l=new Date;return l.setFullYear(a,o,s),l.setHours(0,0,0,0),e(l)}}function mf(e){const t=nt(e),r=uo(e),n=Vv(e),i=new Date;return i.setFullYear(t,r,n),i.setHours(0,0,0,0),i}const mde=pde(mf,1),cS=ff(mde),gde=hf(mf,cS);function vF(e){return Vv(pf(e))}var ar={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},vde={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},dS=[0,1,2,3,4,5,6],p0=new Map;function yde(e){return function(r,n){var i=r||sF();p0.has(i)||p0.set(i,new Map);var a=p0.get(i);return a.has(e)||a.set(e,new Intl.DateTimeFormat(i||void 0,e).format),a.get(e)(n)}}function wde(e){var t=new Date(e);return new Date(t.setHours(12))}function ks(e){return function(t,r){return yde(e)(t,wde(r))}}var bde={day:"numeric"},_de={day:"numeric",month:"long",year:"numeric"},xde={month:"long"},Ede={month:"long",year:"numeric"},Sde={weekday:"short"},Pde={weekday:"long"},kde={year:"numeric"},Tde=ks(bde),Ade=ks(_de),Ide=ks(xde),yF=ks(Ede),Ode=ks(Sde),Cde=ks(Pde),zv=ks(kde),Nde=dS[0],Dde=dS[5],wC=dS[6];function yd(e,t){t===void 0&&(t=ar.ISO_8601);var r=e.getDay();switch(t){case ar.ISO_8601:return(r+6)%7;case ar.ISLAMIC:return(r+1)%7;case ar.HEBREW:case ar.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function Rde(e){var t=gu(e);return nt(t)}function jde(e){var t=co(e);return nt(t)}function Wb(e,t){t===void 0&&(t=ar.ISO_8601);var r=nt(e),n=uo(e),i=e.getDate()-yd(e,t);return new Date(r,n,i)}function Mde(e,t){t===void 0&&(t=ar.ISO_8601);var r=t===ar.GREGORY?ar.GREGORY:ar.ISO_8601,n=Wb(e,t),i=nt(e)+1,a,o;do a=new Date(i,0,r===ar.ISO_8601?4:1),o=Wb(a,t),i-=1;while(e<o);return Math.round((n.getTime()-o.getTime())/(864e5*7))+1}function Go(e,t){switch(e){case"century":return gu(t);case"decade":return co(t);case"year":return vu(t);case"month":return Ps(t);case"day":return mf(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Lde(e,t){switch(e){case"century":return cde(t);case"decade":return cF(t);case"year":return hF(t);case"month":return mF(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function wF(e,t){switch(e){case"century":return lF(t);case"decade":return oS(t);case"year":return sS(t);case"month":return uS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Vde(e,t){switch(e){case"decade":return cF(t,-100);case"year":return hF(t,-10);case"month":return mF(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function $de(e,t){switch(e){case"decade":return oS(t,100);case"year":return sS(t,10);case"month":return uS(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function bF(e,t){switch(e){case"century":return aS(t);case"decade":return $v(t);case"year":return Fv(t);case"month":return pf(t);case"day":return cS(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Fde(e,t){switch(e){case"century":return dde(t);case"decade":return dF(t);case"year":return pF(t);case"month":return gF(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function zde(e,t){switch(e){case"decade":return dF(t,-100);case"year":return pF(t,-10);case"month":return gF(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function bC(e,t){switch(e){case"century":return uF(t);case"decade":return fF(t);case"year":return fde(t);case"month":return hde(t);case"day":return gde(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ude(e,t,r){var n=[t,r].sort(function(i,a){return i.getTime()-a.getTime()});return[Go(e,n[0]),bF(e,n[1])]}function _F(e,t,r){return r.map(function(n){return(t||zv)(e,n)}).join("  ")}function Bde(e,t,r){return _F(e,t,uF(r))}function xF(e,t,r){return _F(e,t,fF(r))}function Wde(e){return e.getDay()===new Date().getDay()}function EF(e,t){t===void 0&&(t=ar.ISO_8601);var r=e.getDay();switch(t){case ar.ISLAMIC:case ar.HEBREW:return r===Dde||r===wC;case ar.ISO_8601:case ar.GREGORY:return r===wC||r===Nde;default:throw new Error("Unsupported calendar type.")}}var Gn="react-calendar__navigation";function Kde(e){var t=e.activeStartDate,r=e.drillUp,n=e.formatMonthYear,i=n===void 0?yF:n,a=e.formatYear,o=a===void 0?zv:a,s=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,d=c===void 0?"":c,h=e.navigationAriaLive,p=e.navigationLabel,g=e.next2AriaLabel,_=g===void 0?"":g,v=e.next2Label,y=v===void 0?"":v,x=e.nextAriaLabel,E=x===void 0?"":x,k=e.nextLabel,I=k===void 0?"":k,C=e.prev2AriaLabel,T=C===void 0?"":C,P=e.prev2Label,A=P===void 0?"":P,O=e.prevAriaLabel,N=O===void 0?"":O,j=e.prevLabel,R=j===void 0?"":j,F=e.setActiveStartDate,G=e.showDoubleView,Z=e.view,ne=e.views,z=ne.indexOf(Z)>0,W=Z!=="century",Q=Lde(Z,t),ue=W?Vde(Z,t):void 0,ce=wF(Z,t),ye=W?$de(Z,t):void 0,Ne=function(){if(Q.getFullYear()<0)return!0;var q=Fde(Z,t);return u&&u>=q}(),it=W&&function(){if(ue.getFullYear()<0)return!0;var q=zde(Z,t);return u&&u>=q}(),at=l&&l<ce,Ee=W&&l&&l<ye;function Kr(){F(Q,"prev")}function U(){F(ue,"prev2")}function de(){F(ce,"next")}function ge(){F(ye,"next2")}function M(q){var oe=function(){switch(Z){case"century":return Bde(s,o,q);case"decade":return xF(s,o,q);case"year":return o(s,q);case"month":return i(s,q);default:throw new Error("Invalid view: ".concat(Z,"."))}}();return p?p({date:q,label:oe,locale:s||sF()||void 0,view:Z}):oe}function X(){var q="".concat(Gn,"__label");return w.jsxs("button",{"aria-label":d,"aria-live":h,className:q,disabled:!z,onClick:r,style:{flexGrow:1},type:"button",children:[w.jsx("span",{className:"".concat(q,"__labelText ").concat(q,"__labelText--from"),children:M(t)}),G?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"".concat(q,"__divider"),children:"  "}),w.jsx("span",{className:"".concat(q,"__labelText ").concat(q,"__labelText--to"),children:M(ce)})]}):null]})}return w.jsxs("div",{className:Gn,children:[A!==null&&W?w.jsx("button",{"aria-label":T,className:"".concat(Gn,"__arrow ").concat(Gn,"__prev2-button"),disabled:it,onClick:U,type:"button",children:A}):null,R!==null&&w.jsx("button",{"aria-label":N,className:"".concat(Gn,"__arrow ").concat(Gn,"__prev-button"),disabled:Ne,onClick:Kr,type:"button",children:R}),X(),I!==null&&w.jsx("button",{"aria-label":E,className:"".concat(Gn,"__arrow ").concat(Gn,"__next-button"),disabled:at,onClick:de,type:"button",children:I}),y!==null&&W?w.jsx("button",{"aria-label":_,className:"".concat(Gn,"__arrow ").concat(Gn,"__next2-button"),disabled:Ee,onClick:ge,type:"button",children:y}):null]})}var sl=function(){return sl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},sl.apply(this,arguments)},Hde=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function _C(e){return"".concat(e,"%")}function fS(e){var t=e.children,r=e.className,n=e.count,i=e.direction,a=e.offset,o=e.style,s=e.wrap,l=Hde(e,["children","className","count","direction","offset","style","wrap"]);return w.jsx("div",sl({className:r,style:sl({display:"flex",flexDirection:i,flexWrap:s?"wrap":"nowrap"},o)},l,{children:m.Children.map(t,function(u,c){var d=a&&c===0?_C(100*a/n):null;return m.cloneElement(u,sl(sl({},u.props),{style:{flexBasis:_C(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function qde(e,t,r){return t&&t>e?t:r&&r<e?r:e}function wd(e,t){return t[0]<=e&&t[1]>=e}function Gde(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function SF(e,t){return wd(e[0],t)||wd(e[1],t)}function xC(e,t,r){var n=SF(t,e),i=[];if(n){i.push(r);var a=wd(e[0],t),o=wd(e[1],t);a&&i.push("".concat(r,"Start")),o&&i.push("".concat(r,"End")),a&&o&&i.push("".concat(r,"BothEnds"))}return i}function Yde(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function Qde(e){if(!e)throw new Error("args is required");var t=e.value,r=e.date,n=e.hover,i="react-calendar__tile",a=[i];if(!r)return a;var o=new Date,s=function(){if(Array.isArray(r))return r;var p=e.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return bC(p,r)}();if(wd(o,s)&&a.push("".concat(i,"--now")),!t||!Yde(t))return a;var l=function(){if(Array.isArray(t))return t;var p=e.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return bC(p,t)}();Gde(l,s)?a.push("".concat(i,"--active")):SF(l,s)&&a.push("".concat(i,"--hasActive"));var u=xC(l,s,"".concat(i,"--range"));a.push.apply(a,u);var c=Array.isArray(t)?t:[t];if(n&&c.length===1){var d=n>l[0]?[l[0],n]:[n,l[0]],h=xC(d,s,"".concat(i,"--hover"));a.push.apply(a,h)}return a}function Uv(e){for(var t=e.className,r=e.count,n=r===void 0?3:r,i=e.dateTransform,a=e.dateType,o=e.end,s=e.hover,l=e.offset,u=e.renderTile,c=e.start,d=e.step,h=d===void 0?1:d,p=e.value,g=e.valueType,_=[],v=c;v<=o;v+=h){var y=i(v);_.push(u({classes:Qde({date:y,dateType:a,hover:s,value:p,valueType:g}),date:y}))}return w.jsx(fS,{className:t,count:n,offset:l,wrap:!0,children:_})}function Bv(e){var t=e.activeStartDate,r=e.children,n=e.classes,i=e.date,a=e.formatAbbr,o=e.locale,s=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,d=e.onClick,h=e.onMouseOver,p=e.style,g=e.tileClassName,_=e.tileContent,v=e.tileDisabled,y=e.view,x=m.useMemo(function(){var k={activeStartDate:t,date:i,view:y};return typeof g=="function"?g(k):g},[t,i,g,y]),E=m.useMemo(function(){var k={activeStartDate:t,date:i,view:y};return typeof _=="function"?_(k):_},[t,i,_,y]);return w.jsxs("button",{className:xe(n,x),disabled:u&&c(u)>i||s&&l(s)<i||(v==null?void 0:v({activeStartDate:t,date:i,view:y})),onClick:d?function(k){return d(i,k)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:p,type:"button",children:[a?w.jsx("abbr",{"aria-label":a(o,i),children:r}):r,E]})}var Kb=function(){return Kb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kb.apply(this,arguments)},Xde=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},EC="react-calendar__century-view__decades__decade";function Jde(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentCentury,i=e.formatYear,a=i===void 0?zv:i,o=Xde(e,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,u=[];return r&&u.push.apply(u,r),u.push(EC),gu(s).getFullYear()!==n&&u.push("".concat(EC,"--neighboringCentury")),w.jsx(Bv,Kb({},o,{classes:u,maxDateTransform:$v,minDateTransform:co,view:"century",children:xF(l,a,s)}))}var Hb=function(){return Hb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Hb.apply(this,arguments)},SC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Zde(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringCentury,i=e.value,a=e.valueType,o=SC(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=Rde(t),l=s+(n?119:99);return w.jsx(Uv,{className:"react-calendar__century-view__decades",dateTransform:co,dateType:"decade",end:l,hover:r,renderTile:function(u){var c=u.date,d=SC(u,["date"]);return w.jsx(Jde,Hb({},o,d,{activeStartDate:t,currentCentury:s,date:c}),c.getTime())},start:s,step:10,value:i,valueType:a})}var qb=function(){return qb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qb.apply(this,arguments)};function efe(e){function t(){return w.jsx(Zde,qb({},e))}return w.jsx("div",{className:"react-calendar__century-view",children:t()})}var Gb=function(){return Gb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gb.apply(this,arguments)},tfe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},PC="react-calendar__decade-view__years__year";function rfe(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentDecade,i=e.formatYear,a=i===void 0?zv:i,o=tfe(e,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,u=[];return r&&u.push.apply(u,r),u.push(PC),co(s).getFullYear()!==n&&u.push("".concat(PC,"--neighboringDecade")),w.jsx(Bv,Gb({},o,{classes:u,maxDateTransform:Fv,minDateTransform:vu,view:"decade",children:a(l,s)}))}var Yb=function(){return Yb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yb.apply(this,arguments)},kC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function nfe(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringDecade,i=e.value,a=e.valueType,o=kC(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=jde(t),l=s+(n?11:9);return w.jsx(Uv,{className:"react-calendar__decade-view__years",dateTransform:vu,dateType:"year",end:l,hover:r,renderTile:function(u){var c=u.date,d=kC(u,["date"]);return w.jsx(rfe,Yb({},o,d,{activeStartDate:t,currentDecade:s,date:c}),c.getTime())},start:s,value:i,valueType:a})}var Qb=function(){return Qb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qb.apply(this,arguments)};function ife(e){function t(){return w.jsx(nfe,Qb({},e))}return w.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Xb=function(){return Xb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xb.apply(this,arguments)},afe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},TC=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},ofe="react-calendar__year-view__months__month";function sfe(e){var t=e.classes,r=t===void 0?[]:t,n=e.formatMonth,i=n===void 0?Ide:n,a=e.formatMonthYear,o=a===void 0?yF:a,s=afe(e,["classes","formatMonth","formatMonthYear"]),l=s.date,u=s.locale;return w.jsx(Bv,Xb({},s,{classes:TC(TC([],r,!0),[ofe],!1),formatAbbr:o,maxDateTransform:pf,minDateTransform:Ps,view:"year",children:i(u,l)}))}var Jb=function(){return Jb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Jb.apply(this,arguments)},AC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function lfe(e){var t=e.activeStartDate,r=e.hover,n=e.value,i=e.valueType,a=AC(e,["activeStartDate","hover","value","valueType"]),o=0,s=11,l=nt(t);return w.jsx(Uv,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(l,u,1),Ps(c)},dateType:"month",end:s,hover:r,renderTile:function(u){var c=u.date,d=AC(u,["date"]);return w.jsx(sfe,Jb({},a,d,{activeStartDate:t,date:c}),c.getTime())},start:o,value:n,valueType:i})}var Zb=function(){return Zb=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Zb.apply(this,arguments)};function ufe(e){function t(){return w.jsx(lfe,Zb({},e))}return w.jsx("div",{className:"react-calendar__year-view",children:t()})}var e_=function(){return e_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},e_.apply(this,arguments)},cfe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},m0="react-calendar__month-view__days__day";function dfe(e){var t=e.calendarType,r=e.classes,n=r===void 0?[]:r,i=e.currentMonthIndex,a=e.formatDay,o=a===void 0?Tde:a,s=e.formatLongDate,l=s===void 0?Ade:s,u=cfe(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=u.date,d=u.locale,h=[];return n&&h.push.apply(h,n),h.push(m0),EF(c,t)&&h.push("".concat(m0,"--weekend")),c.getMonth()!==i&&h.push("".concat(m0,"--neighboringMonth")),w.jsx(Bv,e_({},u,{classes:h,formatAbbr:l,maxDateTransform:cS,minDateTransform:mf,view:"month",children:o(d,c)}))}var t_=function(){return t_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},t_.apply(this,arguments)},IC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function ffe(e){var t=e.activeStartDate,r=e.calendarType,n=e.hover,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,s=e.valueType,l=IC(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=nt(t),c=uo(t),d=i||a,h=yd(t,r),p=d?0:h,g=(d?-h:0)+1,_=function(){if(i)return g+6*7-1;var v=vF(t);if(a){var y=new Date;y.setFullYear(u,c,v),y.setHours(0,0,0,0);var x=7-yd(y,r)-1;return v+x}return v}();return w.jsx(Uv,{className:"react-calendar__month-view__days",count:7,dateTransform:function(v){var y=new Date;return y.setFullYear(u,c,v),mf(y)},dateType:"day",hover:n,end:_,renderTile:function(v){var y=v.date,x=IC(v,["date"]);return w.jsx(dfe,t_({},l,x,{activeStartDate:t,calendarType:r,currentMonthIndex:c,date:y}),y.getTime())},offset:p,start:g,value:o,valueType:s})}var PF="react-calendar__month-view__weekdays",g0="".concat(PF,"__weekday");function hfe(e){for(var t=e.calendarType,r=e.formatShortWeekday,n=r===void 0?Ode:r,i=e.formatWeekday,a=i===void 0?Cde:i,o=e.locale,s=e.onMouseLeave,l=new Date,u=Ps(l),c=nt(u),d=uo(u),h=[],p=1;p<=7;p+=1){var g=new Date(c,d,p-yd(u,t)),_=a(o,g);h.push(w.jsx("div",{className:xe(g0,Wde(g)&&"".concat(g0,"--current"),EF(g,t)&&"".concat(g0,"--weekend")),children:w.jsx("abbr",{"aria-label":_,title:_,children:n(o,g).replace(".","")})},p))}return w.jsx(fS,{className:PF,count:7,onFocus:s,onMouseOver:s,children:h})}var Bm=function(){return Bm=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bm.apply(this,arguments)},OC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},CC="react-calendar__tile";function pfe(e){var t=e.onClickWeekNumber,r=e.weekNumber,n=w.jsx("span",{children:r});if(t){var i=e.date,a=e.onClickWeekNumber,o=e.weekNumber,s=OC(e,["date","onClickWeekNumber","weekNumber"]);return w.jsx("button",Bm({},s,{className:CC,onClick:function(l){return a(o,i,l)},type:"button",children:n}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var s=OC(e,["date","onClickWeekNumber","weekNumber"]);return w.jsx("div",Bm({},s,{className:CC,children:n}))}}function mfe(e){var t=e.activeStartDate,r=e.calendarType,n=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=function(){if(a)return 6;var u=vF(t),c=yd(t,r),d=u-(7-c);return 1+Math.ceil(d/7)}(),s=function(){for(var u=nt(t),c=uo(t),d=Vv(t),h=[],p=0;p<o;p+=1)h.push(Wb(new Date(u,c,d+p*7),r));return h}(),l=s.map(function(u){return Mde(u,r)});return w.jsx(fS,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,c){var d=s[c];if(!d)throw new Error("date is not defined");return w.jsx(pfe,{date:d,onClickWeekNumber:n,weekNumber:u},u)})})}var r_=function(){return r_=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r_.apply(this,arguments)},gfe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function vfe(e){if(e)for(var t=0,r=Object.entries(vde);t<r.length;t++){var n=r[t],i=n[0],a=n[1];if(a.includes(e))return i}return ar.ISO_8601}function yfe(e){var t=e.activeStartDate,r=e.locale,n=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,o=a===void 0?vfe(r):a,s=e.formatShortWeekday,l=e.formatWeekday,u=e.onClickWeekNumber,c=e.showWeekNumbers,d=gfe(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function h(){return w.jsx(hfe,{calendarType:o,formatShortWeekday:s,formatWeekday:l,locale:r,onMouseLeave:n})}function p(){return c?w.jsx(mfe,{activeStartDate:t,calendarType:o,onClickWeekNumber:u,onMouseLeave:n,showFixedNumberOfWeeks:i}):null}function g(){return w.jsx(ffe,r_({calendarType:o},d))}var _="react-calendar__month-view";return w.jsx("div",{className:xe(_,c?"".concat(_,"--weekNumbers"):""),children:w.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[p(),w.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[h(),g()]})]})})}var ll=function(){return ll=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ll.apply(this,arguments)},xh="react-calendar",Qh=["century","decade","year","month"],wfe=["decade","year","month","day"],hS=new Date;hS.setFullYear(1,0,1);hS.setHours(0,0,0,0);var bfe=new Date(864e13);function dc(e){return e instanceof Date?e:new Date(e)}function kF(e,t){return Qh.slice(Qh.indexOf(e),Qh.indexOf(t)+1)}function _fe(e,t,r){var n=kF(t,r);return n.indexOf(e)!==-1}function pS(e,t,r){return e&&_fe(e,t,r)?e:r}function TF(e){var t=Qh.indexOf(e);return wfe[t]}function xfe(e,t){var r=Array.isArray(e)?e[t]:e;if(!r)return null;var n=dc(r);if(Number.isNaN(n.getTime()))throw new Error("Invalid date: ".concat(e));return n}function AF(e,t){var r=e.value,n=e.minDate,i=e.maxDate,a=e.maxDetail,o=xfe(r,t);if(!o)return null;var s=TF(a),l=function(){switch(t){case 0:return Go(s,o);case 1:return bF(s,o);default:throw new Error("Invalid index value: ".concat(t))}}();return qde(l,n,i)}var mS=function(e){return AF(e,0)},IF=function(e){return AF(e,1)},Efe=function(e){return[mS,IF].map(function(t){return t(e)})};function OF(e){var t=e.maxDate,r=e.maxDetail,n=e.minDate,i=e.minDetail,a=e.value,o=e.view,s=pS(o,i,r),l=mS({value:a,minDate:n,maxDate:t,maxDetail:r})||new Date;return Go(s,l)}function Sfe(e){var t=e.activeStartDate,r=e.defaultActiveStartDate,n=e.defaultValue,i=e.defaultView,a=e.maxDate,o=e.maxDetail,s=e.minDate,l=e.minDetail,u=e.value,c=e.view,d=pS(c,l,o),h=t||r;return h?Go(d,h):OF({maxDate:a,maxDetail:o,minDate:s,minDetail:l,value:u||n,view:c||i})}function v0(e){return e&&(!Array.isArray(e)||e.length===1)}function Eh(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var Pfe=m.forwardRef(function(t,r){var n=t.activeStartDate,i=t.allowPartialRange,a=t.calendarType,o=t.className,s=t.defaultActiveStartDate,l=t.defaultValue,u=t.defaultView,c=t.formatDay,d=t.formatLongDate,h=t.formatMonth,p=t.formatMonthYear,g=t.formatShortWeekday,_=t.formatWeekday,v=t.formatYear,y=t.goToRangeStartOnSelect,x=y===void 0?!0:y,E=t.inputRef,k=t.locale,I=t.maxDate,C=I===void 0?bfe:I,T=t.maxDetail,P=T===void 0?"month":T,A=t.minDate,O=A===void 0?hS:A,N=t.minDetail,j=N===void 0?"century":N,R=t.navigationAriaLabel,F=t.navigationAriaLive,G=t.navigationLabel,Z=t.next2AriaLabel,ne=t.next2Label,z=t.nextAriaLabel,W=t.nextLabel,Q=t.onActiveStartDateChange,ue=t.onChange,ce=t.onClickDay,ye=t.onClickDecade,Ne=t.onClickMonth,it=t.onClickWeekNumber,at=t.onClickYear,Ee=t.onDrillDown,Kr=t.onDrillUp,U=t.onViewChange,de=t.prev2AriaLabel,ge=t.prev2Label,M=t.prevAriaLabel,X=t.prevLabel,q=t.returnValue,oe=q===void 0?"start":q,se=t.selectRange,Me=t.showDoubleView,He=t.showFixedNumberOfWeeks,Un=t.showNavigation,Bn=Un===void 0?!0:Un,mi=t.showNeighboringCentury,Wv=t.showNeighboringDecade,Ts=t.showNeighboringMonth,yu=Ts===void 0?!0:Ts,gf=t.showWeekNumbers,zt=t.tileClassName,Jt=t.tileContent,As=t.tileDisabled,Is=t.value,wu=t.view,vf=m.useState(s),fo=vf[0],ho=vf[1],bu=m.useState(null),_u=bu[0],yf=bu[1],wf=m.useState(Array.isArray(l)?l.map(function(ve){return ve!==null?dc(ve):null}):l!=null?dc(l):null),po=wf[0],bf=wf[1],xu=m.useState(u),mo=xu[0],Os=xu[1],Ut=n||fo||Sfe({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:u,maxDate:C,maxDetail:P,minDate:O,minDetail:j,value:Is,view:wu}),pt=function(){var ve=function(){return se&&v0(po)?po:Is!==void 0?Is:po}();return ve?Array.isArray(ve)?ve.map(function(Ce){return Ce!==null?dc(Ce):null}):ve!==null?dc(ve):null:null}(),go=TF(P),Le=pS(wu||mo,j,P),Hr=kF(j,P),vo=se?_u:null,Cs=Hr.indexOf(Le)<Hr.length-1,Bt=Hr.indexOf(Le)>0,Eu=m.useCallback(function(ve){var Ce=function(){switch(oe){case"start":return mS;case"end":return IF;case"range":return Efe;default:throw new Error("Invalid returnValue.")}}();return Ce({maxDate:C,maxDetail:P,minDate:O,value:ve})},[C,P,O,oe]),gi=m.useCallback(function(ve,Ce){ho(ve);var ot={action:Ce,activeStartDate:ve,value:pt,view:Le};Q&&!Eh(Ut,ve)&&Q(ot)},[Ut,Q,pt,Le]),Wn=m.useCallback(function(ve,Ce){var ot=function(){switch(Le){case"century":return ye;case"decade":return at;case"year":return Ne;case"month":return ce;default:throw new Error("Invalid view: ".concat(Le,"."))}}();ot&&ot(ve,Ce)},[ce,ye,Ne,at,Le]),Su=m.useCallback(function(ve,Ce){if(Cs){Wn(ve,Ce);var ot=Hr[Hr.indexOf(Le)+1];if(!ot)throw new Error("Attempted to drill down from the lowest view.");ho(ve),Os(ot);var Rr={action:"drillDown",activeStartDate:ve,value:pt,view:ot};Q&&!Eh(Ut,ve)&&Q(Rr),U&&Le!==ot&&U(Rr),Ee&&Ee(Rr)}},[Ut,Cs,Q,Wn,Ee,U,pt,Le,Hr]),Pu=m.useCallback(function(){if(Bt){var ve=Hr[Hr.indexOf(Le)-1];if(!ve)throw new Error("Attempted to drill up from the highest view.");var Ce=Go(ve,Ut);ho(Ce),Os(ve);var ot={action:"drillUp",activeStartDate:Ce,value:pt,view:ve};Q&&!Eh(Ut,Ce)&&Q(ot),U&&Le!==ve&&U(ot),Kr&&Kr(ot)}},[Ut,Bt,Q,Kr,U,pt,Le,Hr]),Kn=m.useCallback(function(ve,Ce){var ot=pt;Wn(ve,Ce);var Rr=se&&!v0(ot),Pr;if(se)if(Rr)Pr=Go(go,ve);else{if(!ot)throw new Error("previousValue is required");if(Array.isArray(ot))throw new Error("previousValue must not be an array");Pr=Ude(go,ot,ve)}else Pr=Eu(ve);var wo=!se||Rr||x?OF({maxDate:C,maxDetail:P,minDate:O,minDetail:j,value:Pr,view:Le}):null;Ce.persist(),ho(wo),bf(Pr);var xf={action:"onChange",activeStartDate:wo,value:Pr,view:Le};if(Q&&!Eh(Ut,wo)&&Q(xf),ue)if(se){var Ef=v0(Pr);if(!Ef)ue(Pr||null,Ce);else if(i){if(Array.isArray(Pr))throw new Error("value must not be an array");ue([Pr||null,null],Ce)}}else ue(Pr||null,Ce)},[Ut,i,Eu,x,C,P,O,j,Q,ue,Wn,se,pt,go,Le]);function Kv(ve){yf(ve)}function ku(){yf(null)}m.useImperativeHandle(r,function(){return{activeStartDate:Ut,drillDown:Su,drillUp:Pu,onChange:Kn,setActiveStartDate:gi,value:pt,view:Le}},[Ut,Su,Pu,Kn,gi,pt,Le]);function yo(ve){var Ce=ve?wF(Le,Ut):Go(Le,Ut),ot=Cs?Su:Kn,Rr={activeStartDate:Ce,hover:vo,locale:k,maxDate:C,minDate:O,onClick:ot,onMouseOver:se?Kv:void 0,tileClassName:zt,tileContent:Jt,tileDisabled:As,value:pt,valueType:go};switch(Le){case"century":return w.jsx(efe,ll({formatYear:v,showNeighboringCentury:mi},Rr));case"decade":return w.jsx(ife,ll({formatYear:v,showNeighboringDecade:Wv},Rr));case"year":return w.jsx(ufe,ll({formatMonth:h,formatMonthYear:p},Rr));case"month":return w.jsx(yfe,ll({calendarType:a,formatDay:c,formatLongDate:d,formatShortWeekday:g,formatWeekday:_,onClickWeekNumber:it,onMouseLeave:se?ku:void 0,showFixedNumberOfWeeks:typeof He<"u"?He:Me,showNeighboringMonth:yu,showWeekNumbers:gf},Rr));default:throw new Error("Invalid view: ".concat(Le,"."))}}function _f(){return Bn?w.jsx(Kde,{activeStartDate:Ut,drillUp:Pu,formatMonthYear:p,formatYear:v,locale:k,maxDate:C,minDate:O,navigationAriaLabel:R,navigationAriaLive:F,navigationLabel:G,next2AriaLabel:Z,next2Label:ne,nextAriaLabel:z,nextLabel:W,prev2AriaLabel:de,prev2Label:ge,prevAriaLabel:M,prevLabel:X,setActiveStartDate:gi,showDoubleView:Me,view:Le,views:Hr}):null}var Tu=Array.isArray(pt)?pt:[pt];return w.jsxs("div",{className:xe(xh,se&&Tu.length===1&&"".concat(xh,"--selectRange"),Me&&"".concat(xh,"--doubleView"),o),ref:E,children:[_f(),w.jsxs("div",{className:"".concat(xh,"__viewContainer"),onBlur:se?ku:void 0,onMouseLeave:se?ku:void 0,children:[yo(),Me?yo(!0):null]})]})});const kfe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function Tfe({user:e}){const[t,r]=m.useState(new Date),[n,i]=m.useState([]),[a,o]=m.useState(""),[s,l]=m.useState(""),[u,c]=m.useState(""),[d,h]=m.useState("none"),[p,g]=m.useState(12),[_,v]=m.useState(!1),[y,x]=m.useState("cash");m.useEffect(()=>{const A=$l(Jn(wt,"planned_transactions"),Uo("uid","==",e.uid)),O=Bo(A,N=>{const j=N.docs.map(R=>({id:R.id,...R.data()}));i(j)});return()=>O()},[e.uid]);const E=({date:A,view:O})=>{if(O==="month"){const N=A.toISOString().split("T")[0],j=n.filter(R=>R.date===N);if(j.length>0)return w.jsx("div",{className:"calendar-tile-content",children:j.map((R,F)=>w.jsx("div",{className:`calendar-dot ${R.isCompleted?"dot-completed":"dot-expense"}`},F))})}},k=async A=>{if(A.preventDefault(),!(!a||!s||!u)){v(!0);try{const O=new Date(t),N=d==="none"?1:parseInt(p),j=[];for(let R=0;R<N;R++){const F=new Date(O);d==="weekly"?F.setDate(O.getDate()+R*7):d==="monthly"&&F.setMonth(O.getMonth()+R);const G=F.toISOString().split("T")[0];j.push($p(Jn(wt,"planned_transactions"),{uid:e.uid,title:d!=="none"?`${s} (${R+1}/${N})`:s,amount:parseFloat(a),category:u,paymentMethod:y,date:G,isCompleted:!1,createdAt:Fp()}))}await Promise.all(j),o(""),l(""),c(""),x("cash"),h("none"),g(12)}catch(O){console.error("Error adding planned txn:",O),alert("Bir hata olutu.")}finally{v(!1)}}},I=async A=>{await $p(Jn(wt,"transactions"),{uid:e.uid,title:A.title,amount:A.amount,type:"expense",category:A.category,paymentMethod:A.paymentMethod||"cash",date:A.date,createdAt:Fp()}),await Oo(Qr(wt,"planned_transactions",A.id),{isCompleted:!0})},C=async A=>{await wj(Qr(wt,"planned_transactions",A))},T=t.toISOString().split("T")[0],P=n.filter(A=>A.date===T);return w.jsxs("div",{className:"p-4 lg:p-8 max-w-5xl mx-auto pb-24 lg:pb-8",children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[w.jsx(Bp,{className:"text-indigo-600 dark:text-indigo-400"}),"Planl demeler & Takvim"]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:w.jsx(Pfe,{onChange:r,value:t,tileContent:E,className:"w-full text-sm",locale:"tr-TR"})}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4 text-sm uppercase tracking-wider",children:[t.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})," in Ekle"]}),w.jsxs("form",{onSubmit:k,className:"space-y-3",children:[w.jsx("input",{type:"text",placeholder:"Balk (rn: Kira)",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",value:s,onChange:A=>l(A.target.value)}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("input",{type:"number",placeholder:"Tutar",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",value:a,onChange:A=>o(A.target.value)}),w.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 text-sm focus:ring-2 focus:ring-indigo-500 outline-none",value:u,required:!0,onChange:A=>c(A.target.value),children:[w.jsx("option",{value:"",children:"Kategori"}),kfe.map(A=>w.jsx("option",{value:A,children:A},A))]})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsxs("button",{type:"button",onClick:()=>x("cash"),className:`flex-1 py-1.5 px-2 rounded-lg flex items-center justify-center gap-1 text-xs font-medium transition-all ${y==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[w.jsx(Up,{size:14})," Nakit"]}),w.jsxs("button",{type:"button",onClick:()=>x("credit_card"),className:`flex-1 py-1.5 px-2 rounded-lg flex items-center justify-center gap-1 text-xs font-medium transition-all ${y==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[w.jsx(oi,{size:14})," Kredi Kart"]})]}),w.jsxs("div",{className:"pt-2 border-t border-slate-100 dark:border-slate-700",children:[w.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-2",children:"Tekrar Seenekleri"}),w.jsxs("div",{className:"flex gap-2 mb-2",children:[w.jsxs("select",{className:"w-full px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 text-xs outline-none",value:d,onChange:A=>h(A.target.value),children:[w.jsx("option",{value:"none",children:"Tekrarlama Yok"}),w.jsx("option",{value:"monthly",children:"Her Ay"}),w.jsx("option",{value:"weekly",children:"Her Hafta"})]}),d!=="none"&&w.jsx("input",{type:"number",min:"1",max:"60",value:p,onChange:A=>g(A.target.value),className:"w-20 px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-800 dark:text-slate-200 text-xs outline-none text-center",title:"Ka kez tekrar etsin?"})]}),d!=="none"&&w.jsxs("p",{className:"text-[10px] text-indigo-500",children:["* Bu tarihten balayarak ",w.jsx("strong",{children:p})," kez otomatik oluturulacak."]})]}),w.jsx("button",{type:"submit",disabled:_,className:"w-full py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-indigo-400 text-white rounded-lg text-sm font-medium transition-colors flex justify-center items-center gap-2",children:_?"leniyor...":"Planla"})]})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsxs("h3",{className:"font-bold text-slate-800 dark:text-slate-100 mb-4 text-sm uppercase tracking-wider flex justify-between items-center",children:[w.jsx("span",{children:"Planlananlar"}),w.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 px-2 py-1 rounded-full",children:P.length})]}),P.length===0?w.jsx("p",{className:"text-slate-400 text-sm text-center py-4",children:"Planlanm deme yok."}):w.jsx("div",{className:"space-y-3",children:P.map(A=>w.jsxs("div",{className:`p-3 rounded-xl border ${A.isCompleted?"border-emerald-100 bg-emerald-50/30 dark:border-emerald-900/30":"border-slate-100 bg-slate-50/50 dark:border-slate-700 dark:bg-slate-700/30"}`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-2",children:[w.jsxs("div",{children:[w.jsx("p",{className:`font-semibold ${A.isCompleted?"text-emerald-700 dark:text-emerald-400 line-through":"text-slate-800 dark:text-slate-200"}`,children:A.title}),w.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-500 mt-1",children:[w.jsx("span",{children:A.category}),w.jsx("span",{children:""}),w.jsxs("span",{children:[A.amount," TL"]}),w.jsx("span",{children:""}),w.jsxs("span",{className:`flex items-center gap-1 ${A.paymentMethod==="credit_card"?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"}`,children:[A.paymentMethod==="credit_card"?w.jsx(oi,{size:10}):w.jsx(Up,{size:10}),A.paymentMethod==="credit_card"?"K.Kart":"Nakit"]})]})]}),!A.isCompleted&&w.jsx("button",{onClick:()=>I(A),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 p-1",title:"dendi aretle (Harcamalara Ekle)",children:w.jsx(qx,{size:18})})]}),w.jsx("div",{className:"flex justify-end",children:w.jsxs("button",{onClick:()=>C(A.id),className:"text-slate-300 hover:text-red-500 transition-colors text-xs flex items-center gap-1",children:[w.jsx(Hp,{size:12})," Sil"]})})]},A.id))})]})]})]})]})}const Afe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function Ife({user:e}){const[t,r]=m.useState([]),[n,i]=m.useState({}),[a,o]=m.useState(!0),[s,l]=m.useState(()=>{const v=new Date,y=v.getFullYear(),x=String(v.getMonth()+1).padStart(2,"0");return`${y}-${x}`});m.useEffect(()=>{const v=$l(Jn(wt,"transactions"),Uo("uid","==",e.uid)),y=Bo(v,x=>{const E=x.docs.map(k=>k.data());r(E),o(!1)});return()=>y()},[e.uid]),m.useEffect(()=>{const v=$l(Jn(wt,"budgets"),Uo("uid","==",e.uid)),y=Bo(v,x=>{const E={};x.docs.forEach(k=>{E[k.data().category]=k.data().limit}),i(E)});return()=>y()},[e.uid]);const u=async v=>{const y=n[v]||"",x=prompt(`${v} iin yeni aylk bte limiti girin:`,y);if(x!==null&&x.trim()!==""){const E=parseFloat(x);!isNaN(E)&&E>=0&&await yj(Qr(wt,"budgets",`${e.uid}_${v}`),{uid:e.uid,category:v,limit:E})}},d=t.filter(v=>{var x;let y=v.date;if(!y&&((x=v.createdAt)!=null&&x.toDate)){const E=v.createdAt.toDate();y=`${E.getFullYear()}-${String(E.getMonth()+1).padStart(2,"0")}-${String(E.getDate()).padStart(2,"0")}`}return y&&y.startsWith(s)&&v.type==="expense"}).reduce((v,y)=>{const x=y.category||"Dier";return v[x]=(v[x]||0)+y.amount,v},{});let h=0,p=0;Object.entries(n).forEach(([v,y])=>{y>0&&(h+=y,p+=d[v]||0)});const g=h-p,_=h>0?p/h*100:0;return w.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[w.jsx(RT,{className:"text-indigo-600 dark:text-indigo-400"}),"Bte Planlamas"]}),w.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Aylk harcama hedeflerinizi ynetin ve tasarruf edin."})]}),w.jsx("input",{type:"month",className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 shadow-sm",value:s,onChange:v=>l(v.target.value)})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:w.jsx(RT,{size:64,className:"text-indigo-600 dark:text-indigo-400"})}),w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Toplam Bte Hedefi"}),w.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:h.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),w.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:w.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full",style:{width:"100%"}})})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:w.jsx(zw,{size:64,className:"text-amber-500"})}),w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Harcanan Tutar"}),w.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:p.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),w.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:w.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${_>100?"bg-red-500":"bg-amber-500"}`,style:{width:`${Math.min(_,100)}%`}})})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[w.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:w.jsx(nl,{size:64,className:"text-emerald-500"})}),w.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Kalan Kullanlabilir"}),w.jsx("h3",{className:`text-2xl font-bold mt-1 ${g<0?"text-red-500":"text-emerald-600 dark:text-emerald-400"}`,children:g.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),w.jsx("p",{className:"text-xs text-slate-400 mt-2",children:g<0?"Toplam bte hedefini atnz.":"Bte hedeflerine gre gvendesiniz."})]})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Afe.map(v=>{const y=n[v]||0,x=d[v]||0,E=y>0?x/y*100:0,k=y-x,I=y>0;let C="text-slate-400",T="bg-slate-200 dark:bg-slate-700",P="Bte Yok";return I&&(E>=100?(C="text-red-500",T="bg-red-500",P="Bte Ald"):E>=75?(C="text-amber-500",T="bg-amber-500",P="Dikkat"):(C="text-emerald-500",T="bg-emerald-500",P="Gvenli")),w.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl p-6 border transition-all hover:shadow-md ${I?"border-slate-100 dark:border-slate-700":"border-dashed border-slate-200 dark:border-slate-700 opacity-70 hover:opacity-100"}`,children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsxs("div",{children:[w.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:v}),w.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700/50 ${C}`,children:P})]}),w.jsx("button",{onClick:()=>u(v),className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Limiti Dzenle",children:w.jsx(WK,{size:18})})]}),w.jsxs("div",{className:"space-y-4",children:[w.jsx("div",{className:"flex justify-between items-end",children:w.jsxs("div",{className:"text-right w-full",children:[w.jsxs("div",{className:"flex justify-between text-sm mb-1 text-slate-500 dark:text-slate-400",children:[w.jsx("span",{children:"Harcanan"}),w.jsxs("span",{className:E>100?"text-red-500 font-bold":"",children:[x.toLocaleString("tr-TR",{maximumFractionDigits:0})," TL"]})]}),w.jsxs("div",{className:"flex justify-between text-sm mb-1 font-medium text-slate-700 dark:text-slate-300",children:[w.jsx("span",{children:"Limit"}),w.jsx("span",{children:y>0?y.toLocaleString("tr-TR",{maximumFractionDigits:0})+" TL":"-"})]})]})}),w.jsx("div",{className:"relative h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:y>0&&w.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all duration-700 ${T}`,style:{width:`${Math.min(E,100)}%`}})}),I&&w.jsx("div",{className:"flex items-center gap-2 text-xs font-medium pt-1",children:k>=0?w.jsxs(w.Fragment,{children:[w.jsx(qx,{size:14,className:"text-emerald-500"}),w.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:[k.toLocaleString("tr-TR",{maximumFractionDigits:0})," TL harcayabilirsiniz"]})]}):w.jsxs(w.Fragment,{children:[w.jsx(DK,{size:14,className:"text-red-500"}),w.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[Math.abs(k).toLocaleString("tr-TR",{maximumFractionDigits:0})," TL atnz"]})]})})]})]},v)})})]})}const Ofe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"],Cfe=["Maa","Freelance","Yatrm","Ek Gelir","Dier"];function Nfe({user:e}){const[t,r]=m.useState("cards"),[n,i]=m.useState(!0),[a,o]=m.useState({expenseCategories:Ofe,incomeCategories:Cfe,creditCards:[],theme:"system",currency:"TRY"}),[s,l]=m.useState(e.displayName||""),[u,c]=m.useState(!1),[d,h]=m.useState(""),[p,g]=m.useState("expense"),[_,v]=m.useState(""),[y,x]=m.useState(""),[E,k]=m.useState(""),[I,C]=m.useState("");m.useEffect(()=>{(async()=>{const G=Qr(wt,"user_settings",e.uid),Z=await TK(G);if(Z.exists()){const ne=Z.data();o({...ne,creditCards:ne.creditCards||[]})}else await yj(G,a);i(!1)})()},[e.uid]);const T=async F=>{const G={...a,theme:F};o(G),F==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):F==="light"?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(localStorage.removeItem("theme"),window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),await Oo(Qr(wt,"user_settings",e.uid),{theme:F})},P=async F=>{if(F.preventDefault(),!d.trim())return;const G=p==="expense"?a.expenseCategories:a.incomeCategories;if(G.includes(d.trim())){alert("Bu kategori zaten mevcut.");return}const Z=[...G,d.trim()],ne=p==="expense"?{expenseCategories:Z}:{incomeCategories:Z};o({...a,...ne}),await Oo(Qr(wt,"user_settings",e.uid),ne),h("")},A=async F=>{if(F.preventDefault(),!_.trim())return;const G=a.creditCards||[];if(G.includes(_.trim())){alert("Bu kart zaten ekli.");return}const ne={creditCards:[...G,_.trim()]};o({...a,...ne}),await Oo(Qr(wt,"user_settings",e.uid),ne),v("")},O=async(F,G)=>{if(!confirm(`${F} gesini silmek istediinize emin misiniz?`))return;let Z={};if(G==="card")Z={creditCards:(a.creditCards||[]).filter(z=>z!==F)};else{const z=(G==="expense"?a.expenseCategories:a.incomeCategories).filter(W=>W!==F);Z=G==="expense"?{expenseCategories:z}:{incomeCategories:z}}o({...a,...Z}),await Oo(Qr(wt,"user_settings",e.uid),Z)},N=async F=>{F.preventDefault(),c(!0);try{await s9(e,{displayName:s}),alert("Profil gncellendi!")}catch(G){console.error(G),alert("Hata olutu.")}finally{c(!1)}},j=async F=>{if(F.preventDefault(),E!==I){alert("Yeni ifreler elemiyor.");return}try{const G=ws.credential(e.email,y);await n9(e,G),await l9(e,E),alert("ifre baaryla deitirildi."),x(""),k(""),C("")}catch(G){console.error(G),alert("ifre deitirilemedi. Mevcut ifrenizi doru girdiinizden emin olun.")}},R=[{id:"cards",label:"Kartlarm",icon:oi},{id:"categories",label:"Kategoriler",icon:Kp},{id:"preferences",label:"Grnm",icon:CT},{id:"profile",label:"Profil",icon:jT},{id:"security",label:"Gvenlik",icon:DT}];return n?w.jsx("div",{className:"p-8 text-center",children:"Ykleniyor..."}):w.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Ayarlar"}),w.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[w.jsx("div",{className:"lg:w-64 flex-shrink-0",children:w.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden sticky top-8",children:R.map(F=>w.jsxs("button",{onClick:()=>r(F.id),className:`w-full flex items-center gap-3 p-4 text-sm font-medium transition-colors ${t===F.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 border-l-4 border-indigo-600":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 border-l-4 border-transparent"}`,children:[w.jsx(F.icon,{size:18}),F.label]},F.id))})}),w.jsx("div",{className:"flex-1",children:w.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 min-h-[400px]",children:[t==="cards"&&w.jsx("div",{className:"space-y-8",children:w.jsxs("div",{children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[w.jsx(oi,{className:"text-indigo-600",size:20}),"Kartlarm"]}),w.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Kullandnz kredi kartlarn ekleyin. Harcama yaparken bu kartlardan seim yapabileceksiniz."}),w.jsxs("form",{onSubmit:A,className:"flex gap-2 mb-6",children:[w.jsx("input",{type:"text",value:_,onChange:F=>v(F.target.value),placeholder:"Kart ad (rn: Bonus, Maximum)",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),w.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:w.jsx(Wp,{size:24})})]}),w.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(a.creditCards||[]).map((F,G)=>w.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-slate-800 to-slate-700 text-white rounded-xl shadow-md group",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(oi,{size:20,className:"text-white/80"}),w.jsx("span",{className:"font-medium",children:F})]}),w.jsx("button",{onClick:()=>O(F,"card"),className:"p-1.5 text-white/50 hover:text-red-300 hover:bg-white/10 rounded-md transition-all sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:w.jsx(Hp,{size:16})})]},G)),(a.creditCards||[]).length===0&&w.jsxs("div",{className:"col-span-2 text-center py-8 text-slate-400 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[w.jsx("p",{className:"mb-2",children:"Henz kart eklemediniz."}),w.jsx("p",{className:"text-xs",children:"Yukardan kartnzn adn yazp (+) butonuna basn."})]})]})]})}),t==="categories"&&w.jsx("div",{className:"space-y-8",children:w.jsxs("div",{children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[w.jsx(Kp,{className:"text-indigo-600",size:20}),"Kategori Ynetimi"]}),w.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Gelir ve gider ilemlerinizde kullanacanz kategorileri zelletirin."}),w.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-700 rounded-xl mb-6",children:[w.jsx("button",{onClick:()=>g("expense"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${p==="expense"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gider Kategorileri"}),w.jsx("button",{onClick:()=>g("income"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${p==="income"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gelir Kategorileri"})]}),w.jsxs("form",{onSubmit:P,className:"flex gap-2 mb-6",children:[w.jsx("input",{type:"text",value:d,onChange:F=>h(F.target.value),placeholder:"Yeni kategori ad...",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),w.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:w.jsx(Wp,{size:24})})]}),w.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(p==="expense"?a.expenseCategories:a.incomeCategories).map((F,G)=>w.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg group border border-transparent hover:border-slate-200 dark:hover:border-slate-600 transition-all",children:[w.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:F}),w.jsx("button",{onClick:()=>O(F,p),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md opacity-100 lg:opacity-0 group-hover:opacity-100 transition-all",title:"Sil",children:w.jsx(Hp,{size:16})})]},G))})]})}),t==="preferences"&&w.jsx("div",{className:"space-y-8",children:w.jsxs("div",{children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[w.jsx(CT,{className:"text-indigo-600",size:20}),"Grnm & Tercihler"]}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Tema Seimi"}),w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[w.jsxs("button",{onClick:()=>T("light"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="light"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[w.jsx(Ej,{size:24}),w.jsx("span",{className:"text-sm font-medium",children:"Ak"})]}),w.jsxs("button",{onClick:()=>T("dark"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="dark"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[w.jsx(xj,{size:24}),w.jsx("span",{className:"text-sm font-medium",children:"Koyu"})]}),w.jsxs("button",{onClick:()=>T("system"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="system"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[w.jsx(BK,{size:24}),w.jsx("span",{className:"text-sm font-medium",children:"Sistem"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Para Birimi"}),w.jsxs("select",{value:a.currency,onChange:F=>{const G=F.target.value;o({...a,currency:G}),Oo(Qr(wt,"user_settings",e.uid),{currency:G})},className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:"TRY",children:"Trk Liras ()"}),w.jsx("option",{value:"USD",children:"Amerikan Dolar ($)"}),w.jsx("option",{value:"EUR",children:"Euro ()"})]})]})]})]})}),t==="profile"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[w.jsx(jT,{className:"text-indigo-600",size:20}),"Profil Bilgileri"]}),w.jsxs("form",{onSubmit:N,className:"space-y-4 max-w-md",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta Adresi"}),w.jsx("input",{type:"email",disabled:!0,value:e.email,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Grnen sim"}),w.jsx("input",{type:"text",value:s,onChange:F=>l(F.target.value),placeholder:"sminiz",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),w.jsxs("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[w.jsx(NT,{size:18})," ",u?"Kaydediliyor...":"Kaydet"]})]})]}),t==="security"&&w.jsxs("div",{className:"space-y-6",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[w.jsx(DT,{className:"text-indigo-600",size:20}),"Gvenlik"]}),w.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl mb-6",children:w.jsxs("div",{className:"flex gap-3",children:[w.jsx(zK,{className:"text-amber-600 dark:text-amber-400 shrink-0",size:24}),w.jsxs("div",{children:[w.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-300 text-sm",children:"ifre Deitirme"}),w.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 mt-1",children:"Gvenliiniz iin ifrenizi dzenli olarak deitirmenizi neririz."})]})]})}),w.jsxs("form",{onSubmit:j,className:"space-y-4 max-w-md",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mevcut ifre"}),w.jsx("input",{type:"password",required:!0,value:y,onChange:F=>x(F.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre"}),w.jsx("input",{type:"password",required:!0,value:E,onChange:F=>k(F.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre (Tekrar)"}),w.jsx("input",{type:"password",required:!0,value:I,onChange:F=>C(F.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),w.jsxs("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[w.jsx(NT,{size:18})," ifreyi Gncelle"]})]})]})]})})]})]})}const NC=["#6366f1","#ec4899","#8b5cf6","#14b8a6","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function Dfe({user:e}){const[t,r]=m.useState([]),[n,i]=m.useState(!0),[a,o]=m.useState("6M");m.useEffect(()=>{const v=$l(Jn(wt,"transactions"),Uo("uid","==",e.uid)),y=Bo(v,x=>{const E=x.docs.map(k=>{var C;const I=k.data();return{id:k.id,...I,dateObj:new Date(I.date||((C=I.createdAt)==null?void 0:C.toDate()))}});E.sort((k,I)=>k.dateObj-I.dateObj),r(E),i(!1)});return()=>y()},[e.uid]);const s=()=>{const v=new Date;let y=new Date;a==="1M"?y.setMonth(v.getMonth()-1):a==="3M"?y.setMonth(v.getMonth()-3):a==="6M"?y.setMonth(v.getMonth()-6):a==="1Y"?y.setFullYear(v.getFullYear()-1):y=new Date(0);const x=t.filter(k=>k.dateObj>=y),E={};return x.forEach(k=>{const I=k.dateObj.toLocaleDateString("tr-TR",{month:"short",year:"numeric"});E[I]||(E[I]={name:I,income:0,expense:0,balance:0,rawDate:k.dateObj}),k.type==="income"?E[I].income+=k.amount:E[I].expense+=k.amount}),Object.values(E).sort((k,I)=>k.rawDate-I.rawDate)},l=()=>{const v=new Date;let y=new Date;a==="1M"?y.setMonth(v.getMonth()-1):a==="3M"?y.setMonth(v.getMonth()-3):a==="6M"?y.setMonth(v.getMonth()-6):a==="1Y"?y.setFullYear(v.getFullYear()-1):y=new Date(0);const E=t.filter(k=>k.type==="expense"&&k.dateObj>=y).reduce((k,I)=>{const C=I.category||"Dier";return k[C]=(k[C]||0)+I.amount,k},{});return Object.entries(E).map(([k,I])=>({name:k,value:I})).sort((k,I)=>I.value-k.value).slice(0,6)},u=()=>{const v=new Date;let y=new Date;a==="1M"?y.setMonth(v.getMonth()-1):a==="3M"?y.setMonth(v.getMonth()-3):a==="6M"?y.setMonth(v.getMonth()-6):a==="1Y"?y.setFullYear(v.getFullYear()-1):y=new Date(0);const E=t.filter(I=>I.type==="expense"&&I.paymentMethod==="credit_card"&&I.dateObj>=y).reduce((I,C)=>{const T=C.cardName||"Dier / Genel Kart";return I[T]=(I[T]||0)+C.amount,I},{}),k=Object.values(E).reduce((I,C)=>I+C,0);return Object.entries(E).map(([I,C])=>({name:I,value:C,percent:k>0?C/k*100:0})).sort((I,C)=>C.value-I.value)},c=()=>{const v=s(),y=v.reduce((k,I)=>k+I.income,0),x=v.reduce((k,I)=>k+I.expense,0),E=y>0?(y-x)/y*100:0;return{totalIncome:y,totalExpense:x,net:y-x,savingsRate:E}},d=s(),h=l(),p=u(),g=c(),_=({active:v,payload:y,label:x})=>v&&y&&y.length?w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 border border-slate-100 dark:border-slate-700 rounded-lg shadow-lg",children:[w.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-200 mb-2",children:x}),y.map((E,k)=>w.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[w.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),w.jsxs("span",{className:"text-slate-500 dark:text-slate-400 capitalize",children:[E.name==="income"?"Gelir":E.name==="expense"?"Gider":E.name,":"]}),w.jsx("span",{className:"font-mono font-medium text-slate-700 dark:text-slate-200",children:E.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},k))]}):null;return n?w.jsx("div",{className:"p-8 text-center text-slate-500",children:"Analizler hazrlanyor..."}):w.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[w.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[w.jsx(NK,{className:"text-indigo-600"}),"Finansal Raporlar"]}),w.jsx("div",{className:"flex bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:["1M","3M","6M","1Y","ALL"].map(v=>w.jsx("button",{onClick:()=>o(v),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${a===v?"bg-indigo-600 text-white shadow-md":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:v==="ALL"?"Tm":v},v))})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gelir"}),w.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:g.totalIncome.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gider"}),w.jsx("h3",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:g.totalExpense.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Net Durum"}),w.jsxs("h3",{className:`text-2xl font-bold ${g.net>=0?"text-indigo-600 dark:text-indigo-400":"text-red-500"}`,children:[g.net>0?"+":"",g.net.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})]})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Tasarruf Oran"}),w.jsxs("h3",{className:"text-2xl font-bold text-amber-500",children:[g.savingsRate.toFixed(1),"%"]})]})]}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[w.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Gelir ve Gider Ak"}),w.jsx("div",{className:"h-[300px] w-full",children:w.jsx(kc,{width:"100%",height:"100%",children:w.jsxs(Wce,{data:d,margin:{top:10,right:10,left:-20,bottom:0},children:[w.jsxs("defs",{children:[w.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[w.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),w.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),w.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[w.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.1}),w.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),w.jsx(jm,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),w.jsx($m,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),w.jsx(Fm,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),w.jsx(Tc,{content:w.jsx(_,{})}),w.jsx(jb,{type:"monotone",dataKey:"income",name:"income",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),w.jsx(jb,{type:"monotone",dataKey:"expense",name:"expense",stroke:"#ef4444",strokeWidth:3,fillOpacity:1,fill:"url(#colorExpense)"})]})})})]}),w.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Nereye Harcadm?"}),w.jsx("div",{className:"h-[300px] w-full relative",children:h.length>0?w.jsx(kc,{width:"100%",height:"100%",children:w.jsxs(aF,{children:[w.jsx(QE,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:h.map((v,y)=>w.jsx(mu,{fill:NC[y%NC.length]},`cell-${y}`))}),w.jsx(Tc,{}),w.jsx(A1,{verticalAlign:"bottom",height:36,iconType:"circle",content:({payload:v})=>w.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 text-xs",children:v.map((y,x)=>w.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400",children:[w.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:y.color}}),y.value]},`item-${x}`))})})]})}):w.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Veri yok"})})]})]}),w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[w.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Aylk Net Ak"}),w.jsx("div",{className:"h-[250px] w-full",children:w.jsx(kc,{width:"100%",height:"100%",children:w.jsxs(nF,{data:d,margin:{top:10,right:10,left:-20,bottom:0},children:[w.jsx(jm,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),w.jsx($m,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),w.jsx(Fm,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),w.jsx(Tc,{content:w.jsx(_,{})}),w.jsx(xl,{dataKey:"income",name:"Gelir",fill:"#10b981",radius:[4,4,0,0],maxBarSize:40}),w.jsx(xl,{dataKey:"expense",name:"Gider",fill:"#ef4444",radius:[4,4,0,0],maxBarSize:40})]})})})]}),p.length>0&&w.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mt-8",children:[w.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[w.jsx(oi,{className:"text-amber-600"}),"Kredi Kart Harcamalar"]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:p.map((v,y)=>w.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-700 flex items-center justify-between group hover:border-amber-200 dark:hover:border-amber-800 transition-all",children:[w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg text-amber-600 shadow-sm",children:w.jsx(oi,{size:20})}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:v.name}),w.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[w.jsx("div",{className:"w-16 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:w.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${v.percent}%`}})}),w.jsxs("span",{className:"text-xs text-slate-500",children:["%",v.percent.toFixed(0)]})]})]})]}),w.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:v.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},v.name))})]})]})}function Rfe(){const e=[{path:"/",icon:FK,label:"Ana Sayfa"},{path:"/calendar",icon:Bp,label:"Takvim"},{path:"/budget",icon:KK,label:"Bte"},{path:"/reports",icon:Hx,label:"Raporlar"},{path:"/settings",icon:HK,label:"Ayarlar"}];return w.jsxs(w.Fragment,{children:[w.jsxs("nav",{className:"hidden lg:flex flex-col w-64 h-screen fixed left-0 top-0 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 p-6 z-50 transition-colors duration-300",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2",children:[w.jsx("div",{className:"p-2 bg-indigo-600 rounded-lg text-white shadow-lg shadow-indigo-500/30",children:w.jsx(nl,{size:24})}),w.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-800 to-indigo-600 dark:from-indigo-400 dark:to-indigo-300 bg-clip-text text-transparent",children:"SpendWise"})]}),w.jsx("div",{className:"space-y-2",children:e.map(t=>w.jsxs(fk,{to:t.path,className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${r?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-indigo-600 dark:hover:text-indigo-300"}`,children:[w.jsx(t.icon,{size:20}),t.label]},t.path))}),w.jsx("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-800",children:w.jsx("p",{className:"text-xs text-slate-400 text-center",children:"v1.0.0  SpendWise"})})]}),w.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 w-full bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 pb-safe z-50 flex justify-around p-2 transition-colors duration-300",children:e.map(t=>w.jsxs(fk,{to:t.path,className:({isActive:r})=>`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors min-w-[64px] ${r?"text-indigo-600 dark:text-indigo-400 font-medium":"text-slate-500 dark:text-slate-500"}`,children:[w.jsx(t.icon,{size:24,strokeWidth:t.path===location.pathname?2.5:2}),w.jsx("span",{className:"text-[10px]",children:t.label})]},t.path))})]})}function jfe(){const[e,t]=m.useState(null),[r,n]=m.useState(!0);return m.useEffect(()=>{const i=f9(zp,a=>{t(a),n(!1)});return()=>i()},[]),r?w.jsx("div",{className:"min-h-screen grid place-items-center bg-slate-50 text-slate-500",children:"Ykleniyor..."}):w.jsx(x6,{children:w.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900 transition-colors duration-300",children:e?w.jsxs(w.Fragment,{children:[w.jsx(Rfe,{}),w.jsx("main",{className:"lg:ml-64 min-h-screen",children:w.jsxs(p6,{children:[w.jsx(Po,{path:"/",element:w.jsx(Hce,{user:e})}),w.jsx(Po,{path:"/calendar",element:w.jsx(Tfe,{user:e})}),w.jsx(Po,{path:"/budget",element:w.jsx(Ife,{user:e})}),w.jsx(Po,{path:"/reports",element:w.jsx(Dfe,{user:e})}),w.jsx(Po,{path:"/settings",element:w.jsx(Nfe,{user:e})}),w.jsx(Po,{path:"*",element:w.jsx(f6,{to:"/",replace:!0})})]})})]}):w.jsx(IK,{})})})}y0.createRoot(document.getElementById("root")).render(w.jsx(BC.StrictMode,{children:w.jsx(jfe,{})}));
