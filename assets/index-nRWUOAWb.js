var U5=Object.defineProperty;var B5=(e,t,r)=>t in e?U5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ty=(e,t,r)=>B5(e,typeof t!="symbol"?t+"":t,r);function W5(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v2={exports:{}},cg={},y2={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Symbol.for("react.element"),K5=Symbol.for("react.portal"),H5=Symbol.for("react.fragment"),q5=Symbol.for("react.strict_mode"),G5=Symbol.for("react.profiler"),Y5=Symbol.for("react.provider"),Q5=Symbol.for("react.context"),X5=Symbol.for("react.forward_ref"),J5=Symbol.for("react.suspense"),Z5=Symbol.for("react.memo"),eF=Symbol.for("react.lazy"),OS=Symbol.iterator;function tF(e){return e===null||typeof e!="object"?null:(e=OS&&e[OS]||e["@@iterator"],typeof e=="function"?e:null)}var x2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b2=Object.assign,w2={};function xu(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||x2}xu.prototype.isReactComponent={};xu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _2(){}_2.prototype=xu.prototype;function Ow(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||x2}var Nw=Ow.prototype=new _2;Nw.constructor=Ow;b2(Nw,xu.prototype);Nw.isPureReactComponent=!0;var NS=Array.isArray,E2=Object.prototype.hasOwnProperty,jw={current:null},k2={key:!0,ref:!0,__self:!0,__source:!0};function S2(e,t,r){var n,i={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)E2.call(t,n)&&!k2.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(s===1)i.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)i[n]===void 0&&(i[n]=s[n]);return{$$typeof:Bd,type:e,key:a,ref:o,props:i,_owner:jw.current}}function rF(e,t){return{$$typeof:Bd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Dw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Bd}function nF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var jS=/\/+/g;function Ay(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nF(""+e.key):t.toString(36)}function Hh(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Bd:case K5:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+Ay(o,0):n,NS(i)?(r="",e!=null&&(r=e.replace(jS,"$&/")+"/"),Hh(i,t,r,"",function(u){return u})):i!=null&&(Dw(i)&&(i=rF(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jS,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",NS(e))for(var s=0;s<e.length;s++){a=e[s];var l=n+Ay(a,s);o+=Hh(a,t,r,l,i)}else if(l=tF(e),typeof l=="function")for(e=l.call(e),s=0;!(a=e.next()).done;)a=a.value,l=n+Ay(a,s++),o+=Hh(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function nh(e,t,r){if(e==null)return e;var n=[],i=0;return Hh(e,n,"","",function(a){return t.call(r,a,i++)}),n}function iF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Br={current:null},qh={transition:null},aF={ReactCurrentDispatcher:Br,ReactCurrentBatchConfig:qh,ReactCurrentOwner:jw};function P2(){throw Error("act(...) is not supported in production builds of React.")}ke.Children={map:nh,forEach:function(e,t,r){nh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return nh(e,function(){t++}),t},toArray:function(e){return nh(e,function(t){return t})||[]},only:function(e){if(!Dw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ke.Component=xu;ke.Fragment=H5;ke.Profiler=G5;ke.PureComponent=Ow;ke.StrictMode=q5;ke.Suspense=J5;ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aF;ke.act=P2;ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=b2({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=jw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)E2.call(t,l)&&!k2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Bd,type:e.type,key:i,ref:a,props:n,_owner:o}};ke.createContext=function(e){return e={$$typeof:Q5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Y5,_context:e},e.Consumer=e};ke.createElement=S2;ke.createFactory=function(e){var t=S2.bind(null,e);return t.type=e,t};ke.createRef=function(){return{current:null}};ke.forwardRef=function(e){return{$$typeof:X5,render:e}};ke.isValidElement=Dw;ke.lazy=function(e){return{$$typeof:eF,_payload:{_status:-1,_result:e},_init:iF}};ke.memo=function(e,t){return{$$typeof:Z5,type:e,compare:t===void 0?null:t}};ke.startTransition=function(e){var t=qh.transition;qh.transition={};try{e()}finally{qh.transition=t}};ke.unstable_act=P2;ke.useCallback=function(e,t){return Br.current.useCallback(e,t)};ke.useContext=function(e){return Br.current.useContext(e)};ke.useDebugValue=function(){};ke.useDeferredValue=function(e){return Br.current.useDeferredValue(e)};ke.useEffect=function(e,t){return Br.current.useEffect(e,t)};ke.useId=function(){return Br.current.useId()};ke.useImperativeHandle=function(e,t,r){return Br.current.useImperativeHandle(e,t,r)};ke.useInsertionEffect=function(e,t){return Br.current.useInsertionEffect(e,t)};ke.useLayoutEffect=function(e,t){return Br.current.useLayoutEffect(e,t)};ke.useMemo=function(e,t){return Br.current.useMemo(e,t)};ke.useReducer=function(e,t,r){return Br.current.useReducer(e,t,r)};ke.useRef=function(e){return Br.current.useRef(e)};ke.useState=function(e){return Br.current.useState(e)};ke.useSyncExternalStore=function(e,t,r){return Br.current.useSyncExternalStore(e,t,r)};ke.useTransition=function(){return Br.current.useTransition()};ke.version="18.3.1";y2.exports=ke;var g=y2.exports;const T2=ha(g),A2=W5({__proto__:null,default:T2},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oF=g,sF=Symbol.for("react.element"),lF=Symbol.for("react.fragment"),uF=Object.prototype.hasOwnProperty,cF=oF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dF={key:!0,ref:!0,__self:!0,__source:!0};function I2(e,t,r){var n,i={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)uF.call(t,n)&&!dF.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:sF,type:e,key:a,ref:o,props:i,_owner:cF.current}}cg.Fragment=lF;cg.jsx=I2;cg.jsxs=I2;v2.exports=cg;var p=v2.exports,W0={},C2={exports:{}},xn={},O2={exports:{}},N2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,B){var X=$.length;$.push(B);e:for(;0<X;){var oe=X-1>>>1,ne=$[oe];if(0<i(ne,B))$[oe]=B,$[X]=ne,X=oe;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var B=$[0],X=$.pop();if(X!==B){$[0]=X;e:for(var oe=0,ne=$.length,ye=ne>>>1;oe<ye;){var Ne=2*(oe+1)-1,ct=$[Ne],wt=Ne+1,Se=$[wt];if(0>i(ct,X))wt<ne&&0>i(Se,ct)?($[oe]=Se,$[wt]=X,oe=wt):($[oe]=ct,$[Ne]=X,oe=Ne);else if(wt<ne&&0>i(Se,X))$[oe]=Se,$[wt]=X,oe=wt;else break e}}return B}function i($,B){var X=$.sortIndex-B.sortIndex;return X!==0?X:$.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,d=null,h=3,m=!1,v=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k($){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=$)n(u),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(u)}}function T($){if(b=!1,k($),!v)if(r(l)!==null)v=!0,M(I);else{var B=r(u);B!==null&&H(T,B.startTime-$)}}function I($,B){v=!1,b&&(b=!1,x(S),S=-1),m=!0;var X=h;try{for(k(B),d=r(l);d!==null&&(!(d.expirationTime>B)||$&&!N());){var oe=d.callback;if(typeof oe=="function"){d.callback=null,h=d.priorityLevel;var ne=oe(d.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?d.callback=ne:d===r(l)&&n(l),k(B)}else n(l);d=r(l)}if(d!==null)var ye=!0;else{var Ne=r(u);Ne!==null&&H(T,Ne.startTime-B),ye=!1}return ye}finally{d=null,h=X,m=!1}}var j=!1,E=null,S=-1,A=5,C=-1;function N(){return!(e.unstable_now()-C<A)}function O(){if(E!==null){var $=e.unstable_now();C=$;var B=!0;try{B=E(!0,$)}finally{B?D():(j=!1,E=null)}}else j=!1}var D;if(typeof _=="function")D=function(){_(O)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,G=F.port2;F.port1.onmessage=O,D=function(){G.postMessage(null)}}else D=function(){y(O,0)};function M($){E=$,j||(j=!0,D())}function H($,B){S=y(function(){$(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,M(I))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function($){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var X=h;h=B;try{return $()}finally{h=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,B){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var X=h;h=$;try{return B()}finally{h=X}},e.unstable_scheduleCallback=function($,B,X){var oe=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,$={id:c++,callback:B,priorityLevel:$,startTime:X,expirationTime:ne,sortIndex:-1},X>oe?($.sortIndex=X,t(u,$),r(l)===null&&$===r(u)&&(b?(x(S),S=-1):b=!0,H(T,X-oe))):($.sortIndex=ne,t(l,$),v||m||(v=!0,M(I))),$},e.unstable_shouldYield=N,e.unstable_wrapCallback=function($){var B=h;return function(){var X=h;h=B;try{return $.apply(this,arguments)}finally{h=X}}}})(N2);O2.exports=N2;var fF=O2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hF=g,vn=fF;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j2=new Set,Yc={};function Vs(e,t){Hl(e,t),Hl(e+"Capture",t)}function Hl(e,t){for(Yc[e]=t,e=0;e<t.length;e++)j2.add(t[e])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K0=Object.prototype.hasOwnProperty,pF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DS={},RS={};function mF(e){return K0.call(RS,e)?!0:K0.call(DS,e)?!1:pF.test(e)?RS[e]=!0:(DS[e]=!0,!1)}function gF(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vF(e,t,r,n){if(t===null||typeof t>"u"||gF(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Wr(e,t,r,n,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){vr[e]=new Wr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];vr[t]=new Wr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){vr[e]=new Wr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){vr[e]=new Wr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){vr[e]=new Wr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){vr[e]=new Wr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){vr[e]=new Wr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){vr[e]=new Wr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){vr[e]=new Wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rw=/[\-:]([a-z])/g;function Mw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rw,Mw);vr[t]=new Wr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rw,Mw);vr[t]=new Wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rw,Mw);vr[t]=new Wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){vr[e]=new Wr(e,1,!1,e.toLowerCase(),null,!1,!1)});vr.xlinkHref=new Wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){vr[e]=new Wr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Lw(e,t,r,n){var i=vr.hasOwnProperty(t)?vr[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vF(t,r,i,n)&&(r=null),n||i===null?mF(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var pa=hF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ih=Symbol.for("react.element"),dl=Symbol.for("react.portal"),fl=Symbol.for("react.fragment"),Vw=Symbol.for("react.strict_mode"),H0=Symbol.for("react.profiler"),D2=Symbol.for("react.provider"),R2=Symbol.for("react.context"),$w=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),G0=Symbol.for("react.suspense_list"),Fw=Symbol.for("react.memo"),ja=Symbol.for("react.lazy"),M2=Symbol.for("react.offscreen"),MS=Symbol.iterator;function nc(e){return e===null||typeof e!="object"?null:(e=MS&&e[MS]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,Iy;function bc(e){if(Iy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iy=t&&t[1]||""}return`
`+Iy+e}var Cy=!1;function Oy(e,t){if(!e||Cy)return"";Cy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Cy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?bc(e):""}function yF(e){switch(e.tag){case 5:return bc(e.type);case 16:return bc("Lazy");case 13:return bc("Suspense");case 19:return bc("SuspenseList");case 0:case 2:case 15:return e=Oy(e.type,!1),e;case 11:return e=Oy(e.type.render,!1),e;case 1:return e=Oy(e.type,!0),e;default:return""}}function Y0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fl:return"Fragment";case dl:return"Portal";case H0:return"Profiler";case Vw:return"StrictMode";case q0:return"Suspense";case G0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R2:return(e.displayName||"Context")+".Consumer";case D2:return(e._context.displayName||"Context")+".Provider";case $w:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fw:return t=e.displayName||null,t!==null?t:Y0(e.type)||"Memo";case ja:t=e._payload,e=e._init;try{return Y0(e(t))}catch{}}return null}function xF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y0(t);case 8:return t===Vw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ho(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function bF(e){var t=L2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ah(e){e._valueTracker||(e._valueTracker=bF(e))}function V2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=L2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function wp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Q0(e,t){var r=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function LS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ho(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $2(e,t){t=t.checked,t!=null&&Lw(e,"checked",t,!1)}function X0(e,t){$2(e,t);var r=ho(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?J0(e,t.type,r):t.hasOwnProperty("defaultValue")&&J0(e,t.type,ho(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function J0(e,t,r){(t!=="number"||wp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wc=Array.isArray;function Il(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ho(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Z0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $S(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(wc(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ho(r)}}function F2(e,t){var r=ho(t.value),n=ho(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function FS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function z2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ex(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?z2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oh,U2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oh=oh||document.createElement("div"),oh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wF=["Webkit","ms","Moz","O"];Object.keys(jc).forEach(function(e){wF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jc[t]=jc[e]})});function B2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jc.hasOwnProperty(e)&&jc[e]?(""+t).trim():t+"px"}function W2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=B2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var _F=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tx(e,t){if(t){if(_F[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function rx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nx=null;function zw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ix=null,Cl=null,Ol=null;function zS(e){if(e=Hd(e)){if(typeof ix!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=mg(t),ix(e.stateNode,e.type,t))}}function K2(e){Cl?Ol?Ol.push(e):Ol=[e]:Cl=e}function H2(){if(Cl){var e=Cl,t=Ol;if(Ol=Cl=null,zS(e),t)for(e=0;e<t.length;e++)zS(t[e])}}function q2(e,t){return e(t)}function G2(){}var Ny=!1;function Y2(e,t,r){if(Ny)return e(t,r);Ny=!0;try{return q2(e,t,r)}finally{Ny=!1,(Cl!==null||Ol!==null)&&(G2(),H2())}}function Xc(e,t){var r=e.stateNode;if(r===null)return null;var n=mg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var ax=!1;if(Qi)try{var ic={};Object.defineProperty(ic,"passive",{get:function(){ax=!0}}),window.addEventListener("test",ic,ic),window.removeEventListener("test",ic,ic)}catch{ax=!1}function EF(e,t,r,n,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Dc=!1,_p=null,Ep=!1,ox=null,kF={onError:function(e){Dc=!0,_p=e}};function SF(e,t,r,n,i,a,o,s,l){Dc=!1,_p=null,EF.apply(kF,arguments)}function PF(e,t,r,n,i,a,o,s,l){if(SF.apply(this,arguments),Dc){if(Dc){var u=_p;Dc=!1,_p=null}else throw Error(Q(198));Ep||(Ep=!0,ox=u)}}function $s(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Q2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function US(e){if($s(e)!==e)throw Error(Q(188))}function TF(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return US(i),e;if(a===n)return US(i),t;a=a.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function X2(e){return e=TF(e),e!==null?J2(e):null}function J2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J2(e);if(t!==null)return t;e=e.sibling}return null}var Z2=vn.unstable_scheduleCallback,BS=vn.unstable_cancelCallback,AF=vn.unstable_shouldYield,IF=vn.unstable_requestPaint,Ct=vn.unstable_now,CF=vn.unstable_getCurrentPriorityLevel,Uw=vn.unstable_ImmediatePriority,eN=vn.unstable_UserBlockingPriority,kp=vn.unstable_NormalPriority,OF=vn.unstable_LowPriority,tN=vn.unstable_IdlePriority,dg=null,mi=null;function NF(e){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(dg,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:RF,jF=Math.log,DF=Math.LN2;function RF(e){return e>>>=0,e===0?32:31-(jF(e)/DF|0)|0}var sh=64,lh=4194304;function _c(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~i;s!==0?n=_c(s):(a&=o,a!==0&&(n=_c(a)))}else o=r&~i,o!==0?n=_c(o):a!==0&&(n=_c(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qn(t),i=1<<r,n|=e[r],t&=~i;return n}function MF(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LF(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Qn(a),s=1<<o,l=i[o];l===-1?(!(s&r)||s&n)&&(i[o]=MF(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}function sx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rN(){var e=sh;return sh<<=1,!(sh&4194240)&&(sh=64),e}function jy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qn(t),e[t]=r}function VF(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Qn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Bw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var $e=0;function nN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iN,Ww,aN,oN,sN,lx=!1,uh=[],Ja=null,Za=null,eo=null,Jc=new Map,Zc=new Map,La=[],$F="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WS(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":eo=null;break;case"pointerover":case"pointerout":Jc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(t.pointerId)}}function ac(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Hd(t),t!==null&&Ww(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function FF(e,t,r,n,i){switch(t){case"focusin":return Ja=ac(Ja,e,t,r,n,i),!0;case"dragenter":return Za=ac(Za,e,t,r,n,i),!0;case"mouseover":return eo=ac(eo,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Jc.set(a,ac(Jc.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Zc.set(a,ac(Zc.get(a)||null,e,t,r,n,i)),!0}return!1}function lN(e){var t=Jo(e.target);if(t!==null){var r=$s(t);if(r!==null){if(t=r.tag,t===13){if(t=Q2(r),t!==null){e.blockedOn=t,sN(e.priority,function(){aN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ux(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);nx=n,r.target.dispatchEvent(n),nx=null}else return t=Hd(r),t!==null&&Ww(t),e.blockedOn=r,!1;t.shift()}return!0}function KS(e,t,r){Gh(e)&&r.delete(t)}function zF(){lx=!1,Ja!==null&&Gh(Ja)&&(Ja=null),Za!==null&&Gh(Za)&&(Za=null),eo!==null&&Gh(eo)&&(eo=null),Jc.forEach(KS),Zc.forEach(KS)}function oc(e,t){e.blockedOn===t&&(e.blockedOn=null,lx||(lx=!0,vn.unstable_scheduleCallback(vn.unstable_NormalPriority,zF)))}function ed(e){function t(i){return oc(i,e)}if(0<uh.length){oc(uh[0],e);for(var r=1;r<uh.length;r++){var n=uh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ja!==null&&oc(Ja,e),Za!==null&&oc(Za,e),eo!==null&&oc(eo,e),Jc.forEach(t),Zc.forEach(t),r=0;r<La.length;r++)n=La[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<La.length&&(r=La[0],r.blockedOn===null);)lN(r),r.blockedOn===null&&La.shift()}var Nl=pa.ReactCurrentBatchConfig,Pp=!0;function UF(e,t,r,n){var i=$e,a=Nl.transition;Nl.transition=null;try{$e=1,Kw(e,t,r,n)}finally{$e=i,Nl.transition=a}}function BF(e,t,r,n){var i=$e,a=Nl.transition;Nl.transition=null;try{$e=4,Kw(e,t,r,n)}finally{$e=i,Nl.transition=a}}function Kw(e,t,r,n){if(Pp){var i=ux(e,t,r,n);if(i===null)By(e,t,n,Tp,r),WS(e,n);else if(FF(i,e,t,r,n))n.stopPropagation();else if(WS(e,n),t&4&&-1<$F.indexOf(e)){for(;i!==null;){var a=Hd(i);if(a!==null&&iN(a),a=ux(e,t,r,n),a===null&&By(e,t,n,Tp,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else By(e,t,n,null,r)}}var Tp=null;function ux(e,t,r,n){if(Tp=null,e=zw(n),e=Jo(e),e!==null)if(t=$s(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Q2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Tp=e,null}function uN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CF()){case Uw:return 1;case eN:return 4;case kp:case OF:return 16;case tN:return 536870912;default:return 16}default:return 16}}var Ha=null,Hw=null,Yh=null;function cN(){if(Yh)return Yh;var e,t=Hw,r=t.length,n,i="value"in Ha?Ha.value:Ha.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[a-n];n++);return Yh=i.slice(e,1<n?1-n:void 0)}function Qh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ch(){return!0}function HS(){return!1}function bn(e){function t(r,n,i,a,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ch:HS,this.isPropagationStopped=HS,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ch)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ch)},persist:function(){},isPersistent:ch}),t}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qw=bn(bu),Kd=vt({},bu,{view:0,detail:0}),WF=bn(Kd),Dy,Ry,sc,fg=vt({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sc&&(sc&&e.type==="mousemove"?(Dy=e.screenX-sc.screenX,Ry=e.screenY-sc.screenY):Ry=Dy=0,sc=e),Dy)},movementY:function(e){return"movementY"in e?e.movementY:Ry}}),qS=bn(fg),KF=vt({},fg,{dataTransfer:0}),HF=bn(KF),qF=vt({},Kd,{relatedTarget:0}),My=bn(qF),GF=vt({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),YF=bn(GF),QF=vt({},bu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),XF=bn(QF),JF=vt({},bu,{data:0}),GS=bn(JF),ZF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},e6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},t6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=t6[e])?!!t[e]:!1}function Gw(){return r6}var n6=vt({},Kd,{key:function(e){if(e.key){var t=ZF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?e6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gw,charCode:function(e){return e.type==="keypress"?Qh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),i6=bn(n6),a6=vt({},fg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YS=bn(a6),o6=vt({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gw}),s6=bn(o6),l6=vt({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),u6=bn(l6),c6=vt({},fg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d6=bn(c6),f6=[9,13,27,32],Yw=Qi&&"CompositionEvent"in window,Rc=null;Qi&&"documentMode"in document&&(Rc=document.documentMode);var h6=Qi&&"TextEvent"in window&&!Rc,dN=Qi&&(!Yw||Rc&&8<Rc&&11>=Rc),QS=" ",XS=!1;function fN(e,t){switch(e){case"keyup":return f6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hl=!1;function p6(e,t){switch(e){case"compositionend":return hN(t);case"keypress":return t.which!==32?null:(XS=!0,QS);case"textInput":return e=t.data,e===QS&&XS?null:e;default:return null}}function m6(e,t){if(hl)return e==="compositionend"||!Yw&&fN(e,t)?(e=cN(),Yh=Hw=Ha=null,hl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dN&&t.locale!=="ko"?null:t.data;default:return null}}var g6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g6[e.type]:t==="textarea"}function pN(e,t,r,n){K2(n),t=Ap(t,"onChange"),0<t.length&&(r=new qw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mc=null,td=null;function v6(e){SN(e,0)}function hg(e){var t=gl(e);if(V2(t))return e}function y6(e,t){if(e==="change")return t}var mN=!1;if(Qi){var Ly;if(Qi){var Vy="oninput"in document;if(!Vy){var ZS=document.createElement("div");ZS.setAttribute("oninput","return;"),Vy=typeof ZS.oninput=="function"}Ly=Vy}else Ly=!1;mN=Ly&&(!document.documentMode||9<document.documentMode)}function eP(){Mc&&(Mc.detachEvent("onpropertychange",gN),td=Mc=null)}function gN(e){if(e.propertyName==="value"&&hg(td)){var t=[];pN(t,td,e,zw(e)),Y2(v6,t)}}function x6(e,t,r){e==="focusin"?(eP(),Mc=t,td=r,Mc.attachEvent("onpropertychange",gN)):e==="focusout"&&eP()}function b6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hg(td)}function w6(e,t){if(e==="click")return hg(t)}function _6(e,t){if(e==="input"||e==="change")return hg(t)}function E6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:E6;function rd(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!K0.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rP(e,t){var r=tP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tP(r)}}function vN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yN(){for(var e=window,t=wp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=wp(e.document)}return t}function Qw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k6(e){var t=yN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vN(r.ownerDocument.documentElement,r)){if(n!==null&&Qw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=rP(r,a);var o=rP(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var S6=Qi&&"documentMode"in document&&11>=document.documentMode,pl=null,cx=null,Lc=null,dx=!1;function nP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dx||pl==null||pl!==wp(n)||(n=pl,"selectionStart"in n&&Qw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lc&&rd(Lc,n)||(Lc=n,n=Ap(cx,"onSelect"),0<n.length&&(t=new qw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pl)))}function dh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ml={animationend:dh("Animation","AnimationEnd"),animationiteration:dh("Animation","AnimationIteration"),animationstart:dh("Animation","AnimationStart"),transitionend:dh("Transition","TransitionEnd")},$y={},xN={};Qi&&(xN=document.createElement("div").style,"AnimationEvent"in window||(delete ml.animationend.animation,delete ml.animationiteration.animation,delete ml.animationstart.animation),"TransitionEvent"in window||delete ml.transitionend.transition);function pg(e){if($y[e])return $y[e];if(!ml[e])return e;var t=ml[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xN)return $y[e]=t[r];return e}var bN=pg("animationend"),wN=pg("animationiteration"),_N=pg("animationstart"),EN=pg("transitionend"),kN=new Map,iP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ko(e,t){kN.set(e,t),Vs(t,[e])}for(var Fy=0;Fy<iP.length;Fy++){var zy=iP[Fy],P6=zy.toLowerCase(),T6=zy[0].toUpperCase()+zy.slice(1);ko(P6,"on"+T6)}ko(bN,"onAnimationEnd");ko(wN,"onAnimationIteration");ko(_N,"onAnimationStart");ko("dblclick","onDoubleClick");ko("focusin","onFocus");ko("focusout","onBlur");ko(EN,"onTransitionEnd");Hl("onMouseEnter",["mouseout","mouseover"]);Hl("onMouseLeave",["mouseout","mouseover"]);Hl("onPointerEnter",["pointerout","pointerover"]);Hl("onPointerLeave",["pointerout","pointerover"]);Vs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ec));function aP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,PF(n,t,void 0,e),e.currentTarget=null}function SN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;aP(i,s,u),a=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;aP(i,s,u),a=l}}}if(Ep)throw e=ox,Ep=!1,ox=null,e}function Ze(e,t){var r=t[gx];r===void 0&&(r=t[gx]=new Set);var n=e+"__bubble";r.has(n)||(PN(t,e,2,!1),r.add(n))}function Uy(e,t,r){var n=0;t&&(n|=4),PN(r,e,n,t)}var fh="_reactListening"+Math.random().toString(36).slice(2);function nd(e){if(!e[fh]){e[fh]=!0,j2.forEach(function(r){r!=="selectionchange"&&(A6.has(r)||Uy(r,!1,e),Uy(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fh]||(t[fh]=!0,Uy("selectionchange",!1,t))}}function PN(e,t,r,n){switch(uN(t)){case 1:var i=UF;break;case 4:i=BF;break;default:i=Kw}r=i.bind(null,t,r,e),i=void 0,!ax||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function By(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Jo(s),o===null)return;if(l=o.tag,l===5||l===6){n=a=o;continue e}s=s.parentNode}}n=n.return}Y2(function(){var u=a,c=zw(r),d=[];e:{var h=kN.get(e);if(h!==void 0){var m=qw,v=e;switch(e){case"keypress":if(Qh(r)===0)break e;case"keydown":case"keyup":m=i6;break;case"focusin":v="focus",m=My;break;case"focusout":v="blur",m=My;break;case"beforeblur":case"afterblur":m=My;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=HF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=s6;break;case bN:case wN:case _N:m=YF;break;case EN:m=u6;break;case"scroll":m=WF;break;case"wheel":m=d6;break;case"copy":case"cut":case"paste":m=XF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=YS}var b=(t&4)!==0,y=!b&&e==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var _=u,k;_!==null;){k=_;var T=k.stateNode;if(k.tag===5&&T!==null&&(k=T,x!==null&&(T=Xc(_,x),T!=null&&b.push(id(_,T,k)))),y)break;_=_.return}0<b.length&&(h=new m(h,v,null,r,c),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==nx&&(v=r.relatedTarget||r.fromElement)&&(Jo(v)||v[Xi]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Jo(v):null,v!==null&&(y=$s(v),v!==y||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(b=qS,T="onMouseLeave",x="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(b=YS,T="onPointerLeave",x="onPointerEnter",_="pointer"),y=m==null?h:gl(m),k=v==null?h:gl(v),h=new b(T,_+"leave",m,r,c),h.target=y,h.relatedTarget=k,T=null,Jo(c)===u&&(b=new b(x,_+"enter",v,r,c),b.target=k,b.relatedTarget=y,T=b),y=T,m&&v)t:{for(b=m,x=v,_=0,k=b;k;k=rl(k))_++;for(k=0,T=x;T;T=rl(T))k++;for(;0<_-k;)b=rl(b),_--;for(;0<k-_;)x=rl(x),k--;for(;_--;){if(b===x||x!==null&&b===x.alternate)break t;b=rl(b),x=rl(x)}b=null}else b=null;m!==null&&oP(d,h,m,b,!1),v!==null&&y!==null&&oP(d,y,v,b,!0)}}e:{if(h=u?gl(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var I=y6;else if(JS(h))if(mN)I=_6;else{I=b6;var j=x6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=w6);if(I&&(I=I(e,u))){pN(d,I,r,c);break e}j&&j(e,h,u),e==="focusout"&&(j=h._wrapperState)&&j.controlled&&h.type==="number"&&J0(h,"number",h.value)}switch(j=u?gl(u):window,e){case"focusin":(JS(j)||j.contentEditable==="true")&&(pl=j,cx=u,Lc=null);break;case"focusout":Lc=cx=pl=null;break;case"mousedown":dx=!0;break;case"contextmenu":case"mouseup":case"dragend":dx=!1,nP(d,r,c);break;case"selectionchange":if(S6)break;case"keydown":case"keyup":nP(d,r,c)}var E;if(Yw)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else hl?fN(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(dN&&r.locale!=="ko"&&(hl||S!=="onCompositionStart"?S==="onCompositionEnd"&&hl&&(E=cN()):(Ha=c,Hw="value"in Ha?Ha.value:Ha.textContent,hl=!0)),j=Ap(u,S),0<j.length&&(S=new GS(S,e,null,r,c),d.push({event:S,listeners:j}),E?S.data=E:(E=hN(r),E!==null&&(S.data=E)))),(E=h6?p6(e,r):m6(e,r))&&(u=Ap(u,"onBeforeInput"),0<u.length&&(c=new GS("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=E))}SN(d,t)})}function id(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ap(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Xc(e,r),a!=null&&n.unshift(id(e,a,i)),a=Xc(e,t),a!=null&&n.push(id(e,a,i))),e=e.return}return n}function rl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function oP(e,t,r,n,i){for(var a=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,i?(l=Xc(r,a),l!=null&&o.unshift(id(r,l,s))):i||(l=Xc(r,a),l!=null&&o.push(id(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var I6=/\r\n?/g,C6=/\u0000|\uFFFD/g;function sP(e){return(typeof e=="string"?e:""+e).replace(I6,`
`).replace(C6,"")}function hh(e,t,r){if(t=sP(t),sP(e)!==t&&r)throw Error(Q(425))}function Ip(){}var fx=null,hx=null;function px(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mx=typeof setTimeout=="function"?setTimeout:void 0,O6=typeof clearTimeout=="function"?clearTimeout:void 0,lP=typeof Promise=="function"?Promise:void 0,N6=typeof queueMicrotask=="function"?queueMicrotask:typeof lP<"u"?function(e){return lP.resolve(null).then(e).catch(j6)}:mx;function j6(e){setTimeout(function(){throw e})}function Wy(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),ed(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ed(t)}function to(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wu=Math.random().toString(36).slice(2),di="__reactFiber$"+wu,ad="__reactProps$"+wu,Xi="__reactContainer$"+wu,gx="__reactEvents$"+wu,D6="__reactListeners$"+wu,R6="__reactHandles$"+wu;function Jo(e){var t=e[di];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xi]||r[di]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=uP(e);e!==null;){if(r=e[di])return r;e=uP(e)}return t}e=r,r=e.parentNode}return null}function Hd(e){return e=e[di]||e[Xi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function mg(e){return e[ad]||null}var vx=[],vl=-1;function So(e){return{current:e}}function nt(e){0>vl||(e.current=vx[vl],vx[vl]=null,vl--)}function Qe(e,t){vl++,vx[vl]=e.current,e.current=t}var po={},Nr=So(po),Qr=So(!1),ms=po;function ql(e,t){var r=e.type.contextTypes;if(!r)return po;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Xr(e){return e=e.childContextTypes,e!=null}function Cp(){nt(Qr),nt(Nr)}function cP(e,t,r){if(Nr.current!==po)throw Error(Q(168));Qe(Nr,t),Qe(Qr,r)}function TN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Q(108,xF(e)||"Unknown",i));return vt({},r,n)}function Op(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||po,ms=Nr.current,Qe(Nr,e),Qe(Qr,Qr.current),!0}function dP(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=TN(e,t,ms),n.__reactInternalMemoizedMergedChildContext=e,nt(Qr),nt(Nr),Qe(Nr,e)):nt(Qr),Qe(Qr,r)}var Di=null,gg=!1,Ky=!1;function AN(e){Di===null?Di=[e]:Di.push(e)}function M6(e){gg=!0,AN(e)}function Po(){if(!Ky&&Di!==null){Ky=!0;var e=0,t=$e;try{var r=Di;for($e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Di=null,gg=!1}catch(i){throw Di!==null&&(Di=Di.slice(e+1)),Z2(Uw,Po),i}finally{$e=t,Ky=!1}}return null}var yl=[],xl=0,Np=null,jp=0,Tn=[],An=0,gs=null,Vi=1,$i="";function Ho(e,t){yl[xl++]=jp,yl[xl++]=Np,Np=e,jp=t}function IN(e,t,r){Tn[An++]=Vi,Tn[An++]=$i,Tn[An++]=gs,gs=e;var n=Vi;e=$i;var i=32-Qn(n)-1;n&=~(1<<i),r+=1;var a=32-Qn(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Vi=1<<32-Qn(t)+i|r<<i|n,$i=a+e}else Vi=1<<a|r<<i|n,$i=e}function Xw(e){e.return!==null&&(Ho(e,1),IN(e,1,0))}function Jw(e){for(;e===Np;)Np=yl[--xl],yl[xl]=null,jp=yl[--xl],yl[xl]=null;for(;e===gs;)gs=Tn[--An],Tn[An]=null,$i=Tn[--An],Tn[An]=null,Vi=Tn[--An],Tn[An]=null}var mn=null,dn=null,ot=!1,Hn=null;function CN(e,t){var r=In(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mn=e,dn=to(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mn=e,dn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gs!==null?{id:Vi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=In(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,mn=e,dn=null,!0):!1;default:return!1}}function yx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xx(e){if(ot){var t=dn;if(t){var r=t;if(!fP(e,t)){if(yx(e))throw Error(Q(418));t=to(r.nextSibling);var n=mn;t&&fP(e,t)?CN(n,r):(e.flags=e.flags&-4097|2,ot=!1,mn=e)}}else{if(yx(e))throw Error(Q(418));e.flags=e.flags&-4097|2,ot=!1,mn=e}}}function hP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mn=e}function ph(e){if(e!==mn)return!1;if(!ot)return hP(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!px(e.type,e.memoizedProps)),t&&(t=dn)){if(yx(e))throw ON(),Error(Q(418));for(;t;)CN(e,t),t=to(t.nextSibling)}if(hP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){dn=to(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}dn=null}}else dn=mn?to(e.stateNode.nextSibling):null;return!0}function ON(){for(var e=dn;e;)e=to(e.nextSibling)}function Gl(){dn=mn=null,ot=!1}function Zw(e){Hn===null?Hn=[e]:Hn.push(e)}var L6=pa.ReactCurrentBatchConfig;function lc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function mh(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pP(e){var t=e._init;return t(e._payload)}function NN(e){function t(x,_){if(e){var k=x.deletions;k===null?(x.deletions=[_],x.flags|=16):k.push(_)}}function r(x,_){if(!e)return null;for(;_!==null;)t(x,_),_=_.sibling;return null}function n(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=ao(x,_),x.index=0,x.sibling=null,x}function a(x,_,k){return x.index=k,e?(k=x.alternate,k!==null?(k=k.index,k<_?(x.flags|=2,_):k):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function s(x,_,k,T){return _===null||_.tag!==6?(_=Jy(k,x.mode,T),_.return=x,_):(_=i(_,k),_.return=x,_)}function l(x,_,k,T){var I=k.type;return I===fl?c(x,_,k.props.children,T,k.key):_!==null&&(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ja&&pP(I)===_.type)?(T=i(_,k.props),T.ref=lc(x,_,k),T.return=x,T):(T=np(k.type,k.key,k.props,null,x.mode,T),T.ref=lc(x,_,k),T.return=x,T)}function u(x,_,k,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=Zy(k,x.mode,T),_.return=x,_):(_=i(_,k.children||[]),_.return=x,_)}function c(x,_,k,T,I){return _===null||_.tag!==7?(_=ss(k,x.mode,T,I),_.return=x,_):(_=i(_,k),_.return=x,_)}function d(x,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Jy(""+_,x.mode,k),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ih:return k=np(_.type,_.key,_.props,null,x.mode,k),k.ref=lc(x,null,_),k.return=x,k;case dl:return _=Zy(_,x.mode,k),_.return=x,_;case ja:var T=_._init;return d(x,T(_._payload),k)}if(wc(_)||nc(_))return _=ss(_,x.mode,k,null),_.return=x,_;mh(x,_)}return null}function h(x,_,k,T){var I=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return I!==null?null:s(x,_,""+k,T);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ih:return k.key===I?l(x,_,k,T):null;case dl:return k.key===I?u(x,_,k,T):null;case ja:return I=k._init,h(x,_,I(k._payload),T)}if(wc(k)||nc(k))return I!==null?null:c(x,_,k,T,null);mh(x,k)}return null}function m(x,_,k,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(k)||null,s(_,x,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ih:return x=x.get(T.key===null?k:T.key)||null,l(_,x,T,I);case dl:return x=x.get(T.key===null?k:T.key)||null,u(_,x,T,I);case ja:var j=T._init;return m(x,_,k,j(T._payload),I)}if(wc(T)||nc(T))return x=x.get(k)||null,c(_,x,T,I,null);mh(_,T)}return null}function v(x,_,k,T){for(var I=null,j=null,E=_,S=_=0,A=null;E!==null&&S<k.length;S++){E.index>S?(A=E,E=null):A=E.sibling;var C=h(x,E,k[S],T);if(C===null){E===null&&(E=A);break}e&&E&&C.alternate===null&&t(x,E),_=a(C,_,S),j===null?I=C:j.sibling=C,j=C,E=A}if(S===k.length)return r(x,E),ot&&Ho(x,S),I;if(E===null){for(;S<k.length;S++)E=d(x,k[S],T),E!==null&&(_=a(E,_,S),j===null?I=E:j.sibling=E,j=E);return ot&&Ho(x,S),I}for(E=n(x,E);S<k.length;S++)A=m(E,x,S,k[S],T),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?S:A.key),_=a(A,_,S),j===null?I=A:j.sibling=A,j=A);return e&&E.forEach(function(N){return t(x,N)}),ot&&Ho(x,S),I}function b(x,_,k,T){var I=nc(k);if(typeof I!="function")throw Error(Q(150));if(k=I.call(k),k==null)throw Error(Q(151));for(var j=I=null,E=_,S=_=0,A=null,C=k.next();E!==null&&!C.done;S++,C=k.next()){E.index>S?(A=E,E=null):A=E.sibling;var N=h(x,E,C.value,T);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(x,E),_=a(N,_,S),j===null?I=N:j.sibling=N,j=N,E=A}if(C.done)return r(x,E),ot&&Ho(x,S),I;if(E===null){for(;!C.done;S++,C=k.next())C=d(x,C.value,T),C!==null&&(_=a(C,_,S),j===null?I=C:j.sibling=C,j=C);return ot&&Ho(x,S),I}for(E=n(x,E);!C.done;S++,C=k.next())C=m(E,x,S,C.value,T),C!==null&&(e&&C.alternate!==null&&E.delete(C.key===null?S:C.key),_=a(C,_,S),j===null?I=C:j.sibling=C,j=C);return e&&E.forEach(function(O){return t(x,O)}),ot&&Ho(x,S),I}function y(x,_,k,T){if(typeof k=="object"&&k!==null&&k.type===fl&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case ih:e:{for(var I=k.key,j=_;j!==null;){if(j.key===I){if(I=k.type,I===fl){if(j.tag===7){r(x,j.sibling),_=i(j,k.props.children),_.return=x,x=_;break e}}else if(j.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===ja&&pP(I)===j.type){r(x,j.sibling),_=i(j,k.props),_.ref=lc(x,j,k),_.return=x,x=_;break e}r(x,j);break}else t(x,j);j=j.sibling}k.type===fl?(_=ss(k.props.children,x.mode,T,k.key),_.return=x,x=_):(T=np(k.type,k.key,k.props,null,x.mode,T),T.ref=lc(x,_,k),T.return=x,x=T)}return o(x);case dl:e:{for(j=k.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){r(x,_.sibling),_=i(_,k.children||[]),_.return=x,x=_;break e}else{r(x,_);break}else t(x,_);_=_.sibling}_=Zy(k,x.mode,T),_.return=x,x=_}return o(x);case ja:return j=k._init,y(x,_,j(k._payload),T)}if(wc(k))return v(x,_,k,T);if(nc(k))return b(x,_,k,T);mh(x,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,_!==null&&_.tag===6?(r(x,_.sibling),_=i(_,k),_.return=x,x=_):(r(x,_),_=Jy(k,x.mode,T),_.return=x,x=_),o(x)):r(x,_)}return y}var Yl=NN(!0),jN=NN(!1),Dp=So(null),Rp=null,bl=null,e_=null;function t_(){e_=bl=Rp=null}function r_(e){var t=Dp.current;nt(Dp),e._currentValue=t}function bx(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jl(e,t){Rp=e,e_=bl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gr=!0),e.firstContext=null)}function Dn(e){var t=e._currentValue;if(e_!==e)if(e={context:e,memoizedValue:t,next:null},bl===null){if(Rp===null)throw Error(Q(308));bl=e,Rp.dependencies={lanes:0,firstContext:e}}else bl=bl.next=e;return t}var Zo=null;function n_(e){Zo===null?Zo=[e]:Zo.push(e)}function DN(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,n_(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ji(e,n)}function Ji(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Da=!1;function i_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ki(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Oe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ji(e,r)}return i=n.interleaved,i===null?(t.next=t,n_(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ji(e,r)}function Xh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bw(e,r)}}function mP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Mp(e,t,r,n){var i=e.updateQueue;Da=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=e.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,b=s;switch(h=t,m=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(m,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(m,d,h):v,h==null)break e;d=vt({},d,h);break e;case 2:Da=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);ys|=o,e.lanes=o,e.memoizedState=d}}function gP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var qd={},gi=So(qd),od=So(qd),sd=So(qd);function es(e){if(e===qd)throw Error(Q(174));return e}function a_(e,t){switch(Qe(sd,t),Qe(od,e),Qe(gi,qd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ex(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ex(t,e)}nt(gi),Qe(gi,t)}function Ql(){nt(gi),nt(od),nt(sd)}function MN(e){es(sd.current);var t=es(gi.current),r=ex(t,e.type);t!==r&&(Qe(od,e),Qe(gi,r))}function o_(e){od.current===e&&(nt(gi),nt(od))}var ft=So(0);function Lp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hy=[];function s_(){for(var e=0;e<Hy.length;e++)Hy[e]._workInProgressVersionPrimary=null;Hy.length=0}var Jh=pa.ReactCurrentDispatcher,qy=pa.ReactCurrentBatchConfig,vs=0,pt=null,zt=null,rr=null,Vp=!1,Vc=!1,ld=0,V6=0;function _r(){throw Error(Q(321))}function l_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Zn(e[r],t[r]))return!1;return!0}function u_(e,t,r,n,i,a){if(vs=a,pt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jh.current=e===null||e.memoizedState===null?U6:B6,e=r(n,i),Vc){a=0;do{if(Vc=!1,ld=0,25<=a)throw Error(Q(301));a+=1,rr=zt=null,t.updateQueue=null,Jh.current=W6,e=r(n,i)}while(Vc)}if(Jh.current=$p,t=zt!==null&&zt.next!==null,vs=0,rr=zt=pt=null,Vp=!1,t)throw Error(Q(300));return e}function c_(){var e=ld!==0;return ld=0,e}function ci(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?pt.memoizedState=rr=e:rr=rr.next=e,rr}function Rn(){if(zt===null){var e=pt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var t=rr===null?pt.memoizedState:rr.next;if(t!==null)rr=t,zt=e;else{if(e===null)throw Error(Q(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},rr===null?pt.memoizedState=rr=e:rr=rr.next=e}return rr}function ud(e,t){return typeof t=="function"?t(e):t}function Gy(e){var t=Rn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=zt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((vs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=d,o=n):l=l.next=d,pt.lanes|=c,ys|=c}u=u.next}while(u!==null&&u!==a);l===null?o=n:l.next=s,Zn(n,t.memoizedState)||(Gr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,pt.lanes|=a,ys|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Yy(e){var t=Rn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Zn(a,t.memoizedState)||(Gr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function LN(){}function VN(e,t){var r=pt,n=Rn(),i=t(),a=!Zn(n.memoizedState,i);if(a&&(n.memoizedState=i,Gr=!0),n=n.queue,d_(zN.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||rr!==null&&rr.memoizedState.tag&1){if(r.flags|=2048,cd(9,FN.bind(null,r,n,i,t),void 0,null),ar===null)throw Error(Q(349));vs&30||$N(r,t,i)}return i}function $N(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function FN(e,t,r,n){t.value=r,t.getSnapshot=n,UN(t)&&BN(e)}function zN(e,t,r){return r(function(){UN(t)&&BN(e)})}function UN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Zn(e,r)}catch{return!0}}function BN(e){var t=Ji(e,1);t!==null&&Xn(t,e,1,-1)}function vP(e){var t=ci();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ud,lastRenderedState:e},t.queue=e,e=e.dispatch=z6.bind(null,pt,e),[t.memoizedState,e]}function cd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=pt.updateQueue,t===null?(t={lastEffect:null,stores:null},pt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function WN(){return Rn().memoizedState}function Zh(e,t,r,n){var i=ci();pt.flags|=e,i.memoizedState=cd(1|t,r,void 0,n===void 0?null:n)}function vg(e,t,r,n){var i=Rn();n=n===void 0?null:n;var a=void 0;if(zt!==null){var o=zt.memoizedState;if(a=o.destroy,n!==null&&l_(n,o.deps)){i.memoizedState=cd(t,r,a,n);return}}pt.flags|=e,i.memoizedState=cd(1|t,r,a,n)}function yP(e,t){return Zh(8390656,8,e,t)}function d_(e,t){return vg(2048,8,e,t)}function KN(e,t){return vg(4,2,e,t)}function HN(e,t){return vg(4,4,e,t)}function qN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GN(e,t,r){return r=r!=null?r.concat([e]):null,vg(4,4,qN.bind(null,t,e),r)}function f_(){}function YN(e,t){var r=Rn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&l_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QN(e,t){var r=Rn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&l_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function XN(e,t,r){return vs&21?(Zn(r,t)||(r=rN(),pt.lanes|=r,ys|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gr=!0),e.memoizedState=r)}function $6(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var n=qy.transition;qy.transition={};try{e(!1),t()}finally{$e=r,qy.transition=n}}function JN(){return Rn().memoizedState}function F6(e,t,r){var n=io(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZN(e))ej(t,r);else if(r=DN(e,t,r,n),r!==null){var i=Fr();Xn(r,e,n,i),tj(r,t,n)}}function z6(e,t,r){var n=io(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZN(e))ej(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Zn(s,o)){var l=t.interleaved;l===null?(i.next=i,n_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=DN(e,t,i,n),r!==null&&(i=Fr(),Xn(r,e,n,i),tj(r,t,n))}}function ZN(e){var t=e.alternate;return e===pt||t!==null&&t===pt}function ej(e,t){Vc=Vp=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Bw(e,r)}}var $p={readContext:Dn,useCallback:_r,useContext:_r,useEffect:_r,useImperativeHandle:_r,useInsertionEffect:_r,useLayoutEffect:_r,useMemo:_r,useReducer:_r,useRef:_r,useState:_r,useDebugValue:_r,useDeferredValue:_r,useTransition:_r,useMutableSource:_r,useSyncExternalStore:_r,useId:_r,unstable_isNewReconciler:!1},U6={readContext:Dn,useCallback:function(e,t){return ci().memoizedState=[e,t===void 0?null:t],e},useContext:Dn,useEffect:yP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Zh(4194308,4,qN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Zh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zh(4,2,e,t)},useMemo:function(e,t){var r=ci();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ci();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=F6.bind(null,pt,e),[n.memoizedState,e]},useRef:function(e){var t=ci();return e={current:e},t.memoizedState=e},useState:vP,useDebugValue:f_,useDeferredValue:function(e){return ci().memoizedState=e},useTransition:function(){var e=vP(!1),t=e[0];return e=$6.bind(null,e[1]),ci().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=pt,i=ci();if(ot){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),ar===null)throw Error(Q(349));vs&30||$N(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,yP(zN.bind(null,n,a,e),[e]),n.flags|=2048,cd(9,FN.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ci(),t=ar.identifierPrefix;if(ot){var r=$i,n=Vi;r=(n&~(1<<32-Qn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ld++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=V6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},B6={readContext:Dn,useCallback:YN,useContext:Dn,useEffect:d_,useImperativeHandle:GN,useInsertionEffect:KN,useLayoutEffect:HN,useMemo:QN,useReducer:Gy,useRef:WN,useState:function(){return Gy(ud)},useDebugValue:f_,useDeferredValue:function(e){var t=Rn();return XN(t,zt.memoizedState,e)},useTransition:function(){var e=Gy(ud)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:LN,useSyncExternalStore:VN,useId:JN,unstable_isNewReconciler:!1},W6={readContext:Dn,useCallback:YN,useContext:Dn,useEffect:d_,useImperativeHandle:GN,useInsertionEffect:KN,useLayoutEffect:HN,useMemo:QN,useReducer:Yy,useRef:WN,useState:function(){return Yy(ud)},useDebugValue:f_,useDeferredValue:function(e){var t=Rn();return zt===null?t.memoizedState=e:XN(t,zt.memoizedState,e)},useTransition:function(){var e=Yy(ud)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:LN,useSyncExternalStore:VN,useId:JN,unstable_isNewReconciler:!1};function Wn(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function wx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:vt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var yg={isMounted:function(e){return(e=e._reactInternals)?$s(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fr(),i=io(e),a=Ki(n,i);a.payload=t,r!=null&&(a.callback=r),t=ro(e,a,i),t!==null&&(Xn(t,e,i,n),Xh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fr(),i=io(e),a=Ki(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ro(e,a,i),t!==null&&(Xn(t,e,i,n),Xh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fr(),n=io(e),i=Ki(r,n);i.tag=2,t!=null&&(i.callback=t),t=ro(e,i,n),t!==null&&(Xn(t,e,n,r),Xh(t,e,n))}};function xP(e,t,r,n,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!rd(r,n)||!rd(i,a):!0}function rj(e,t,r){var n=!1,i=po,a=t.contextType;return typeof a=="object"&&a!==null?a=Dn(a):(i=Xr(t)?ms:Nr.current,n=t.contextTypes,a=(n=n!=null)?ql(e,i):po),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=yg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&yg.enqueueReplaceState(t,t.state,null)}function _x(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},i_(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Dn(a):(a=Xr(t)?ms:Nr.current,i.context=ql(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(wx(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&yg.enqueueReplaceState(i,i.state,null),Mp(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Xl(e,t){try{var r="",n=t;do r+=yF(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Qy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ex(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var K6=typeof WeakMap=="function"?WeakMap:Map;function nj(e,t,r){r=Ki(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){zp||(zp=!0,jx=n),Ex(e,t)},r}function ij(e,t,r){r=Ki(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Ex(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ex(e,t),typeof n!="function"&&(no===null?no=new Set([this]):no.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function wP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new K6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=az.bind(null,e,t,r),t.then(e,e))}function _P(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function EP(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ki(-1,1),t.tag=2,ro(r,t,1))),r.lanes|=1),e)}var H6=pa.ReactCurrentOwner,Gr=!1;function Lr(e,t,r,n){t.child=e===null?jN(t,null,r,n):Yl(t,e.child,r,n)}function kP(e,t,r,n,i){r=r.render;var a=t.ref;return jl(t,i),n=u_(e,t,r,n,a,i),r=c_(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zi(e,t,i)):(ot&&r&&Xw(t),t.flags|=1,Lr(e,t,n,i),t.child)}function SP(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!b_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,aj(e,t,a,n,i)):(e=np(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:rd,r(o,n)&&e.ref===t.ref)return Zi(e,t,i)}return t.flags|=1,e=ao(a,n),e.ref=t.ref,e.return=t,t.child=e}function aj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(rd(a,n)&&e.ref===t.ref)if(Gr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Gr=!0);else return t.lanes=e.lanes,Zi(e,t,i)}return kx(e,t,r,n,i)}function oj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(_l,ln),ln|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qe(_l,ln),ln|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Qe(_l,ln),ln|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Qe(_l,ln),ln|=n;return Lr(e,t,i,r),t.child}function sj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function kx(e,t,r,n,i){var a=Xr(r)?ms:Nr.current;return a=ql(t,a),jl(t,i),r=u_(e,t,r,n,a,i),n=c_(),e!==null&&!Gr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zi(e,t,i)):(ot&&n&&Xw(t),t.flags|=1,Lr(e,t,r,i),t.child)}function PP(e,t,r,n,i){if(Xr(r)){var a=!0;Op(t)}else a=!1;if(jl(t,i),t.stateNode===null)ep(e,t),rj(t,r,n),_x(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Dn(u):(u=Xr(r)?ms:Nr.current,u=ql(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&bP(t,o,n,u),Da=!1;var h=t.memoizedState;o.state=h,Mp(t,n,o,i),l=t.memoizedState,s!==n||h!==l||Qr.current||Da?(typeof c=="function"&&(wx(t,r,c,n),l=t.memoizedState),(s=Da||xP(t,r,s,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,RN(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Wn(t.type,s),o.props=u,d=t.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Dn(l):(l=Xr(r)?ms:Nr.current,l=ql(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==d||h!==l)&&bP(t,o,n,l),Da=!1,h=t.memoizedState,o.state=h,Mp(t,n,o,i);var v=t.memoizedState;s!==d||h!==v||Qr.current||Da?(typeof m=="function"&&(wx(t,r,m,n),v=t.memoizedState),(u=Da||xP(t,r,u,n,h,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Sx(e,t,r,n,a,i)}function Sx(e,t,r,n,i,a){sj(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&dP(t,r,!1),Zi(e,t,a);n=t.stateNode,H6.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Yl(t,e.child,null,a),t.child=Yl(t,null,s,a)):Lr(e,t,s,a),t.memoizedState=n.state,i&&dP(t,r,!0),t.child}function lj(e){var t=e.stateNode;t.pendingContext?cP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cP(e,t.context,!1),a_(e,t.containerInfo)}function TP(e,t,r,n,i){return Gl(),Zw(i),t.flags|=256,Lr(e,t,r,n),t.child}var Px={dehydrated:null,treeContext:null,retryLane:0};function Tx(e){return{baseLanes:e,cachePool:null,transitions:null}}function uj(e,t,r){var n=t.pendingProps,i=ft.current,a=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Qe(ft,i&1),e===null)return xx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=wg(o,n,0,null),e=ss(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Tx(r),t.memoizedState=Px,e):h_(t,o));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return q6(e,t,o,n,s,i,r);if(a){a=n.fallback,o=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=ao(i,l),n.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=ao(s,a):(a=ss(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Tx(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Px,n}return a=e.child,e=a.sibling,n=ao(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function h_(e,t){return t=wg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function gh(e,t,r,n){return n!==null&&Zw(n),Yl(t,e.child,null,r),e=h_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function q6(e,t,r,n,i,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Qy(Error(Q(422))),gh(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=wg({mode:"visible",children:n.children},i,0,null),a=ss(a,i,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Yl(t,e.child,null,o),t.child.memoizedState=Tx(o),t.memoizedState=Px,a);if(!(t.mode&1))return gh(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var s=n.dgst;return n=s,a=Error(Q(419)),n=Qy(a,n,void 0),gh(e,t,o,n)}if(s=(o&e.childLanes)!==0,Gr||s){if(n=ar,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ji(e,i),Xn(n,e,i,-1))}return x_(),n=Qy(Error(Q(421))),gh(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=oz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,dn=to(i.nextSibling),mn=t,ot=!0,Hn=null,e!==null&&(Tn[An++]=Vi,Tn[An++]=$i,Tn[An++]=gs,Vi=e.id,$i=e.overflow,gs=t),t=h_(t,n.children),t.flags|=4096,t)}function AP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),bx(e.return,t,r)}function Xy(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function cj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Lr(e,t,n.children,r),n=ft.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&AP(e,r,t);else if(e.tag===19)AP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qe(ft,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Lp(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Xy(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Lp(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Xy(t,!0,r,null,a);break;case"together":Xy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ep(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ys|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=ao(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ao(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function G6(e,t,r){switch(t.tag){case 3:lj(t),Gl();break;case 5:MN(t);break;case 1:Xr(t.type)&&Op(t);break;case 4:a_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Qe(Dp,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qe(ft,ft.current&1),t.flags|=128,null):r&t.child.childLanes?uj(e,t,r):(Qe(ft,ft.current&1),e=Zi(e,t,r),e!==null?e.sibling:null);Qe(ft,ft.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qe(ft,ft.current),n)break;return null;case 22:case 23:return t.lanes=0,oj(e,t,r)}return Zi(e,t,r)}var dj,Ax,fj,hj;dj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ax=function(){};fj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,es(gi.current);var a=null;switch(r){case"input":i=Q0(e,i),n=Q0(e,n),a=[];break;case"select":i=vt({},i,{value:void 0}),n=vt({},n,{value:void 0}),a=[];break;case"textarea":i=Z0(e,i),n=Z0(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ip)}tx(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(s=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",e),a||s===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};hj=function(e,t,r,n){r!==n&&(t.flags|=4)};function uc(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Er(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Y6(e,t,r){var n=t.pendingProps;switch(Jw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Er(t),null;case 1:return Xr(t.type)&&Cp(),Er(t),null;case 3:return n=t.stateNode,Ql(),nt(Qr),nt(Nr),s_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ph(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Hn!==null&&(Mx(Hn),Hn=null))),Ax(e,t),Er(t),null;case 5:o_(t);var i=es(sd.current);if(r=t.type,e!==null&&t.stateNode!=null)fj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return Er(t),null}if(e=es(gi.current),ph(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[di]=t,n[ad]=a,e=(t.mode&1)!==0,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(i=0;i<Ec.length;i++)Ze(Ec[i],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":LS(n,a),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ze("invalid",n);break;case"textarea":$S(n,a),Ze("invalid",n)}tx(r,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?n.textContent!==s&&(a.suppressHydrationWarning!==!0&&hh(n.textContent,s,e),i=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&hh(n.textContent,s,e),i=["children",""+s]):Yc.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ze("scroll",n)}switch(r){case"input":ah(n),VS(n,a,!0);break;case"textarea":ah(n),FS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ip)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[di]=t,e[ad]=n,dj(e,t,!1,!1),t.stateNode=e;e:{switch(o=rx(r,n),r){case"dialog":Ze("cancel",e),Ze("close",e),i=n;break;case"iframe":case"object":case"embed":Ze("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ec.length;i++)Ze(Ec[i],e);i=n;break;case"source":Ze("error",e),i=n;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),i=n;break;case"details":Ze("toggle",e),i=n;break;case"input":LS(e,n),i=Q0(e,n),Ze("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=vt({},n,{value:void 0}),Ze("invalid",e);break;case"textarea":$S(e,n),i=Z0(e,n),Ze("invalid",e);break;default:i=n}tx(r,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?W2(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U2(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Qc(e,l):typeof l=="number"&&Qc(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Yc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ze("scroll",e):l!=null&&Lw(e,a,l,o))}switch(r){case"input":ah(e),VS(e,n,!1);break;case"textarea":ah(e),FS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ho(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Il(e,!!n.multiple,a,!1):n.defaultValue!=null&&Il(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ip)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Er(t),null;case 6:if(e&&t.stateNode!=null)hj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=es(sd.current),es(gi.current),ph(t)){if(n=t.stateNode,r=t.memoizedProps,n[di]=t,(a=n.nodeValue!==r)&&(e=mn,e!==null))switch(e.tag){case 3:hh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&hh(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[di]=t,t.stateNode=n}return Er(t),null;case 13:if(nt(ft),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&dn!==null&&t.mode&1&&!(t.flags&128))ON(),Gl(),t.flags|=98560,a=!1;else if(a=ph(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[di]=t}else Gl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Er(t),a=!1}else Hn!==null&&(Mx(Hn),Hn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ft.current&1?Wt===0&&(Wt=3):x_())),t.updateQueue!==null&&(t.flags|=4),Er(t),null);case 4:return Ql(),Ax(e,t),e===null&&nd(t.stateNode.containerInfo),Er(t),null;case 10:return r_(t.type._context),Er(t),null;case 17:return Xr(t.type)&&Cp(),Er(t),null;case 19:if(nt(ft),a=t.memoizedState,a===null)return Er(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)uc(a,!1);else{if(Wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Lp(e),o!==null){for(t.flags|=128,uc(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qe(ft,ft.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ct()>Jl&&(t.flags|=128,n=!0,uc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Lp(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!ot)return Er(t),null}else 2*Ct()-a.renderingStartTime>Jl&&r!==1073741824&&(t.flags|=128,n=!0,uc(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ct(),t.sibling=null,r=ft.current,Qe(ft,n?r&1|2:r&1),t):(Er(t),null);case 22:case 23:return y_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ln&1073741824&&(Er(t),t.subtreeFlags&6&&(t.flags|=8192)):Er(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function Q6(e,t){switch(Jw(t),t.tag){case 1:return Xr(t.type)&&Cp(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ql(),nt(Qr),nt(Nr),s_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return o_(t),null;case 13:if(nt(ft),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));Gl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(ft),null;case 4:return Ql(),null;case 10:return r_(t.type._context),null;case 22:case 23:return y_(),null;case 24:return null;default:return null}}var vh=!1,Tr=!1,X6=typeof WeakSet=="function"?WeakSet:Set,te=null;function wl(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,t,n)}else r.current=null}function Ix(e,t,r){try{r()}catch(n){St(e,t,n)}}var IP=!1;function J6(e,t){if(fx=Pp,e=yN(),Qw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,c=0,d=e,h=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(s=o+i),d!==a||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)h=d,d=m;for(;;){if(d===e)break t;if(h===r&&++u===i&&(s=o),h===a&&++c===n&&(l=o),(m=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=m}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(hx={focusedElem:e,selectionRange:r},Pp=!1,te=t;te!==null;)if(t=te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,te=e;else for(;te!==null;){t=te;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,y=v.memoizedState,x=t.stateNode,_=x.getSnapshotBeforeUpdate(t.elementType===t.type?b:Wn(t.type,b),y);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(T){St(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,te=e;break}te=t.return}return v=IP,IP=!1,v}function $c(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ix(t,r,a)}i=i.next}while(i!==n)}}function xg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Cx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pj(e){var t=e.alternate;t!==null&&(e.alternate=null,pj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[di],delete t[ad],delete t[gx],delete t[D6],delete t[R6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mj(e){return e.tag===5||e.tag===3||e.tag===4}function CP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ox(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ip));else if(n!==4&&(e=e.child,e!==null))for(Ox(e,t,r),e=e.sibling;e!==null;)Ox(e,t,r),e=e.sibling}function Nx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Nx(e,t,r),e=e.sibling;e!==null;)Nx(e,t,r),e=e.sibling}var cr=null,Kn=!1;function Oa(e,t,r){for(r=r.child;r!==null;)gj(e,t,r),r=r.sibling}function gj(e,t,r){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(dg,r)}catch{}switch(r.tag){case 5:Tr||wl(r,t);case 6:var n=cr,i=Kn;cr=null,Oa(e,t,r),cr=n,Kn=i,cr!==null&&(Kn?(e=cr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cr.removeChild(r.stateNode));break;case 18:cr!==null&&(Kn?(e=cr,r=r.stateNode,e.nodeType===8?Wy(e.parentNode,r):e.nodeType===1&&Wy(e,r),ed(e)):Wy(cr,r.stateNode));break;case 4:n=cr,i=Kn,cr=r.stateNode.containerInfo,Kn=!0,Oa(e,t,r),cr=n,Kn=i;break;case 0:case 11:case 14:case 15:if(!Tr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Ix(r,t,o),i=i.next}while(i!==n)}Oa(e,t,r);break;case 1:if(!Tr&&(wl(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){St(r,t,s)}Oa(e,t,r);break;case 21:Oa(e,t,r);break;case 22:r.mode&1?(Tr=(n=Tr)||r.memoizedState!==null,Oa(e,t,r),Tr=n):Oa(e,t,r);break;default:Oa(e,t,r)}}function OP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new X6),t.forEach(function(n){var i=sz.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Bn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:cr=s.stateNode,Kn=!1;break e;case 3:cr=s.stateNode.containerInfo,Kn=!0;break e;case 4:cr=s.stateNode.containerInfo,Kn=!0;break e}s=s.return}if(cr===null)throw Error(Q(160));gj(a,o,i),cr=null,Kn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){St(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vj(t,e),t=t.sibling}function vj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Bn(t,e),si(e),n&4){try{$c(3,e,e.return),xg(3,e)}catch(b){St(e,e.return,b)}try{$c(5,e,e.return)}catch(b){St(e,e.return,b)}}break;case 1:Bn(t,e),si(e),n&512&&r!==null&&wl(r,r.return);break;case 5:if(Bn(t,e),si(e),n&512&&r!==null&&wl(r,r.return),e.flags&32){var i=e.stateNode;try{Qc(i,"")}catch(b){St(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&$2(i,a),rx(s,o);var u=rx(s,a);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?W2(i,d):c==="dangerouslySetInnerHTML"?U2(i,d):c==="children"?Qc(i,d):Lw(i,c,d,u)}switch(s){case"input":X0(i,a);break;case"textarea":F2(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Il(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Il(i,!!a.multiple,a.defaultValue,!0):Il(i,!!a.multiple,a.multiple?[]:"",!1))}i[ad]=a}catch(b){St(e,e.return,b)}}break;case 6:if(Bn(t,e),si(e),n&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){St(e,e.return,b)}}break;case 3:if(Bn(t,e),si(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ed(t.containerInfo)}catch(b){St(e,e.return,b)}break;case 4:Bn(t,e),si(e);break;case 13:Bn(t,e),si(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(g_=Ct())),n&4&&OP(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Tr=(u=Tr)||c,Bn(t,e),Tr=u):Bn(t,e),si(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(te=e,c=e.child;c!==null;){for(d=te=c;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:$c(4,h,h.return);break;case 1:wl(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){St(n,r,b)}}break;case 5:wl(h,h.return);break;case 22:if(h.memoizedState!==null){jP(d);continue}}m!==null?(m.return=h,te=m):jP(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=B2("display",o))}catch(b){St(e,e.return,b)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){St(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Bn(t,e),si(e),n&4&&OP(e);break;case 21:break;default:Bn(t,e),si(e)}}function si(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mj(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Qc(i,""),n.flags&=-33);var a=CP(e);Nx(e,a,i);break;case 3:case 4:var o=n.stateNode.containerInfo,s=CP(e);Ox(e,s,o);break;default:throw Error(Q(161))}}catch(l){St(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Z6(e,t,r){te=e,yj(e)}function yj(e,t,r){for(var n=(e.mode&1)!==0;te!==null;){var i=te,a=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||vh;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||Tr;s=vh;var u=Tr;if(vh=o,(Tr=l)&&!u)for(te=i;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?DP(i):l!==null?(l.return=o,te=l):DP(i);for(;a!==null;)te=a,yj(a),a=a.sibling;te=i,vh=s,Tr=u}NP(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,te=a):NP(e)}}function NP(e){for(;te!==null;){var t=te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tr||xg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tr)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Wn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gP(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gP(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ed(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Tr||t.flags&512&&Cx(t)}catch(h){St(t,t.return,h)}}if(t===e){te=null;break}if(r=t.sibling,r!==null){r.return=t.return,te=r;break}te=t.return}}function jP(e){for(;te!==null;){var t=te;if(t===e){te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,te=r;break}te=t.return}}function DP(e){for(;te!==null;){var t=te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{xg(4,t)}catch(l){St(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){St(t,i,l)}}var a=t.return;try{Cx(t)}catch(l){St(t,a,l)}break;case 5:var o=t.return;try{Cx(t)}catch(l){St(t,o,l)}}}catch(l){St(t,t.return,l)}if(t===e){te=null;break}var s=t.sibling;if(s!==null){s.return=t.return,te=s;break}te=t.return}}var ez=Math.ceil,Fp=pa.ReactCurrentDispatcher,p_=pa.ReactCurrentOwner,On=pa.ReactCurrentBatchConfig,Oe=0,ar=null,Rt=null,mr=0,ln=0,_l=So(0),Wt=0,dd=null,ys=0,bg=0,m_=0,Fc=null,Hr=null,g_=0,Jl=1/0,ji=null,zp=!1,jx=null,no=null,yh=!1,qa=null,Up=0,zc=0,Dx=null,tp=-1,rp=0;function Fr(){return Oe&6?Ct():tp!==-1?tp:tp=Ct()}function io(e){return e.mode&1?Oe&2&&mr!==0?mr&-mr:L6.transition!==null?(rp===0&&(rp=rN()),rp):(e=$e,e!==0||(e=window.event,e=e===void 0?16:uN(e.type)),e):1}function Xn(e,t,r,n){if(50<zc)throw zc=0,Dx=null,Error(Q(185));Wd(e,r,n),(!(Oe&2)||e!==ar)&&(e===ar&&(!(Oe&2)&&(bg|=r),Wt===4&&Va(e,mr)),Jr(e,n),r===1&&Oe===0&&!(t.mode&1)&&(Jl=Ct()+500,gg&&Po()))}function Jr(e,t){var r=e.callbackNode;LF(e,t);var n=Sp(e,e===ar?mr:0);if(n===0)r!==null&&BS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&BS(r),t===1)e.tag===0?M6(RP.bind(null,e)):AN(RP.bind(null,e)),N6(function(){!(Oe&6)&&Po()}),r=null;else{switch(nN(n)){case 1:r=Uw;break;case 4:r=eN;break;case 16:r=kp;break;case 536870912:r=tN;break;default:r=kp}r=Pj(r,xj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xj(e,t){if(tp=-1,rp=0,Oe&6)throw Error(Q(327));var r=e.callbackNode;if(Dl()&&e.callbackNode!==r)return null;var n=Sp(e,e===ar?mr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Bp(e,n);else{t=n;var i=Oe;Oe|=2;var a=wj();(ar!==e||mr!==t)&&(ji=null,Jl=Ct()+500,os(e,t));do try{nz();break}catch(s){bj(e,s)}while(!0);t_(),Fp.current=a,Oe=i,Rt!==null?t=0:(ar=null,mr=0,t=Wt)}if(t!==0){if(t===2&&(i=sx(e),i!==0&&(n=i,t=Rx(e,i))),t===1)throw r=dd,os(e,0),Va(e,n),Jr(e,Ct()),r;if(t===6)Va(e,n);else{if(i=e.current.alternate,!(n&30)&&!tz(i)&&(t=Bp(e,n),t===2&&(a=sx(e),a!==0&&(n=a,t=Rx(e,a))),t===1))throw r=dd,os(e,0),Va(e,n),Jr(e,Ct()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:qo(e,Hr,ji);break;case 3:if(Va(e,n),(n&130023424)===n&&(t=g_+500-Ct(),10<t)){if(Sp(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Fr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mx(qo.bind(null,e,Hr,ji),t);break}qo(e,Hr,ji);break;case 4:if(Va(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Qn(n);a=1<<o,o=t[o],o>i&&(i=o),n&=~a}if(n=i,n=Ct()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ez(n/1960))-n,10<n){e.timeoutHandle=mx(qo.bind(null,e,Hr,ji),n);break}qo(e,Hr,ji);break;case 5:qo(e,Hr,ji);break;default:throw Error(Q(329))}}}return Jr(e,Ct()),e.callbackNode===r?xj.bind(null,e):null}function Rx(e,t){var r=Fc;return e.current.memoizedState.isDehydrated&&(os(e,t).flags|=256),e=Bp(e,t),e!==2&&(t=Hr,Hr=r,t!==null&&Mx(t)),e}function Mx(e){Hr===null?Hr=e:Hr.push.apply(Hr,e)}function tz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Zn(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Va(e,t){for(t&=~m_,t&=~bg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qn(t),n=1<<r;e[r]=-1,t&=~n}}function RP(e){if(Oe&6)throw Error(Q(327));Dl();var t=Sp(e,0);if(!(t&1))return Jr(e,Ct()),null;var r=Bp(e,t);if(e.tag!==0&&r===2){var n=sx(e);n!==0&&(t=n,r=Rx(e,n))}if(r===1)throw r=dd,os(e,0),Va(e,t),Jr(e,Ct()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,qo(e,Hr,ji),Jr(e,Ct()),null}function v_(e,t){var r=Oe;Oe|=1;try{return e(t)}finally{Oe=r,Oe===0&&(Jl=Ct()+500,gg&&Po())}}function xs(e){qa!==null&&qa.tag===0&&!(Oe&6)&&Dl();var t=Oe;Oe|=1;var r=On.transition,n=$e;try{if(On.transition=null,$e=1,e)return e()}finally{$e=n,On.transition=r,Oe=t,!(Oe&6)&&Po()}}function y_(){ln=_l.current,nt(_l)}function os(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,O6(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(Jw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Cp();break;case 3:Ql(),nt(Qr),nt(Nr),s_();break;case 5:o_(n);break;case 4:Ql();break;case 13:nt(ft);break;case 19:nt(ft);break;case 10:r_(n.type._context);break;case 22:case 23:y_()}r=r.return}if(ar=e,Rt=e=ao(e.current,null),mr=ln=t,Wt=0,dd=null,m_=bg=ys=0,Hr=Fc=null,Zo!==null){for(t=0;t<Zo.length;t++)if(r=Zo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=i,n.next=o}r.pending=n}Zo=null}return e}function bj(e,t){do{var r=Rt;try{if(t_(),Jh.current=$p,Vp){for(var n=pt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vp=!1}if(vs=0,rr=zt=pt=null,Vc=!1,ld=0,p_.current=null,r===null||r.return===null){Wt=1,dd=t,Rt=null;break}e:{var a=e,o=r.return,s=r,l=t;if(t=mr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=_P(o);if(m!==null){m.flags&=-257,EP(m,o,s,a,t),m.mode&1&&wP(a,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(l),t.updateQueue=b}else v.add(l);break e}else{if(!(t&1)){wP(a,u,t),x_();break e}l=Error(Q(426))}}else if(ot&&s.mode&1){var y=_P(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),EP(y,o,s,a,t),Zw(Xl(l,s));break e}}a=l=Xl(l,s),Wt!==4&&(Wt=2),Fc===null?Fc=[a]:Fc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=nj(a,l,t);mP(a,x);break e;case 1:s=l;var _=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(no===null||!no.has(k)))){a.flags|=65536,t&=-t,a.lanes|=t;var T=ij(a,s,t);mP(a,T);break e}}a=a.return}while(a!==null)}Ej(r)}catch(I){t=I,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function wj(){var e=Fp.current;return Fp.current=$p,e===null?$p:e}function x_(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),ar===null||!(ys&268435455)&&!(bg&268435455)||Va(ar,mr)}function Bp(e,t){var r=Oe;Oe|=2;var n=wj();(ar!==e||mr!==t)&&(ji=null,os(e,t));do try{rz();break}catch(i){bj(e,i)}while(!0);if(t_(),Oe=r,Fp.current=n,Rt!==null)throw Error(Q(261));return ar=null,mr=0,Wt}function rz(){for(;Rt!==null;)_j(Rt)}function nz(){for(;Rt!==null&&!AF();)_j(Rt)}function _j(e){var t=Sj(e.alternate,e,ln);e.memoizedProps=e.pendingProps,t===null?Ej(e):Rt=t,p_.current=null}function Ej(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Q6(r,t),r!==null){r.flags&=32767,Rt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Wt=6,Rt=null;return}}else if(r=Y6(r,t,ln),r!==null){Rt=r;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);Wt===0&&(Wt=5)}function qo(e,t,r){var n=$e,i=On.transition;try{On.transition=null,$e=1,iz(e,t,r,n)}finally{On.transition=i,$e=n}return null}function iz(e,t,r,n){do Dl();while(qa!==null);if(Oe&6)throw Error(Q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(VF(e,a),e===ar&&(Rt=ar=null,mr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||yh||(yh=!0,Pj(kp,function(){return Dl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=On.transition,On.transition=null;var o=$e;$e=1;var s=Oe;Oe|=4,p_.current=null,J6(e,r),vj(r,e),k6(hx),Pp=!!fx,hx=fx=null,e.current=r,Z6(r),IF(),Oe=s,$e=o,On.transition=a}else e.current=r;if(yh&&(yh=!1,qa=e,Up=i),a=e.pendingLanes,a===0&&(no=null),NF(r.stateNode),Jr(e,Ct()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(zp)throw zp=!1,e=jx,jx=null,e;return Up&1&&e.tag!==0&&Dl(),a=e.pendingLanes,a&1?e===Dx?zc++:(zc=0,Dx=e):zc=0,Po(),null}function Dl(){if(qa!==null){var e=nN(Up),t=On.transition,r=$e;try{if(On.transition=null,$e=16>e?16:e,qa===null)var n=!1;else{if(e=qa,qa=null,Up=0,Oe&6)throw Error(Q(331));var i=Oe;for(Oe|=4,te=e.current;te!==null;){var a=te,o=a.child;if(te.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(te=u;te!==null;){var c=te;switch(c.tag){case 0:case 11:case 15:$c(8,c,a)}var d=c.child;if(d!==null)d.return=c,te=d;else for(;te!==null;){c=te;var h=c.sibling,m=c.return;if(pj(c),c===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var v=a.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var y=b.sibling;b.sibling=null,b=y}while(b!==null)}}te=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,te=o;else e:for(;te!==null;){if(a=te,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$c(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,te=x;break e}te=a.return}}var _=e.current;for(te=_;te!==null;){o=te;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,te=k;else e:for(o=_;te!==null;){if(s=te,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:xg(9,s)}}catch(I){St(s,s.return,I)}if(s===o){te=null;break e}var T=s.sibling;if(T!==null){T.return=s.return,te=T;break e}te=s.return}}if(Oe=i,Po(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(dg,e)}catch{}n=!0}return n}finally{$e=r,On.transition=t}}return!1}function MP(e,t,r){t=Xl(r,t),t=nj(e,t,1),e=ro(e,t,1),t=Fr(),e!==null&&(Wd(e,1,t),Jr(e,t))}function St(e,t,r){if(e.tag===3)MP(e,e,r);else for(;t!==null;){if(t.tag===3){MP(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(no===null||!no.has(n))){e=Xl(r,e),e=ij(t,e,1),t=ro(t,e,1),e=Fr(),t!==null&&(Wd(t,1,e),Jr(t,e));break}}t=t.return}}function az(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fr(),e.pingedLanes|=e.suspendedLanes&r,ar===e&&(mr&r)===r&&(Wt===4||Wt===3&&(mr&130023424)===mr&&500>Ct()-g_?os(e,0):m_|=r),Jr(e,t)}function kj(e,t){t===0&&(e.mode&1?(t=lh,lh<<=1,!(lh&130023424)&&(lh=4194304)):t=1);var r=Fr();e=Ji(e,t),e!==null&&(Wd(e,t,r),Jr(e,r))}function oz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kj(e,r)}function sz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),kj(e,r)}var Sj;Sj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qr.current)Gr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gr=!1,G6(e,t,r);Gr=!!(e.flags&131072)}else Gr=!1,ot&&t.flags&1048576&&IN(t,jp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ep(e,t),e=t.pendingProps;var i=ql(t,Nr.current);jl(t,r),i=u_(null,t,n,e,i,r);var a=c_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Xr(n)?(a=!0,Op(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i_(t),i.updater=yg,t.stateNode=i,i._reactInternals=t,_x(t,n,e,r),t=Sx(null,t,n,!0,a,r)):(t.tag=0,ot&&a&&Xw(t),Lr(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ep(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=uz(n),e=Wn(n,e),i){case 0:t=kx(null,t,n,e,r);break e;case 1:t=PP(null,t,n,e,r);break e;case 11:t=kP(null,t,n,e,r);break e;case 14:t=SP(null,t,n,Wn(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),kx(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),PP(e,t,n,i,r);case 3:e:{if(lj(t),e===null)throw Error(Q(387));n=t.pendingProps,a=t.memoizedState,i=a.element,RN(e,t),Mp(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Xl(Error(Q(423)),t),t=TP(e,t,n,r,i);break e}else if(n!==i){i=Xl(Error(Q(424)),t),t=TP(e,t,n,r,i);break e}else for(dn=to(t.stateNode.containerInfo.firstChild),mn=t,ot=!0,Hn=null,r=jN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gl(),n===i){t=Zi(e,t,r);break e}Lr(e,t,n,r)}t=t.child}return t;case 5:return MN(t),e===null&&xx(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,px(n,i)?o=null:a!==null&&px(n,a)&&(t.flags|=32),sj(e,t),Lr(e,t,o,r),t.child;case 6:return e===null&&xx(t),null;case 13:return uj(e,t,r);case 4:return a_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yl(t,null,n,r):Lr(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),kP(e,t,n,i,r);case 7:return Lr(e,t,t.pendingProps,r),t.child;case 8:return Lr(e,t,t.pendingProps.children,r),t.child;case 12:return Lr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Qe(Dp,n._currentValue),n._currentValue=o,a!==null)if(Zn(a.value,o)){if(a.children===i.children&&!Qr.current){t=Zi(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Ki(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),bx(a.return,r,t),s.lanes|=r;break}l=l.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Q(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),bx(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Lr(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jl(t,r),i=Dn(i),n=n(i),t.flags|=1,Lr(e,t,n,r),t.child;case 14:return n=t.type,i=Wn(n,t.pendingProps),i=Wn(n.type,i),SP(e,t,n,i,r);case 15:return aj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Wn(n,i),ep(e,t),t.tag=1,Xr(n)?(e=!0,Op(t)):e=!1,jl(t,r),rj(t,n,i),_x(t,n,i,r),Sx(null,t,n,!0,e,r);case 19:return cj(e,t,r);case 22:return oj(e,t,r)}throw Error(Q(156,t.tag))};function Pj(e,t){return Z2(e,t)}function lz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,r,n){return new lz(e,t,r,n)}function b_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uz(e){if(typeof e=="function")return b_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$w)return 11;if(e===Fw)return 14}return 2}function ao(e,t){var r=e.alternate;return r===null?(r=In(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function np(e,t,r,n,i,a){var o=2;if(n=e,typeof e=="function")b_(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case fl:return ss(r.children,i,a,t);case Vw:o=8,i|=8;break;case H0:return e=In(12,r,t,i|2),e.elementType=H0,e.lanes=a,e;case q0:return e=In(13,r,t,i),e.elementType=q0,e.lanes=a,e;case G0:return e=In(19,r,t,i),e.elementType=G0,e.lanes=a,e;case M2:return wg(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D2:o=10;break e;case R2:o=9;break e;case $w:o=11;break e;case Fw:o=14;break e;case ja:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=In(o,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function ss(e,t,r,n){return e=In(7,e,n,t),e.lanes=r,e}function wg(e,t,r,n){return e=In(22,e,n,t),e.elementType=M2,e.lanes=r,e.stateNode={isHidden:!1},e}function Jy(e,t,r){return e=In(6,e,null,t),e.lanes=r,e}function Zy(e,t,r){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cz(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jy(0),this.expirationTimes=jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jy(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function w_(e,t,r,n,i,a,o,s,l){return e=new cz(e,t,r,s,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=In(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},i_(a),e}function dz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Tj(e){if(!e)return po;e=e._reactInternals;e:{if($s(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Xr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Xr(r))return TN(e,r,t)}return t}function Aj(e,t,r,n,i,a,o,s,l){return e=w_(r,n,!0,e,i,a,o,s,l),e.context=Tj(null),r=e.current,n=Fr(),i=io(r),a=Ki(n,i),a.callback=t??null,ro(r,a,i),e.current.lanes=i,Wd(e,i,n),Jr(e,n),e}function _g(e,t,r,n){var i=t.current,a=Fr(),o=io(i);return r=Tj(r),t.context===null?t.context=r:t.pendingContext=r,t=Ki(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=ro(i,t,o),e!==null&&(Xn(e,i,o,a),Xh(e,i,o)),o}function Wp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function __(e,t){LP(e,t),(e=e.alternate)&&LP(e,t)}function fz(){return null}var Ij=typeof reportError=="function"?reportError:function(e){console.error(e)};function E_(e){this._internalRoot=e}Eg.prototype.render=E_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));_g(e,t,null,null)};Eg.prototype.unmount=E_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xs(function(){_g(null,e,null,null)}),t[Xi]=null}};function Eg(e){this._internalRoot=e}Eg.prototype.unstable_scheduleHydration=function(e){if(e){var t=oN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<La.length&&t!==0&&t<La[r].priority;r++);La.splice(r,0,e),r===0&&lN(e)}};function k_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function VP(){}function hz(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Wp(o);a.call(u)}}var o=Aj(t,n,e,0,null,!1,!1,"",VP);return e._reactRootContainer=o,e[Xi]=o.current,nd(e.nodeType===8?e.parentNode:e),xs(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var s=n;n=function(){var u=Wp(l);s.call(u)}}var l=w_(e,0,!1,null,null,!1,!1,"",VP);return e._reactRootContainer=l,e[Xi]=l.current,nd(e.nodeType===8?e.parentNode:e),xs(function(){_g(t,l,r,n)}),l}function Sg(e,t,r,n,i){var a=r._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=Wp(o);s.call(l)}}_g(t,o,e,i)}else o=hz(r,t,e,i,n);return Wp(o)}iN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_c(t.pendingLanes);r!==0&&(Bw(t,r|1),Jr(t,Ct()),!(Oe&6)&&(Jl=Ct()+500,Po()))}break;case 13:xs(function(){var n=Ji(e,1);if(n!==null){var i=Fr();Xn(n,e,1,i)}}),__(e,1)}};Ww=function(e){if(e.tag===13){var t=Ji(e,134217728);if(t!==null){var r=Fr();Xn(t,e,134217728,r)}__(e,134217728)}};aN=function(e){if(e.tag===13){var t=io(e),r=Ji(e,t);if(r!==null){var n=Fr();Xn(r,e,t,n)}__(e,t)}};oN=function(){return $e};sN=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};ix=function(e,t,r){switch(t){case"input":if(X0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=mg(n);if(!i)throw Error(Q(90));V2(n),X0(n,i)}}}break;case"textarea":F2(e,r);break;case"select":t=r.value,t!=null&&Il(e,!!r.multiple,t,!1)}};q2=v_;G2=xs;var pz={usingClientEntryPoint:!1,Events:[Hd,gl,mg,K2,H2,v_]},cc={findFiberByHostInstance:Jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mz={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X2(e),e===null?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||fz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xh.isDisabled&&xh.supportsFiber)try{dg=xh.inject(mz),mi=xh}catch{}}xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pz;xn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k_(t))throw Error(Q(200));return dz(e,t,null,r)};xn.createRoot=function(e,t){if(!k_(e))throw Error(Q(299));var r=!1,n="",i=Ij;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=w_(e,1,!1,null,null,r,!1,n,i),e[Xi]=t.current,nd(e.nodeType===8?e.parentNode:e),new E_(t)};xn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=X2(t),e=e===null?null:e.stateNode,e};xn.flushSync=function(e){return xs(e)};xn.hydrate=function(e,t,r){if(!kg(t))throw Error(Q(200));return Sg(null,e,t,!0,r)};xn.hydrateRoot=function(e,t,r){if(!k_(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",o=Ij;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Aj(t,null,e,1,r??null,i,!1,a,o),e[Xi]=t.current,nd(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Eg(t)};xn.render=function(e,t,r){if(!kg(t))throw Error(Q(200));return Sg(null,e,t,!1,r)};xn.unmountComponentAtNode=function(e){if(!kg(e))throw Error(Q(40));return e._reactRootContainer?(xs(function(){Sg(null,null,e,!1,function(){e._reactRootContainer=null,e[Xi]=null})}),!0):!1};xn.unstable_batchedUpdates=v_;xn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!kg(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Sg(e,t,r,!1,n)};xn.version="18.3.1-next-f1338f8080-20240426";function Cj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cj)}catch(e){console.error(e)}}Cj(),C2.exports=xn;var Pg=C2.exports,$P=Pg;W0.createRoot=$P.createRoot,W0.hydrateRoot=$P.hydrateRoot;let gz={data:""},vz=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||gz},yz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xz=/\/\*[^]*?\*\/|  +/g,FP=/\n+/g,$a=(e,t)=>{let r="",n="",i="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?$a(o,a):a+"{"+$a(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=$a(o,t?t.replace(/([^,])+/g,s=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,s):s?s+" "+l:l)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=$a.p?$a.p(a,o):a+":"+o+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Oi={},Oj=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Oj(e[r]);return t}return e},bz=(e,t,r,n,i)=>{let a=Oj(e),o=Oi[a]||(Oi[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!Oi[o]){let l=a!==e?e:(u=>{let c,d,h=[{}];for(;c=yz.exec(u.replace(xz,""));)c[4]?h.shift():c[3]?(d=c[3].replace(FP," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(FP," ").trim();return h[0]})(e);Oi[o]=$a(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let s=r&&Oi.g?Oi.g:null;return r&&(Oi.g=Oi[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Oi[o],t,n,s),o},wz=(e,t,r)=>e.reduce((n,i,a)=>{let o=t[a];if(o&&o.call){let s=o(r),l=s&&s.props&&s.props.className||/^go/.test(s)&&s;o=l?"."+l:s&&typeof s=="object"?s.props?"":$a(s,""):s===!1?"":s}return n+i+(o??"")},"");function Tg(e){let t=this||{},r=e.call?e(t.p):e;return bz(r.unshift?r.raw?wz(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,vz(t.target),t.g,t.o,t.k)}let Nj,Lx,Vx;Tg.bind({g:1});let ea=Tg.bind({k:1});function _z(e,t,r,n){$a.p=t,Nj=e,Lx=r,Vx=n}function To(e,t){let r=this||{};return function(){let n=arguments;function i(a,o){let s=Object.assign({},a),l=s.className||i.className;r.p=Object.assign({theme:Lx&&Lx()},s),r.o=/ *go\d+/.test(l),s.className=Tg.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=s.as||e,delete s.as),Vx&&u[0]&&Vx(s),Nj(u,s)}return i}}var Ez=e=>typeof e=="function",Kp=(e,t)=>Ez(e)?e(t):e,kz=(()=>{let e=0;return()=>(++e).toString()})(),jj=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Sz=20,S_="default",Dj=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return Dj(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+a}))}}},ip=[],Rj={toasts:[],pausedAt:void 0,settings:{toastLimit:Sz}},fi={},Mj=(e,t=S_)=>{fi[t]=Dj(fi[t]||Rj,e),ip.forEach(([r,n])=>{r===t&&n(fi[t])})},Lj=e=>Object.keys(fi).forEach(t=>Mj(e,t)),Pz=e=>Object.keys(fi).find(t=>fi[t].toasts.some(r=>r.id===e)),Ag=(e=S_)=>t=>{Mj(t,e)},Tz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Az=(e={},t=S_)=>{let[r,n]=g.useState(fi[t]||Rj),i=g.useRef(fi[t]);g.useEffect(()=>(i.current!==fi[t]&&n(fi[t]),ip.push([t,n]),()=>{let o=ip.findIndex(([s])=>s===t);o>-1&&ip.splice(o,1)}),[t]);let a=r.toasts.map(o=>{var s,l,u;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((s=e[o.type])==null?void 0:s.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Tz[o.type],style:{...e.style,...(u=e[o.type])==null?void 0:u.style,...o.style}}});return{...r,toasts:a}},Iz=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||kz()}),Gd=e=>(t,r)=>{let n=Iz(t,e,r);return Ag(n.toasterId||Pz(n.id))({type:2,toast:n}),n.id},nr=(e,t)=>Gd("blank")(e,t);nr.error=Gd("error");nr.success=Gd("success");nr.loading=Gd("loading");nr.custom=Gd("custom");nr.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Ag(t)(r):Lj(r)};nr.dismissAll=e=>nr.dismiss(void 0,e);nr.remove=(e,t)=>{let r={type:4,toastId:e};t?Ag(t)(r):Lj(r)};nr.removeAll=e=>nr.remove(void 0,e);nr.promise=(e,t,r)=>{let n=nr.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Kp(t.success,i):void 0;return a?nr.success(a,{id:n,...r,...r==null?void 0:r.success}):nr.dismiss(n),i}).catch(i=>{let a=t.error?Kp(t.error,i):void 0;a?nr.error(a,{id:n,...r,...r==null?void 0:r.error}):nr.dismiss(n)}),e};var Cz=1e3,Oz=(e,t="default")=>{let{toasts:r,pausedAt:n}=Az(e,t),i=g.useRef(new Map).current,a=g.useCallback((d,h=Cz)=>{if(i.has(d))return;let m=setTimeout(()=>{i.delete(d),o({type:4,toastId:d})},h);i.set(d,m)},[]);g.useEffect(()=>{if(n)return;let d=Date.now(),h=r.map(m=>{if(m.duration===1/0)return;let v=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(v<0){m.visible&&nr.dismiss(m.id);return}return setTimeout(()=>nr.dismiss(m.id,t),v)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let o=g.useCallback(Ag(t),[t]),s=g.useCallback(()=>{o({type:5,time:Date.now()})},[o]),l=g.useCallback((d,h)=>{o({type:1,toast:{id:d,height:h}})},[o]),u=g.useCallback(()=>{n&&o({type:6,time:Date.now()})},[n,o]),c=g.useCallback((d,h)=>{let{reverseOrder:m=!1,gutter:v=8,defaultPosition:b}=h||{},y=r.filter(k=>(k.position||b)===(d.position||b)&&k.height),x=y.findIndex(k=>k.id===d.id),_=y.filter((k,T)=>T<x&&k.visible).length;return y.filter(k=>k.visible).slice(...m?[_+1]:[0,_]).reduce((k,T)=>k+(T.height||0)+v,0)},[r]);return g.useEffect(()=>{r.forEach(d=>{if(d.dismissed)a(d.id,d.removeDelay);else{let h=i.get(d.id);h&&(clearTimeout(h),i.delete(d.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:l,startPause:s,endPause:u,calculateOffset:c}}},Nz=ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jz=ea`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Dz=ea`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Rz=To("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Nz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Dz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Mz=ea`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Lz=To("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Mz} 1s linear infinite;
`,Vz=ea`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$z=ea`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Fz=To("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Vz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$z} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,zz=To("div")`
  position: absolute;
`,Uz=To("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Bz=ea`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wz=To("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Bz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Kz=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(Wz,null,t):t:r==="blank"?null:g.createElement(Uz,null,g.createElement(Lz,{...n}),r!=="loading"&&g.createElement(zz,null,r==="error"?g.createElement(Rz,{...n}):g.createElement(Fz,{...n})))},Hz=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qz=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Gz="0%{opacity:0;} 100%{opacity:1;}",Yz="0%{opacity:1;} 100%{opacity:0;}",Qz=To("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Xz=To("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Jz=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=jj()?[Gz,Yz]:[Hz(r),qz(r)];return{animation:t?`${ea(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ea(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Zz=g.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?Jz(e.position||t||"top-center",e.visible):{opacity:0},a=g.createElement(Kz,{toast:e}),o=g.createElement(Xz,{...e.ariaProps},Kp(e.message,e));return g.createElement(Qz,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:a,message:o}):g.createElement(g.Fragment,null,a,o))});_z(g.createElement);var eU=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let a=g.useCallback(o=>{if(o){let s=()=>{let l=o.getBoundingClientRect().height;n(e,l)};s(),new MutationObserver(s).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:a,className:t,style:r},i)},tU=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},rU=Tg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bh=16,nU=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:o,containerClassName:s})=>{let{toasts:l,handlers:u}=Oz(r,a);return g.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:bh,left:bh,right:bh,bottom:bh,pointerEvents:"none",...o},className:s,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||t,h=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),m=tU(d,h);return g.createElement(eU,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?rU:"",style:m},c.type==="custom"?Kp(c.message,c):i?i(c):g.createElement(Zz,{toast:c,position:d}))}))};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fd(){return fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fd.apply(this,arguments)}var Ga;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ga||(Ga={}));const zP="popstate";function iU(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:o,hash:s}=n.location;return $x("",{pathname:a,search:o,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Hp(i)}return oU(t,r,null,e)}function mt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function P_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aU(){return Math.random().toString(36).substr(2,8)}function UP(e,t){return{usr:e.state,key:e.key,idx:t}}function $x(e,t,r,n){return r===void 0&&(r=null),fd({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?_u(t):t,{state:r,key:t&&t.key||n||aU()})}function Hp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _u(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function oU(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,s=Ga.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(fd({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){s=Ga.Pop;let y=c(),x=y==null?null:y-u;u=y,l&&l({action:s,location:b.location,delta:x})}function h(y,x){s=Ga.Push;let _=$x(b.location,y,x);u=c()+1;let k=UP(_,u),T=b.createHref(_);try{o.pushState(k,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}a&&l&&l({action:s,location:b.location,delta:1})}function m(y,x){s=Ga.Replace;let _=$x(b.location,y,x);u=c();let k=UP(_,u),T=b.createHref(_);o.replaceState(k,"",T),a&&l&&l({action:s,location:b.location,delta:0})}function v(y){let x=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof y=="string"?y:Hp(y);return _=_.replace(/ $/,"%20"),mt(x,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,x)}let b={get action(){return s},get location(){return e(i,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zP,d),l=y,()=>{i.removeEventListener(zP,d),l=null}},createHref(y){return t(i,y)},createURL:v,encodeLocation(y){let x=v(y);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(y){return o.go(y)}};return b}var BP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(BP||(BP={}));function sU(e,t,r){return r===void 0&&(r="/"),lU(e,t,r)}function lU(e,t,r,n){let i=typeof t=="string"?_u(t):t,a=Zl(i.pathname||"/",r);if(a==null)return null;let o=Vj(e);uU(o);let s=null;for(let l=0;s==null&&l<o.length;++l){let u=bU(a);s=yU(o[l],u)}return s}function Vj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,s)=>{let l={relativePath:s===void 0?a.path||"":s,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=oo([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(mt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vj(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:gU(u,a.index),routesMeta:c})};return e.forEach((a,o)=>{var s;if(a.path===""||!((s=a.path)!=null&&s.includes("?")))i(a,o);else for(let l of $j(a.path))i(a,o,l)}),t}function $j(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=$j(n.join("/")),s=[];return s.push(...o.map(l=>l===""?a:[a,l].join("/"))),i&&s.push(...o),s.map(l=>e.startsWith("/")&&l===""?"/":l)}function uU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:vU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cU=/^:[\w-]+$/,dU=3,fU=2,hU=1,pU=10,mU=-2,WP=e=>e==="*";function gU(e,t){let r=e.split("/"),n=r.length;return r.some(WP)&&(n+=mU),t&&(n+=fU),r.filter(i=>!WP(i)).reduce((i,a)=>i+(cU.test(a)?dU:a===""?hU:pU),n)}function vU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function yU(e,t,r){let{routesMeta:n}=e,i={},a="/",o=[];for(let s=0;s<n.length;++s){let l=n[s],u=s===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=Fx({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:oo([a,d.pathname]),pathnameBase:SU(oo([a,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(a=oo([a,d.pathnameBase]))}return o}function Fx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=xU(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:m}=c;if(h==="*"){let b=s[d]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const v=s[d];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function xU(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),P_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,l)=>(n.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function bU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return P_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const wU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_U=e=>wU.test(e);function EU(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?_u(e):e,a;if(r)if(_U(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),P_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=KP(r.substring(1),"/"):a=KP(r,t)}else a=t;return{pathname:a,search:PU(n),hash:TU(i)}}function KP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function e0(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function T_(e,t){let r=kU(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function A_(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=_u(e):(i=fd({},e),mt(!i.pathname||!i.pathname.includes("?"),e0("?","pathname","search",i)),mt(!i.pathname||!i.pathname.includes("#"),e0("#","pathname","hash",i)),mt(!i.search||!i.search.includes("#"),e0("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,s;if(o==null)s=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}s=d>=0?t[d]:"/"}let l=EU(i,s),u=o&&o!=="/"&&o.endsWith("/"),c=(a||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const oo=e=>e.join("/").replace(/\/\/+/g,"/"),SU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),PU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,TU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function AU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fj=["post","put","patch","delete"];new Set(Fj);const IU=["get",...Fj];new Set(IU);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hd(){return hd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hd.apply(this,arguments)}const Ig=g.createContext(null),zj=g.createContext(null),ma=g.createContext(null),Cg=g.createContext(null),Ao=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Uj=g.createContext(null);function CU(e,t){let{relative:r}=t===void 0?{}:t;Eu()||mt(!1);let{basename:n,navigator:i}=g.useContext(ma),{hash:a,pathname:o,search:s}=Ng(e,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:oo([n,o])),i.createHref({pathname:l,search:s,hash:a})}function Eu(){return g.useContext(Cg)!=null}function Fs(){return Eu()||mt(!1),g.useContext(Cg).location}function Bj(e){g.useContext(ma).static||g.useLayoutEffect(e)}function Og(){let{isDataRoute:e}=g.useContext(Ao);return e?BU():OU()}function OU(){Eu()||mt(!1);let e=g.useContext(Ig),{basename:t,future:r,navigator:n}=g.useContext(ma),{matches:i}=g.useContext(Ao),{pathname:a}=Fs(),o=JSON.stringify(T_(i,r.v7_relativeSplatPath)),s=g.useRef(!1);return Bj(()=>{s.current=!0}),g.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=A_(u,JSON.parse(o),a,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:oo([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,o,a,e])}function Ng(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(ma),{matches:i}=g.useContext(Ao),{pathname:a}=Fs(),o=JSON.stringify(T_(i,n.v7_relativeSplatPath));return g.useMemo(()=>A_(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function NU(e,t){return jU(e,t)}function jU(e,t,r,n){Eu()||mt(!1);let{navigator:i}=g.useContext(ma),{matches:a}=g.useContext(Ao),o=a[a.length-1],s=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Fs(),c;if(t){var d;let y=typeof t=="string"?_u(t):t;l==="/"||(d=y.pathname)!=null&&d.startsWith(l)||mt(!1),c=y}else c=u;let h=c.pathname||"/",m=h;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let v=sU(e,{pathname:m}),b=VU(v&&v.map(y=>Object.assign({},y,{params:Object.assign({},s,y.params),pathname:oo([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:oo([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&b?g.createElement(Cg.Provider,{value:{location:hd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ga.Pop}},b):b}function DU(){let e=UU(),t=AU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:i},r):null,null)}const RU=g.createElement(DU,null);class MU extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Ao.Provider,{value:this.props.routeContext},g.createElement(Uj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LU(e){let{routeContext:t,match:r,children:n}=e,i=g.useContext(Ig);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Ao.Provider,{value:t},n)}function VU(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(i=r)==null?void 0:i.errors;if(s!=null){let c=o.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);c>=0||mt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:m}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let m,v=!1,b=null,y=null;r&&(m=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||RU,l&&(u<0&&h===0?(WU("route-fallback"),v=!0,y=null):u===h&&(v=!0,y=d.route.hydrateFallbackElement||null)));let x=t.concat(o.slice(0,h+1)),_=()=>{let k;return m?k=b:v?k=y:d.route.Component?k=g.createElement(d.route.Component,null):d.route.element?k=d.route.element:k=c,g.createElement(LU,{match:d,routeContext:{outlet:c,matches:x,isDataRoute:r!=null},children:k})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?g.createElement(MU,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:_(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):_()},null)}var Wj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wj||{}),Kj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kj||{});function $U(e){let t=g.useContext(Ig);return t||mt(!1),t}function FU(e){let t=g.useContext(zj);return t||mt(!1),t}function zU(e){let t=g.useContext(Ao);return t||mt(!1),t}function Hj(e){let t=zU(),r=t.matches[t.matches.length-1];return r.route.id||mt(!1),r.route.id}function UU(){var e;let t=g.useContext(Uj),r=FU(),n=Hj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function BU(){let{router:e}=$U(Wj.UseNavigateStable),t=Hj(Kj.UseNavigateStable),r=g.useRef(!1);return Bj(()=>{r.current=!0}),g.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,hd({fromRouteId:t},a)))},[e,t])}const HP={};function WU(e,t,r){HP[e]||(HP[e]=!0)}function KU(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function HU(e){let{to:t,replace:r,state:n,relative:i}=e;Eu()||mt(!1);let{future:a,static:o}=g.useContext(ma),{matches:s}=g.useContext(Ao),{pathname:l}=Fs(),u=Og(),c=A_(t,T_(s,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return g.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function Ni(e){mt(!1)}function qU(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Ga.Pop,navigator:a,static:o=!1,future:s}=e;Eu()&&mt(!1);let l=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:a,static:o,future:hd({v7_relativeSplatPath:!1},s)}),[l,s,a,o]);typeof n=="string"&&(n=_u(n));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:v="default"}=n,b=g.useMemo(()=>{let y=Zl(c,l);return y==null?null:{location:{pathname:y,search:d,hash:h,state:m,key:v},navigationType:i}},[l,c,d,h,m,v,i]);return b==null?null:g.createElement(ma.Provider,{value:u},g.createElement(Cg.Provider,{children:r,value:b}))}function GU(e){let{children:t,location:r}=e;return NU(zx(t),r)}new Promise(()=>{});function zx(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,i)=>{if(!g.isValidElement(n))return;let a=[...t,i];if(n.type===g.Fragment){r.push.apply(r,zx(n.props.children,a));return}n.type!==Ni&&mt(!1),!n.props.index||!n.props.children||mt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=zx(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qp(){return qp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qp.apply(this,arguments)}function qj(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function YU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function QU(e,t){return e.button===0&&(!t||t==="_self")&&!YU(e)}const XU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JU=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],ZU="6";try{window.__reactRouterVersion=ZU}catch{}const eB=g.createContext({isTransitioning:!1}),tB="startTransition",qP=A2[tB];function rB(e){let{basename:t,children:r,future:n,window:i}=e,a=g.useRef();a.current==null&&(a.current=iU({window:i,v5Compat:!0}));let o=a.current,[s,l]=g.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=g.useCallback(d=>{u&&qP?qP(()=>l(d)):l(d)},[l,u]);return g.useLayoutEffect(()=>o.listen(c),[o,c]),g.useEffect(()=>KU(n),[n]),g.createElement(qU,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}const nB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aB=g.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:s,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,h=qj(t,XU),{basename:m}=g.useContext(ma),v,b=!1;if(typeof u=="string"&&iB.test(u)&&(v=u,nB))try{let k=new URL(window.location.href),T=u.startsWith("//")?new URL(k.protocol+u):new URL(u),I=Zl(T.pathname,m);T.origin===k.origin&&I!=null?u=I+T.search+T.hash:b=!0}catch{}let y=CU(u,{relative:i}),x=sB(u,{replace:o,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(k){n&&n(k),k.defaultPrevented||x(k)}return g.createElement("a",qp({},h,{href:v||y,onClick:b||a?n:_,ref:r,target:l}))}),GP=g.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:s,to:l,viewTransition:u,children:c}=t,d=qj(t,JU),h=Ng(l,{relative:d.relative}),m=Fs(),v=g.useContext(zj),{navigator:b,basename:y}=g.useContext(ma),x=v!=null&&lB(h)&&u===!0,_=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,k=m.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(k=k.toLowerCase(),T=T?T.toLowerCase():null,_=_.toLowerCase()),T&&y&&(T=Zl(T,y)||T);const I=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let j=k===_||!o&&k.startsWith(_)&&k.charAt(I)==="/",E=T!=null&&(T===_||!o&&T.startsWith(_)&&T.charAt(_.length)==="/"),S={isActive:j,isPending:E,isTransitioning:x},A=j?n:void 0,C;typeof a=="function"?C=a(S):C=[a,j?"active":null,E?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let N=typeof s=="function"?s(S):s;return g.createElement(aB,qp({},d,{"aria-current":A,className:C,ref:r,style:N,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var Ux;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ux||(Ux={}));var YP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(YP||(YP={}));function oB(e){let t=g.useContext(Ig);return t||mt(!1),t}function sB(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:s}=t===void 0?{}:t,l=Og(),u=Fs(),c=Ng(e,{relative:o});return g.useCallback(d=>{if(QU(d,r)){d.preventDefault();let h=n!==void 0?n:Hp(u)===Hp(c);l(e,{replace:h,state:i,preventScrollReset:a,relative:o,viewTransition:s})}},[u,l,c,n,i,r,e,a,o,s])}function lB(e,t){t===void 0&&(t={});let r=g.useContext(eB);r==null&&mt(!1);let{basename:n}=oB(Ux.useViewTransitionState),i=Ng(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Zl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fx(i.pathname,o)!=null||Fx(i.pathname,a)!=null}var QP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},uB=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],o=e[r++],s=e[r++],l=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],o=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join("")},Yj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],o=i+1<e.length,s=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|s>>4;let h=(s&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),n.push(r[c],r[d],r[h],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):uB(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],s=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||s==null||u==null||d==null)throw new cB;const h=a<<2|s>>4;if(n.push(h),u!==64){const m=s<<4&240|u>>2;if(n.push(m),d!==64){const v=u<<6&192|d;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dB=function(e){const t=Gj(e);return Yj.encodeByteArray(t,!0)},Gp=function(e){return dB(e).replace(/\./g,"")},Qj=function(e){try{return Yj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=()=>fB().__FIREBASE_DEFAULTS__,pB=()=>{if(typeof process>"u"||typeof QP>"u")return;const e=QP.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},mB=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qj(e[1]);return t&&JSON.parse(t)},jg=()=>{try{return hB()||pB()||mB()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xj=e=>{var t,r;return(r=(t=jg())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},gB=e=>{const t=Xj(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Jj=()=>{var e;return(e=jg())===null||e===void 0?void 0:e.config},Zj=e=>{var t;return(t=jg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yB(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gp(JSON.stringify(r)),Gp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function bB(){var e;const t=(e=jg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _B(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function EB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kB(){const e=jr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function SB(){return!bB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PB(){try{return typeof indexedDB=="object"}catch{return!1}}function TB(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AB="FirebaseError";class ga extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=AB,Object.setPrototypeOf(this,ga.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yd.prototype.create)}}class Yd{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],o=a?IB(a,n):"Error",s=`${this.serviceName}: ${o} (${i}).`;return new ga(i,s,n)}}function IB(e,t){return e.replace(CB,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const CB=/\{\$([^}]+)}/g;function OB(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Yp(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],o=t[i];if(XP(a)&&XP(o)){if(!Yp(a,o))return!1}else if(a!==o)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function XP(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function kc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function Sc(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function NB(e,t){const r=new jB(e,t);return r.subscribe.bind(r)}class jB{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");DB(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=t0),i.error===void 0&&(i.error=t0),i.complete===void 0&&(i.complete=t0);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DB(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function t0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(e){return e&&e._delegate?e._delegate:e}class bs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RB=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new vB;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(LB(t))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Go){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Go){return this.instances.has(t)}getOptions(t=Go){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(a);n===s&&o.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:MB(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Go){return this.component?this.component.multipleInstances?t:Go:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function MB(e){return e===Go?void 0:e}function LB(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VB{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new RB(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Ae||(Ae={}));const $B={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},FB=Ae.INFO,zB={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},UB=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=zB[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class I_{constructor(t){this.name=t,this._logLevel=FB,this._logHandler=UB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ae))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?$B[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...t),this._logHandler(this,Ae.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...t),this._logHandler(this,Ae.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...t),this._logHandler(this,Ae.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...t),this._logHandler(this,Ae.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...t),this._logHandler(this,Ae.ERROR,...t)}}const BB=(e,t)=>t.some(r=>e instanceof r);let JP,ZP;function WB(){return JP||(JP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KB(){return ZP||(ZP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eD=new WeakMap,Bx=new WeakMap,tD=new WeakMap,r0=new WeakMap,C_=new WeakMap;function HB(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",o)},a=()=>{r(so(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",o)});return t.then(r=>{r instanceof IDBCursor&&eD.set(r,e)}).catch(()=>{}),C_.set(t,e),t}function qB(e){if(Bx.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",o),e.removeEventListener("abort",o)},a=()=>{r(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",o),e.addEventListener("abort",o)});Bx.set(e,t)}let Wx={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Bx.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tD.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return so(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function GB(e){Wx=e(Wx)}function YB(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(n0(this),t,...r);return tD.set(n,t.sort?t.sort():[t]),so(n)}:KB().includes(e)?function(...t){return e.apply(n0(this),t),so(eD.get(this))}:function(...t){return so(e.apply(n0(this),t))}}function QB(e){return typeof e=="function"?YB(e):(e instanceof IDBTransaction&&qB(e),BB(e,WB())?new Proxy(e,Wx):e)}function so(e){if(e instanceof IDBRequest)return HB(e);if(r0.has(e))return r0.get(e);const t=QB(e);return t!==e&&(r0.set(e,t),C_.set(t,e)),t}const n0=e=>C_.get(e);function XB(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const o=indexedDB.open(e,t),s=so(o);return n&&o.addEventListener("upgradeneeded",l=>{n(so(o.result),l.oldVersion,l.newVersion,so(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),s.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const JB=["get","getKey","getAll","getAllKeys","count"],ZB=["put","add","delete","clear"],i0=new Map;function eT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(i0.get(t))return i0.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=ZB.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||JB.includes(r)))return;const a=async function(o,...s){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(s.shift())),(await Promise.all([u[r](...s),i&&l.done]))[0]};return i0.set(t,a),a}GB(e=>({...e,get:(t,r,n)=>eT(t,r)||e.get(t,r,n),has:(t,r)=>!!eT(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(t9(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function t9(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Kx="@firebase/app",tT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new I_("@firebase/app"),r9="@firebase/app-compat",n9="@firebase/analytics-compat",i9="@firebase/analytics",a9="@firebase/app-check-compat",o9="@firebase/app-check",s9="@firebase/auth",l9="@firebase/auth-compat",u9="@firebase/database",c9="@firebase/data-connect",d9="@firebase/database-compat",f9="@firebase/functions",h9="@firebase/functions-compat",p9="@firebase/installations",m9="@firebase/installations-compat",g9="@firebase/messaging",v9="@firebase/messaging-compat",y9="@firebase/performance",x9="@firebase/performance-compat",b9="@firebase/remote-config",w9="@firebase/remote-config-compat",_9="@firebase/storage",E9="@firebase/storage-compat",k9="@firebase/firestore",S9="@firebase/vertexai-preview",P9="@firebase/firestore-compat",T9="firebase",A9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="[DEFAULT]",I9={[Kx]:"fire-core",[r9]:"fire-core-compat",[i9]:"fire-analytics",[n9]:"fire-analytics-compat",[o9]:"fire-app-check",[a9]:"fire-app-check-compat",[s9]:"fire-auth",[l9]:"fire-auth-compat",[u9]:"fire-rtdb",[c9]:"fire-data-connect",[d9]:"fire-rtdb-compat",[f9]:"fire-fn",[h9]:"fire-fn-compat",[p9]:"fire-iid",[m9]:"fire-iid-compat",[g9]:"fire-fcm",[v9]:"fire-fcm-compat",[y9]:"fire-perf",[x9]:"fire-perf-compat",[b9]:"fire-rc",[w9]:"fire-rc-compat",[_9]:"fire-gcs",[E9]:"fire-gcs-compat",[k9]:"fire-fst",[P9]:"fire-fst-compat",[S9]:"fire-vertex","fire-js":"fire-js",[T9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new Map,C9=new Map,qx=new Map;function rT(e,t){try{e.container.addComponent(t)}catch(r){ta.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function eu(e){const t=e.name;if(qx.has(t))return ta.debug(`There were multiple attempts to register component ${t}.`),!1;qx.set(t,e);for(const r of Qp.values())rT(r,e);for(const r of C9.values())rT(r,e);return!0}function O_(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function hi(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lo=new Yd("app","Firebase",O9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=A9;function rD(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Hx,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw lo.create("bad-app-name",{appName:String(i)});if(r||(r=Jj()),!r)throw lo.create("no-options");const a=Qp.get(i);if(a){if(Yp(r,a.options)&&Yp(n,a.config))return a;throw lo.create("duplicate-app",{appName:i})}const o=new VB(i);for(const l of qx.values())o.addComponent(l);const s=new N9(r,n,o);return Qp.set(i,s),s}function nD(e=Hx){const t=Qp.get(e);if(!t&&e===Hx&&Jj())return rD();if(!t)throw lo.create("no-app",{appName:e});return t}function uo(e,t,r){var n;let i=(n=I9[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const s=[`Unable to register library "${i}" with version "${t}":`];a&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&s.push("and"),o&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ta.warn(s.join(" "));return}eu(new bs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="firebase-heartbeat-database",D9=1,pd="firebase-heartbeat-store";let a0=null;function iD(){return a0||(a0=XB(j9,D9,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(pd)}catch(r){console.warn(r)}}}}).catch(e=>{throw lo.create("idb-open",{originalErrorMessage:e.message})})),a0}async function R9(e){try{const r=(await iD()).transaction(pd),n=await r.objectStore(pd).get(aD(e));return await r.done,n}catch(t){if(t instanceof ga)ta.warn(t.message);else{const r=lo.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ta.warn(r.message)}}}async function nT(e,t){try{const n=(await iD()).transaction(pd,"readwrite");await n.objectStore(pd).put(t,aD(e)),await n.done}catch(r){if(r instanceof ga)ta.warn(r.message);else{const n=lo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ta.warn(n.message)}}}function aD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=1024,L9=30*24*60*60*1e3;class V9{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new F9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=iT();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=L9}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ta.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=iT(),{heartbeatsToSend:n,unsentEntries:i}=$9(this._heartbeatsCache.heartbeats),a=Gp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ta.warn(r),""}}}function iT(){return new Date().toISOString().substring(0,10)}function $9(e,t=M9){const r=[];let n=e.slice();for(const i of e){const a=r.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),aT(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),aT(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class F9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PB()?TB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await R9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return nT(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return nT(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function aT(e){return Gp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z9(e){eu(new bs("platform-logger",t=>new e9(t),"PRIVATE")),eu(new bs("heartbeat",t=>new V9(t),"PRIVATE")),uo(Kx,tT,e),uo(Kx,tT,"esm2017"),uo("fire-js","")}z9("");function N_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function oD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const U9=oD,sD=new Yd("auth","Firebase",oD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new I_("@firebase/auth");function B9(e,...t){Xp.logLevel<=Ae.WARN&&Xp.warn(`Auth (${ku}): ${e}`,...t)}function ap(e,...t){Xp.logLevel<=Ae.ERROR&&Xp.error(`Auth (${ku}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e,...t){throw j_(e,...t)}function vi(e,...t){return j_(e,...t)}function lD(e,t,r){const n=Object.assign(Object.assign({},U9()),{[t]:r});return new Yd("auth","Firebase",n).create(t,{appName:e.name})}function Hi(e){return lD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function j_(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return sD.create(e,...t)}function de(e,t,...r){if(!e)throw j_(t,...r)}function Fi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ap(t),new Error(t)}function ra(e,t){e||Fi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function W9(){return oT()==="http:"||oT()==="https:"}function oT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W9()||_B()||"connection"in navigator)?navigator.onLine:!0}function H9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(t,r){this.shortDelay=t,this.longDelay=r,ra(r>t,"Short delay should be less than long delay!"),this.isMobile=xB()||EB()}get(){return K9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e,t){ra(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9=new Xd(3e4,6e4);function va(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ni(e,t,r,n,i={}){return cD(e,i,async()=>{let a={},o={};n&&(t==="GET"?o=n:a={body:JSON.stringify(n)});const s=Qd(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},a);return wB()||(u.referrerPolicy="no-referrer"),uD.fetch()(dD(e,e.config.apiHost,r,s),u)})}async function cD(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},q9),t);try{const i=new Q9(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw wh(e,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const s=a.ok?o.errorMessage:o.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw wh(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw wh(e,"user-disabled",o);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw lD(e,c,u);ei(e,c)}}catch(i){if(i instanceof ga)throw i;ei(e,"network-request-failed",{message:String(i)})}}async function Jd(e,t,r,n,i={}){const a=await ni(e,t,r,n,i);return"mfaPendingCredential"in a&&ei(e,"multi-factor-auth-required",{_serverResponse:a}),a}function dD(e,t,r,n){const i=`${t}${r}?${n}`;return e.config.emulator?D_(e.config,i):`${e.config.apiScheme}://${i}`}function Y9(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Q9{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(vi(this.auth,"network-request-failed")),G9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wh(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=vi(e,t,n);return i.customData._tokenResponse=r,i}function sT(e){return e!==void 0&&e.enterprise!==void 0}class X9{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Y9(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function J9(e,t){return ni(e,"GET","/v2/recaptchaConfig",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(e,t){return ni(e,"POST","/v1/accounts:delete",t)}async function fD(e,t){return ni(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function e8(e,t=!1){const r=yt(e),n=await r.getIdToken(t),i=R_(n);de(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Uc(o0(i.auth_time)),issuedAtTime:Uc(o0(i.iat)),expirationTime:Uc(o0(i.exp)),signInProvider:o||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function o0(e){return Number(e)*1e3}function R_(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return ap("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qj(r);return i?JSON.parse(i):(ap("Failed to decode base64 JWT payload"),null)}catch(i){return ap("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lT(e){const t=R_(e);return de(t,"internal-error"),de(typeof t.exp<"u","internal-error"),de(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ws(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof ga&&t8(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function t8({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jp(e){var t;const r=e.auth,n=await e.getIdToken(),i=await ws(e,fD(r,{idToken:n}));de(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?hD(a.providerUserInfo):[],s=i8(e.providerData,o),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(s!=null&&s.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Yx(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function n8(e){const t=yt(e);await Jp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function i8(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function hD(e){return e.map(t=>{var{providerId:r}=t,n=N_(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(e,t){const r=await cD(e,{},async()=>{const n=Qd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,o=dD(e,i,"/v1/token",`key=${a}`),s=await e._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",uD.fetch()(o,{method:"POST",headers:s,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function o8(e,t){return ni(e,"POST","/v2/accounts:revokeToken",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){de(t.idToken,"internal-error"),de(typeof t.idToken<"u","internal-error"),de(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):lT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){de(t.length!==0,"internal-error");const r=lT(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await a8(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,o=new Rl;return n&&(de(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),i&&(de(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),a&&(de(typeof a=="number","internal-error",{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Rl,this.toJSON())}_performRefresh(){return Fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Na(e,t){de(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class zi{constructor(t){var{uid:r,auth:n,stsTokenManager:i}=t,a=N_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Yx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await ws(this,this.stsTokenManager.getToken(this.auth,t));return de(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return e8(this,t)}reload(){return n8(this)}_assign(t){this!==t&&(de(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new zi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Jp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Hi(this.auth));const t=await this.getIdToken();return await ws(this,Z9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,i,a,o,s,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,h=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,v=(o=r.photoURL)!==null&&o!==void 0?o:void 0,b=(s=r.tenantId)!==null&&s!==void 0?s:void 0,y=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,x=(u=r.createdAt)!==null&&u!==void 0?u:void 0,_=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:k,emailVerified:T,isAnonymous:I,providerData:j,stsTokenManager:E}=r;de(k&&E,t,"internal-error");const S=Rl.fromJSON(this.name,E);de(typeof k=="string",t,"internal-error"),Na(d,t.name),Na(h,t.name),de(typeof T=="boolean",t,"internal-error"),de(typeof I=="boolean",t,"internal-error"),Na(m,t.name),Na(v,t.name),Na(b,t.name),Na(y,t.name),Na(x,t.name),Na(_,t.name);const A=new zi({uid:k,auth:t,email:h,emailVerified:T,displayName:d,isAnonymous:I,photoURL:v,phoneNumber:m,tenantId:b,stsTokenManager:S,createdAt:x,lastLoginAt:_});return j&&Array.isArray(j)&&(A.providerData=j.map(C=>Object.assign({},C))),y&&(A._redirectEventId=y),A}static async _fromIdTokenResponse(t,r,n=!1){const i=new Rl;i.updateFromServerResponse(r);const a=new zi({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Jp(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];de(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?hD(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),s=new Rl;s.updateFromIdToken(n);const l=new zi({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Yx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;function Ui(e){ra(e instanceof Function,"Expected a class definition");let t=uT.get(e);return t?(ra(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,uT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}pD.type="NONE";const cT=pD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(e,t,r){return`firebase:${e}:${t}:${r}`}class Ml{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,a),this.fullPersistenceKey=op("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?zi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Ml(Ui(cT),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Ui(cT);const o=op(n,t.config.apiKey,t.name);let s=null;for(const u of r)try{const c=await u._get(o);if(c){const d=zi._fromJSON(t,c);u!==a&&(s=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Ml(a,t,n):(a=l[0],s&&await a._set(o,s.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(o)}catch{}})),new Ml(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bD(t))return"Blackberry";if(wD(t))return"Webos";if(gD(t))return"Safari";if((t.includes("chrome/")||vD(t))&&!t.includes("edge/"))return"Chrome";if(xD(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function mD(e=jr()){return/firefox\//i.test(e)}function gD(e=jr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vD(e=jr()){return/crios\//i.test(e)}function yD(e=jr()){return/iemobile/i.test(e)}function xD(e=jr()){return/android/i.test(e)}function bD(e=jr()){return/blackberry/i.test(e)}function wD(e=jr()){return/webos/i.test(e)}function M_(e=jr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function s8(e=jr()){var t;return M_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function l8(){return kB()&&document.documentMode===10}function _D(e=jr()){return M_(e)||xD(e)||wD(e)||bD(e)||/windows phone/i.test(e)||yD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(e,t=[]){let r;switch(e){case"Browser":r=dT(jr());break;case"Worker":r=`${dT(jr())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${ku}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((o,s)=>{try{const l=t(a);o(l)}catch(l){s(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c8(e,t={}){return ni(e,"GET","/v2/passwordPolicy",va(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d8=6;class f8{constructor(t){var r,n,i,a;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:d8,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,i,a,o,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h8{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fT(this),this.idTokenSubscription=new fT(this),this.beforeStateQueue=new u8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ui(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await fD(this,{idToken:t}),n=await zi._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(s,s))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,s=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===s)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Jp(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=H9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(Hi(this));const r=t?yt(t):null;return r&&de(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&de(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ui(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await c8(this),r=new f8(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Yd("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await o8(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ui(t)||this._popupRedirectResolver;de(r,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Ui(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let o=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(s,this,"internal-error"),s.then(()=>{o||a(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,i);return()=>{o=!0,l()}}else{const l=t.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ED(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&B9(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function zs(e){return yt(e)}class fT{constructor(t){this.auth=t,this.observer=null,this.addObserver=NB(r=>this.observer=r)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p8(e){Dg=e}function kD(e){return Dg.loadJS(e)}function m8(){return Dg.recaptchaEnterpriseScript}function g8(){return Dg.gapiScript}function v8(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const y8="recaptcha-enterprise",x8="NO_RECAPTCHA";class b8{constructor(t){this.type=y8,this.auth=zs(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,s)=>{J9(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new X9(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,o(u.siteKey)}}).catch(l=>{s(l)})})}function i(a,o,s){const l=window.grecaptcha;sT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{o(u)}).catch(()=>{o(x8)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,o)=>{n(this.auth).then(s=>{if(!r&&sT(window.grecaptcha))i(s,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=m8();l.length!==0&&(l+=s),kD(l).then(()=>{i(s,a,o)}).catch(u=>{o(u)})}}).catch(s=>{o(s)})})}}async function hT(e,t,r,n=!1){const i=new b8(e);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const o=Object.assign({},t);return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qx(e,t,r,n){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await hT(e,t,r,r==="getOobCode");return n(e,a)}else return n(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hT(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w8(e,t){const r=O_(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Yp(a,t??{}))return i;ei(i,"already-initialized")}return r.initialize({options:t})}function _8(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Ui);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function E8(e,t,r){const n=zs(e);de(n._canInitEmulator,n,"emulator-config-failed"),de(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=SD(t),{host:o,port:s}=k8(t),l=s===null?"":`:${s}`;n.config.emulator={url:`${a}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),S8()}function SD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function k8(e){const t=SD(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:pT(n.substr(a.length+1))}}else{const[a,o]=n.split(":");return{host:a,port:pT(o)}}}function pT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function S8(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Fi("not implemented")}_getIdTokenResponse(t){return Fi("not implemented")}_linkToIdToken(t,r){return Fi("not implemented")}_getReauthenticationResolver(t){return Fi("not implemented")}}async function P8(e,t){return ni(e,"POST","/v1/accounts:update",t)}async function T8(e,t){return ni(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(e,t){return Jd(e,"POST","/v1/accounts:signInWithPassword",va(e,t))}async function I8(e,t){return ni(e,"POST","/v1/accounts:sendOobCode",va(e,t))}async function C8(e,t){return I8(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(e,t){return Jd(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}async function N8(e,t){return Jd(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md extends L_{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new md(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new md(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qx(t,r,"signInWithPassword",A8);case"emailLink":return O8(t,{email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qx(t,n,"signUpPassword",T8);case"emailLink":return N8(t,{idToken:r,email:this._email,oobCode:this._password});default:ei(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(e,t){return Jd(e,"POST","/v1/accounts:signInWithIdp",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8="http://localhost";class _s extends L_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new _s(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):ei("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=r,a=N_(r,["providerId","signInMethod"]);if(!n||!i)return null;const o=new _s(n,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(t){const r=this.buildRequest();return Ll(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Ll(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Ll(t,r)}buildRequest(){const t={requestUri:j8,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Qd(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D8(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R8(e){const t=kc(Sc(e)).link,r=t?kc(Sc(t)).deep_link_id:null,n=kc(Sc(e)).deep_link_id;return(n?kc(Sc(n)).link:null)||n||r||t||e}class V_{constructor(t){var r,n,i,a,o,s;const l=kc(Sc(t)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=D8((i=l.mode)!==null&&i!==void 0?i:null);de(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(t){const r=R8(t);try{return new V_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.providerId=Us.PROVIDER_ID}static credential(t,r){return md._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=V_.parseLink(r);return de(n,"argument-error"),md._fromEmailAndCode(t,n.code,n.tenantId)}}Us.PROVIDER_ID="password";Us.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Us.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends PD{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Zd{constructor(){super("facebook.com")}static credential(t){return _s._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fa.credentialFromTaggedObject(t)}static credentialFromError(t){return Fa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fa.credential(t.oauthAccessToken)}catch{return null}}}Fa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends Zd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return _s._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return za.credential(r,n)}catch{return null}}}za.GOOGLE_SIGN_IN_METHOD="google.com";za.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Zd{constructor(){super("github.com")}static credential(t){return _s._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ua.credentialFromTaggedObject(t)}static credentialFromError(t){return Ua.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ua.credential(t.oauthAccessToken)}catch{return null}}}Ua.GITHUB_SIGN_IN_METHOD="github.com";Ua.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Zd{constructor(){super("twitter.com")}static credential(t,r){return _s._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ba.credentialFromTaggedObject(t)}static credentialFromError(t){return Ba.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Ba.credential(r,n)}catch{return null}}}Ba.TWITTER_SIGN_IN_METHOD="twitter.com";Ba.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M8(e,t){return Jd(e,"POST","/v1/accounts:signUp",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await zi._fromIdTokenResponse(t,n,i),o=mT(n);return new Es({user:a,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=mT(n);return new Es({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function mT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends ga{constructor(t,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Zp.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new Zp(t,r,n,i)}}function TD(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Zp._fromErrorAndOperation(e,a,t,n):a})}async function L8(e,t,r=!1){const n=await ws(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return Es._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(e,t,r=!1){const{auth:n}=e;if(hi(n.app))return Promise.reject(Hi(n));const i="reauthenticate";try{const a=await ws(e,TD(n,i,t,e),r);de(a.idToken,n,"internal-error");const o=R_(a.idToken);de(o,n,"internal-error");const{sub:s}=o;return de(e.uid===s,n,"user-mismatch"),Es._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ei(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(e,t,r=!1){if(hi(e.app))return Promise.reject(Hi(e));const n="signIn",i=await TD(e,n,t),a=await Es._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function V8(e,t){return ID(zs(e),t)}async function $8(e,t){return AD(yt(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(e){const t=zs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function F8(e,t,r){if(hi(e.app))return Promise.reject(Hi(e));const n=zs(e),o=await Qx(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&CD(e),l}),s=await Es._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(s.user),s}function z8(e,t,r){return hi(e.app)?Promise.reject(Hi(e)):V8(yt(e),Us.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&CD(e),n})}async function OD(e,t){const r=yt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:a}=await C8(r.auth,i);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(e,t){return ni(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B8(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=yt(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},o=await ws(n,U8(n.auth,a));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const s=n.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=n.displayName,s.photoURL=n.photoURL),await n._updateTokensIfNecessary(o)}function W8(e,t){return K8(yt(e),null,t)}async function K8(e,t,r){const{auth:n}=e,a={idToken:await e.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const o=await ws(e,P8(n,a));await e._updateTokensIfNecessary(o,!0)}function H8(e,t,r,n){return yt(e).onIdTokenChanged(t,r,n)}function q8(e,t,r){return yt(e).beforeAuthStateChanged(t,r)}function G8(e,t,r,n){return yt(e).onAuthStateChanged(t,r,n)}function ND(e){return yt(e).signOut()}const em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(em,"1"),this.storage.removeItem(em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y8=1e3,Q8=10;class DD extends jD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_D(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((o,s,l)=>{this.notifyListeners(o,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},a=this.storage.getItem(n);l8()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Q8):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},Y8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}DD.type="LOCAL";const X8=DD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD extends jD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}RD.type="SESSION";const MD=RD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J8(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new Rg(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const s=Array.from(o).map(async u=>u(r.origin,a)),l=await J8(s);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((s,l)=>{const u=$_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),s(h.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function e7(e){yi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function t7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function r7(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function n7(){return LD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebaseLocalStorageDb",i7=1,tm="firebaseLocalStorage",$D="fbase_key";class ef{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Mg(e,t){return e.transaction([tm],t?"readwrite":"readonly").objectStore(tm)}function a7(){const e=indexedDB.deleteDatabase(VD);return new ef(e).toPromise()}function Xx(){const e=indexedDB.open(VD,i7);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(tm,{keyPath:$D})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(tm)?t(n):(n.close(),await a7(),t(await Xx()))})})}async function gT(e,t,r){const n=Mg(e,!0).put({[$D]:t,value:r});return new ef(n).toPromise()}async function o7(e,t){const r=Mg(e,!1).get(t),n=await new ef(r).toPromise();return n===void 0?null:n.value}function vT(e,t){const r=Mg(e,!0).delete(t);return new ef(r).toPromise()}const s7=800,l7=3;class FD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xx(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>l7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rg._getInstance(n7()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await t7(),!this.activeServiceWorker)return;this.sender=new Z8(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||r7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Xx();return await gT(t,em,"1"),await vT(t,em),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>gT(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>o7(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>vT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=Mg(i,!1).getAll();return new ef(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),s7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FD.type="LOCAL";const u7=FD;new Xd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c7(e,t){return t?Ui(t):(de(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends L_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ll(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Ll(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Ll(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function d7(e){return ID(e.auth,new F_(e),e.bypassAuthState)}function f7(e){const{auth:t,user:r}=e;return de(r,t,"internal-error"),AD(r,new F_(e),e.bypassAuthState)}async function h7(e){const{auth:t,user:r}=e;return de(r,t,"internal-error"),L8(r,new F_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:o,type:s}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return d7;case"linkViaPopup":case"linkViaRedirect":return h7;case"reauthViaPopup":case"reauthViaRedirect":return f7;default:ei(this.auth,"internal-error")}}resolve(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p7=new Xd(2e3,1e4);class El extends zD{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,El.currentPopupAction&&El.currentPopupAction.cancel(),El.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return de(t,this.auth,"internal-error"),t}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const t=$_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,El.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,p7.get())};t()}}El.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7="pendingRedirect",sp=new Map;class g7 extends zD{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=sp.get(this.auth._key());if(!t){try{const n=await v7(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}sp.set(this.auth._key(),t)}return this.bypassAuthState||sp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function v7(e,t){const r=b7(t),n=x7(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function y7(e,t){sp.set(e._key(),t)}function x7(e){return Ui(e._redirectPersistence)}function b7(e){return op(m7,e.config.apiKey,e.name)}async function w7(e,t,r=!1){if(hi(e.app))return Promise.reject(Hi(e));const n=zs(e),i=c7(n,t),o=await new g7(n,i,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _7=10*60*1e3;class E7{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!k7(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!UD(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(vi(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=_7&&this.cachedEventUids.clear(),this.cachedEventUids.has(yT(t))}saveEventToCache(t){this.cachedEventUids.add(yT(t)),this.lastProcessedEventTime=Date.now()}}function yT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function UD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function k7(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S7(e,t={}){return ni(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T7=/^https?/;async function A7(e){if(e.config.emulator)return;const{authorizedDomains:t}=await S7(e);for(const r of t)try{if(I7(r))return}catch{}ei(e,"unauthorized-domain")}function I7(e){const t=Gx(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!T7.test(r))return!1;if(P7.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=new Xd(3e4,6e4);function xT(){const e=yi().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function O7(e){return new Promise((t,r)=>{var n,i,a;function o(){xT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xT(),r(vi(e,"network-request-failed"))},timeout:C7.get()})}if(!((i=(n=yi().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((a=yi().gapi)===null||a===void 0)&&a.load)o();else{const s=v8("iframefcb");return yi()[s]=()=>{gapi.load?o():r(vi(e,"network-request-failed"))},kD(`${g8()}?onload=${s}`).catch(l=>r(l))}}).catch(t=>{throw lp=null,t})}let lp=null;function N7(e){return lp=lp||O7(e),lp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7=new Xd(5e3,15e3),D7="__/auth/iframe",R7="emulator/auth/iframe",M7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V7(e){const t=e.config;de(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?D_(t,R7):`https://${e.config.authDomain}/${D7}`,n={apiKey:t.apiKey,appName:e.name,v:ku},i=L7.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Qd(n).slice(1)}`}async function $7(e){const t=await N7(e),r=yi().gapi;return de(r,e,"internal-error"),t.open({where:document.body,url:V7(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M7,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const o=vi(e,"network-request-failed"),s=yi().setTimeout(()=>{a(o)},j7.get());function l(){yi().clearTimeout(s),i(n)}n.ping(l).then(l,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z7=500,U7=600,B7="_blank",W7="http://localhost";class bT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function K7(e,t,r,n=z7,i=U7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let s="";const l=Object.assign(Object.assign({},F7),{width:n.toString(),height:i.toString(),top:a,left:o}),u=jr().toLowerCase();r&&(s=vD(u)?B7:r),mD(u)&&(t=t||W7,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[m,v])=>`${h}${m}=${v},`,"");if(s8(u)&&s!=="_self")return H7(t||"",s),new bT(null);const d=window.open(t||"",s,c);de(d,e,"popup-blocked");try{d.focus()}catch{}return new bT(d)}function H7(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7="__/auth/handler",G7="emulator/auth/handler",Y7=encodeURIComponent("fac");async function wT(e,t,r,n,i,a){de(e.config.authDomain,e,"auth-domain-config-required"),de(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:ku,eventId:i};if(t instanceof PD){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",OB(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(t instanceof Zd){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${Y7}=${encodeURIComponent(l)}`:"";return`${Q7(e)}?${Qd(s).slice(1)}${u}`}function Q7({config:e}){return e.emulator?D_(e,G7):`https://${e.authDomain}/${q7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="webStorageSupport";class X7{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MD,this._completeRedirectFn=w7,this._overrideRedirectResult=y7}async _openPopup(t,r,n,i){var a;ra((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const o=await wT(t,r,n,Gx(),i);return K7(t,o,$_())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await wT(t,r,n,Gx(),i);return e7(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(ra(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await $7(t),n=new E7(t);return r.register("authEvent",i=>(de(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(s0,{type:s0},i=>{var a;const o=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[s0];o!==void 0&&r(!!o),ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=A7(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return _D()||gD()||M_()}}const J7=X7;var _T="@firebase/auth",ET="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tW(e){eu(new bs("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=n.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ED(e)},u=new h8(n,i,a,l);return _8(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),eu(new bs("auth-internal",t=>{const r=zs(t.getProvider("auth").getImmediate());return(n=>new Z7(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),uo(_T,ET,eW(e)),uo(_T,ET,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rW=5*60,nW=Zj("authIdTokenMaxAge")||rW;let kT=null;const iW=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>nW)return;const i=r==null?void 0:r.token;kT!==i&&(kT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function aW(e=nD()){const t=O_(e,"auth");if(t.isInitialized())return t.getImmediate();const r=w8(e,{popupRedirectResolver:J7,persistence:[u7,X8,MD]}),n=Zj("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const o=iW(a.toString());q8(r,o,()=>o(r.currentUser)),H8(r,s=>o(s))}}const i=Xj("auth");return i&&E8(r,`http://${i}`),r}function oW(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}p8({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=vi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",oW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tW("Browser");var sW="firebase",lW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo(sW,lW,"app");var ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,BD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,S){function A(){}A.prototype=S.prototype,E.D=S.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(C,N,O){for(var D=Array(arguments.length-2),F=2;F<arguments.length;F++)D[F-2]=arguments[F];return S.prototype[N].apply(C,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,S,A){A||(A=0);var C=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)C[N]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(N=0;16>N;++N)C[N]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=E.g[0],A=E.g[1],N=E.g[2];var O=E.g[3],D=S+(O^A&(N^O))+C[0]+3614090360&4294967295;S=A+(D<<7&4294967295|D>>>25),D=O+(N^S&(A^N))+C[1]+3905402710&4294967295,O=S+(D<<12&4294967295|D>>>20),D=N+(A^O&(S^A))+C[2]+606105819&4294967295,N=O+(D<<17&4294967295|D>>>15),D=A+(S^N&(O^S))+C[3]+3250441966&4294967295,A=N+(D<<22&4294967295|D>>>10),D=S+(O^A&(N^O))+C[4]+4118548399&4294967295,S=A+(D<<7&4294967295|D>>>25),D=O+(N^S&(A^N))+C[5]+1200080426&4294967295,O=S+(D<<12&4294967295|D>>>20),D=N+(A^O&(S^A))+C[6]+2821735955&4294967295,N=O+(D<<17&4294967295|D>>>15),D=A+(S^N&(O^S))+C[7]+4249261313&4294967295,A=N+(D<<22&4294967295|D>>>10),D=S+(O^A&(N^O))+C[8]+1770035416&4294967295,S=A+(D<<7&4294967295|D>>>25),D=O+(N^S&(A^N))+C[9]+2336552879&4294967295,O=S+(D<<12&4294967295|D>>>20),D=N+(A^O&(S^A))+C[10]+4294925233&4294967295,N=O+(D<<17&4294967295|D>>>15),D=A+(S^N&(O^S))+C[11]+2304563134&4294967295,A=N+(D<<22&4294967295|D>>>10),D=S+(O^A&(N^O))+C[12]+1804603682&4294967295,S=A+(D<<7&4294967295|D>>>25),D=O+(N^S&(A^N))+C[13]+4254626195&4294967295,O=S+(D<<12&4294967295|D>>>20),D=N+(A^O&(S^A))+C[14]+2792965006&4294967295,N=O+(D<<17&4294967295|D>>>15),D=A+(S^N&(O^S))+C[15]+1236535329&4294967295,A=N+(D<<22&4294967295|D>>>10),D=S+(N^O&(A^N))+C[1]+4129170786&4294967295,S=A+(D<<5&4294967295|D>>>27),D=O+(A^N&(S^A))+C[6]+3225465664&4294967295,O=S+(D<<9&4294967295|D>>>23),D=N+(S^A&(O^S))+C[11]+643717713&4294967295,N=O+(D<<14&4294967295|D>>>18),D=A+(O^S&(N^O))+C[0]+3921069994&4294967295,A=N+(D<<20&4294967295|D>>>12),D=S+(N^O&(A^N))+C[5]+3593408605&4294967295,S=A+(D<<5&4294967295|D>>>27),D=O+(A^N&(S^A))+C[10]+38016083&4294967295,O=S+(D<<9&4294967295|D>>>23),D=N+(S^A&(O^S))+C[15]+3634488961&4294967295,N=O+(D<<14&4294967295|D>>>18),D=A+(O^S&(N^O))+C[4]+3889429448&4294967295,A=N+(D<<20&4294967295|D>>>12),D=S+(N^O&(A^N))+C[9]+568446438&4294967295,S=A+(D<<5&4294967295|D>>>27),D=O+(A^N&(S^A))+C[14]+3275163606&4294967295,O=S+(D<<9&4294967295|D>>>23),D=N+(S^A&(O^S))+C[3]+4107603335&4294967295,N=O+(D<<14&4294967295|D>>>18),D=A+(O^S&(N^O))+C[8]+1163531501&4294967295,A=N+(D<<20&4294967295|D>>>12),D=S+(N^O&(A^N))+C[13]+2850285829&4294967295,S=A+(D<<5&4294967295|D>>>27),D=O+(A^N&(S^A))+C[2]+4243563512&4294967295,O=S+(D<<9&4294967295|D>>>23),D=N+(S^A&(O^S))+C[7]+1735328473&4294967295,N=O+(D<<14&4294967295|D>>>18),D=A+(O^S&(N^O))+C[12]+2368359562&4294967295,A=N+(D<<20&4294967295|D>>>12),D=S+(A^N^O)+C[5]+4294588738&4294967295,S=A+(D<<4&4294967295|D>>>28),D=O+(S^A^N)+C[8]+2272392833&4294967295,O=S+(D<<11&4294967295|D>>>21),D=N+(O^S^A)+C[11]+1839030562&4294967295,N=O+(D<<16&4294967295|D>>>16),D=A+(N^O^S)+C[14]+4259657740&4294967295,A=N+(D<<23&4294967295|D>>>9),D=S+(A^N^O)+C[1]+2763975236&4294967295,S=A+(D<<4&4294967295|D>>>28),D=O+(S^A^N)+C[4]+1272893353&4294967295,O=S+(D<<11&4294967295|D>>>21),D=N+(O^S^A)+C[7]+4139469664&4294967295,N=O+(D<<16&4294967295|D>>>16),D=A+(N^O^S)+C[10]+3200236656&4294967295,A=N+(D<<23&4294967295|D>>>9),D=S+(A^N^O)+C[13]+681279174&4294967295,S=A+(D<<4&4294967295|D>>>28),D=O+(S^A^N)+C[0]+3936430074&4294967295,O=S+(D<<11&4294967295|D>>>21),D=N+(O^S^A)+C[3]+3572445317&4294967295,N=O+(D<<16&4294967295|D>>>16),D=A+(N^O^S)+C[6]+76029189&4294967295,A=N+(D<<23&4294967295|D>>>9),D=S+(A^N^O)+C[9]+3654602809&4294967295,S=A+(D<<4&4294967295|D>>>28),D=O+(S^A^N)+C[12]+3873151461&4294967295,O=S+(D<<11&4294967295|D>>>21),D=N+(O^S^A)+C[15]+530742520&4294967295,N=O+(D<<16&4294967295|D>>>16),D=A+(N^O^S)+C[2]+3299628645&4294967295,A=N+(D<<23&4294967295|D>>>9),D=S+(N^(A|~O))+C[0]+4096336452&4294967295,S=A+(D<<6&4294967295|D>>>26),D=O+(A^(S|~N))+C[7]+1126891415&4294967295,O=S+(D<<10&4294967295|D>>>22),D=N+(S^(O|~A))+C[14]+2878612391&4294967295,N=O+(D<<15&4294967295|D>>>17),D=A+(O^(N|~S))+C[5]+4237533241&4294967295,A=N+(D<<21&4294967295|D>>>11),D=S+(N^(A|~O))+C[12]+1700485571&4294967295,S=A+(D<<6&4294967295|D>>>26),D=O+(A^(S|~N))+C[3]+2399980690&4294967295,O=S+(D<<10&4294967295|D>>>22),D=N+(S^(O|~A))+C[10]+4293915773&4294967295,N=O+(D<<15&4294967295|D>>>17),D=A+(O^(N|~S))+C[1]+2240044497&4294967295,A=N+(D<<21&4294967295|D>>>11),D=S+(N^(A|~O))+C[8]+1873313359&4294967295,S=A+(D<<6&4294967295|D>>>26),D=O+(A^(S|~N))+C[15]+4264355552&4294967295,O=S+(D<<10&4294967295|D>>>22),D=N+(S^(O|~A))+C[6]+2734768916&4294967295,N=O+(D<<15&4294967295|D>>>17),D=A+(O^(N|~S))+C[13]+1309151649&4294967295,A=N+(D<<21&4294967295|D>>>11),D=S+(N^(A|~O))+C[4]+4149444226&4294967295,S=A+(D<<6&4294967295|D>>>26),D=O+(A^(S|~N))+C[11]+3174756917&4294967295,O=S+(D<<10&4294967295|D>>>22),D=N+(S^(O|~A))+C[2]+718787259&4294967295,N=O+(D<<15&4294967295|D>>>17),D=A+(O^(N|~S))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,E.g[2]=E.g[2]+N&4294967295,E.g[3]=E.g[3]+O&4294967295}n.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var A=S-this.blockSize,C=this.B,N=this.h,O=0;O<S;){if(N==0)for(;O<=A;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<S;)if(C[N++]=E.charCodeAt(O++),N==this.blockSize){i(this,C),N=0;break}}else for(;O<S;)if(C[N++]=E[O++],N==this.blockSize){i(this,C),N=0;break}}this.h=N,this.o+=S},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var A=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=A&255,A/=256;for(this.u(E),E=Array(16),S=A=0;4>S;++S)for(var C=0;32>C;C+=8)E[A++]=this.g[S]>>>C&255;return E};function a(E,S){var A=s;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=S(E)}function o(E,S){this.h=S;for(var A=[],C=!0,N=E.length-1;0<=N;N--){var O=E[N]|0;C&&O==S||(A[N]=O,C=!1)}this.g=A}var s={};function l(E){return-128<=E&&128>E?a(E,function(S){return new o([S|0],0>S?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return d;if(0>E)return y(u(-E));for(var S=[],A=1,C=0;E>=A;C++)S[C]=E/A|0,A*=4294967296;return new o(S,0)}function c(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return y(c(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=u(Math.pow(S,8)),C=d,N=0;N<E.length;N+=8){var O=Math.min(8,E.length-N),D=parseInt(E.substring(N,N+O),S);8>O?(O=u(Math.pow(S,O)),C=C.j(O).add(u(D))):(C=C.j(A),C=C.add(u(D)))}return C}var d=l(0),h=l(1),m=l(16777216);e=o.prototype,e.m=function(){if(b(this))return-y(this).m();for(var E=0,S=1,A=0;A<this.g.length;A++){var C=this.i(A);E+=(0<=C?C:4294967296+C)*S,S*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(b(this))return"-"+y(this).toString(E);for(var S=u(Math.pow(E,6)),A=this,C="";;){var N=T(A,S).g;A=x(A,N.j(S));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=N,v(A))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function b(E){return E.h==-1}e.l=function(E){return E=x(this,E),b(E)?-1:v(E)?0:1};function y(E){for(var S=E.g.length,A=[],C=0;C<S;C++)A[C]=~E.g[C];return new o(A,~E.h).add(h)}e.abs=function(){return b(this)?y(this):this},e.add=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],C=0,N=0;N<=S;N++){var O=C+(this.i(N)&65535)+(E.i(N)&65535),D=(O>>>16)+(this.i(N)>>>16)+(E.i(N)>>>16);C=D>>>16,O&=65535,D&=65535,A[N]=D<<16|O}return new o(A,A[A.length-1]&-2147483648?-1:0)};function x(E,S){return E.add(y(S))}e.j=function(E){if(v(this)||v(E))return d;if(b(this))return b(E)?y(this).j(y(E)):y(y(this).j(E));if(b(E))return y(this.j(y(E)));if(0>this.l(m)&&0>E.l(m))return u(this.m()*E.m());for(var S=this.g.length+E.g.length,A=[],C=0;C<2*S;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<E.g.length;N++){var O=this.i(C)>>>16,D=this.i(C)&65535,F=E.i(N)>>>16,G=E.i(N)&65535;A[2*C+2*N]+=D*G,_(A,2*C+2*N),A[2*C+2*N+1]+=O*G,_(A,2*C+2*N+1),A[2*C+2*N+1]+=D*F,_(A,2*C+2*N+1),A[2*C+2*N+2]+=O*F,_(A,2*C+2*N+2)}for(C=0;C<S;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=S;C<2*S;C++)A[C]=0;return new o(A,0)};function _(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function k(E,S){this.g=E,this.h=S}function T(E,S){if(v(S))throw Error("division by zero");if(v(E))return new k(d,d);if(b(E))return S=T(y(E),S),new k(y(S.g),y(S.h));if(b(S))return S=T(E,y(S)),new k(y(S.g),S.h);if(30<E.g.length){if(b(E)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,C=S;0>=C.l(E);)A=I(A),C=I(C);var N=j(A,1),O=j(C,1);for(C=j(C,2),A=j(A,2);!v(C);){var D=O.add(C);0>=D.l(E)&&(N=N.add(A),O=D),C=j(C,1),A=j(A,1)}return S=x(E,N.j(S)),new k(N,S)}for(N=d;0<=E.l(S);){for(A=Math.max(1,Math.floor(E.m()/S.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=u(A),D=O.j(S);b(D)||0<D.l(E);)A-=C,O=u(A),D=O.j(S);v(O)&&(O=h),N=N.add(O),E=x(E,D)}return new k(N,E)}e.A=function(E){return T(this,E).h},e.and=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)&E.i(C);return new o(A,this.h&E.h)},e.or=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)|E.i(C);return new o(A,this.h|E.h)},e.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],C=0;C<S;C++)A[C]=this.i(C)^E.i(C);return new o(A,this.h^E.h)};function I(E){for(var S=E.g.length+1,A=[],C=0;C<S;C++)A[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(A,E.h)}function j(E,S){var A=S>>5;S%=32;for(var C=E.g.length-A,N=[],O=0;O<C;O++)N[O]=0<S?E.i(O+A)>>>S|E.i(O+A+1)<<32-S:E.i(O+A);return new o(N,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,BD=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=c,ls=o}).apply(typeof ST<"u"?ST:typeof self<"u"?self:typeof window<"u"?window:{});var _h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WD,Pc,KD,up,Jx,HD,qD,GD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,P){return f==Array.prototype||f==Object.prototype||(f[w]=P.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _h=="object"&&_h];for(var w=0;w<f.length;++w){var P=f[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(f,w){if(w)e:{var P=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var L=f[R];if(!(L in P))break e;P=P[L]}f=f[f.length-1],R=P[f],w=w(R),w!=R&&w!=null&&t(P,f,{configurable:!0,writable:!0,value:w})}}function a(f,w){f instanceof String&&(f+="");var P=0,R=!1,L={next:function(){if(!R&&P<f.length){var U=P++;return{value:w(U,f[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(f){return f||function(){return a(this,function(w,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function u(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,P){return f.call.apply(f.bind,arguments)}function d(f,w,P){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,R),f.apply(w,L)}}return function(){return f.apply(w,arguments)}}function h(f,w,P){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,h.apply(null,arguments)}function m(f,w){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,w){function P(){}P.prototype=w.prototype,f.aa=w.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(R,L,U){for(var J=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)J[Ke-2]=arguments[Ke];return w.prototype[L].apply(R,J)}}function b(f){const w=f.length;if(0<w){const P=Array(w);for(let R=0;R<w;R++)P[R]=f[R];return P}return[]}function y(f,w){for(let P=1;P<arguments.length;P++){const R=arguments[P];if(l(R)){const L=f.length||0,U=R.length||0;f.length=L+U;for(let J=0;J<U;J++)f[L+J]=R[J]}else f.push(R)}}class x{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(f){return/^[\s\xa0]*$/.test(f)}function k(){var f=s.navigator;return f&&(f=f.userAgent)?f:""}function T(f){return T[" "](f),f}T[" "]=function(){};var I=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function j(f,w,P){for(const R in f)w.call(P,f[R],R,f)}function E(f,w){for(const P in f)w.call(void 0,f[P],P,f)}function S(f){const w={};for(const P in f)w[P]=f[P];return w}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(f,w){let P,R;for(let L=1;L<arguments.length;L++){R=arguments[L];for(P in R)f[P]=R[P];for(let U=0;U<A.length;U++)P=A[U],Object.prototype.hasOwnProperty.call(R,P)&&(f[P]=R[P])}}function N(f){var w=1;f=f.split(":");const P=[];for(;0<w&&f.length;)P.push(f.shift()),w--;return f.length&&P.push(f.join(":")),P}function O(f){s.setTimeout(()=>{throw f},0)}function D(){var f=B;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class F{constructor(){this.h=this.g=null}add(w,P){const R=G.get();R.set(w,P),this.h?this.h.next=R:this.g=R,this.h=R}}var G=new x(()=>new M,f=>f.reset());class M{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let H,$=!1,B=new F,X=()=>{const f=s.Promise.resolve(void 0);H=()=>{f.then(oe)}};var oe=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(P){O(P)}var w=G;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};s.addEventListener("test",P,w),s.removeEventListener("test",P,w)}catch{}return f}();function ct(f,w){if(ye.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(I){e:{try{T(w.nodeName);var L=!0;break e}catch{}L=!1}L||(w=null)}}else P=="mouseover"?w=f.fromElement:P=="mouseout"&&(w=f.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:wt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&ct.aa.h.call(this)}}v(ct,ye);var wt={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),an=0;function K(f,w,P,R,L){this.listener=f,this.proxy=null,this.src=w,this.type=P,this.capture=!!R,this.ha=L,this.key=++an,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ge(f){this.src=f,this.g={},this.h=0}ge.prototype.add=function(f,w,P,R,L){var U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);var J=it(f,w,R,L);return-1<J?(w=f[J],P||(w.fa=!1)):(w=new K(w,this.src,U,!!R,L),w.fa=P,f.push(w)),w};function q(f,w){var P=w.type;if(P in f.g){var R=f.g[P],L=Array.prototype.indexOf.call(R,w,void 0),U;(U=0<=L)&&Array.prototype.splice.call(R,L,1),U&&(fe(w),f.g[P].length==0&&(delete f.g[P],f.h--))}}function it(f,w,P,R){for(var L=0;L<f.length;++L){var U=f[L];if(!U.da&&U.listener==w&&U.capture==!!P&&U.ha==R)return L}return-1}var ue="closure_lm_"+(1e6*Math.random()|0),ze={};function Me(f,w,P,R,L){if(Array.isArray(w)){for(var U=0;U<w.length;U++)Me(f,w[U],P,R,L);return null}return P=Nt(P),f&&f[Se]?f.K(w,P,u(R)?!!R.capture:!1,L):xr(f,w,P,!1,R,L)}function xr(f,w,P,R,L,U){if(!w)throw Error("Invalid event type");var J=u(L)?!!L.capture:!!L,Ke=_e(f);if(Ke||(f[ue]=Ke=new ge(f)),P=Ke.add(w,P,R,J,U),P.proxy)return P;if(R=wn(),P.proxy=R,R.src=f,R.listener=P,f.addEventListener)Ne||(L=J),L===void 0&&(L=!1),f.addEventListener(w.toString(),R,L);else if(f.attachEvent)f.attachEvent(se(w.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function wn(){function f(P){return w.call(f.src,f.listener,P)}const w=Ee;return f}function Do(f,w,P,R,L){if(Array.isArray(w))for(var U=0;U<w.length;U++)Do(f,w[U],P,R,L);else R=u(R)?!!R.capture:!!R,P=Nt(P),f&&f[Se]?(f=f.i,w=String(w).toString(),w in f.g&&(U=f.g[w],P=it(U,P,R,L),-1<P&&(fe(U[P]),Array.prototype.splice.call(U,P,1),U.length==0&&(delete f.g[w],f.h--)))):f&&(f=_e(f))&&(w=f.g[w.toString()],f=-1,w&&(f=it(w,P,R,L)),(P=-1<f?w[f]:null)&&z(P))}function z(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Se])q(w.i,f);else{var P=f.type,R=f.proxy;w.removeEventListener?w.removeEventListener(P,R,f.capture):w.detachEvent?w.detachEvent(se(P),R):w.addListener&&w.removeListener&&w.removeListener(R),(P=_e(w))?(q(P,f),P.h==0&&(P.src=null,w[ue]=null)):fe(f)}}}function se(f){return f in ze?ze[f]:ze[f]="on"+f}function Ee(f,w){if(f.da)f=!0;else{w=new ct(w,this);var P=f.listener,R=f.ha||f.src;f.fa&&z(f),f=P.call(R,w)}return f}function _e(f){return f=f[ue],f instanceof ge?f:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nt(f){return typeof f=="function"?f:(f[be]||(f[be]=function(w){return f.handleEvent(w)}),f[be])}function ve(){ne.call(this),this.i=new ge(this),this.M=this,this.F=null}v(ve,ne),ve.prototype[Se]=!0,ve.prototype.removeEventListener=function(f,w,P,R){Do(this,f,w,P,R)};function Ue(f,w){var P,R=f.F;if(R)for(P=[];R;R=R.F)P.push(R);if(f=f.M,R=w.type||w,typeof w=="string")w=new ye(w,f);else if(w instanceof ye)w.target=w.target||f;else{var L=w;w=new ye(R,f),C(w,L)}if(L=!0,P)for(var U=P.length-1;0<=U;U--){var J=w.g=P[U];L=sr(J,R,!0,w)&&L}if(J=w.g=f,L=sr(J,R,!0,w)&&L,L=sr(J,R,!1,w)&&L,P)for(U=0;U<P.length;U++)J=w.g=P[U],L=sr(J,R,!1,w)&&L}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var P=f.g[w],R=0;R<P.length;R++)fe(P[R]);delete f.g[w],f.h--}}this.F=null},ve.prototype.K=function(f,w,P,R){return this.i.add(String(f),w,!1,P,R)},ve.prototype.L=function(f,w,P,R){return this.i.add(String(f),w,!0,P,R)};function sr(f,w,P,R){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var L=!0,U=0;U<w.length;++U){var J=w[U];if(J&&!J.da&&J.capture==P){var Ke=J.listener,lr=J.ha||J.src;J.fa&&q(f.i,J),L=Ke.call(lr,R)!==!1&&L}}return L&&!R.defaultPrevented}function Rr(f,w,P){if(typeof f=="function")P&&(f=h(f,P));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:s.setTimeout(f,w||0)}function zn(f){f.g=Rr(()=>{f.g=null,f.i&&(f.i=!1,zn(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class Aa extends ne{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:zn(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _n(f){ne.call(this),this.h=f,this.g={}}v(_n,ne);var Ro=[];function zu(f){j(f.g,function(w,P){this.g.hasOwnProperty(P)&&z(w)},f),f.g={}}_n.prototype.N=function(){_n.aa.N.call(this),zu(this)},_n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uu=s.JSON.stringify,$f=s.JSON.parse,Ff=class{stringify(f){return s.JSON.stringify(f,void 0)}parse(f){return s.JSON.parse(f,void 0)}};function Mo(){}Mo.prototype.h=null;function zf(f){return f.h||(f.h=f.i())}function Bu(){}var Lo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xs(){ye.call(this,"d")}v(Xs,ye);function Qt(){ye.call(this,"c")}v(Qt,ye);var _t={},Vo=null;function Be(){return Vo=Vo||new ve}_t.La="serverreachability";function on(f){ye.call(this,_t.La,f)}v(on,ye);function $o(f){const w=Be();Ue(w,new on(w))}_t.STAT_EVENT="statevent";function Js(f,w){ye.call(this,_t.STAT_EVENT,f),this.stat=w}v(Js,ye);function Xt(f){const w=Be();Ue(w,new Js(w,f))}_t.Ma="timingevent";function Wu(f,w){ye.call(this,_t.Ma,f),this.size=w}v(Wu,ye);function Ai(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){f()},w)}function ai(){this.g=!0}ai.prototype.xa=function(){this.g=!1};function Ku(f,w,P,R,L,U){f.info(function(){if(f.g)if(U)for(var J="",Ke=U.split("&"),lr=0;lr<Ke.length;lr++){var je=Ke[lr].split("=");if(1<je.length){var br=je[0];je=je[1];var wr=br.split("_");J=2<=wr.length&&wr[1]=="type"?J+(br+"="+je+"&"):J+(br+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+R+") [attempt "+L+"]: "+w+`
`+P+`
`+J})}function Hu(f,w,P,R,L,U,J){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+L+"]: "+w+`
`+P+`
`+U+" "+J})}function oi(f,w,P,R){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+qu(f,P)+(R?" "+R:"")})}function vy(f,w){f.info(function(){return"TIMEOUT: "+w})}ai.prototype.info=function(){};function qu(f,w){if(!f.g)return w;if(!w)return null;try{var P=JSON.parse(w);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var R=P[f];if(!(2>R.length)){var L=R[1];if(Array.isArray(L)&&!(1>L.length)){var U=L[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return Uu(P)}catch{return w}}var Fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Uf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gu;function we(){}v(we,Mo),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},Gu=new we;function Le(f,w,P,R){this.j=f,this.i=w,this.l=P,this.R=R||1,this.U=new _n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Kr={},Mr={};function zo(f,w,P){f.L=1,f.v=Gf(Ii(w)),f.m=P,f.P=!0,Bf(f,null)}function Bf(f,w){f.F=Date.now(),Kf(f),f.A=Ii(f.v);var P=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),uS(P.i,"t",R),f.C=0,P=f.j.J,f.h=new dt,f.g=TS(f.j,P?w:null,!f.m),0<f.O&&(f.M=new Aa(h(f.Y,f,f.g),f.O)),w=f.U,P=f.g,R=f.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ro[0]=L.toString()),L=Ro);for(var U=0;U<L.length;U++){var J=Me(P,L[U],R||w.handleEvent,!1,w.h||w);if(!J)break;w.g[J.key]=J}w=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),$o(),Ku(f.i,f.u,f.A,f.l,f.R,f.m)}Le.prototype.ca=function(f){f=f.target;const w=this.M;w&&Ci(f)==3?w.j():this.Y(f)},Le.prototype.Y=function(f){try{if(f==this.g)e:{const wr=Ci(this.g);var w=this.g.Ba();const tl=this.g.Z();if(!(3>wr)&&(wr!=3||this.g&&(this.h.h||this.g.oa()||gS(this.g)))){this.J||wr!=4||w==7||(w==8||0>=tl?$o(3):$o(2)),yy(this);var P=this.g.Z();this.X=P;t:if(Wf(this)){var R=gS(this.g);f="";var L=R.length,U=Ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Uo(this),Yu(this);var J="";break t}this.h.i=new s.TextDecoder}for(w=0;w<L;w++)this.h.h=!0,f+=this.h.i.decode(R[w],{stream:!(U&&w==L-1)});R.length=0,this.h.g+=f,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=P==200,Hu(this.i,this.u,this.A,this.l,this.R,wr,P),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,lr=this.g;if((Ke=lr.g?lr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Ke)){var je=Ke;break t}}je=null}if(P=je)oi(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xy(this,P);else{this.o=!1,this.s=3,Xt(12),Uo(this),Yu(this);break e}}if(this.P){P=!0;let Un;for(;!this.J&&this.C<J.length;)if(Un=E5(this,J),Un==Mr){wr==4&&(this.s=4,Xt(14),P=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==Kr){this.s=4,Xt(15),oi(this.i,this.l,J,"[Invalid Chunk]"),P=!1;break}else oi(this.i,this.l,Un,null),xy(this,Un);if(Wf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wr!=4||J.length!=0||this.h.h||(this.s=1,Xt(16),P=!1),this.o=this.o&&P,!P)oi(this.i,this.l,J,"[Invalid Chunked Response]"),Uo(this),Yu(this);else if(0<J.length&&!this.W){this.W=!0;var br=this.j;br.g==this&&br.ba&&!br.M&&(br.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),Sy(br),br.M=!0,Xt(11))}}else oi(this.i,this.l,J,null),xy(this,J);wr==4&&Uo(this),this.o&&!this.J&&(wr==4?ES(this.j,this):(this.o=!1,Kf(this)))}else F5(this.g),P==400&&0<J.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),Uo(this),Yu(this)}}}catch{}finally{}};function Wf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function E5(f,w){var P=f.C,R=w.indexOf(`
`,P);return R==-1?Mr:(P=Number(w.substring(P,R)),isNaN(P)?Kr:(R+=1,R+P>w.length?Mr:(w=w.slice(R,R+P),f.C=R+P,w)))}Le.prototype.cancel=function(){this.J=!0,Uo(this)};function Kf(f){f.S=Date.now()+f.I,Xk(f,f.I)}function Xk(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ai(h(f.ba,f),w)}function yy(f){f.B&&(s.clearTimeout(f.B),f.B=null)}Le.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(vy(this.i,this.A),this.L!=2&&($o(),Xt(17)),Uo(this),this.s=2,Yu(this)):Xk(this,this.S-f)};function Yu(f){f.j.G==0||f.J||ES(f.j,f)}function Uo(f){yy(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,zu(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function xy(f,w){try{var P=f.j;if(P.G!=0&&(P.g==f||by(P.h,f))){if(!f.K&&by(P.h,f)&&P.G==3){try{var R=P.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var L=R;if(L[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)eh(P),Jf(P);else break e;ky(P),Xt(18)}}else P.za=L[1],0<P.za-P.T&&37500>L[2]&&P.F&&P.v==0&&!P.C&&(P.C=Ai(h(P.Za,P),6e3));if(1>=eS(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Wo(P,11)}else if((f.K||P.g==f)&&eh(P),!_(w))for(L=P.Da.g.parse(w),w=0;w<L.length;w++){let je=L[w];if(P.T=je[0],je=je[1],P.G==2)if(je[0]=="c"){P.K=je[1],P.ia=je[2];const br=je[3];br!=null&&(P.la=br,P.j.info("VER="+P.la));const wr=je[4];wr!=null&&(P.Aa=wr,P.j.info("SVER="+P.Aa));const tl=je[5];tl!=null&&typeof tl=="number"&&0<tl&&(R=1.5*tl,P.L=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const Un=f.g;if(Un){const rh=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rh){var U=R.h;U.g||rh.indexOf("spdy")==-1&&rh.indexOf("quic")==-1&&rh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(wy(U,U.h),U.h=null))}if(R.D){const Py=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;Py&&(R.ya=Py,Je(R.I,R.D,Py))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),R=P;var J=f;if(R.qa=PS(R,R.J?R.ia:null,R.W),J.K){tS(R.h,J);var Ke=J,lr=R.L;lr&&(Ke.I=lr),Ke.B&&(yy(Ke),Kf(Ke)),R.g=J}else wS(R);0<P.i.length&&Zf(P)}else je[0]!="stop"&&je[0]!="close"||Wo(P,7);else P.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Wo(P,7):Ey(P):je[0]!="noop"&&P.l&&P.l.ta(je),P.v=0)}}$o(4)}catch{}}var k5=class{constructor(f,w){this.g=f,this.map=w}};function Jk(f){this.l=f||10,s.PerformanceNavigationTiming?(f=s.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zk(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function eS(f){return f.h?1:f.g?f.g.size:0}function by(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function wy(f,w){f.g?f.g.add(w):f.h=w}function tS(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}Jk.prototype.cancel=function(){if(this.i=rS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function rS(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const P of f.g.values())w=w.concat(P.D);return w}return b(f.i)}function S5(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var w=[],P=f.length,R=0;R<P;R++)w.push(f[R]);return w}w=[],P=0;for(R in f)w[P++]=f[R];return w}function P5(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var w=[];f=f.length;for(var P=0;P<f;P++)w.push(P);return w}w=[],P=0;for(const R in f)w[P++]=R;return w}}}function nS(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var P=P5(f),R=S5(f),L=R.length,U=0;U<L;U++)w.call(void 0,R[U],P&&P[U],f)}var iS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function T5(f,w){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var R=f[P].indexOf("="),L=null;if(0<=R){var U=f[P].substring(0,R);L=f[P].substring(R+1)}else U=f[P];w(U,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Bo(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Bo){this.h=f.h,Hf(this,f.j),this.o=f.o,this.g=f.g,qf(this,f.s),this.l=f.l;var w=f.i,P=new Ju;P.i=w.i,w.g&&(P.g=new Map(w.g),P.h=w.h),aS(this,P),this.m=f.m}else f&&(w=String(f).match(iS))?(this.h=!1,Hf(this,w[1]||"",!0),this.o=Qu(w[2]||""),this.g=Qu(w[3]||"",!0),qf(this,w[4]),this.l=Qu(w[5]||"",!0),aS(this,w[6]||"",!0),this.m=Qu(w[7]||"")):(this.h=!1,this.i=new Ju(null,this.h))}Bo.prototype.toString=function(){var f=[],w=this.j;w&&f.push(Xu(w,oS,!0),":");var P=this.g;return(P||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Xu(w,oS,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(Xu(P,P.charAt(0)=="/"?C5:I5,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",Xu(P,N5)),f.join("")};function Ii(f){return new Bo(f)}function Hf(f,w,P){f.j=P?Qu(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function qf(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function aS(f,w,P){w instanceof Ju?(f.i=w,j5(f.i,f.h)):(P||(w=Xu(w,O5)),f.i=new Ju(w,f.h))}function Je(f,w,P){f.i.set(w,P)}function Gf(f){return Je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Qu(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Xu(f,w,P){return typeof f=="string"?(f=encodeURI(f).replace(w,A5),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function A5(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var oS=/[#\/\?@]/g,I5=/[#\?:]/g,C5=/[#\?]/g,O5=/[#\?@]/g,N5=/#/g;function Ju(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Ia(f){f.g||(f.g=new Map,f.h=0,f.i&&T5(f.i,function(w,P){f.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}e=Ju.prototype,e.add=function(f,w){Ia(this),this.i=null,f=Zs(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(w),this.h+=1,this};function sS(f,w){Ia(f),w=Zs(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function lS(f,w){return Ia(f),w=Zs(f,w),f.g.has(w)}e.forEach=function(f,w){Ia(this),this.g.forEach(function(P,R){P.forEach(function(L){f.call(w,L,R,this)},this)},this)},e.na=function(){Ia(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),P=[];for(let R=0;R<w.length;R++){const L=f[R];for(let U=0;U<L.length;U++)P.push(w[R])}return P},e.V=function(f){Ia(this);let w=[];if(typeof f=="string")lS(this,f)&&(w=w.concat(this.g.get(Zs(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)w=w.concat(f[P])}return w},e.set=function(f,w){return Ia(this),this.i=null,f=Zs(this,f),lS(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},e.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function uS(f,w,P){sS(f,w),0<P.length&&(f.i=null,f.g.set(Zs(f,w),b(P)),f.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var P=0;P<w.length;P++){var R=w[P];const U=encodeURIComponent(String(R)),J=this.V(R);for(R=0;R<J.length;R++){var L=U;J[R]!==""&&(L+="="+encodeURIComponent(String(J[R]))),f.push(L)}}return this.i=f.join("&")};function Zs(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function j5(f,w){w&&!f.j&&(Ia(f),f.i=null,f.g.forEach(function(P,R){var L=R.toLowerCase();R!=L&&(sS(this,R),uS(this,L,P))},f)),f.j=w}function D5(f,w){const P=new ai;if(s.Image){const R=new Image;R.onload=m(Ca,P,"TestLoadImage: loaded",!0,w,R),R.onerror=m(Ca,P,"TestLoadImage: error",!1,w,R),R.onabort=m(Ca,P,"TestLoadImage: abort",!1,w,R),R.ontimeout=m(Ca,P,"TestLoadImage: timeout",!1,w,R),s.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else w(!1)}function R5(f,w){const P=new ai,R=new AbortController,L=setTimeout(()=>{R.abort(),Ca(P,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:R.signal}).then(U=>{clearTimeout(L),U.ok?Ca(P,"TestPingServer: ok",!0,w):Ca(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(L),Ca(P,"TestPingServer: error",!1,w)})}function Ca(f,w,P,R,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),R(P)}catch{}}function M5(){this.g=new Ff}function L5(f,w,P){const R=P||"";try{nS(f,function(L,U){let J=L;u(L)&&(J=Uu(L)),w.push(R+U+"="+encodeURIComponent(J))})}catch(L){throw w.push(R+"type="+encodeURIComponent("_badmap")),L}}function Yf(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Yf,Mo),Yf.prototype.g=function(){return new Qf(this.l,this.j)},Yf.prototype.i=function(f){return function(){return f}}({});function Qf(f,w){ve.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Qf,ve),e=Qf.prototype,e.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,ec(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||s).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zu(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ec(this)),this.g&&(this.readyState=3,ec(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cS(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function cS(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?Zu(this):ec(this),this.readyState==3&&cS(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,Zu(this))},e.Qa=function(f){this.g&&(this.response=f,Zu(this))},e.ga=function(){this.g&&Zu(this)};function Zu(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ec(f)}e.setRequestHeader=function(f,w){this.u.append(f,w)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=w.next();return f.join(`\r
`)};function ec(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Qf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function dS(f){let w="";return j(f,function(P,R){w+=R,w+=":",w+=P,w+=`\r
`}),w}function _y(f,w,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=dS(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):Je(f,w,P))}function Et(f){ve.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Et,ve);var V5=/^https?$/i,$5=["POST","PUT"];e=Et.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,w,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gu.g(),this.v=this.o?zf(this.o):zf(Gu),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(U){fS(this,U);return}if(f=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var L in R)P.set(L,R[L]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())P.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(U=>U.toLowerCase()=="content-type"),L=s.FormData&&f instanceof s.FormData,!(0<=Array.prototype.indexOf.call($5,w,void 0))||R||L||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of P)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mS(this),this.u=!0,this.g.send(f),this.u=!1}catch(U){fS(this,U)}};function fS(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,hS(f),Xf(f)}function hS(f){f.A||(f.A=!0,Ue(f,"complete"),Ue(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Ue(this,"complete"),Ue(this,"abort"),Xf(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xf(this,!0)),Et.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?pS(this):this.bb())},e.bb=function(){pS(this)};function pS(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Ci(f)!=4||f.Z()!=2)){if(f.u&&Ci(f)==4)Rr(f.Ea,0,f);else if(Ue(f,"readystatechange"),Ci(f)==4){f.h=!1;try{const J=f.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var R;if(R=J===0){var L=String(f.D).match(iS)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),R=!V5.test(L?L.toLowerCase():"")}P=R}if(P)Ue(f,"complete"),Ue(f,"success");else{f.m=6;try{var U=2<Ci(f)?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.Z()+"]",hS(f)}}finally{Xf(f)}}}}function Xf(f,w){if(f.g){mS(f);const P=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Ue(f,"ready");try{P.onreadystatechange=R}catch{}}}function mS(f){f.I&&(s.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Ci(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),$f(w)}};function gS(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function F5(f){const w={};f=(f.g&&2<=Ci(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(_(f[R]))continue;var P=N(f[R]);const L=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const U=w[L]||[];w[L]=U,U.push(P)}E(w,function(R){return R.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tc(f,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||w}function vS(f){this.Aa=0,this.i=[],this.j=new ai,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tc("baseRetryDelayMs",5e3,f),this.cb=tc("retryDelaySeedMs",1e4,f),this.Wa=tc("forwardChannelMaxRetries",2,f),this.wa=tc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Jk(f&&f.concurrentRequestLimit),this.Da=new M5,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=vS.prototype,e.la=8,e.G=1,e.connect=function(f,w,P,R){Xt(0),this.W=f,this.H=w||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.I=PS(this,null,this.W),Zf(this)};function Ey(f){if(yS(f),f.G==3){var w=f.U++,P=Ii(f.I);if(Je(P,"SID",f.K),Je(P,"RID",w),Je(P,"TYPE","terminate"),rc(f,P),w=new Le(f,f.j,w),w.L=2,w.v=Gf(Ii(P)),P=!1,s.navigator&&s.navigator.sendBeacon)try{P=s.navigator.sendBeacon(w.v.toString(),"")}catch{}!P&&s.Image&&(new Image().src=w.v,P=!0),P||(w.g=TS(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Kf(w)}SS(f)}function Jf(f){f.g&&(Sy(f),f.g.cancel(),f.g=null)}function yS(f){Jf(f),f.u&&(s.clearTimeout(f.u),f.u=null),eh(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&s.clearTimeout(f.s),f.s=null)}function Zf(f){if(!Zk(f.h)&&!f.s){f.s=!0;var w=f.Ga;H||X(),$||(H(),$=!0),B.add(w,f),f.B=0}}function z5(f,w){return eS(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ai(h(f.Ga,f,w),kS(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const L=new Le(this,this.j,f);let U=this.o;if(this.S&&(U?(U=S(U),C(U,this.S)):U=this.S),this.m!==null||this.O||(L.H=U,U=null),this.P)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=bS(this,L,w),P=Ii(this.I),Je(P,"RID",f),Je(P,"CVER",22),this.D&&Je(P,"X-HTTP-Session-Id",this.D),rc(this,P),U&&(this.O?w="headers="+encodeURIComponent(String(dS(U)))+"&"+w:this.m&&_y(P,this.m,U)),wy(this.h,L),this.Ua&&Je(P,"TYPE","init"),this.P?(Je(P,"$req",w),Je(P,"SID","null"),L.T=!0,zo(L,P,null)):zo(L,P,w),this.G=2}}else this.G==3&&(f?xS(this,f):this.i.length==0||Zk(this.h)||xS(this))};function xS(f,w){var P;w?P=w.l:P=f.U++;const R=Ii(f.I);Je(R,"SID",f.K),Je(R,"RID",P),Je(R,"AID",f.T),rc(f,R),f.m&&f.o&&_y(R,f.m,f.o),P=new Le(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),w&&(f.i=w.D.concat(f.i)),w=bS(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),wy(f.h,P),zo(P,R,w)}function rc(f,w){f.H&&j(f.H,function(P,R){Je(w,R,P)}),f.l&&nS({},function(P,R){Je(w,R,P)})}function bS(f,w,P){P=Math.min(f.i.length,P);var R=f.l?h(f.l.Na,f.l,f):null;e:{var L=f.i;let U=-1;for(;;){const J=["count="+P];U==-1?0<P?(U=L[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let Ke=!0;for(let lr=0;lr<P;lr++){let je=L[lr].g;const br=L[lr].map;if(je-=U,0>je)U=Math.max(0,L[lr].g-100),Ke=!1;else try{L5(br,J,"req"+je+"_")}catch{R&&R(br)}}if(Ke){R=J.join("&");break e}}}return f=f.i.splice(0,P),w.D=f,R}function wS(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;H||X(),$||(H(),$=!0),B.add(w,f),f.v=0}}function ky(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ai(h(f.Fa,f),kS(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,_S(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ai(h(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),Jf(this),_S(this))};function Sy(f){f.A!=null&&(s.clearTimeout(f.A),f.A=null)}function _S(f){f.g=new Le(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Ii(f.qa);Je(w,"RID","rpc"),Je(w,"SID",f.K),Je(w,"AID",f.T),Je(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&Je(w,"TO",f.ja),Je(w,"TYPE","xmlhttp"),rc(f,w),f.m&&f.o&&_y(w,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=Gf(Ii(w)),P.m=null,P.P=!0,Bf(P,f)}e.Za=function(){this.C!=null&&(this.C=null,Jf(this),ky(this),Xt(19))};function eh(f){f.C!=null&&(s.clearTimeout(f.C),f.C=null)}function ES(f,w){var P=null;if(f.g==w){eh(f),Sy(f),f.g=null;var R=2}else if(by(f.h,w))P=w.D,tS(f.h,w),R=1;else return;if(f.G!=0){if(w.o)if(R==1){P=w.m?w.m.length:0,w=Date.now()-w.F;var L=f.B;R=Be(),Ue(R,new Wu(R,P)),Zf(f)}else wS(f);else if(L=w.s,L==3||L==0&&0<w.X||!(R==1&&z5(f,w)||R==2&&ky(f)))switch(P&&0<P.length&&(w=f.h,w.i=w.i.concat(P)),L){case 1:Wo(f,5);break;case 4:Wo(f,10);break;case 3:Wo(f,6);break;default:Wo(f,2)}}}function kS(f,w){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*w}function Wo(f,w){if(f.j.info("Error code "+w),w==2){var P=h(f.fb,f),R=f.Xa;const L=!R;R=new Bo(R||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Hf(R,"https"),Gf(R),L?D5(R.toString(),P):R5(R.toString(),P)}else Xt(2);f.G=0,f.l&&f.l.sa(w),SS(f),yS(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function SS(f){if(f.G=0,f.ka=[],f.l){const w=rS(f.h);(w.length!=0||f.i.length!=0)&&(y(f.ka,w),y(f.ka,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.ra()}}function PS(f,w,P){var R=P instanceof Bo?Ii(P):new Bo(P);if(R.g!="")w&&(R.g=w+"."+R.g),qf(R,R.s);else{var L=s.location;R=L.protocol,w=w?w+"."+L.hostname:L.hostname,L=+L.port;var U=new Bo(null);R&&Hf(U,R),w&&(U.g=w),L&&qf(U,L),P&&(U.l=P),R=U}return P=f.D,w=f.ya,P&&w&&Je(R,P,w),Je(R,"VER",f.la),rc(f,R),R}function TS(f,w,P){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new Et(new Yf({eb:P})):new Et(f.pa),w.Ha(f.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function AS(){}e=AS.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function th(){}th.prototype.g=function(f,w){return new sn(f,w)};function sn(f,w){ve.call(this),this.g=new vS(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!_(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new el(this)}v(sn,ve),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ey(this.g)},sn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=Uu(f),f=P);w.i.push(new k5(w.Ya++,f)),w.G==3&&Zf(w)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ey(this.g),delete this.g,sn.aa.N.call(this)};function IS(f){Xs.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const P in w){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}v(IS,Xs);function CS(){Qt.call(this),this.status=1}v(CS,Qt);function el(f){this.g=f}v(el,AS),el.prototype.ua=function(){Ue(this.g,"a")},el.prototype.ta=function(f){Ue(this.g,new IS(f))},el.prototype.sa=function(f){Ue(this.g,new CS)},el.prototype.ra=function(){Ue(this.g,"b")},th.prototype.createWebChannel=th.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,GD=function(){return new th},qD=function(){return Be()},HD=_t,Jx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,up=Fo,Uf.COMPLETE="complete",KD=Uf,Bu.EventType=Lo,Lo.OPEN="a",Lo.CLOSE="b",Lo.ERROR="c",Lo.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Pc=Bu,Et.prototype.listenOnce=Et.prototype.L,Et.prototype.getLastError=Et.prototype.Ka,Et.prototype.getLastErrorCode=Et.prototype.Ba,Et.prototype.getStatus=Et.prototype.Z,Et.prototype.getResponseJson=Et.prototype.Oa,Et.prototype.getResponseText=Et.prototype.oa,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Ha,WD=Et}).apply(typeof _h<"u"?_h:typeof self<"u"?self:typeof window<"u"?window:{});const PT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Pr.UNAUTHENTICATED=new Pr(null),Pr.GOOGLE_CREDENTIALS=new Pr("google-credentials-uid"),Pr.FIRST_PARTY=new Pr("first-party-uid"),Pr.MOCK_USER=new Pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new I_("@firebase/firestore");function dc(){return ks.logLevel}function ae(e,...t){if(ks.logLevel<=Ae.DEBUG){const r=t.map(z_);ks.debug(`Firestore (${Su}): ${e}`,...r)}}function na(e,...t){if(ks.logLevel<=Ae.ERROR){const r=t.map(z_);ks.error(`Firestore (${Su}): ${e}`,...r)}}function tu(e,...t){if(ks.logLevel<=Ae.WARN){const r=t.map(z_);ks.warn(`Firestore (${Su}): ${e}`,...r)}}function z_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(e="Unexpected state"){const t=`FIRESTORE (${Su}) INTERNAL ASSERTION FAILED: `+e;throw na(t),new Error(t)}function Fe(e,t){e||he()}function me(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends ga{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Pr.UNAUTHENTICATED))}shutdown(){}}class cW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class dW{constructor(t){this.t=t,this.currentUser=Pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Fe(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new qi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new qi,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new qi)}},0),o()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Fe(typeof n.accessToken=="string"),new YD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Fe(t===null||typeof t=="string"),new Pr(t)}}class fW{constructor(t,r,n){this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=Pr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class hW{constructor(t,r,n){this.l=t,this.h=r,this.P=n}getToken(){return Promise.resolve(new fW(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pW{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mW{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){Fe(this.o===void 0);const n=a=>{a.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.R;return this.R=a.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Fe(typeof r.token=="string"),this.R=r.token,new pW(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=gW(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%t.length))}return n}}function De(e,t){return e<t?-1:e>t?1:0}function ru(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ee(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ee(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Kt.fromMillis(Date.now())}static fromDate(t){return Kt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*r));return new Kt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?De(this.nanoseconds,t.nanoseconds):De(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pe(t)}static min(){return new pe(new Kt(0,0))}static max(){return new pe(new Kt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,r,n){r===void 0?r=0:r>t.length&&he(),n===void 0?n=t.length-r:n>t.length-r&&he(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return gd.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof gd?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=t.get(i),o=r.get(i);if(a<o)return-1;if(a>o)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class rt extends gd{construct(t,r,n){return new rt(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new ee(W.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new rt(r)}static emptyPath(){return new rt([])}}const vW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends gd{construct(t,r,n){return new hr(t,r,n)}static isValidIdentifier(t){return vW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hr(["__name__"])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new ee(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;i<t.length;){const s=t[i];if(s==="\\"){if(i+1===t.length)throw new ee(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else s==="`"?(o=!o,i++):s!=="."||o?(n+=s,i++):(a(),i++)}if(a(),o)throw new ee(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new hr(r)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.path=t}static fromPath(t){return new le(rt.fromString(t))}static fromName(t){return new le(rt.fromString(t).popFirst(5))}static empty(){return new le(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&rt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return rt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new le(new rt(t.slice()))}}function yW(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(n===1e9?new Kt(r+1,0):new Kt(r,n));return new mo(i,le.empty(),t)}function xW(e){return new mo(e.readTime,e.key,-1)}class mo{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new mo(pe.min(),le.empty(),-1)}static max(){return new mo(pe.max(),le.empty(),-1)}}function bW(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=le.comparator(e.documentKey,t.documentKey),r!==0?r:De(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _W{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(e){if(e.code!==W.FAILED_PRECONDITION||e.message!==wW)throw e;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Y((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Y?r:Y.resolve(r)}catch(r){return Y.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Y.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Y.reject(r)}static resolve(t){return new Y((r,n)=>{r(t)})}static reject(t){return new Y((r,n)=>{n(t)})}static waitFor(t){return new Y((r,n)=>{let i=0,a=0,o=!1;t.forEach(s=>{++i,s.next(()=>{++a,o&&a===i&&r()},l=>n(l))}),o=!0,a===i&&r()})}static or(t){let r=Y.resolve(!1);for(const n of t)r=r.next(i=>i?Y.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new Y((n,i)=>{const a=t.length,o=new Array(a);let s=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{o[u]=c,++s,s===a&&n(o)},c=>i(c))}})}static doWhile(t,r){return new Y((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function EW(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function rf(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}U_.oe=-1;function Lg(e){return e==null}function rm(e){return e===0&&1/e==-1/0}function kW(e){return typeof e=="number"&&Number.isInteger(e)&&!rm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Bs(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function XD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(t,r){this.comparator=t,this.root=r||fr.EMPTY}insert(t,r){return new xt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(t){return new xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,fr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Eh(this.root,t,this.comparator,!0)}}class Eh{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class fr{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??fr.RED,this.left=i??fr.EMPTY,this.right=a??fr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new fr(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return fr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,fr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,fr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();const t=this.left.check();if(t!==this.right.check())throw he();return t+(this.isRed()?0:1)}}fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(t,r,n,i,a){return this}insert(t,r,n){return new fr(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(t){this.comparator=t,this.data=new xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new AT(this.data.getIterator())}getIteratorFrom(t){return new AT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof gr)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new gr(this.comparator);return r.data=t,r}}class AT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t){this.fields=t,t.sort(hr.comparator)}static empty(){return new fn([])}unionWith(t){let r=new gr(hr.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new fn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ru(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new JD("Invalid base64 string: "+a):a}}(t);return new yr(r)}static fromUint8Array(t){const r=function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a}(t);return new yr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return De(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yr.EMPTY_BYTE_STRING=new yr("");const SW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function go(e){if(Fe(!!e),typeof e=="string"){let t=0;const r=SW.exec(e);if(Fe(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:It(e.seconds),nanos:It(e.nanos)}}function It(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Ss(e){return typeof e=="string"?yr.fromBase64String(e):yr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function W_(e){const t=e.mapValue.fields.__previous_value__;return B_(t)?W_(t):t}function vd(e){const t=go(e.mapValue.fields.__local_write_time__.timestampValue);return new Kt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{constructor(t,r,n,i,a,o,s,l,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class yd{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new yd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof yd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh={mapValue:{}};function Ps(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?B_(e)?4:AW(e)?9007199254740991:TW(e)?10:11:he()}function _i(e,t){if(e===t)return!0;const r=Ps(e);if(r!==Ps(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vd(e).isEqual(vd(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=go(i.timestampValue),s=go(a.timestampValue);return o.seconds===s.seconds&&o.nanos===s.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Ss(i.bytesValue).isEqual(Ss(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return It(i.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(i.geoPointValue.longitude)===It(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return It(i.integerValue)===It(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=It(i.doubleValue),s=It(a.doubleValue);return o===s?rm(o)===rm(s):isNaN(o)&&isNaN(s)}return!1}(e,t);case 9:return ru(e.arrayValue.values||[],t.arrayValue.values||[],_i);case 10:case 11:return function(i,a){const o=i.mapValue.fields||{},s=a.mapValue.fields||{};if(TT(o)!==TT(s))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(s[l]===void 0||!_i(o[l],s[l])))return!1;return!0}(e,t);default:return he()}}function xd(e,t){return(e.values||[]).find(r=>_i(r,t))!==void 0}function nu(e,t){if(e===t)return 0;const r=Ps(e),n=Ps(t);if(r!==n)return De(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return De(e.booleanValue,t.booleanValue);case 2:return function(a,o){const s=It(a.integerValue||a.doubleValue),l=It(o.integerValue||o.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(e,t);case 3:return IT(e.timestampValue,t.timestampValue);case 4:return IT(vd(e),vd(t));case 5:return De(e.stringValue,t.stringValue);case 6:return function(a,o){const s=Ss(a),l=Ss(o);return s.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,o){const s=a.split("/"),l=o.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=De(s[u],l[u]);if(c!==0)return c}return De(s.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,o){const s=De(It(a.latitude),It(o.latitude));return s!==0?s:De(It(a.longitude),It(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return CT(e.arrayValue,t.arrayValue);case 10:return function(a,o){var s,l,u,c;const d=a.fields||{},h=o.fields||{},m=(s=d.value)===null||s===void 0?void 0:s.arrayValue,v=(l=h.value)===null||l===void 0?void 0:l.arrayValue,b=De(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return b!==0?b:CT(m,v)}(e.mapValue,t.mapValue);case 11:return function(a,o){if(a===kh.mapValue&&o===kh.mapValue)return 0;if(a===kh.mapValue)return 1;if(o===kh.mapValue)return-1;const s=a.fields||{},l=Object.keys(s),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=De(l[d],c[d]);if(h!==0)return h;const m=nu(s[l[d]],u[c[d]]);if(m!==0)return m}return De(l.length,c.length)}(e.mapValue,t.mapValue);default:throw he()}}function IT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return De(e,t);const r=go(e),n=go(t),i=De(r.seconds,n.seconds);return i!==0?i:De(r.nanos,n.nanos)}function CT(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=nu(r[i],n[i]);if(a)return a}return De(r.length,n.length)}function iu(e){return Zx(e)}function Zx(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=go(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Ss(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return le.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=Zx(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const o of n)a?a=!1:i+=",",i+=`${o}:${Zx(r.fields[o])}`;return i+"}"}(e.mapValue):he()}function OT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eb(e){return!!e&&"integerValue"in e}function K_(e){return!!e&&"arrayValue"in e}function NT(e){return!!e&&"nullValue"in e}function jT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cp(e){return!!e&&"mapValue"in e}function TW(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Bc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bs(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Bc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Bc(e.arrayValue.values[r]);return t}return Object.assign({},e)}function AW(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t){this.value=t}static empty(){return new qr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!cp(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bc(r)}setAll(t){let r=hr.emptyPath(),n={},i=[];t.forEach((o,s)=>{if(!r.isImmediateParentOf(s)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=s.popLast()}o?n[s.lastSegment()]=Bc(o):i.push(s.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());cp(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return _i(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];cp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Bs(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new qr(Bc(this.value))}}function ZD(e){const t=[];return Bs(e.fields,(r,n)=>{const i=new hr([r]);if(cp(n)){const a=ZD(n.mapValue).fields;if(a.length===0)t.push(i);else for(const o of a)t.push(i.child(o))}else t.push(i)}),new fn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(t,r,n,i,a,o,s){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}static newInvalidDocument(t){return new Ar(t,0,pe.min(),pe.min(),pe.min(),qr.empty(),0)}static newFoundDocument(t,r,n,i){return new Ar(t,1,r,pe.min(),n,i,0)}static newNoDocument(t,r){return new Ar(t,2,r,pe.min(),pe.min(),qr.empty(),0)}static newUnknownDocument(t,r){return new Ar(t,3,r,pe.min(),pe.min(),qr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ar&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ar(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(t,r){this.position=t,this.inclusive=r}}function DT(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(a.field.isKeyField()?n=le.comparator(le.fromName(o.referenceValue),r.key):n=nu(o,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function RT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!_i(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(t,r="asc"){this.field=t,this.dir=r}}function IW(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{}class Mt extends eR{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new OW(t,r,n):r==="array-contains"?new DW(t,n):r==="in"?new RW(t,n):r==="not-in"?new MW(t,n):r==="array-contains-any"?new LW(t,n):new Mt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new NW(t,n):new jW(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(nu(r,this.value)):r!==null&&Ps(this.value)===Ps(r)&&this.matchesComparison(nu(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends eR{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new ti(t,r)}matches(t){return tR(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function tR(e){return e.op==="and"}function rR(e){return CW(e)&&tR(e)}function CW(e){for(const t of e.filters)if(t instanceof ti)return!1;return!0}function tb(e){if(e instanceof Mt)return e.field.canonicalString()+e.op.toString()+iu(e.value);if(rR(e))return e.filters.map(t=>tb(t)).join(",");{const t=e.filters.map(r=>tb(r)).join(",");return`${e.op}(${t})`}}function nR(e,t){return e instanceof Mt?function(n,i){return i instanceof Mt&&n.op===i.op&&n.field.isEqual(i.field)&&_i(n.value,i.value)}(e,t):e instanceof ti?function(n,i){return i instanceof ti&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,o,s)=>a&&nR(o,i.filters[s]),!0):!1}(e,t):void he()}function iR(e){return e instanceof Mt?function(r){return`${r.field.canonicalString()} ${r.op} ${iu(r.value)}`}(e):e instanceof ti?function(r){return r.op.toString()+" {"+r.getFilters().map(iR).join(" ,")+"}"}(e):"Filter"}class OW extends Mt{constructor(t,r,n){super(t,r,n),this.key=le.fromName(n.referenceValue)}matches(t){const r=le.comparator(t.key,this.key);return this.matchesComparison(r)}}class NW extends Mt{constructor(t,r){super(t,"in",r),this.keys=aR("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class jW extends Mt{constructor(t,r){super(t,"not-in",r),this.keys=aR("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function aR(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>le.fromName(n.referenceValue))}class DW extends Mt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return K_(r)&&xd(r.arrayValue,this.value)}}class RW extends Mt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&xd(this.value.arrayValue,r)}}class MW extends Mt{constructor(t,r){super(t,"not-in",r)}matches(t){if(xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!xd(this.value.arrayValue,r)}}class LW extends Mt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!K_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>xd(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(t,r=null,n=[],i=[],a=null,o=null,s=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ue=null}}function MT(e,t=null,r=[],n=[],i=null,a=null,o=null){return new VW(e,t,r,n,i,a,o)}function H_(e){const t=me(e);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>tb(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),Lg(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>iu(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>iu(n)).join(",")),t.ue=r}return t.ue}function q_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!IW(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!nR(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!RT(e.startAt,t.startAt)&&RT(e.endAt,t.endAt)}function rb(e){return le.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(t,r=null,n=[],i=[],a=null,o="F",s=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $W(e,t,r,n,i,a,o,s){return new Pu(e,t,r,n,i,a,o,s)}function Vg(e){return new Pu(e)}function LT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oR(e){return e.collectionGroup!==null}function Wc(e){const t=me(e);if(t.ce===null){t.ce=[];const r=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let s=new gr(hr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.ce.push(new bd(a,n))}),r.has(hr.keyField().canonicalString())||t.ce.push(new bd(hr.keyField(),n))}return t.ce}function xi(e){const t=me(e);return t.le||(t.le=FW(t,Wc(e))),t.le}function FW(e,t){if(e.limitType==="F")return MT(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new bd(i.field,a)});const r=e.endAt?new nm(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new nm(e.startAt.position,e.startAt.inclusive):null;return MT(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function nb(e,t){const r=e.filters.concat([t]);return new Pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function im(e,t,r){return new Pu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function $g(e,t){return q_(xi(e),xi(t))&&e.limitType===t.limitType}function sR(e){return`${H_(xi(e))}|lt:${e.limitType}`}function sl(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>iR(i)).join(", ")}]`),Lg(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>iu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>iu(i)).join(",")),`Target(${n})`}(xi(e))}; limitType=${e.limitType})`}function Fg(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):le.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Wc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(o,s,l){const u=DT(o,s,l);return o.inclusive?u<=0:u<0}(n.startAt,Wc(n),i)||n.endAt&&!function(o,s,l){const u=DT(o,s,l);return o.inclusive?u>=0:u>0}(n.endAt,Wc(n),i))}(e,t)}function zW(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function lR(e){return(t,r)=>{let n=!1;for(const i of Wc(e)){const a=UW(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function UW(e,t,r){const n=e.field.isKeyField()?le.comparator(t.key,r.key):function(a,o,s){const l=o.data.field(a),u=s.data.field(a);return l!==null&&u!==null?nu(l,u):he()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return he()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Bs(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return XD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=new xt(le.comparator);function ia(){return BW}const uR=new xt(le.comparator);function Tc(...e){let t=uR;for(const r of e)t=t.insert(r.key,r);return t}function cR(e){let t=uR;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function ts(){return Kc()}function dR(){return Kc()}function Kc(){return new Tu(e=>e.toString(),(e,t)=>e.isEqual(t))}const WW=new xt(le.comparator),KW=new gr(le.comparator);function Pe(...e){let t=KW;for(const r of e)t=t.add(r);return t}const HW=new gr(De);function qW(){return HW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rm(t)?"-0":t}}function fR(e){return{integerValue:""+e}}function GW(e,t){return kW(t)?fR(t):G_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this._=void 0}}function YW(e,t,r){return e instanceof wd?function(i,a){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&B_(a)&&(a=W_(a)),a&&(o.fields.__previous_value__=a),{mapValue:o}}(r,t):e instanceof _d?pR(e,t):e instanceof Ed?mR(e,t):function(i,a){const o=hR(i,a),s=VT(o)+VT(i.Pe);return eb(o)&&eb(i.Pe)?fR(s):G_(i.serializer,s)}(e,t)}function QW(e,t,r){return e instanceof _d?pR(e,t):e instanceof Ed?mR(e,t):r}function hR(e,t){return e instanceof am?function(n){return eb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class wd extends zg{}class _d extends zg{constructor(t){super(),this.elements=t}}function pR(e,t){const r=gR(t);for(const n of e.elements)r.some(i=>_i(i,n))||r.push(n);return{arrayValue:{values:r}}}class Ed extends zg{constructor(t){super(),this.elements=t}}function mR(e,t){let r=gR(t);for(const n of e.elements)r=r.filter(i=>!_i(i,n));return{arrayValue:{values:r}}}class am extends zg{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function VT(e){return It(e.integerValue||e.doubleValue)}function gR(e){return K_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(t,r){this.field=t,this.transform=r}}function JW(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof _d&&i instanceof _d||n instanceof Ed&&i instanceof Ed?ru(n.elements,i.elements,_i):n instanceof am&&i instanceof am?_i(n.Pe,i.Pe):n instanceof wd&&i instanceof wd}(e.transform,t.transform)}class ZW{constructor(t,r){this.version=t,this.transformResults=r}}class Nn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Nn}static exists(t){return new Nn(void 0,t)}static updateTime(t){return new Nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function dp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ug{}function vR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Y_(e.key,Nn.none()):new nf(e.key,e.data,Nn.none());{const r=e.data,n=qr.empty();let i=new gr(hr.comparator);for(let a of t.fields)if(!i.has(a)){let o=r.field(a);o===null&&a.length>1&&(a=a.popLast(),o=r.field(a)),o===null?n.delete(a):n.set(a,o),i=i.add(a)}return new Io(e.key,n,new fn(i.toArray()),Nn.none())}}function eK(e,t,r){e instanceof nf?function(i,a,o){const s=i.value.clone(),l=FT(i.fieldTransforms,a,o.transformResults);s.setAll(l),a.convertToFoundDocument(o.version,s).setHasCommittedMutations()}(e,t,r):e instanceof Io?function(i,a,o){if(!dp(i.precondition,a))return void a.convertToUnknownDocument(o.version);const s=FT(i.fieldTransforms,a,o.transformResults),l=a.data;l.setAll(yR(i)),l.setAll(s),a.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,r)}function Hc(e,t,r,n){return e instanceof nf?function(a,o,s,l){if(!dp(a.precondition,o))return s;const u=a.value.clone(),c=zT(a.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof Io?function(a,o,s,l){if(!dp(a.precondition,o))return s;const u=zT(a.fieldTransforms,l,o),c=o.data;return c.setAll(yR(a)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),s===null?null:s.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,o,s){return dp(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):s}(e,t,r)}function tK(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=hR(n.transform,i||null);a!=null&&(r===null&&(r=qr.empty()),r.set(n.field,a))}return r||null}function $T(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ru(n,i,(a,o)=>JW(a,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nf extends Ug{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Io extends Ug{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function yR(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function FT(e,t,r){const n=new Map;Fe(e.length===r.length);for(let i=0;i<r.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);n.set(a.field,QW(o,s,r[i]))}return n}function zT(e,t,r){const n=new Map;for(const i of e){const a=i.transform,o=r.data.field(i.field);n.set(i.field,YW(a,o,t))}return n}class Y_ extends Ug{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rK extends Ug{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&eK(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Hc(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Hc(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=dR();return this.mutations.forEach(i=>{const a=t.get(i.key),o=a.overlayedDocument;let s=this.applyToLocalView(o,a.mutatedFields);s=r.has(i.key)?null:s;const l=vR(o,s);l!==null&&n.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(pe.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Pe())}isEqual(t){return this.batchId===t.batchId&&ru(this.mutations,t.mutations,(r,n)=>$T(r,n))&&ru(this.baseMutations,t.baseMutations,(r,n)=>$T(r,n))}}class Q_{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){Fe(t.mutations.length===n.length);let i=function(){return WW}();const a=t.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,n[o].version);return new Q_(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,Ce;function oK(e){switch(e){default:return he();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function xR(e){if(e===void 0)return na("GRPC error has no .code"),W.UNKNOWN;switch(e){case jt.OK:return W.OK;case jt.CANCELLED:return W.CANCELLED;case jt.UNKNOWN:return W.UNKNOWN;case jt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case jt.INTERNAL:return W.INTERNAL;case jt.UNAVAILABLE:return W.UNAVAILABLE;case jt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case jt.NOT_FOUND:return W.NOT_FOUND;case jt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case jt.ABORTED:return W.ABORTED;case jt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case jt.DATA_LOSS:return W.DATA_LOSS;default:return he()}}(Ce=jt||(jt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=new ls([4294967295,4294967295],0);function UT(e){const t=sK().encode(e),r=new BD;return r.update(t),new Uint8Array(r.digest())}function BT(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new ls([r,n],0),new ls([i,a],0)]}class X_{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ac(`Invalid padding: ${r}`);if(n<0)throw new Ac(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Ac(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Ac(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=ls.fromNumber(this.Ie)}Ee(t,r,n){let i=t.add(r.multiply(ls.fromNumber(n)));return i.compare(lK)===1&&(i=new ls([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=UT(t),[n,i]=BT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);if(!this.de(o))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),o=new X_(a,i,r);return n.forEach(s=>o.insert(s)),o}insert(t){if(this.Ie===0)return;const r=UT(t),[n,i]=BT(r);for(let a=0;a<this.hashCount;a++){const o=this.Ee(n,i,a);this.Ae(o)}}Ae(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Ac extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,af.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Bg(pe.min(),i,new xt(De),ia(),Pe())}}class af{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new af(n,r,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t,r,n,i){this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=i}}class bR{constructor(t,r){this.targetId=t,this.me=r}}class wR{constructor(t,r,n=yr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class WT{constructor(){this.fe=0,this.ge=HT(),this.pe=yr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Pe(),r=Pe(),n=Pe();return this.ge.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:he()}}),new af(this.pe,this.ye,t,r,n)}Ce(){this.we=!1,this.ge=HT()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class uK{constructor(t){this.Le=t,this.Be=new Map,this.ke=ia(),this.qe=KT(),this.Qe=new xt(De)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const n=this.Ge(r);switch(t.state){case 0:this.ze(r)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(t.resumeToken));break;default:he()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(t){const r=t.targetId,n=t.me.count,i=this.Je(r);if(i){const a=i.target;if(rb(a))if(n===0){const o=new le(a.path);this.Ue(r,o,Ar.newNoDocument(o,pe.min()))}else Fe(n===1);else{const o=this.Ye(r);if(o!==n){const s=this.Ze(t),l=s?this.Xe(s,t,o):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let o,s;try{o=Ss(n).toUint8Array()}catch(l){if(l instanceof JD)return tu("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new X_(o,i,a)}catch(l){return tu(l instanceof Ac?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(t,r,n){return r.me.count===n-this.nt(t,r.targetId)?0:2}nt(t,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const o=this.Le.tt(),s=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;t.mightContain(s)||(this.Ue(r,a,null),i++)}),i}rt(t){const r=new Map;this.Be.forEach((a,o)=>{const s=this.Je(o);if(s){if(a.current&&rb(s.target)){const l=new le(s.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ar.newNoDocument(l,t))}a.be&&(r.set(o,a.ve()),a.Ce())}});let n=Pe();this.qe.forEach((a,o)=>{let s=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(n=n.add(a))}),this.ke.forEach((a,o)=>o.setReadTime(t));const i=new Bg(t,r,this.Qe,this.ke,n);return this.ke=ia(),this.qe=KT(),this.Qe=new xt(De),i}$e(t,r){if(!this.ze(t))return;const n=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new WT,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new gr(De),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||ae("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new WT),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function KT(){return new xt(le.comparator)}function HT(){return new xt(le.comparator)}const cK={asc:"ASCENDING",desc:"DESCENDING"},dK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fK={and:"AND",or:"OR"};class hK{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function ib(e,t){return e.useProto3Json||Lg(t)?t:{value:t}}function om(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _R(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pK(e,t){return om(e,t.toTimestamp())}function bi(e){return Fe(!!e),pe.fromTimestamp(function(r){const n=go(r);return new Kt(n.seconds,n.nanos)}(e))}function J_(e,t){return ab(e,t).canonicalString()}function ab(e,t){const r=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function ER(e){const t=rt.fromString(e);return Fe(AR(t)),t}function ob(e,t){return J_(e.databaseId,t.path)}function l0(e,t){const r=ER(t);if(r.get(1)!==e.databaseId.projectId)throw new ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new ee(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new le(SR(r))}function kR(e,t){return J_(e.databaseId,t)}function mK(e){const t=ER(e);return t.length===4?rt.emptyPath():SR(t)}function sb(e){return new rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function SR(e){return Fe(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function qT(e,t,r){return{name:ob(e,t),fields:r.value.mapValue.fields}}function gK(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:he()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(Fe(c===void 0||typeof c=="string"),yr.fromBase64String(c||"")):(Fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),yr.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(u){const c=u.code===void 0?W.UNKNOWN:xR(u.code);return new ee(c,u.message||"")}(o);r=new wR(n,i,a,s||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=l0(e,n.document.name),a=bi(n.document.updateTime),o=n.document.createTime?bi(n.document.createTime):pe.min(),s=new qr({mapValue:{fields:n.document.fields}}),l=Ar.newFoundDocument(i,a,o,s),u=n.targetIds||[],c=n.removedTargetIds||[];r=new fp(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=l0(e,n.document),a=n.readTime?bi(n.readTime):pe.min(),o=Ar.newNoDocument(i,a),s=n.removedTargetIds||[];r=new fp([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=l0(e,n.document),a=n.removedTargetIds||[];r=new fp([],a,i,null)}else{if(!("filter"in t))return he();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,o=new aK(i,a),s=n.targetId;r=new bR(s,o)}}return r}function vK(e,t){let r;if(t instanceof nf)r={update:qT(e,t.key,t.value)};else if(t instanceof Y_)r={delete:ob(e,t.key)};else if(t instanceof Io)r={update:qT(e,t.key,t.data),updateMask:PK(t.fieldMask)};else{if(!(t instanceof rK))return he();r={verify:ob(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,o){const s=o.transform;if(s instanceof wd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof _d)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Ed)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof am)return{fieldPath:o.field.canonicalString(),increment:s.Pe};throw he()}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:pK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:he()}(e,t.precondition)),r}function yK(e,t){return e&&e.length>0?(Fe(t!==void 0),e.map(r=>function(i,a){let o=i.updateTime?bi(i.updateTime):bi(a);return o.isEqual(pe.min())&&(o=bi(a)),new ZW(o,i.transformResults||[])}(r,t))):[]}function xK(e,t){return{documents:[kR(e,t.path)]}}function bK(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=kR(e,i);const a=function(u){if(u.length!==0)return TR(ti.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:ll(h.field),direction:EK(h.dir)}}(c))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);const s=ib(e,t.limit);return s!==null&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:r,parent:i}}function wK(e){let t=mK(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Fe(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const h=PR(d);return h instanceof ti&&rR(h)?h.getFilters():[h]}(r.where));let o=[];r.orderBy&&(o=function(d){return d.map(h=>function(v){return new bd(ul(v.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(r.orderBy));let s=null;r.limit&&(s=function(d){let h;return h=typeof d=="object"?d.value:d,Lg(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(d){const h=!!d.before,m=d.values||[];return new nm(m,h)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const h=!d.before,m=d.values||[];return new nm(m,h)}(r.endAt)),$W(t,i,o,a,s,"F",l,u)}function _K(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function PR(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=ul(r.unaryFilter.field);return Mt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=ul(r.unaryFilter.field);return Mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ul(r.unaryFilter.field);return Mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ul(r.unaryFilter.field);return Mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(e):e.fieldFilter!==void 0?function(r){return Mt.create(ul(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return ti.create(r.compositeFilter.filters.map(n=>PR(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(r.compositeFilter.op))}(e):he()}function EK(e){return cK[e]}function kK(e){return dK[e]}function SK(e){return fK[e]}function ll(e){return{fieldPath:e.canonicalString()}}function ul(e){return hr.fromServerFormat(e.fieldPath)}function TR(e){return e instanceof Mt?function(r){if(r.op==="=="){if(jT(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NAN"}};if(NT(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(jT(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NOT_NAN"}};if(NT(r.value))return{unaryFilter:{field:ll(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(r.field),op:kK(r.op),value:r.value}}}(e):e instanceof ti?function(r){const n=r.getFilters().map(i=>TR(i));return n.length===1?n[0]:{compositeFilter:{op:SK(r.op),filters:n}}}(e):he()}function PK(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function AR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(t,r,n,i,a=pe.min(),o=pe.min(),s=yr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(t){return new Ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(t){this.ct=t}}function AK(e){const t=wK({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?im(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(){this.un=new CK}addToCollectionParentIndex(t,r){return this.un.add(r),Y.resolve()}getCollectionParents(t,r){return Y.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return Y.resolve()}deleteFieldIndex(t,r){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,r){return Y.resolve()}getDocumentsMatchingTarget(t,r){return Y.resolve(null)}getIndexType(t,r){return Y.resolve(0)}getFieldIndexes(t,r){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,r){return Y.resolve(mo.min())}getMinOffsetFromCollectionGroup(t,r){return Y.resolve(mo.min())}updateCollectionGroup(t,r,n){return Y.resolve()}updateIndexEntries(t,r){return Y.resolve()}}class CK{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new gr(rt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new gr(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new au(0)}static kn(){return new au(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(){this.changes=new Tu(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Ar.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Y.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NK{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Hc(n.mutation,i,fn.empty(),Kt.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Pe()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Pe()){const i=ts();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let o=Tc();return a.forEach((s,l)=>{o=o.insert(s,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,r){const n=ts();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Pe()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((o,s)=>{r.set(o,s)})})}computeViews(t,r,n,i){let a=ia();const o=Kc(),s=function(){return Kc()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Io)?a=a.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Hc(c.mutation,u,c.mutation.getFieldMask(),Kt.now())):o.set(u.key,fn.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>o.set(u,c)),r.forEach((u,c)=>{var d;return s.set(u,new NK(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),s))}recalculateAndSaveOverlays(t,r){const n=Kc();let i=new xt((o,s)=>o-s),a=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(o=>{for(const s of o)s.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||fn.empty();c=s.applyToLocalView(u,c),n.set(l,c);const d=(i.get(s.batchId)||Pe()).add(l);i=i.insert(s.batchId,d)})}).next(()=>{const o=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,d=dR();c.forEach(h=>{if(!a.has(h)){const m=vR(r.get(h),n.get(h));m!==null&&d.set(h,m),a=a.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return Y.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):oR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):Y.resolve(ts());let s=-1,l=a;return o.next(u=>Y.forEach(u,(c,d)=>(s<d.largestBatchId&&(s=d.largestBatchId),a.get(c)?Y.resolve():this.remoteDocumentCache.getEntry(t,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,Pe())).next(c=>({batchId:s,changes:cR(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new le(r)).next(n=>{let i=Tc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let o=Tc();return this.indexManager.getCollectionParents(t,a).next(s=>Y.forEach(s,l=>{const u=function(d,h){return new Pu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(o=>{a.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Ar.newInvalidDocument(c)))});let s=Tc();return o.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Hc(c.mutation,u,fn.empty(),Kt.now()),Fg(r,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DK{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return Y.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:bi(i.createTime)}}(r)),Y.resolve()}getNamedQuery(t,r){return Y.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:AK(i.bundledQuery),readTime:bi(i.readTime)}}(r)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.overlays=new xt(le.comparator),this.Ir=new Map}getOverlay(t,r){return Y.resolve(this.overlays.get(r))}getOverlays(t,r){const n=ts();return Y.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.ht(t,r,a)}),Y.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),Y.resolve()}getOverlaysForCollection(t,r,n){const i=ts(),a=r.length+1,o=new le(r.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Y.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new xt((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=ts(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=ts(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return Y.resolve(s)}ht(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new iK(r,n));let a=this.Ir.get(r);a===void 0&&(a=Pe(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(){this.sessionToken=yr.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(){this.Tr=new gr(er.Er),this.dr=new gr(er.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const n=new er(t,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Vr(new er(t,r))}mr(t,r){t.forEach(n=>this.removeReference(n,r))}gr(t){const r=new le(new rt([])),n=new er(r,t),i=new er(r,t+1),a=[];return this.dr.forEachInRange([n,i],o=>{this.Vr(o),a.push(o.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new le(new rt([])),n=new er(r,t),i=new er(r,t+1);let a=Pe();return this.dr.forEachInRange([n,i],o=>{a=a.add(o.key)}),a}containsKey(t){const r=new er(t,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class er{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return le.comparator(t.key,r.key)||De(t.wr,r.wr)}static Ar(t,r){return De(t.wr,r.wr)||le.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new gr(er.Er)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nK(a,r,n,i);this.mutationQueue.push(o);for(const s of i)this.br=this.br.add(new er(s.key,a)),this.indexManager.addToCollectionParentIndex(t,s.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(t,r){return Y.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new er(r,0),i=new er(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],o=>{const s=this.Dr(o.wr);a.push(s)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new gr(De);return r.forEach(i=>{const a=new er(i,0),o=new er(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,o],s=>{n=n.add(s.wr)})}),Y.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;le.isDocumentKey(a)||(a=a.child(""));const o=new er(new le(a),0);let s=new gr(De);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},o),Y.resolve(this.Cr(s))}Cr(t){const r=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){Fe(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Y.forEach(r.mutations,i=>{const a=new er(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,r){const n=new er(r,0),i=this.br.firstAfterOrEqual(n);return Y.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(t){this.Mr=t,this.docs=function(){return new xt(le.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return Y.resolve(n?n.document.mutableCopy():Ar.newInvalidDocument(r))}getEntries(t,r){let n=ia();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Ar.newInvalidDocument(i))}),Y.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=ia();const o=r.path,s=new le(o.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||bW(xW(c),n)<=0||(i.has(c.key)||Fg(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(t,r,n,i){he()}Or(t,r){return Y.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new $K(this)}getSize(t){return Y.resolve(this.size)}}class $K extends OK{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),Y.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(t){this.persistence=t,this.Nr=new Tu(r=>H_(r),q_),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Z_,this.targetCount=0,this.kr=au.Bn()}forEachTarget(t,r){return this.Nr.forEach((n,i)=>r(i)),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Y.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new au(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,Y.resolve()}updateTargetData(t,r){return this.Kn(r),Y.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.Nr.forEach((o,s)=>{s.sequenceNumber<=r&&n.get(s.targetId)===null&&(this.Nr.delete(o),a.push(this.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Y.waitFor(a).next(()=>i)}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,r){const n=this.Nr.get(r)||null;return Y.resolve(n)}addMatchingKeys(t,r,n){return this.Br.Rr(r,n),Y.resolve()}removeMatchingKeys(t,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(o=>{a.push(i.markPotentiallyOrphaned(t,o))}),Y.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),Y.resolve()}getMatchingKeysForTargetId(t,r){const n=this.Br.yr(r);return Y.resolve(n)}containsKey(t,r){return Y.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(t,r){this.qr={},this.overlays={},this.Qr=new U_(0),this.Kr=!1,this.Kr=!0,this.$r=new MK,this.referenceDelegate=t(this),this.Ur=new FK(this),this.indexManager=new IK,this.remoteDocumentCache=function(i){return new VK(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new TK(r),this.Gr=new DK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new RK,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.qr[t.toKey()];return n||(n=new LK(r,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,n){ae("MemoryPersistence","Starting transaction:",t);const i=new UK(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(t,r){return Y.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,r)))}}class UK extends _W{constructor(t){super(),this.currentSequenceNumber=t}}class e1{constructor(t){this.persistence=t,this.Jr=new Z_,this.Yr=null}static Zr(t){return new e1(t)}get Xr(){if(this.Yr)return this.Yr;throw he()}addReference(t,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Y.resolve()}removeReference(t,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Y.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),Y.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,n=>{const i=le.fromPath(n);return this.ei(t,i).next(a=>{a||r.removeEntry(i,pe.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return Y.or([()=>Y.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(t,r){let n=Pe(),i=Pe();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new t1(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SB()?8:EW(jr())>0?6:4}()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.Yi(t,r).next(o=>{a.result=o}).next(()=>{if(!a.result)return this.Zi(t,r,i,n).next(o=>{a.result=o})}).next(()=>{if(a.result)return;const o=new BK;return this.Xi(t,r,o).next(s=>{if(a.result=s,this.zi)return this.es(t,r,o,s.size)})}).next(()=>a.result)}es(t,r,n,i){return n.documentReadCount<this.ji?(dc()<=Ae.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",sl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(dc()<=Ae.DEBUG&&ae("QueryEngine","Query:",sl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(dc()<=Ae.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",sl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(r))):Y.resolve())}Yi(t,r){if(LT(r))return Y.resolve(null);let n=xi(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=im(r,null,"F"),n=xi(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const o=Pe(...a);return this.Ji.getDocuments(t,o).next(s=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.ts(r,s);return this.ns(r,u,o,l.readTime)?this.Yi(t,im(r,null,"F")):this.rs(t,u,r,l)}))})))}Zi(t,r,n,i){return LT(r)||i.isEqual(pe.min())?Y.resolve(null):this.Ji.getDocuments(t,n).next(a=>{const o=this.ts(r,a);return this.ns(r,o,n,i)?Y.resolve(null):(dc()<=Ae.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),sl(r)),this.rs(t,o,r,yW(i,-1)).next(s=>s))})}ts(t,r){let n=new gr(lR(t));return r.forEach((i,a)=>{Fg(t,a)&&(n=n.add(a))}),n}ns(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(t,r,n){return dc()<=Ae.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",sl(r)),this.Ji.getDocumentsMatchingQuery(t,r,mo.min(),n)}rs(t,r,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(o=>{a=a.insert(o.key,o)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(t,r,n,i){this.persistence=t,this.ss=r,this.serializer=i,this.os=new xt(De),this._s=new Tu(a=>H_(a),q_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function HK(e,t,r,n){return new KK(e,t,r,n)}async function IR(e,t){const r=me(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const o=[],s=[];let l=Pe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:s}))})})}function qK(e,t){const r=me(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const d=u.batch,h=d.keys();let m=Y.resolve();return h.forEach(v=>{m=m.next(()=>c.getEntry(l,v)).next(b=>{const y=u.docVersions.get(v);Fe(y!==null),b.version.compareTo(y)<0&&(d.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),c.addEntry(b)))})}),m.next(()=>s.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(s){let l=Pe();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function CR(e){const t=me(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function GK(e,t){const r=me(e),n=t.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const s=[];t.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;s.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,d)));let m=h.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(yr.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(b,y,x){return b.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,c)&&s.push(r.Ur.updateTargetData(a,m))});let l=ia(),u=Pe();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&s.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),s.push(YK(a,o,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(pe.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));s.push(c)}return Y.waitFor(s).next(()=>o.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function YK(e,t,r){let n=Pe(),i=Pe();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let o=ia();return r.forEach((s,l)=>{const u=a.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(pe.min())?(t.removeEntry(s,l.readTime),o=o.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(s,l)):ae("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function QK(e,t){const r=me(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function XK(e,t){const r=me(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,t).next(a=>a?(i=a,Y.resolve(i)):r.Ur.allocateTargetId(n).next(o=>(i=new Ya(t,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(t,n.targetId)),n})}async function lb(e,t,r){const n=me(e),i=n.os.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!rf(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function GT(e,t,r){const n=me(e);let i=pe.min(),a=Pe();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=me(l),h=d._s.get(c);return h!==void 0?Y.resolve(d.os.get(h)):d.Ur.getTargetData(u,c)}(n,o,xi(t)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,s.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,t,r?i:pe.min(),r?a:Pe())).next(s=>(JK(n,zW(t),s),{documents:s,Ts:a})))}function JK(e,t,r){let n=e.us.get(t)||pe.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.us.set(t,n)}class YT{constructor(){this.activeTargetIds=qW()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ZK{constructor(){this.so=new YT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,n){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new YT,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sh=null;function u0(){return Sh===null?Sh=function(){return 268435456+Math.round(2147483648*Math.random())}():Sh++,"0x"+Sh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class nH extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,o){const s=u0(),l=this.xo(r,n.toUriEncodedString());ae("RestConnection",`Sending RPC '${r}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,o),this.No(r,l,u,i).then(c=>(ae("RestConnection",`Received RPC '${r}' ${s}: `,c),c),c=>{throw tu("RestConnection",`RPC '${r}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,o,s){return this.Mo(r,n,i,a,o)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Su}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,o)=>r[o]=a),i&&i.headers.forEach((a,o)=>r[o]=a)}xo(r,n){const i=tH[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,n,i){const a=u0();return new Promise((o,s)=>{const l=new WD;l.setWithCredentials(!0),l.listenOnce(KD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case up.NO_ERROR:const c=l.getResponseJson();ae(kr,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(c)),o(c);break;case up.TIMEOUT:ae(kr,`RPC '${t}' ${a} timed out`),s(new ee(W.DEADLINE_EXCEEDED,"Request time out"));break;case up.HTTP_ERROR:const d=l.getStatus();if(ae(kr,`RPC '${t}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const m=h==null?void 0:h.error;if(m&&m.status&&m.message){const v=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(x)>=0?x:W.UNKNOWN}(m.status);s(new ee(v,m.message))}else s(new ee(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new ee(W.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{ae(kr,`RPC '${t}' ${a} completed.`)}});const u=JSON.stringify(i);ae(kr,`RPC '${t}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(t,r,n){const i=u0(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=GD(),s=qD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");ae(kr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,m=!1;const v=new rH({Io:y=>{m?ae(kr,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(h||(ae(kr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),h=!0),ae(kr,`RPC '${t}' stream ${i} sending:`,y),d.send(y))},To:()=>d.close()}),b=(y,x,_)=>{y.listen(x,k=>{try{_(k)}catch(T){setTimeout(()=>{throw T},0)}})};return b(d,Pc.EventType.OPEN,()=>{m||(ae(kr,`RPC '${t}' stream ${i} transport opened.`),v.yo())}),b(d,Pc.EventType.CLOSE,()=>{m||(m=!0,ae(kr,`RPC '${t}' stream ${i} transport closed`),v.So())}),b(d,Pc.EventType.ERROR,y=>{m||(m=!0,tu(kr,`RPC '${t}' stream ${i} transport errored:`,y),v.So(new ee(W.UNAVAILABLE,"The operation could not be completed")))}),b(d,Pc.EventType.MESSAGE,y=>{var x;if(!m){const _=y.data[0];Fe(!!_);const k=_,T=k.error||((x=k[0])===null||x===void 0?void 0:x.error);if(T){ae(kr,`RPC '${t}' stream ${i} received error:`,T);const I=T.status;let j=function(A){const C=jt[A];if(C!==void 0)return xR(C)}(I),E=T.message;j===void 0&&(j=W.INTERNAL,E="Unknown error status: "+I+" with message "+T.message),m=!0,v.So(new ee(j,E)),d.close()}else ae(kr,`RPC '${t}' stream ${i} received:`,_),v.bo(_)}}),b(s,HD.STAT_EVENT,y=>{y.stat===Jx.PROXY?ae(kr,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===Jx.NOPROXY&&ae(kr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function c0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wg(e){return new hK(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,r,n=1e3,i=1.5,a=6e4){this.ui=t,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,r,n,i,a,o,s,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new OR(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===W.RESOURCE_EXHAUSTED?(na(r.toString()),na("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{t(()=>{const i=new ee(W.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,r){const n=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return ae("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iH extends NR{constructor(t,r,n,i,a,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=gK(this.serializer,t),n=function(a){if(!("targetChange"in a))return pe.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?pe.min():o.readTime?bi(o.readTime):pe.min()}(t);return this.listener.d_(r,n)}A_(t){const r={};r.database=sb(this.serializer),r.addTarget=function(a,o){let s;const l=o.target;if(s=rb(l)?{documents:xK(a,l)}:{query:bK(a,l)._t},s.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){s.resumeToken=_R(a,o.resumeToken);const u=ib(a,o.expectedCount);u!==null&&(s.expectedCount=u)}else if(o.snapshotVersion.compareTo(pe.min())>0){s.readTime=om(a,o.snapshotVersion.toTimestamp());const u=ib(a,o.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,t);const n=_K(this.serializer,t);n&&(r.labels=n),this.a_(r)}R_(t){const r={};r.database=sb(this.serializer),r.removeTarget=t,this.a_(r)}}class aH extends NR{constructor(t,r,n,i,a,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,o),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return Fe(!!t.streamToken),this.lastStreamToken=t.streamToken,Fe(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Fe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=yK(t.writeResults,t.commitTime),n=bi(t.commitTime);return this.listener.g_(n,r)}p_(){const t={};t.database=sb(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>vK(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oH extends class{}{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Mo(t,ab(r,n),i,a,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(W.UNKNOWN,a.toString())})}Lo(t,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Lo(t,ab(r,n),i,o,s,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(W.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sH{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(na(r),this.D_=!1):ae("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(o=>{n.enqueueAndForget(async()=>{Ws(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=me(l);u.L_.add(4),await of(u),u.q_.set("Unknown"),u.L_.delete(4),await Kg(u)}(this))})}),this.q_=new sH(n,i)}}async function Kg(e){if(Ws(e))for(const t of e.B_)await t(!0)}async function of(e){for(const t of e.B_)await t(!1)}function jR(e,t){const r=me(e);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),a1(r)?i1(r):Au(r).r_()&&n1(r,t))}function r1(e,t){const r=me(e),n=Au(r);r.N_.delete(t),n.r_()&&DR(r,t),r.N_.size===0&&(n.r_()?n.o_():Ws(r)&&r.q_.set("Unknown"))}function n1(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pe.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Au(e).A_(t)}function DR(e,t){e.Q_.xe(t),Au(e).R_(t)}function i1(e){e.Q_=new uK({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Au(e).start(),e.q_.v_()}function a1(e){return Ws(e)&&!Au(e).n_()&&e.N_.size>0}function Ws(e){return me(e).L_.size===0}function RR(e){e.Q_=void 0}async function uH(e){e.q_.set("Online")}async function cH(e){e.N_.forEach((t,r)=>{n1(e,t)})}async function dH(e,t){RR(e),a1(e)?(e.q_.M_(t),i1(e)):e.q_.set("Unknown")}async function fH(e,t,r){if(e.q_.set("Online"),t instanceof wR&&t.state===2&&t.cause)try{await async function(i,a){const o=a.cause;for(const s of a.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,o),i.N_.delete(s),i.Q_.removeTarget(s))}(e,t)}catch(n){ae("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await sm(e,n)}else if(t instanceof fp?e.Q_.Ke(t):t instanceof bR?e.Q_.He(t):e.Q_.We(t),!r.isEqual(pe.min()))try{const n=await CR(e.localStore);r.compareTo(n)>=0&&await function(a,o){const s=a.Q_.rt(o);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,o))}}),s.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(yr.EMPTY_BYTE_STRING,c.snapshotVersion)),DR(a,l);const d=new Ya(c.target,l,u,c.sequenceNumber);n1(a,d)}),a.remoteSyncer.applyRemoteEvent(s)}(e,r)}catch(n){ae("RemoteStore","Failed to raise snapshot:",n),await sm(e,n)}}async function sm(e,t,r){if(!rf(t))throw t;e.L_.add(1),await of(e),e.q_.set("Offline"),r||(r=()=>CR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await r(),e.L_.delete(1),await Kg(e)})}function MR(e,t){return t().catch(r=>sm(e,r,t))}async function Hg(e){const t=me(e),r=vo(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;hH(t);)try{const i=await QK(t.localStore,n);if(i===null){t.O_.length===0&&r.o_();break}n=i.batchId,pH(t,i)}catch(i){await sm(t,i)}LR(t)&&VR(t)}function hH(e){return Ws(e)&&e.O_.length<10}function pH(e,t){e.O_.push(t);const r=vo(e);r.r_()&&r.V_&&r.m_(t.mutations)}function LR(e){return Ws(e)&&!vo(e).n_()&&e.O_.length>0}function VR(e){vo(e).start()}async function mH(e){vo(e).p_()}async function gH(e){const t=vo(e);for(const r of e.O_)t.m_(r.mutations)}async function vH(e,t,r){const n=e.O_.shift(),i=Q_.from(n,t,r);await MR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Hg(e)}async function yH(e,t){t&&vo(e).V_&&await async function(n,i){if(function(o){return oK(o)&&o!==W.ABORTED}(i.code)){const a=n.O_.shift();vo(n).s_(),await MR(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Hg(n)}}(e,t),LR(e)&&VR(e)}async function XT(e,t){const r=me(e);r.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const n=Ws(r);r.L_.add(3),await of(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await Kg(r)}async function xH(e,t){const r=me(e);t?(r.L_.delete(2),await Kg(r)):t||(r.L_.add(2),await of(r),r.q_.set("Unknown"))}function Au(e){return e.K_||(e.K_=function(r,n,i){const a=me(r);return a.w_(),new iH(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:uH.bind(null,e),Ro:cH.bind(null,e),mo:dH.bind(null,e),d_:fH.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),a1(e)?i1(e):e.q_.set("Unknown")):(await e.K_.stop(),RR(e))})),e.K_}function vo(e){return e.U_||(e.U_=function(r,n,i){const a=me(r);return a.w_(),new aH(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mH.bind(null,e),mo:yH.bind(null,e),f_:gH.bind(null,e),g_:vH.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Hg(e)):(await e.U_.stop(),e.O_.length>0&&(ae("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const o=Date.now()+n,s=new o1(t,r,o,i,a);return s.start(n),s}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s1(e,t){if(na("AsyncQueue",`${t}: ${e}`),rf(e))return new ee(W.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t){this.comparator=t?(r,n)=>t(r,n)||le.comparator(r.key,n.key):(r,n)=>le.comparator(r.key,n.key),this.keyedMap=Tc(),this.sortedSet=new xt(this.comparator)}static emptySet(t){return new Vl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Vl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Vl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.W_=new xt(le.comparator)}track(t){const r=t.doc.key,n=this.W_.get(r);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(r,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(r):t.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):he():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,n)=>{t.push(n)}),t}}class ou{constructor(t,r,n,i,a,o,s,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const o=[];return r.forEach(s=>{o.push({type:0,doc:s})}),new ou(t,r,Vl.emptySet(r),o,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&$g(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class wH{constructor(){this.queries=ZT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=me(r),a=i.queries;i.queries=ZT(),a.forEach((o,s)=>{for(const l of s.j_)l.onError(n)})})(this,new ee(W.ABORTED,"Firestore shutting down"))}}function ZT(){return new Tu(e=>sR(e),$g)}async function l1(e,t){const r=me(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.H_()&&t.J_()&&(n=2):(a=new bH,n=t.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(o){const s=s1(o,`Initialization of query '${sl(t.query)}' failed`);return void t.onError(s)}r.queries.set(i,a),a.j_.push(t),t.Z_(r.onlineState),a.z_&&t.X_(a.z_)&&c1(r)}async function u1(e,t){const r=me(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const o=a.j_.indexOf(t);o>=0&&(a.j_.splice(o,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function _H(e,t){const r=me(e);let n=!1;for(const i of t){const a=i.query,o=r.queries.get(a);if(o){for(const s of o.j_)s.X_(i)&&(n=!0);o.z_=i}}n&&c1(r)}function EH(e,t,r){const n=me(e),i=n.queries.get(t);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(t)}function c1(e){e.Y_.forEach(t=>{t.next()})}var ub,eA;(eA=ub||(ub={})).ea="default",eA.Cache="cache";class d1{constructor(t,r,n){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new ou(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=ou.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==ub.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t){this.key=t}}class FR{constructor(t){this.key=t}}class kH{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=lR(t),this.Ra=new Vl(this.Aa)}get Va(){return this.Ta}ma(t,r){const n=r?r.fa:new JT,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,o=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const h=i.get(c),m=Fg(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let y=!1;h&&m?h.data.isEqual(m.data)?v!==b&&(n.track({type:3,doc:m}),y=!0):this.ga(h,m)||(n.track({type:2,doc:m}),y=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(s=!0)):!h&&m?(n.track({type:0,doc:m}),y=!0):h&&!m&&(n.track({type:1,doc:h}),y=!0,(l||u)&&(s=!0)),y&&(m?(o=o.add(m),a=b?a.add(c):a.delete(c)):(o=o.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:o,fa:n,ns:s,mutatedKeys:a}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const o=t.fa.G_();o.sort((c,d)=>function(m,v){const b=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he()}};return b(m)-b(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const s=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ou(this.query,t.Ra,a,o,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new JT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Pe(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return t.forEach(n=>{this.da.has(n)||r.push(new FR(n))}),this.da.forEach(n=>{t.has(n)||r.push(new $R(n))}),r}ba(t){this.Ta=t.Ts,this.da=Pe();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return ou.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SH{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class PH{constructor(t){this.key=t,this.va=!1}}class TH{constructor(t,r,n,i,a,o){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Tu(s=>sR(s),$g),this.Ma=new Map,this.xa=new Set,this.Oa=new xt(le.comparator),this.Na=new Map,this.La=new Z_,this.Ba={},this.ka=new Map,this.qa=au.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function AH(e,t,r=!0){const n=HR(e);let i;const a=n.Fa.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await zR(n,t,r,!0),i}async function IH(e,t){const r=HR(e);await zR(r,t,!0,!1)}async function zR(e,t,r,n){const i=await XK(e.localStore,xi(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,r);let s;return n&&(s=await CH(e,t,a,o==="current",i.resumeToken)),e.isPrimaryClient&&r&&jR(e.remoteStore,i),s}async function CH(e,t,r,n,i){e.Ka=(d,h,m)=>async function(b,y,x,_){let k=y.view.ma(x);k.ns&&(k=await GT(b.localStore,y.query,!1).then(({documents:E})=>y.view.ma(E,k)));const T=_&&_.targetChanges.get(y.targetId),I=_&&_.targetMismatches.get(y.targetId)!=null,j=y.view.applyChanges(k,b.isPrimaryClient,T,I);return rA(b,y.targetId,j.wa),j.snapshot}(e,d,h,m);const a=await GT(e.localStore,t,!0),o=new kH(t,a.Ts),s=o.ma(a.documents),l=af.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=o.applyChanges(s,e.isPrimaryClient,l);rA(e,r,u.wa);const c=new SH(t,r,o);return e.Fa.set(t,c),e.Ma.has(r)?e.Ma.get(r).push(t):e.Ma.set(r,[t]),u.snapshot}async function OH(e,t,r){const n=me(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(o=>!$g(o,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await lb(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&r1(n.remoteStore,i.targetId),cb(n,i.targetId)}).catch(tf)):(cb(n,i.targetId),await lb(n.localStore,i.targetId,!0))}async function NH(e,t){const r=me(e),n=r.Fa.get(t),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),r1(r.remoteStore,n.targetId))}async function jH(e,t,r){const n=FH(e);try{const i=await function(o,s){const l=me(o),u=Kt.now(),c=s.reduce((m,v)=>m.add(v.key),Pe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ia(),b=Pe();return l.cs.getEntries(m,c).next(y=>{v=y,v.forEach((x,_)=>{_.isValidDocument()||(b=b.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(y=>{d=y;const x=[];for(const _ of s){const k=tK(_,d.get(_.key).overlayedDocument);k!=null&&x.push(new Io(_.key,k,ZD(k.value.mapValue),Nn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,x,s)}).next(y=>{h=y;const x=y.applyToLocalDocumentSet(d,b);return l.documentOverlayCache.saveOverlays(m,y.batchId,x)})}).then(()=>({batchId:h.batchId,changes:cR(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(o,s,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new xt(De)),u=u.insert(s,l),o.Ba[o.currentUser.toKey()]=u}(n,i.batchId,r),await sf(n,i.changes),await Hg(n.remoteStore)}catch(i){const a=s1(i,"Failed to persist write");r.reject(a)}}async function UR(e,t){const r=me(e);try{const n=await GK(r.localStore,t);t.targetChanges.forEach((i,a)=>{const o=r.Na.get(a);o&&(Fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Fe(o.va):i.removedDocuments.size>0&&(Fe(o.va),o.va=!1))}),await sf(r,n,t)}catch(n){await tf(n)}}function tA(e,t,r){const n=me(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,o)=>{const s=o.view.Z_(t);s.snapshot&&i.push(s.snapshot)}),function(o,s){const l=me(o);l.onlineState=s;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.j_)h.Z_(s)&&(u=!0)}),u&&c1(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function DH(e,t,r){const n=me(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Na.get(t),a=i&&i.key;if(a){let o=new xt(le.comparator);o=o.insert(a,Ar.newNoDocument(a,pe.min()));const s=Pe().add(a),l=new Bg(pe.min(),new Map,new xt(De),o,s);await UR(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(t),f1(n)}else await lb(n.localStore,t,!1).then(()=>cb(n,t,r)).catch(tf)}async function RH(e,t){const r=me(e),n=t.batch.batchId;try{const i=await qK(r.localStore,t);WR(r,n,null),BR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await sf(r,i)}catch(i){await tf(i)}}async function MH(e,t,r){const n=me(e);try{const i=await function(o,s){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(d=>(Fe(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);WR(n,t,r),BR(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await sf(n,i)}catch(i){await tf(i)}}function BR(e,t){(e.ka.get(t)||[]).forEach(r=>{r.resolve()}),e.ka.delete(t)}function WR(e,t,r){const n=me(e);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function cb(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),r&&e.Ca.$a(n,r);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(n=>{e.La.containsKey(n)||KR(e,n)})}function KR(e,t){e.xa.delete(t.path.canonicalString());const r=e.Oa.get(t);r!==null&&(r1(e.remoteStore,r),e.Oa=e.Oa.remove(t),e.Na.delete(r),f1(e))}function rA(e,t,r){for(const n of r)n instanceof $R?(e.La.addReference(n.key,t),LH(e,n)):n instanceof FR?(ae("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||KR(e,n.key)):he()}function LH(e,t){const r=t.key,n=r.path.canonicalString();e.Oa.get(r)||e.xa.has(n)||(ae("SyncEngine","New document in limbo: "+r),e.xa.add(n),f1(e))}function f1(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const r=new le(rt.fromString(t)),n=e.qa.next();e.Na.set(n,new PH(r)),e.Oa=e.Oa.insert(r,n),jR(e.remoteStore,new Ya(xi(Vg(r.path)),n,"TargetPurposeLimboResolution",U_.oe))}}async function sf(e,t,r){const n=me(e),i=[],a=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((s,l)=>{o.push(n.Ka(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=t1.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(o),n.Ca.d_(i),await async function(l,u){const c=me(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>Y.forEach(u,h=>Y.forEach(h.$i,m=>c.persistence.referenceDelegate.addReference(d,h.targetId,m)).next(()=>Y.forEach(h.Ui,m=>c.persistence.referenceDelegate.removeReference(d,h.targetId,m)))))}catch(d){if(!rf(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const m=c.os.get(h),v=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(h,b)}}}(n.localStore,a))}async function VH(e,t){const r=me(e);if(!r.currentUser.isEqual(t)){ae("SyncEngine","User change. New user:",t.toKey());const n=await IR(r.localStore,t);r.currentUser=t,function(a,o){a.ka.forEach(s=>{s.forEach(l=>{l.reject(new ee(W.CANCELLED,o))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await sf(r,n.hs)}}function $H(e,t){const r=me(e),n=r.Na.get(t);if(n&&n.va)return Pe().add(n.key);{let i=Pe();const a=r.Ma.get(t);if(!a)return i;for(const o of a){const s=r.Fa.get(o);i=i.unionWith(s.view.Va)}return i}}function HR(e){const t=me(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$H.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=DH.bind(null,t),t.Ca.d_=_H.bind(null,t.eventManager),t.Ca.$a=EH.bind(null,t.eventManager),t}function FH(e){const t=me(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RH.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MH.bind(null,t),t}class lm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Wg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return HK(this.persistence,new WK,t.initialUser,this.serializer)}Ga(t){return new zK(e1.Zr,this.serializer)}Wa(t){return new ZK}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lm.provider={build:()=>new lm};class db{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>tA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=VH.bind(null,this.syncEngine),await xH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wH}()}createDatastore(t){const r=Wg(t.databaseInfo.databaseId),n=function(a){return new nH(a)}(t.databaseInfo);return function(a,o,s,l){return new oH(a,o,s,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,o,s){return new lH(n,i,a,o,s)}(this.localStore,this.datastore,t.asyncQueue,r=>tA(this.syncEngine,r,0),function(){return QT.D()?new QT:new eH}())}createSyncEngine(t,r){return function(i,a,o,s,l,u,c){const d=new TH(i,a,o,s,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=me(i);ae("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await of(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}db.provider={build:()=>new db};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):na("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Pr.UNAUTHENTICATED,this.clientId=QD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async o=>{ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=s1(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function d0(e,t){e.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await IR(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function nA(e,t){e.asyncQueue.verifyOperationInProgress();const r=await UH(e);ae("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>XT(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>XT(t.remoteStore,i)),e._onlineComponents=t}async function UH(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await d0(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;tu("Error using user provided cache. Falling back to memory cache: "+r),await d0(e,new lm)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await d0(e,new lm);return e._offlineComponents}async function qR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await nA(e,e._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await nA(e,new db))),e._onlineComponents}function BH(e){return qR(e).then(t=>t.syncEngine)}async function um(e){const t=await qR(e),r=t.eventManager;return r.onListen=AH.bind(null,t.syncEngine),r.onUnlisten=OH.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=IH.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=NH.bind(null,t.syncEngine),r}function WH(e,t,r={}){const n=new qi;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new h1({next:h=>{c.Za(),o.enqueueAndForget(()=>u1(a,d));const m=h.docs.has(s);!m&&h.fromCache?u.reject(new ee(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?u.reject(new ee(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new d1(Vg(s.path),c,{includeMetadataChanges:!0,_a:!0});return l1(a,d)}(await um(e),e.asyncQueue,t,r,n)),n.promise}function KH(e,t,r={}){const n=new qi;return e.asyncQueue.enqueueAndForget(async()=>function(a,o,s,l,u){const c=new h1({next:h=>{c.Za(),o.enqueueAndForget(()=>u1(a,d)),h.fromCache&&l.source==="server"?u.reject(new ee(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new d1(s,c,{includeMetadataChanges:!0,_a:!0});return l1(a,d)}(await um(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(e,t,r){if(!r)throw new ee(W.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function HH(e,t,r,n){if(t===!0&&n===!0)throw new ee(W.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function aA(e){if(!le.isDocumentKey(e))throw new ee(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oA(e){if(le.isDocumentKey(e))throw new ee(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function qg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":he()}function Zr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ee(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qg(e);throw new ee(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new ee(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new ee(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ee(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Gg{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ee(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sA(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new uW;switch(n.type){case"firstParty":return new hW(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ee(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=iA.get(r);n&&(ae("ComponentProvider","Removing Datastore"),iA.delete(r),n.terminate())}(this),Promise.resolve()}}function qH(e,t,r,n={}){var i;const a=(e=Zr(e,Gg))._getSettings(),o=`${t}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==o&&tu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),n.mockUserToken){let s,l;if(typeof n.mockUserToken=="string")s=n.mockUserToken,l=Pr.MOCK_USER;else{s=yB(n.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new ee(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pr(u)}e._authCredentials=new cW(new YD(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new ya(this.firestore,t,this._query)}}class Cr{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Cr(this.firestore,t,this._key)}}class co extends ya{constructor(t,r,n){super(t,r,Vg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Cr(this.firestore,null,new le(t))}withConverter(t){return new co(this.firestore,t,this._path)}}function Tt(e,t,...r){if(e=yt(e),YR("collection","path",t),e instanceof Gg){const n=rt.fromString(t,...r);return oA(n),new co(e,null,n)}{if(!(e instanceof Cr||e instanceof co))throw new ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rt.fromString(t,...r));return oA(n),new co(e.firestore,null,n)}}function ht(e,t,...r){if(e=yt(e),arguments.length===1&&(t=QD.newId()),YR("doc","path",t),e instanceof Gg){const n=rt.fromString(t,...r);return aA(n),new Cr(e,null,new le(n))}{if(!(e instanceof Cr||e instanceof co))throw new ee(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rt.fromString(t,...r));return aA(n),new Cr(e.firestore,e instanceof co?e.converter:null,new le(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OR(this,"async_queue_retry"),this.Vu=()=>{const n=c0();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const r=c0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=c0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new qi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!rf(t))throw t;ae("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(o){let s=o.message||"";return o.stack&&(s=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),s}(n);throw na("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(t,r,n){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const i=o1.createAndSchedule(this,t,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&he()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function uA(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class aa extends Gg{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new lA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lA(t),this._firestoreClient=void 0,await t}}}function GH(e,t){const r=typeof e=="object"?e:nD(),n=typeof e=="string"?e:"(default)",i=O_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=gB("firestore");a&&qH(i,...a)}return i}function Yg(e){if(e._terminated)throw new ee(W.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||YH(e),e._firestoreClient}function YH(e){var t,r,n;const i=e._freezeSettings(),a=function(s,l,u,c){return new PW(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,GR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new zH(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(s){const l=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t){this._byteString=t}static fromBase64String(t){try{return new su(yr.fromBase64String(t))}catch(r){throw new ee(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new su(yr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ee(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ee(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ee(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return De(this._lat,t._lat)||De(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QH=/^__.*__$/;class XH{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Io(t,this.data,this.fieldMask,r,this.fieldTransforms):new nf(t,this.data,r,this.fieldTransforms)}}class QR{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Io(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function XR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}class g1{constructor(t,r,n,i,a,o){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new g1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return cm(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(XR(this.Cu)&&QH.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class JH{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Wg(t)}Qu(t,r,n,i=!1){return new g1({Cu:t,methodName:r,qu:n,path:hr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jg(e){const t=e._freezeSettings(),r=Wg(e._databaseId);return new JH(e._databaseId,!!t.ignoreUndefinedProperties,r)}function JR(e,t,r,n,i,a={}){const o=e.Qu(a.merge||a.mergeFields?2:0,t,r,i);y1("Data must be an object, but it was:",o,n);const s=ZR(n,o);let l,u;if(a.merge)l=new fn(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const h=fb(t,d,r);if(!o.contains(h))throw new ee(W.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);tM(c,h)||c.push(h)}l=new fn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new XH(new qr(s),l,u)}class Zg extends Xg{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Zg}}class v1 extends Xg{_toFieldTransform(t){return new XW(t.path,new wd)}isEqual(t){return t instanceof v1}}function ZH(e,t,r,n){const i=e.Qu(1,t,r);y1("Data must be an object, but it was:",i,n);const a=[],o=qr.empty();Bs(n,(l,u)=>{const c=x1(t,l,r);u=yt(u);const d=i.Nu(c);if(u instanceof Zg)a.push(c);else{const h=lf(u,d);h!=null&&(a.push(c),o.set(c,h))}});const s=new fn(a);return new QR(o,s,i.fieldTransforms)}function eq(e,t,r,n,i,a){const o=e.Qu(1,t,r),s=[fb(t,n,r)],l=[i];if(a.length%2!=0)throw new ee(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(fb(t,a[h])),l.push(a[h+1]);const u=[],c=qr.empty();for(let h=s.length-1;h>=0;--h)if(!tM(u,s[h])){const m=s[h];let v=l[h];v=yt(v);const b=o.Nu(m);if(v instanceof Zg)u.push(m);else{const y=lf(v,b);y!=null&&(u.push(m),c.set(m,y))}}const d=new fn(u);return new QR(c,d,o.fieldTransforms)}function tq(e,t,r,n=!1){return lf(r,e.Qu(n?4:3,t))}function lf(e,t){if(eM(e=yt(e)))return y1("Unsupported field value:",t,e),ZR(e,t);if(e instanceof Xg)return function(n,i){if(!XR(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const a=[];let o=0;for(const s of n){let l=lf(s,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),o++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=yt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return GW(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Kt.fromDate(n);return{timestampValue:om(i.serializer,a)}}if(n instanceof Kt){const a=new Kt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:om(i.serializer,a)}}if(n instanceof p1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof su)return{bytesValue:_R(i.serializer,n._byteString)};if(n instanceof Cr){const a=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(a))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:J_(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof m1)return function(o,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return G_(s.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${qg(n)}`)}(e,t)}function ZR(e,t){const r={};return XD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bs(e,(n,i)=>{const a=lf(i,t.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function eM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Kt||e instanceof p1||e instanceof su||e instanceof Cr||e instanceof Xg||e instanceof m1)}function y1(e,t,r){if(!eM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=qg(r);throw n==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function fb(e,t,r){if((t=yt(t))instanceof Qg)return t._internalPath;if(typeof t=="string")return x1(e,t);throw cm("Field path arguments must be of type string or ",e,!1,void 0,r)}const rq=new RegExp("[~\\*/\\[\\]]");function x1(e,t,r){if(t.search(rq)>=0)throw cm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Qg(...t.split("."))._internalPath}catch{throw cm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function cm(e,t,r,n,i){const a=n&&!n.isEmpty(),o=i!==void 0;let s=`Function ${t}() called with invalid data`;r&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${n}`),o&&(l+=` in document ${i}`),l+=")"),new ee(W.INVALID_ARGUMENT,s+e+l)}function tM(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(ev("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class nq extends rM{data(){return super.data()}}function ev(e,t){return typeof t=="string"?x1(e,t):t instanceof Qg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ee(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b1{}class w1 extends b1{}function en(e,t,...r){let n=[];t instanceof b1&&n.push(t),n=n.concat(r),function(a){const o=a.filter(l=>l instanceof _1).length,s=a.filter(l=>l instanceof tv).length;if(o>1||o>0&&s>0)throw new ee(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class tv extends w1{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new tv(t,r,n)}_apply(t){const r=this._parse(t);return iM(t._query,r),new ya(t.firestore,t.converter,nb(t._query,r))}_parse(t){const r=Jg(t.firestore);return function(a,o,s,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new ee(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){dA(d,c);const m=[];for(const v of d)m.push(cA(l,a,v));h={arrayValue:{values:m}}}else h=cA(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||dA(d,c),h=tq(s,o,d,c==="in"||c==="not-in");return Mt.create(u,c,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Bt(e,t,r){const n=t,i=ev("where",e);return tv._create(i,n,r)}class _1 extends b1{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new _1(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ti.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let o=i;const s=a.getFlattenedFilters();for(const l of s)iM(o,l),o=nb(o,l)}(t._query,r),new ya(t.firestore,t.converter,nb(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E1 extends w1{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new E1(t,r)}_apply(t){const r=function(i,a,o){if(i.startAt!==null)throw new ee(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ee(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bd(a,o)}(t._query,this._field,this._direction);return new ya(t.firestore,t.converter,function(i,a){const o=i.explicitOrderBy.concat([a]);return new Pu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function iq(e,t="asc"){const r=t,n=ev("orderBy",e);return E1._create(n,r)}class k1 extends w1{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new k1(t,r,n)}_apply(t){return new ya(t.firestore,t.converter,im(t._query,this._limit,this._limitType))}}function aq(e){return k1._create("limit",e,"F")}function cA(e,t,r){if(typeof(r=yt(r))=="string"){if(r==="")throw new ee(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oR(t)&&r.indexOf("/")!==-1)throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(rt.fromString(r));if(!le.isDocumentKey(n))throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return OT(e,new le(n))}if(r instanceof Cr)return OT(e,r._key);throw new ee(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qg(r)}.`)}function dA(e,t){if(!Array.isArray(e)||e.length===0)throw new ee(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iM(e,t){const r=function(i,a){for(const o of i)for(const s of o.getFlattenedFilters())if(a.indexOf(s.op)>=0)return s.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new ee(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ee(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class oq{convertValue(t,r="none"){switch(Ps(t)){case 0:return null;case 1:return t.booleanValue;case 2:return It(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw he()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Bs(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var r,n,i;const a=(i=(n=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(o=>It(o.doubleValue));return new m1(a)}convertGeoPoint(t){return new p1(It(t.latitude),It(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=W_(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(vd(t));default:return null}}convertTimestamp(t){const r=go(t);return new Kt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=rt.fromString(t);Fe(AR(n));const i=new yd(n.get(1),n.get(3)),a=new le(n.popFirst(5));return i.isEqual(r)||na(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oM extends rM{constructor(t,r,n,i,a,o){super(t,r,n,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(ev("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class hp extends oM{data(t={}){return super.data(t)}}class sM{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ic(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new hp(this._firestore,this._userDataWriter,n.key,n,new Ic(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ee(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(s=>{const l=new hp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ic(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>a||s.type!==3).map(s=>{const l=new hp(i._firestore,i._userDataWriter,s.doc.key,s.doc,new Ic(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=o.indexOf(s.doc.key),o=o.delete(s.doc.key)),s.type!==1&&(o=o.add(s.doc),c=o.indexOf(s.doc.key)),{type:sq(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function sq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lq(e){e=Zr(e,Cr);const t=Zr(e.firestore,aa);return WH(Yg(t),e._key).then(r=>lM(t,e,r))}class S1 extends oq{constructor(t){super(),this.firestore=t}convertBytes(t){return new su(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Cr(this.firestore,null,r)}}function hb(e){e=Zr(e,ya);const t=Zr(e.firestore,aa),r=Yg(t),n=new S1(t);return nM(e._query),KH(r,e._query).then(i=>new sM(t,n,e,i))}function Qa(e,t,r){e=Zr(e,Cr);const n=Zr(e.firestore,aa),i=aM(e.converter,t,r);return nv(n,[JR(Jg(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Nn.none())])}function Wa(e,t,r,...n){e=Zr(e,Cr);const i=Zr(e.firestore,aa),a=Jg(i);let o;return o=typeof(t=yt(t))=="string"||t instanceof Qg?eq(a,"updateDoc",e._key,t,r,n):ZH(a,"updateDoc",e._key,t),nv(i,[o.toMutation(e._key,Nn.exists(!0))])}function rv(e){return nv(Zr(e.firestore,aa),[new Y_(e._key,Nn.none())])}function lu(e,t){const r=Zr(e.firestore,aa),n=ht(e),i=aM(e.converter,t);return nv(r,[JR(Jg(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Nn.exists(!1))]).then(()=>n)}function hn(e,...t){var r,n,i;e=yt(e);let a={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||uA(t[o])||(a=t[o],o++);const s={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(uA(t[o])){const d=t[o];t[o]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[o+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Cr)u=Zr(e.firestore,aa),c=Vg(e._key.path),l={next:d=>{t[o]&&t[o](lM(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Zr(e,ya);u=Zr(d.firestore,aa),c=d._query;const h=new S1(u);l={next:m=>{t[o]&&t[o](new sM(u,h,d,m))},error:t[o+1],complete:t[o+2]},nM(e._query)}return function(h,m,v,b){const y=new h1(b),x=new d1(m,y,v);return h.asyncQueue.enqueueAndForget(async()=>l1(await um(h),x)),()=>{y.Za(),h.asyncQueue.enqueueAndForget(async()=>u1(await um(h),x))}}(Yg(u),c,s,l)}function nv(e,t){return function(n,i){const a=new qi;return n.asyncQueue.enqueueAndForget(async()=>jH(await BH(n),i,a)),a.promise}(Yg(e),t)}function lM(e,t,r){const n=r.docs.get(t._key),i=new S1(e);return new oM(e,i,t._key,n,new Ic(r.hasPendingWrites,r.fromCache),t.converter)}function Ts(){return new v1("serverTimestamp")}(function(t,r=!0){(function(i){Su=i})(ku),eu(new bs("firestore",(n,{instanceIdentifier:i,options:a})=>{const o=n.getProvider("app").getImmediate(),s=new aa(new dW(n.getProvider("auth-internal")),new mW(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yd(u.options.projectId,c)}(o,i),o);return a=Object.assign({useFetchStreams:r},a),s._setSettings(a),s},"PUBLIC").setMultipleInstances(!0)),uo(PT,"4.7.3",t),uo(PT,"4.7.3","esm2017")})();const uq={apiKey:"AIzaSyAausPXJhXSRr7Aa8Ob0s8AATtv2FbtM8o",authDomain:"spendwisewebapp.firebaseapp.com",projectId:"spendwisewebapp",storageBucket:"spendwisewebapp.firebasestorage.app",messagingSenderId:"391185653870",appId:"1:391185653870:web:2cf9119a304ca58f16467f"},uM=rD(uq),us=aW(uM),xe=GH(uM);function cq(){const[e,t]=g.useState(!0),[r,n]=g.useState(""),[i,a]=g.useState(""),[o,s]=g.useState(""),l=async u=>{u.preventDefault(),s("");try{if(e)await z8(us,r,i);else{const c=await F8(us,r,i);await OD(c.user)}}catch(c){s(c.message)}};return p.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:p.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsx("h1",{className:"text-3xl font-bold text-center mb-2 bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent",children:"SpendWise"}),p.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:"Kiisel finans ynetiminizi basitletirin."}),o&&p.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-3 rounded-lg mb-4 text-sm",children:o}),p.jsxs("form",{onSubmit:l,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta"}),p.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:r,onChange:u=>n(u.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"ifre"}),p.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:i,onChange:u=>a(u.target.value)})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-300",children:e?"Giri Yap":"Kayt Ol"})]}),p.jsx("div",{className:"mt-6 text-center",children:p.jsx("button",{onClick:()=>t(!e),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium transition-colors",children:e?"Hesabn yok mu? Kayt Ol":"Zaten hesabn var m? Giri Yap"})})]})})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>g.createElement("svg",{ref:c,...dq,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${fq(e)}`,s].join(" "),...u},[...t.map(([d,h])=>g.createElement(d,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hq=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ce("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=ce("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=ce("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=ce("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ce("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ce("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=ce("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=ce("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pq=ce("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=ce("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mq=ce("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=ce("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ce("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=ce("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=ce("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=ce("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=ce("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=ce("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=ce("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=ce("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=ce("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=ce("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=ce("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=ce("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=ce("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=ce("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=ce("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=ce("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=ce("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=ce("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=ce("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ce("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=ce("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function jq({user:e,transactions:t}){const r=Og(),[n,i]=g.useState([]),[a,o]=g.useState(!0),[s,l]=g.useState(0);g.useEffect(()=>{if(!e||!t)return;(async()=>{const m=[],v=new Date,b=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`;try{const E=en(Tt(xe,"subscriptions"),Bt("uid","==",e.uid),Bt("status","==","active")),A=(await hb(E)).docs.map(N=>N.data()),C=A.reduce((N,O)=>N+O.price,0);A.length>=3&&m.push({id:"subs_overload",type:"warning",icon:p.jsx(jn,{className:"text-amber-500",size:24}),title:"Abonelik Kontrol",message:`Toplam ${A.length} aktif aboneliin var ve aylk ${C.toLocaleString("tr-TR")} TL dyorsun. Kullanmadklarn iptal etmeyi dnebilirsin.`,actionLabel:"Abonelikleri ncele",actionLink:"/subscriptions"})}catch(E){console.error("Subs check error",E)}try{const E=en(Tt(xe,"budgets"),Bt("uid","==",e.uid)),A=(await hb(E)).docs.map(O=>O.data()),N=t.filter(O=>{var F;const D=O.date||((F=O.createdAt)!=null&&F.toDate?O.createdAt.toDate().toISOString().split("T")[0]:"");return O.type==="expense"&&D.startsWith(b)}).reduce((O,D)=>(O[D.category]=(O[D.category]||0)+D.amount,O),{});A.forEach(O=>{const D=N[O.category]||0;O.limit>0&&D>O.limit*.9&&m.push({id:`budget_${O.category}`,type:"danger",icon:p.jsx(P1,{className:"text-red-500",size:24}),title:`${O.category} Limiti`,message:`${O.category} btenin %${(D/O.limit*100).toFixed(0)}'ini tkettin. Dikkatli olmalsn.`,actionLabel:"Bteyi Gr",actionLink:"/budget"})})}catch(E){console.error("Budget check error",E)}const y={};t.forEach(E=>{var C;const S=E.date?new Date(E.date):(C=E.createdAt)!=null&&C.toDate?E.createdAt.toDate():new Date,A=`${S.getFullYear()}-${S.getMonth()}`;y[A]||(y[A]={income:0,expense:0}),E.type==="income"?y[A].income+=E.amount:y[A].expense+=E.amount}),`${v.getFullYear()}`,v.getMonth()-1;const x=t.filter(E=>E.type==="income").reduce((E,S)=>E+S.amount,0),_=t.filter(E=>E.type==="expense").reduce((E,S)=>E+S.amount,0);x-_>1e3&&m.push({id:"invest_opportunity",type:"success",icon:p.jsx(Aq,{className:"text-emerald-500",size:24}),title:"Yatrm Frsat",message:"Gelirlerin giderlerinden fazla gidiyor. Artan paray deerlendirmek iin portfy oluturabilirsin.",actionLabel:"Yatrmlara Git",actionLink:"/investments"});const I=currentMonthExpenses.filter(E=>E.paymentMethod==="credit_card").reduce((E,S)=>E+S.amount,0),j=currentMonthExpenses.reduce((E,S)=>E+S.amount,0);j>0&&I/j>.7&&m.push({id:"cc_warning",type:"warning",icon:p.jsx(jn,{className:"text-amber-600",size:24}),title:"Yksek Kredi Kart Kullanm",message:`Bu ay harcamalarnn %${(I/j*100).toFixed(0)}'sini kredi kartyla yaptn. Nakit akn kontrol etmelisin.`,actionLabel:"Analizi Gr",actionLink:"/reports"}),m.length===0&&m.push({id:"all_good",type:"info",icon:p.jsx(uu,{className:"text-indigo-500",size:24}),title:"Her ey Yolunda",message:"Finansal durumun dengeli grnyor. Harika gidiyorsun! ",actionLabel:"Raporlar ncele",actionLink:"/reports"}),i(m),o(!1)})()},[e,t]);const u=()=>{l(h=>(h+1)%n.length)},c=()=>{l(h=>(h-1+n.length)%n.length)};if(a)return null;const d=n[s];return p.jsxs("div",{className:"mb-8 bg-white dark:bg-slate-800 rounded-2xl p-1 shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-br-lg z-10",children:"Finansal Asistann"}),p.jsxs("div",{className:"flex items-center",children:[n.length>1&&p.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:p.jsx(mq,{size:20})}),p.jsxs("div",{className:"flex-1 p-4 pl-2 md:pl-6 flex flex-col md:flex-row items-start md:items-center gap-4 min-h-[100px]",children:[p.jsx("div",{className:`p-3 rounded-full shrink-0 ${d.type==="warning"?"bg-amber-50 dark:bg-amber-900/20":d.type==="danger"?"bg-red-50 dark:bg-red-900/20":d.type==="success"?"bg-emerald-50 dark:bg-emerald-900/20":"bg-indigo-50 dark:bg-indigo-900/20"}`,children:d.icon}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("h4",{className:"text-sm font-bold text-slate-800 dark:text-slate-100 mb-1 flex items-center gap-2",children:[d.title,p.jsxs("span",{className:"text-xs font-normal text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:[s+1," / ",n.length]})]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:d.message})]}),d.actionLink&&p.jsxs("button",{onClick:()=>r(d.actionLink),className:"shrink-0 px-4 py-2 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600 text-indigo-600 dark:text-indigo-400 text-xs font-bold rounded-lg transition-colors flex items-center gap-1 self-end md:self-center",children:[d.actionLabel," ",p.jsx(hA,{size:14})]})]}),n.length>1&&p.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:p.jsx(hA,{size:20})})]}),n.length>1&&p.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1",children:n.map((h,m)=>p.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${m===s?"bg-indigo-500 w-3":"bg-slate-300 dark:bg-slate-600"}`},m))})]})}function gM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=gM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Te(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=gM(e))&&(n&&(n+=" "),n+=t);return n}var Dq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function I1(e){if(typeof e!="string")return!1;var t=Dq;return t.includes(e)}var Rq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Mq=new Set(Rq);function vM(e){return typeof e!="string"?!1:Mq.has(e)}function yM(e){return typeof e=="string"&&e.startsWith("data-")}function tn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(vM(r)||yM(r))&&(t[r]=e[r]);return t}function Is(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return tn(t)}return typeof e=="object"&&!Array.isArray(e)?tn(e):null}function zr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(vM(r)||yM(r)||I1(r))&&(t[r]=e[r]);return t}function Lq(e){return e==null?null:g.isValidElement(e)?zr(e.props):typeof e=="object"&&!Array.isArray(e)?zr(e):null}var Vq=["children","width","height","viewBox","className","style","title","desc"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gb.apply(null,arguments)}function $q(e,t){if(e==null)return{};var r,n,i=Fq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var C1=g.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:u}=e,c=$q(e,Vq),d=a||{width:n,height:i,x:0,y:0},h=Te("recharts-surface",o);return g.createElement("svg",gb({},zr(c),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),r)}),zq=["children","className"];function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vb.apply(null,arguments)}function Uq(e,t){if(e==null)return{};var r,n,i=Bq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ot=g.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Uq(e,zq),a=Te("recharts-layer",n);return g.createElement("g",vb({className:a},zr(i),{ref:t}),r)}),xM=g.createContext(null),Wq=()=>g.useContext(xM);function Ye(e){return function(){return e}}const bM=Math.cos,hm=Math.sin,ii=Math.sqrt,pm=Math.PI,iv=2*pm,yb=Math.PI,xb=2*yb,Yo=1e-6,Kq=xb-Yo;function wM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Hq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wM;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class qq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wM:Hq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=n-t,u=i-r,c=o-t,d=s-r,h=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Yo)if(!(Math.abs(d*l-u*c)>Yo)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=i-s,b=l*l+u*u,y=m*m+v*v,x=Math.sqrt(b),_=Math.sqrt(h),k=a*Math.tan((yb-Math.acos((b+h-y)/(2*x*_)))/2),T=k/_,I=k/x;Math.abs(T-1)>Yo&&this._append`L${t+T*c},${r+T*d}`,this._append`A${a},${a},0,0,${+(d*m>c*v)},${this._x1=t+I*l},${this._y1=r+I*u}`}}arc(t,r,n,i,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(i),l=n*Math.sin(i),u=t+s,c=r+l,d=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Yo||Math.abs(this._y1-c)>Yo)&&this._append`L${u},${c}`,n&&(h<0&&(h=h%xb+xb),h>Kq?this._append`A${n},${n},0,1,${d},${t-s},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:h>Yo&&this._append`A${n},${n},0,${+(h>=yb)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function O1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new qq(t)}function N1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _M(e){this._context=e}_M.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function av(e){return new _M(e)}function EM(e){return e[0]}function kM(e){return e[1]}function SM(e,t){var r=Ye(!0),n=null,i=av,a=null,o=O1(s);e=typeof e=="function"?e:e===void 0?EM:Ye(e),t=typeof t=="function"?t:t===void 0?kM:Ye(t);function s(l){var u,c=(l=N1(l)).length,d,h=!1,m;for(n==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ye(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ye(+l),s):t},s.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ye(!!l),s):r},s.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),s):i},s.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),s):n},s}function Ph(e,t,r){var n=null,i=Ye(!0),a=null,o=av,s=null,l=O1(u);e=typeof e=="function"?e:e===void 0?EM:Ye(+e),t=typeof t=="function"?t:Ye(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kM:Ye(+r);function u(d){var h,m,v,b=(d=N1(d)).length,y,x=!1,_,k=new Array(b),T=new Array(b);for(a==null&&(s=o(_=l())),h=0;h<=b;++h){if(!(h<b&&i(y=d[h],h,d))===x)if(x=!x)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(k[v],T[v]);s.lineEnd(),s.areaEnd()}x&&(k[h]=+e(y,h,d),T[h]=+t(y,h,d),s.point(n?+n(y,h,d):k[h],r?+r(y,h,d):T[h]))}if(_)return s=null,_+""||null}function c(){return SM().defined(i).curve(o).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ye(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ye(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ye(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ye(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ye(!!d),u):i},u.curve=function(d){return arguments.length?(o=d,a!=null&&(s=o(a)),u):o},u.context=function(d){return arguments.length?(d==null?a=s=null:s=o(a=d),u):a},u}class PM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Gq(e){return new PM(e,!0)}function Yq(e){return new PM(e,!1)}const j1={draw(e,t){const r=ii(t/pm);e.moveTo(r,0),e.arc(0,0,r,0,iv)}},Qq={draw(e,t){const r=ii(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},TM=ii(1/3),Xq=TM*2,Jq={draw(e,t){const r=ii(t/Xq),n=r*TM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Zq={draw(e,t){const r=ii(t),n=-r/2;e.rect(n,n,r,r)}},eG=.8908130915292852,AM=hm(pm/10)/hm(7*pm/10),tG=hm(iv/10)*AM,rG=-bM(iv/10)*AM,nG={draw(e,t){const r=ii(t*eG),n=tG*r,i=rG*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const o=iv*a/5,s=bM(o),l=hm(o);e.lineTo(l*r,-s*r),e.lineTo(s*n-l*i,l*n+s*i)}e.closePath()}},h0=ii(3),iG={draw(e,t){const r=-ii(t/(h0*3));e.moveTo(0,r*2),e.lineTo(-h0*r,-r),e.lineTo(h0*r,-r),e.closePath()}},En=-.5,kn=ii(3)/2,bb=1/ii(12),aG=(bb/2+1)*3,oG={draw(e,t){const r=ii(t/aG),n=r/2,i=r*bb,a=n,o=r*bb+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(En*n-kn*i,kn*n+En*i),e.lineTo(En*a-kn*o,kn*a+En*o),e.lineTo(En*s-kn*l,kn*s+En*l),e.lineTo(En*n+kn*i,En*i-kn*n),e.lineTo(En*a+kn*o,En*o-kn*a),e.lineTo(En*s+kn*l,En*l-kn*s),e.closePath()}};function sG(e,t){let r=null,n=O1(i);e=typeof e=="function"?e:Ye(e||j1),t=typeof t=="function"?t:Ye(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ye(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ye(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function mm(){}function gm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IM(e){this._context=e}IM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lG(e){return new IM(e)}function CM(e){this._context=e}CM.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function uG(e){return new CM(e)}function OM(e){this._context=e}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function cG(e){return new OM(e)}function NM(e){this._context=e}NM.prototype={areaStart:mm,areaEnd:mm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function dG(e){return new NM(e)}function xA(e){return e<0?-1:1}function bA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(xA(a)+xA(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function wA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function p0(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function vm(e){this._context=e}vm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p0(this,this._t0,wA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,p0(this,wA(this,r=bA(this,e,t)),r);break;default:p0(this,this._t0,r=bA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function jM(e){this._context=new DM(e)}(jM.prototype=Object.create(vm.prototype)).point=function(e,t){vm.prototype.point.call(this,t,e)};function DM(e){this._context=e}DM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function fG(e){return new vm(e)}function hG(e){return new jM(e)}function RM(e){this._context=e}RM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_A(e),i=_A(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _A(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function pG(e){return new RM(e)}function ov(e,t){this._context=e,this._t=t}ov.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function mG(e){return new ov(e,.5)}function gG(e){return new ov(e,0)}function vG(e){return new ov(e,1)}function Cs(e,t){if((o=e.length)>1)for(var r=1,n,i,a=e[t[0]],o,s=a.length;r<o;++r)for(i=a,a=e[t[r]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function wb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yG(e,t){return e[t]}function xG(e){const t=[];return t.key=e,t}function bG(){var e=Ye([]),t=wb,r=Cs,n=yG;function i(a){var o=Array.from(e.apply(this,arguments),xG),s,l=o.length,u=-1,c;for(const d of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+n(d,o[s].key,u,a)]).data=d;for(s=0,c=N1(t(o));s<l;++s)o[c[s]].index=s;return r(o,c),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ye(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ye(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?wb:typeof a=="function"?a:Ye(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??Cs,i):r},i}function wG(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}Cs(e,t)}}function _G(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var o=0,s=0;o<i;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}Cs(e,t)}}function EG(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var s=0,l=0,u=0;s<o;++s){for(var c=e[t[s]],d=c[n][1]||0,h=c[n-1][1]||0,m=(d-h)/2,v=0;v<s;++v){var b=e[t[v]],y=b[n][1]||0,x=b[n-1][1]||0;m+=y-x}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,Cs(e,t)}}var sv={},MM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(MM);var D1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(D1);var lv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(lv);var uv={},LM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(LM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LM,r=lv;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],o=i.length;if(o===0)return a;let s=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),s++);s<o;){const d=i[s];u?d==="\\"&&s+1<o?(s++,l+=i[s]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,s++}return l&&a.push(l),a}e.toPath=n})(uv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MM,r=D1,n=lv,i=uv;function a(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?r.isDeepKey(l)?a(s,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=s[l];return c===void 0?u:c}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=s[l];return c===void 0?u:c}}}function o(s,l,u){if(l.length===0)return u;let c=s;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(sv);var kG=sv.get;const Os=ha(kG);var SG=4;function Xa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:SG,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function kt(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,o)=>{var s=r[o-1];return typeof s=="string"?i+s+a:s!==void 0?i+Xa(s)+a:i+a},"")}var ir=e=>e===0?0:e>0?1:-1,Mn=e=>typeof e=="number"&&e!=+e,oa=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Z=e=>(typeof e=="number"||e instanceof Number)&&!Mn(e),Ei=e=>Z(e)||typeof e=="string",PG=0,Pd=e=>{var t=++PG;return"".concat(e||"").concat(t)},Or=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&typeof t!="string")return n;var a;if(oa(t)){if(r==null)return n;var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Mn(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},VM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function tt(e,t,r){return Z(e)&&Z(t)?Xa(e+r*(t-e)):t}function $M(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Os(n,t))===r)}var gt=e=>e===null||typeof e>"u",uf=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function TG(e){return e!=null}function cf(){}var AG=["type","size","sizeType"];function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_b.apply(null,arguments)}function EA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(r),!0).forEach(function(n){IG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IG(e,t,r){return(t=CG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NG(e,t){if(e==null)return{};var r,n,i=jG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FM={symbolCircle:j1,symbolCross:Qq,symbolDiamond:Jq,symbolSquare:Zq,symbolStar:nG,symbolTriangle:iG,symbolWye:oG},DG=Math.PI/180,RG=e=>{var t="symbol".concat(uf(e));return FM[t]||j1},MG=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*DG;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},LG=(e,t)=>{FM["symbol".concat(uf(e))]=t},R1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=NG(e,AG),a=kA(kA({},i),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=RG(o),m=sG().type(h).size(MG(r,n,o)),v=m();if(v!==null)return v},{className:l,cx:u,cy:c}=a,d=zr(a);return Z(u)&&Z(c)&&Z(r)?g.createElement("path",_b({},d,{className:Te("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:s()})):null};R1.registerSymbol=LG;var zM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,M1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{I1(i)&&(n[i]=a=>r[i](r,a))}),n},VG=(e,t,r)=>n=>(e(t,r,n),null),df=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];I1(i)&&typeof a=="function"&&(n||(n={}),n[i]=VG(a,t,r))}),n};function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $G(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ft(e,t){var r=$G({},e),n=t,i=Object.keys(t),a=i.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return a}function ym(){return ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ym.apply(null,arguments)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pn=32,qG={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function GG(e){var{data:t,iconType:r,inactiveColor:n}=e,i=Pn/2,a=Pn/6,o=Pn/3,s=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Pn,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Pn,"M").concat(2*o,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Pn/8,"h").concat(Pn,"v").concat(Pn*3/4,"h").concat(-Pn,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var c=BG({},t);return delete c.legendIcon,g.cloneElement(t.legendIcon,c)}return g.createElement(R1,{fill:s,cx:i,cy:i,size:Pn,sizeType:"diameter",type:l})}function YG(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,s={x:0,y:0,width:Pn,height:Pn},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var h=c.formatter||i,m=Te({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var v=c.inactive?a:c.color,b=h?h(c.value,c,d):c.value;return g.createElement("li",ym({className:m,style:l,key:"legend-item-".concat(d)},df(e,c,d)),g.createElement(C1,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(b," legend icon")},g.createElement(GG,{data:c,iconType:o,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},b))})}var QG=e=>{var t=Ft(e,qG),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(YG,ym({},t,{payload:r})))},UM={},BM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const o=r[a],s=n(o);i.has(s)||i.set(s,o)}return Array.from(i.values())}e.uniqBy=t})(BM);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(L1);var WM={},cv={},KM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(KM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(cv);var HM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(HM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cv,r=HM;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(WM);var qM={},GM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sv;function r(n){return function(i){return t.get(i,n)}}e.property=r})(GM);var YM={},V1={},QM={},$1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})($1);var F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(F1);var z1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(z1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$1,r=F1,n=z1;function i(c,d,h){return typeof h!="function"?i(c,d,()=>{}):a(c,d,function m(v,b,y,x,_,k){const T=h(v,b,y,x,_,k);return T!==void 0?!!T:a(v,b,m,k)},new Map)}function a(c,d,h,m){if(d===c)return!0;switch(typeof d){case"object":return o(c,d,h,m);case"function":return Object.keys(d).length>0?a(c,{...d},h,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function o(c,d,h,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,h,m);if(d instanceof Map)return s(c,d,h,m);if(d instanceof Set)return u(c,d,h,m);const v=Object.keys(d);if(c==null||r.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let b=0;b<v.length;b++){const y=v[b];if(!r.isPrimitive(c)&&!(y in c)||d[y]===void 0&&c[y]!==void 0||d[y]===null&&c[y]!==null||!h(c[y],d[y],y,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function s(c,d,h,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,b]of d.entries()){const y=c.get(v);if(h(y,b,v,c,d,m)===!1)return!1}return!0}function l(c,d,h,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let b=0;b<d.length;b++){const y=d[b];let x=!1;for(let _=0;_<c.length;_++){if(v.has(_))continue;const k=c[_];let T=!1;if(h(k,y,b,c,d,m)&&(T=!0),T){v.add(_),x=!0;break}}if(!x)return!1}return!0}function u(c,d,h,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(QM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(V1);var XM={},U1={},JM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(JM);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(B1);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",b="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",_="[object Uint16Array]",k="[object Uint32Array]",T="[object BigUint64Array]",I="[object Int8Array]",j="[object Int16Array]",E="[object Int32Array]",S="[object BigInt64Array]",A="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=T,e.booleanTag=i,e.dataViewTag=b,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=A,e.float64ArrayTag=C,e.functionTag=d,e.int16ArrayTag=j,e.int32ArrayTag=E,e.int8ArrayTag=I,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=_,e.uint32ArrayTag=k,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(W1);var ZM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JM,r=B1,n=W1,i=F1,a=ZM;function o(c,d){return s(c,void 0,c,new Map,d)}function s(c,d,h,m=new Map,v=void 0){const b=v==null?void 0:v(c,d,h,m);if(b!==void 0)return b;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const y=new Array(c.length);m.set(c,y);for(let x=0;x<c.length;x++)y[x]=s(c[x],x,h,m,v);return Object.hasOwn(c,"index")&&(y.index=c.index),Object.hasOwn(c,"input")&&(y.input=c.input),y}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const y=new RegExp(c.source,c.flags);return y.lastIndex=c.lastIndex,y}if(c instanceof Map){const y=new Map;m.set(c,y);for(const[x,_]of c)y.set(x,s(_,x,h,m,v));return y}if(c instanceof Set){const y=new Set;m.set(c,y);for(const x of c)y.add(s(x,void 0,h,m,v));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const y=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,y);for(let x=0;x<c.length;x++)y[x]=s(c[x],x,h,m,v);return y}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const y=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,y),l(y,c,h,m,v),y}if(typeof File<"u"&&c instanceof File){const y=new File([c],c.name,{type:c.type});return m.set(c,y),l(y,c,h,m,v),y}if(typeof Blob<"u"&&c instanceof Blob){const y=new Blob([c],{type:c.type});return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof Error){const y=new c.constructor;return m.set(c,y),y.message=c.message,y.name=c.name,y.stack=c.stack,y.cause=c.cause,l(y,c,h,m,v),y}if(c instanceof Boolean){const y=new Boolean(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof Number){const y=new Number(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(c instanceof String){const y=new String(c.valueOf());return m.set(c,y),l(y,c,h,m,v),y}if(typeof c=="object"&&u(c)){const y=Object.create(Object.getPrototypeOf(c));return m.set(c,y),l(y,c,h,m,v),y}return c}function l(c,d,h=c,m,v){const b=[...Object.keys(d),...t.getSymbols(d)];for(let y=0;y<b.length;y++){const x=b[y],_=Object.getOwnPropertyDescriptor(c,x);(_==null||_.writable)&&(c[x]=s(d[x],x,h,m,v))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(U1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(XM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,r=XM;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(YM);var eL={},tL={},rL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,r=W1;function n(i,a){return t.cloneDeepWith(i,(o,s,l,u)=>{const c=a==null?void 0:a(o,s,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(rL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rL;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(tL);var nL={},K1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(K1);var iL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B1;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(iL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D1,r=K1,n=iL,i=uv;function a(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=i.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(nL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V1,r=lv,n=tL,i=sv,a=nL;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,s);return c===void 0?a.has(u,s):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=o})(eL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,r=GM,n=YM,i=eL;function a(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=a})(qM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BM,r=L1,n=WM,i=qM;function a(o,s=r.identity){return n.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(s)):[]}e.uniqBy=a})(UM);var XG=UM.uniqBy;const TA=ha(XG);function aL(e,t,r){return t===!0?TA(e,r):typeof t=="function"?TA(e,t):e}var oL={exports:{}},sL={},lL={exports:{}},uL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=g;function JG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZG=typeof Object.is=="function"?Object.is:JG,eY=cu.useState,tY=cu.useEffect,rY=cu.useLayoutEffect,nY=cu.useDebugValue;function iY(e,t){var r=t(),n=eY({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return rY(function(){i.value=r,i.getSnapshot=t,m0(i)&&a({inst:i})},[e,r,t]),tY(function(){return m0(i)&&a({inst:i}),e(function(){m0(i)&&a({inst:i})})},[e]),nY(r),r}function m0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ZG(e,r)}catch{return!0}}function aY(e,t){return t()}var oY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aY:iY;uL.useSyncExternalStore=cu.useSyncExternalStore!==void 0?cu.useSyncExternalStore:oY;lL.exports=uL;var sY=lL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv=g,lY=sY;function uY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cY=typeof Object.is=="function"?Object.is:uY,dY=lY.useSyncExternalStore,fY=dv.useRef,hY=dv.useEffect,pY=dv.useMemo,mY=dv.useDebugValue;sL.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=fY(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=pY(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return d=v}return d=m}if(v=d,cY(c,m))return v;var b=n(m);return i!==void 0&&i(v,b)?(c=m,v):(c=m,d=b)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var s=dY(e,a[0],a[1]);return hY(function(){o.hasValue=!0,o.value=s},[s]),mY(s),s};oL.exports=sL;var gY=oL.exports,H1=g.createContext(null),vY=e=>e,Xe=()=>{var e=g.useContext(H1);return e?e.store.dispatch:vY},mp=()=>{},yY=()=>mp,xY=(e,t)=>e===t;function ie(e){var t=g.useContext(H1);return gY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:yY,t?t.store.getState:mp,t?t.store.getState:mp,t?e:mp,xY)}function bY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function wY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function _Y(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var AA=e=>Array.isArray(e)?e:[e];function EY(e){const t=Array.isArray(e[0])?e[0]:e;return _Y(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kY(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var SY=class{constructor(e){this.value=e}deref(){return this.value}},PY=typeof WeakRef<"u"?WeakRef:SY,TY=0,IA=1;function Th(){return{s:TY,v:void 0,o:null,p:null}}function cL(e,t={}){let r=Th();const{resultEqualityCheck:n}=t;let i,a=0;function o(){var d;let s=r;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let b=s.o;b===null&&(s.o=b=new WeakMap);const y=b.get(v);y===void 0?(s=Th(),b.set(v,s)):s=y}else{let b=s.p;b===null&&(s.p=b=new Map);const y=b.get(v);y===void 0?(s=Th(),b.set(v,s)):s=y}}const u=s;let c;if(s.s===IA)c=s.v;else if(c=e.apply(null,arguments),a++,n){const h=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;h!=null&&n(h,c)&&(c=h,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new PY(c):c}return u.s=IA,u.v=c,c}return o.clearCache=()=>{r=Th(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function AY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,o=0,s,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),bY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:m=cL,argsMemoizeOptions:v=[]}=c,b=AA(h),y=AA(v),x=EY(i),_=d(function(){return a++,u.apply(null,arguments)},...b),k=m(function(){o++;const I=kY(x,arguments);return s=_.apply(null,I),s},...y);return Object.assign(k,{resultFunc:u,memoizedResultFunc:_,dependencies:x,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var V=AY(cL),IY=Object.assign((e,t=V)=>{wY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((o,s,l)=>(o[r[l]]=s,o),{}))},{withTypes:()=>IY}),dL={},fL={},hL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const o=t(n),s=t(i);if(o===s&&o===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?s-o:o-s}return 0};e.compareValues=r})(hL);var pL={},q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||o!=null&&Object.hasOwn(o,a)}e.isKey=i})(pL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hL,r=pL,n=uv;function i(a,o,s,l){if(a==null)return[];s=l?void 0:s,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,v)=>{let b=m;for(let y=0;y<v.length&&b!=null;++y)b=b[v[y]];return b},c=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,d=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(v=>c(v,m))})).slice().sort((m,v)=>{for(let b=0;b<d.length;b++){const y=t.compareValues(m.criteria[b],v.criteria[b],s[b]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(fL);var mL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),o=(s,l)=>{for(let u=0;u<s.length;u++){const c=s[u];Array.isArray(c)&&l<a?o(c,l+1):i.push(c)}};return o(r,0),i}e.flatten=t})(mL);var G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,r=cv,n=$1,i=z1;function a(o,s,l){return n.isObject(l)&&(typeof s=="number"&&r.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?i.eq(l[s],o):!1}e.isIterateeCall=a})(G1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fL,r=mL,n=G1;function i(a,...o){const s=o.length;return s>1&&n.isIterateeCall(a,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(a,r.flatten(o),["asc"])}e.sortBy=i})(dL);var CY=dL.sortBy;const fv=ha(CY);var gL=e=>e.legend.settings,OY=e=>e.legend.size,NY=e=>e.legend.payload,jY=V([NY,gL],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?fv(n,r):n});function DY(){return ie(jY)}var Ah=1;function vL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-t.height)>Ah||Math.abs(o.left-t.left)>Ah||Math.abs(o.top-t.top)>Ah||Math.abs(o.width-t.width)>Ah)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ur(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RY=typeof Symbol=="function"&&Symbol.observable||"@@observable",CA=RY,g0=()=>Math.random().toString(36).substring(7).split("").join("."),MY={INIT:`@@redux/INIT${g0()}`,REPLACE:`@@redux/REPLACE${g0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${g0()}`},xm=MY;function Y1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function yL(e,t,r){if(typeof e!="function")throw new Error(ur(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ur(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ur(1));return r(yL)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function u(){o===a&&(o=new Map,a.forEach((y,x)=>{o.set(x,y)}))}function c(){if(l)throw new Error(ur(3));return i}function d(y){if(typeof y!="function")throw new Error(ur(4));if(l)throw new Error(ur(5));let x=!0;u();const _=s++;return o.set(_,y),function(){if(x){if(l)throw new Error(ur(6));x=!1,u(),o.delete(_),a=null}}}function h(y){if(!Y1(y))throw new Error(ur(7));if(typeof y.type>"u")throw new Error(ur(8));if(typeof y.type!="string")throw new Error(ur(17));if(l)throw new Error(ur(9));try{l=!0,i=n(i,y)}finally{l=!1}return(a=o).forEach(_=>{_()}),y}function m(y){if(typeof y!="function")throw new Error(ur(10));n=y,h({type:xm.REPLACE})}function v(){const y=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ur(11));function _(){const T=x;T.next&&T.next(c())}return _(),{unsubscribe:y(_)}},[CA](){return this}}}return h({type:xm.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:m,[CA]:v}}function LY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:xm.INIT})>"u")throw new Error(ur(12));if(typeof r(void 0,{type:xm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ur(13))})}function xL(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const o=t[a];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let i;try{LY(r)}catch(a){i=a}return function(o={},s){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],h=r[d],m=o[d],v=h(m,s);if(typeof v>"u")throw s&&s.type,new Error(ur(14));u[d]=v,l=l||v!==m}return l=l||n.length!==Object.keys(o).length,l?u:o}}function bm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function VY(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(ur(15))};const o={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},s=e.map(l=>l(o));return a=bm(...s)(i.dispatch),{...i,dispatch:a}}}function bL(e){return Y1(e)&&"type"in e&&typeof e.type=="string"}var wL=Symbol.for("immer-nothing"),OA=Symbol.for("immer-draftable"),Ur=Symbol.for("immer-state");function qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var pn=Object,du=pn.getPrototypeOf,wm="constructor",hv="prototype",Eb="configurable",_m="enumerable",gp="writable",Td="value",sa=e=>!!e&&!!e[Ur];function ri(e){var t;return e?_L(e)||pv(e)||!!e[OA]||!!((t=e[wm])!=null&&t[OA])||mv(e)||gv(e):!1}var $Y=pn[hv][wm].toString(),NA=new WeakMap;function _L(e){if(!e||!Q1(e))return!1;const t=du(e);if(t===null||t===pn[hv])return!0;const r=pn.hasOwnProperty.call(t,wm)&&t[wm];if(r===Object)return!0;if(!cl(r))return!1;let n=NA.get(r);return n===void 0&&(n=Function.toString.call(r),NA.set(r,n)),n===$Y}function ff(e,t,r=!0){hf(e)===0?(r?Reflect.ownKeys(e):pn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function hf(e){const t=e[Ur];return t?t.type_:pv(e)?1:mv(e)?2:gv(e)?3:0}var jA=(e,t,r=hf(e))=>r===2?e.has(t):pn[hv].hasOwnProperty.call(e,t),kb=(e,t,r=hf(e))=>r===2?e.get(t):e[t],Em=(e,t,r,n=hf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function FY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var pv=Array.isArray,mv=e=>e instanceof Map,gv=e=>e instanceof Set,Q1=e=>typeof e=="object",cl=e=>typeof e=="function",v0=e=>typeof e=="boolean";function zY(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ri=e=>e.copy_||e.base_,X1=e=>e.modified_?e.copy_:e.base_;function Sb(e,t){if(mv(e))return new Map(e);if(gv(e))return new Set(e);if(pv(e))return Array[hv].slice.call(e);const r=_L(e);if(t===!0||t==="class_only"&&!r){const n=pn.getOwnPropertyDescriptors(e);delete n[Ur];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s[gp]===!1&&(s[gp]=!0,s[Eb]=!0),(s.get||s.set)&&(n[o]={[Eb]:!0,[gp]:!0,[_m]:s[_m],[Td]:e[o]})}return pn.create(du(e),n)}else{const n=du(e);if(n!==null&&r)return{...e};const i=pn.create(n);return pn.assign(i,e)}}function J1(e,t=!1){return vv(e)||sa(e)||!ri(e)||(hf(e)>1&&pn.defineProperties(e,{set:Ih,add:Ih,clear:Ih,delete:Ih}),pn.freeze(e),t&&ff(e,(r,n)=>{J1(n,!0)},!1)),e}function UY(){qn(2)}var Ih={[Td]:UY};function vv(e){return e===null||!Q1(e)?!0:pn.isFrozen(e)}var km="MapSet",Pb="Patches",DA="ArrayMethods",EL={};function Ns(e){const t=EL[e];return t||qn(0,e),t}var RA=e=>!!EL[e],Ad,kL=()=>Ad,BY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RA(km)?Ns(km):void 0,arrayMethodsPlugin_:RA(DA)?Ns(DA):void 0});function MA(e,t){t&&(e.patchPlugin_=Ns(Pb),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tb(e){Ab(e),e.drafts_.forEach(WY),e.drafts_=null}function Ab(e){e===Ad&&(Ad=e.parent_)}var LA=e=>Ad=BY(Ad,e);function WY(e){const t=e[Ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ur].modified_&&(Tb(t),qn(4)),ri(e)&&(e=$A(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Ur].base_,e,t)}else e=$A(t,r);return KY(t,e,!0),Tb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wL?e:void 0}function $A(e,t){if(vv(t))return t;const r=t[Ur];if(!r)return Z1(t,e.handledSet_,e);if(!yv(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);TL(r,e)}return r.copy_}function KY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&J1(t,r)}function SL(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var yv=(e,t)=>e.scope_===t,HY=[];function PL(e,t,r,n){const i=Ri(e),a=e.type_;if(n!==void 0&&kb(i,n,a)===t){Em(i,n,r,a);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;ff(i,(l,u)=>{if(sa(u)){const c=s.get(u)||[];c.push(l),s.set(u,c)}})}const o=e.draftLocations_.get(t)??HY;for(const s of o)Em(i,s,r,a)}function qY(e,t,r){e.callbacks_.push(function(i){var s;const a=t;if(!a||!yv(a,i))return;(s=i.mapSetPlugin_)==null||s.fixSetContents(a);const o=X1(a);PL(e,a.draft_??a,o,r),TL(a,i)})}function TL(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}SL(e)}}function GY(e,t,r){const{scope_:n}=e;if(sa(r)){const i=r[Ur];yv(i,n)&&i.callbacks_.push(function(){vp(e);const o=X1(i);PL(e,r,o,t)})}else ri(r)&&e.callbacks_.push(function(){const a=Ri(e);kb(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Z1(kb(e.copy_,t,e.type_),n.handledSet_,n)})}function Z1(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||sa(e)||t.has(e)||!ri(e)||vv(e)||(t.add(e),ff(e,(n,i)=>{if(sa(i)){const a=i[Ur];if(yv(a,r)){const o=X1(a);Em(e,n,o,e.type_),SL(a)}}else ri(i)&&Z1(i,t,r)})),e}function YY(e,t){const r=pv(e),n={type_:r?1:0,scope_:t?t.scope_:kL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=eE;r&&(i=[n],a=Id);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}var eE={get(e,t){if(t===Ur)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=Ri(e);if(!jA(i,t,e.type_))return QY(e,i,t);const a=i[t];if(e.finalized_||!ri(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&zY(t))return a;if(a===y0(e.base_,t)){vp(e);const o=e.type_===1?+t:t,s=Cb(e.scope_,a,e,o);return e.copy_[o]=s}return a},has(e,t){return t in Ri(e)},ownKeys(e){return Reflect.ownKeys(Ri(e))},set(e,t,r){const n=AL(Ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=y0(Ri(e),t),a=i==null?void 0:i[Ur];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(FY(r,i)&&(r!==void 0||jA(e.base_,t,e.type_)))return!0;vp(e),Ib(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),GY(e,t,r)),!0},deleteProperty(e,t){return vp(e),y0(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ib(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[gp]:!0,[Eb]:e.type_!==1||t!=="length",[_m]:n[_m],[Td]:r[t]}},defineProperty(){qn(11)},getPrototypeOf(e){return du(e.base_)},setPrototypeOf(){qn(12)}},Id={};ff(eE,(e,t)=>{Id[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Id.deleteProperty=function(e,t){return Id.set.call(this,e,t,void 0)};Id.set=function(e,t,r){return eE.set.call(this,e[0],t,r,e[0])};function y0(e,t){const r=e[Ur];return(r?Ri(r):e)[t]}function QY(e,t,r){var i;const n=AL(t,r);return n?Td in n?n[Td]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function AL(e,t){if(!(t in e))return;let r=du(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=du(r)}}function Ib(e){e.modified_||(e.modified_=!0,e.parent_&&Ib(e.parent_))}function vp(e){e.copy_||(e.assigned_=new Map,e.copy_=Sb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var XY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(cl(r)&&!cl(n)){const o=n;n=r;const s=this;return function(u=o,...c){return s.produce(u,d=>n.call(this,d,...c))}}cl(n)||qn(6),i!==void 0&&!cl(i)&&qn(7);let a;if(ri(r)){const o=LA(this),s=Cb(o,r,void 0);let l=!0;try{a=n(s),l=!1}finally{l?Tb(o):Ab(o)}return MA(o,i),VA(a,o)}else if(!r||!Q1(r)){if(a=n(r),a===void 0&&(a=r),a===wL&&(a=void 0),this.autoFreeze_&&J1(a,!0),i){const o=[],s=[];Ns(Pb).generateReplacementPatches_(r,a,{patches_:o,inversePatches_:s}),i(o,s)}return a}else qn(1,r)},this.produceWithPatches=(r,n)=>{if(cl(r))return(s,...l)=>this.produceWithPatches(s,u=>r(u,...l));let i,a;return[this.produce(r,n,(s,l)=>{i=s,a=l}),i,a]},v0(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),v0(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),v0(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ri(t)||qn(8),sa(t)&&(t=Jn(t));const r=LA(this),n=Cb(r,t,void 0);return n[Ur].isManual_=!0,Ab(r),n}finishDraft(t,r){const n=t&&t[Ur];(!n||!n.isManual_)&&qn(9);const{scope_:i}=n;return MA(i,r),VA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Ns(Pb).applyPatches_;return sa(t)?i(t,r):this.produce(t,a=>i(a,r))}};function Cb(e,t,r,n){const[i,a]=mv(t)?Ns(km).proxyMap_(t,r):gv(t)?Ns(km).proxySet_(t,r):YY(t,r);return((r==null?void 0:r.scope_)??kL()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?qY(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function Jn(e){return sa(e)||qn(10,e),IL(e)}function IL(e){if(!ri(e)||vv(e))return e;const t=e[Ur];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Sb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Sb(e,!0);return ff(r,(i,a)=>{Em(r,i,IL(a))},n),t&&(t.finalized_=!1),r}var JY=new XY,CL=JY.produce;function OL(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var ZY=OL(),eQ=OL,tQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bm:bm.apply(null,arguments)};function Ln(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(gn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>bL(n)&&n.type===e,r}var NL=class Cc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cc.prototype)}static get[Symbol.species](){return Cc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cc(...t[0].concat(this)):new Cc(...t.concat(this))}};function FA(e){return ri(e)?CL(e,()=>{}):e}function Ch(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function rQ(e){return typeof e=="boolean"}var nQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let o=new NL;return r&&(rQ(r)?o.push(ZY):o.push(eQ(r.extraArgument))),o},jL="RTK_autoBatch",at=()=>e=>({payload:e,meta:{[jL]:!0}}),zA=e=>t=>{setTimeout(t,e)},DL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zA(10):e.type==="callback"?e.queueNotification:zA(e.timeout),u=()=>{o=!1,a&&(a=!1,s.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),h=n.subscribe(d);return s.add(c),()=>{h(),s.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[jL]),a=!i,a&&(o||(o=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},iQ=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new NL(e);return n&&i.push(DL(typeof n=="object"?n:void 0)),i};function aQ(e){const t=nQ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Y1(r))s=xL(r);else throw new Error(gn(1));let l;typeof n=="function"?l=n(t):l=t();let u=bm;i&&(u=tQ({trace:!1,...typeof i=="object"&&i}));const c=VY(...l),d=iQ(c);let h=typeof o=="function"?o(d):d();const m=u(...h);return yL(s,a,m)}function RL(e){const t={},r=[];let n;const i={addCase(a,o){const s=typeof a=="string"?a:a.type;if(!s)throw new Error(gn(28));if(s in t)throw new Error(gn(29));return t[s]=o,i},addAsyncThunk(a,o){return o.pending&&(t[a.pending.type]=o.pending),o.rejected&&(t[a.rejected.type]=o.rejected),o.fulfilled&&(t[a.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return r.push({matcher:a,reducer:o}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function oQ(e){return typeof e=="function"}function sQ(e,t){let[r,n,i]=RL(t),a;if(oQ(e))a=()=>FA(e());else{const s=FA(e);a=()=>s}function o(s=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(sa(c)){const m=d(c,l);return m===void 0?c:m}else{if(ri(c))return CL(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return c},s)}return o.getInitialState=a,o}var lQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uQ=(e=21)=>{let t="",r=e;for(;r--;)t+=lQ[Math.random()*64|0];return t},cQ=Symbol.for("rtk-slice-createasyncthunk");function dQ(e,t){return`${e}/${t}`}function fQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[cQ];return function(i){const{name:a,reducerPath:o=a}=i;if(!a)throw new Error(gn(11));const s=(typeof i.reducers=="function"?i.reducers(pQ()):i.reducers)||{},l=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(T,I){const j=typeof T=="string"?T:T.type;if(!j)throw new Error(gn(12));if(j in u.sliceCaseReducersByType)throw new Error(gn(13));return u.sliceCaseReducersByType[j]=I,c},addMatcher(T,I){return u.sliceMatchers.push({matcher:T,reducer:I}),c},exposeAction(T,I){return u.actionCreators[T]=I,c},exposeCaseReducer(T,I){return u.sliceCaseReducersByName[T]=I,c}};l.forEach(T=>{const I=s[T],j={reducerName:T,type:dQ(a,T),createNotation:typeof i.reducers=="function"};gQ(I)?yQ(j,I,c,t):mQ(j,I,c)});function d(){const[T={},I=[],j=void 0]=typeof i.extraReducers=="function"?RL(i.extraReducers):[i.extraReducers],E={...T,...u.sliceCaseReducersByType};return sQ(i.initialState,S=>{for(let A in E)S.addCase(A,E[A]);for(let A of u.sliceMatchers)S.addMatcher(A.matcher,A.reducer);for(let A of I)S.addMatcher(A.matcher,A.reducer);j&&S.addDefaultCase(j)})}const h=T=>T,m=new Map,v=new WeakMap;let b;function y(T,I){return b||(b=d()),b(T,I)}function x(){return b||(b=d()),b.getInitialState()}function _(T,I=!1){function j(S){let A=S[T];return typeof A>"u"&&I&&(A=Ch(v,j,x)),A}function E(S=h){const A=Ch(m,I,()=>new WeakMap);return Ch(A,S,()=>{const C={};for(const[N,O]of Object.entries(i.selectors??{}))C[N]=hQ(O,S,()=>Ch(v,S,x),I);return C})}return{reducerPath:T,getSelectors:E,get selectors(){return E(j)},selectSlice:j}}const k={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,..._(o),injectInto(T,{reducerPath:I,...j}={}){const E=I??o;return T.inject({reducerPath:E,reducer:y},j),{...k,..._(E,!0)}}};return k}}function hQ(e,t,r,n){function i(a,...o){let s=t(a);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return i.unwrapped=e,i}var rn=fQ();function pQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function mQ({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!vQ(n))throw new Error(gn(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?Ln(e,o):Ln(e))}function gQ(e){return e._reducerDefinitionType==="asyncThunk"}function vQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yQ({type:e,reducerName:t},r,n,i){if(!i)throw new Error(gn(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o),s&&n.addCase(d.pending,s),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:o||Oh,pending:s||Oh,rejected:l||Oh,settled:u||Oh})}function Oh(){}var xQ="task",ML="listener",LL="completed",tE="cancelled",bQ=`task-${tE}`,wQ=`task-${LL}`,Ob=`${ML}-${tE}`,_Q=`${ML}-${LL}`,xv=class{constructor(e){Ty(this,"name","TaskAbortError");Ty(this,"message");this.code=e,this.message=`${xQ} ${tE} (reason: ${e})`}},rE=(e,t)=>{if(typeof e!="function")throw new TypeError(gn(32))},Sm=()=>{},VL=(e,t=Sm)=>(e.catch(t),e),$L=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),cs=e=>{if(e.aborted)throw new xv(e.reason)};function FL(e,t){let r=Sm;return new Promise((n,i)=>{const a=()=>i(new xv(e.reason));if(e.aborted){a();return}r=$L(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Sm})}var EQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof xv?"cancelled":"rejected",error:r}}finally{t==null||t()}},Pm=e=>t=>VL(FL(e,t).then(r=>(cs(e),r))),zL=e=>{const t=Pm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fl}=Object,UA={},bv="listenerMiddleware",kQ=(e,t)=>{const r=n=>$L(e,()=>n.abort(e.reason));return(n,i)=>{rE(n);const a=new AbortController;r(a);const o=EQ(async()=>{cs(e),cs(a.signal);const s=await n({pause:Pm(a.signal),delay:zL(a.signal),signal:a.signal});return cs(a.signal),s},()=>a.abort(wQ));return i!=null&&i.autoJoin&&t.push(o.catch(Sm)),{result:Pm(e)(o),cancel(){a.abort(bQ)}}}},SQ=(e,t)=>{const r=async(n,i)=>{cs(t);let a=()=>{};const s=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,h)=>{h.unsubscribe(),l([d,h.getState(),h.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&s.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await FL(t,Promise.race(s));return cs(t),l}finally{a()}};return(n,i)=>VL(r(n,i))},UL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Ln(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(gn(21));return rE(a),{predicate:i,type:t,effect:a}},BL=Fl(e=>{const{type:t,predicate:r,effect:n}=UL(e);return{id:uQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(gn(22))}}},{withTypes:()=>BL}),BA=(e,t)=>{const{type:r,effect:n,predicate:i}=UL(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Nb=e=>{e.pending.forEach(t=>{t.abort(Ob)})},PQ=(e,t)=>()=>{for(const r of t.keys())Nb(r);e.clear()},WA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},WL=Fl(Ln(`${bv}/add`),{withTypes:()=>WL}),TQ=Ln(`${bv}/removeAll`),KL=Fl(Ln(`${bv}/remove`),{withTypes:()=>KL}),AQ=(...e)=>{console.error(`${bv}/error`,...e)},pf=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},i=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:a,onError:o=AQ}=e;rE(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&Nb(m)}),l=m=>{const v=BA(t,m)??BL(m);return s(v)};Fl(l,{withTypes:()=>l});const u=m=>{const v=BA(t,m);return v&&(v.unsubscribe(),m.cancelActive&&Nb(v)),!!v};Fl(u,{withTypes:()=>u});const c=async(m,v,b,y)=>{const x=new AbortController,_=SQ(l,x.signal),k=[];try{m.pending.add(x),n(m),await Promise.resolve(m.effect(v,Fl({},b,{getOriginalState:y,condition:(T,I)=>_(T,I).then(Boolean),take:_,delay:zL(x.signal),pause:Pm(x.signal),extra:a,signal:x.signal,fork:kQ(x.signal,k),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((T,I,j)=>{T!==x&&(T.abort(Ob),j.delete(T))})},cancel:()=>{x.abort(Ob),m.pending.delete(x)},throwIfCancelled:()=>{cs(x.signal)}})))}catch(T){T instanceof xv||WA(o,T,{raisedBy:"effect"})}finally{await Promise.all(k),x.abort(_Q),i(m),m.pending.delete(x)}},d=PQ(t,r);return{middleware:m=>v=>b=>{if(!bL(b))return v(b);if(WL.match(b))return l(b.payload);if(TQ.match(b)){d();return}if(KL.match(b))return u(b.payload);let y=m.getState();const x=()=>{if(y===UA)throw new Error(gn(23));return y};let _;try{if(_=v(b),t.size>0){const k=m.getState(),T=Array.from(t.values());for(const I of T){let j=!1;try{j=I.predicate(b,k,y)}catch(E){j=!1,WA(o,E,{raisedBy:"predicate"})}j&&c(I,b,m,x)}}}finally{y=UA}return _},startListening:l,stopListening:u,clearListeners:d}};function gn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},HL=rn({name:"chartLayout",initialState:IQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:CQ,setLayout:OQ,setChartSize:NQ,setScale:jQ}=HL.actions,DQ=HL.reducer;function qL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function qe(e){return Number.isFinite(e)}function ki(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){RQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function We(e,t,r){return gt(e)||gt(t)?r:Ei(t)?Os(e,t,r):typeof t=="function"?t(e):r}var VQ=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&a!=="center"&&Z(e[a]))return kl(kl({},e),{},{[a]:e[a]+(n||0)});if((s==="horizontal"||s==="vertical"&&a==="center")&&o!=="middle"&&Z(e[o]))return kl(kl({},e),{},{[o]:e[o]+(i||0)})}return e},xa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",GL=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var i,a,o=e.map(s=>(s.coordinate===t&&(i=!0),s.coordinate===r&&(a=!0),s.coordinate));return i||o.push(t),a||o.push(r),o},YL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:m}=e;if(!o)return null;var v=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=i==="category"&&o.bandwidth?o.bandwidth()/v:0;if(b=m==="angleAxis"&&a&&a.length>=2?ir(a[0]-a[1])*2*b:b,d||h){var y=(d||h||[]).map((x,_)=>{var k=n?n.indexOf(x):x;return{coordinate:o(k)+b,value:x,offset:b,index:_}});return y.filter(x=>!Mn(x.coordinate))}return l&&u?u.map((x,_)=>({coordinate:o(x)+b,value:x,index:_,offset:b})):o.ticks&&c!=null?o.ticks(c).map((x,_)=>({coordinate:o(x)+b,value:x,offset:b,index:_})):o.domain().map((x,_)=>({coordinate:o(x)+b,value:n?n[x]:x,index:_,offset:b}))},HA=1e-4,$Q=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-HA,a=Math.max(n[0],n[1])+HA,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}},FQ=(e,t)=>{if(!t||t.length!==2||!Z(t[0])||!Z(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(i[0]=r),(!Z(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},zQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,s=0;s<r;++s){var l=e[s],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],h=Mn(c)?d:c;h>=0?(u[0]=a,u[1]=a+h,a=c):(u[0]=o,u[1]=o+h,o=c)}}}},UQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var s=e[o],l=s==null?void 0:s[i];if(l!=null){var u=Mn(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},BQ={sign:zQ,expand:wG,none:Cs,silhouette:_G,wiggle:EG,positive:UQ},WQ=(e,t,r)=>{var n,i=(n=BQ[r])!==null&&n!==void 0?n:Cs,a=bG().keys(t).value((s,l)=>Number(We(s,l,0))).order(wb).offset(i),o=a(e);return o.forEach((s,l)=>{s.forEach((u,c)=>{var d=We(e[c],t[l],0);Array.isArray(d)&&d.length===2&&Z(d[0])&&Z(d[1])&&(u[0]=d[0],u[1]=d[1])})}),o};function QL(e){return e==null?void 0:String(e)}function qA(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!gt(i[t.dataKey])){var s=$M(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=We(i,gt(o)?t.dataKey:o);return gt(l)?null:t.scale(l)}var GA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=We(a,t.dataKey,t.scale.domain()[o]);return gt(s)?null:t.scale(s)-i/2+n},KQ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},HQ=e=>{var t=e.flat(2).filter(Z);return[Math.min(...t),Math.max(...t)]},qQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],GQ=(e,t,r)=>{if(e!=null)return qQ(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,s=o.reduce((l,u)=>{var c=qL(u,t,r),d=HQ(c);return!qe(d[0])||!qe(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},YA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fu=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=fv(t,c=>c.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],u=i[o-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function XA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return kl(kl({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Iu(e,t){if(e)return String(e);if(typeof t=="string")return t}var YQ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},QQ=(e,t)=>t==="centric"?e.angle:e.radius,ba=e=>e.layout.width,wa=e=>e.layout.height,XQ=e=>e.layout.scale,XL=e=>e.layout.margin,wv=V(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_v=V(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JL="data-recharts-item-index",ZL="data-recharts-item-id",mf=60;function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){JQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JQ(e,t,r){return(t=ZQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZQ(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX=e=>e.brush.height;function rX(e){var t=_v(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:mf;return r+i}return r},0)}function nX(e){var t=_v(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:mf;return r+i}return r},0)}function iX(e){var t=wv(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function aX(e){var t=wv(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ht=V([ba,wa,XL,tX,rX,nX,iX,aX,gL,OY],(e,t,r,n,i,a,o,s,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=Nh(Nh({},d),c),m=h.bottom;h.bottom+=n,h=VQ(h,l,u);var v=e-h.left-h.right,b=t-h.top-h.bottom;return Nh(Nh({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(b,0)})}),oX=V(Ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),nE=V(ba,wa,(e,t)=>({x:0,y:0,width:e,height:t})),sX=g.createContext(null),Dr=()=>g.useContext(sX)!=null,Ev=e=>e.brush,kv=V([Ev,Ht,XL],(e,t,r)=>({height:e.height,x:Z(e.x)?e.x:t.left,y:Z(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Z(e.width)?e.width:t.width})),e4={},t4={},r4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let o,s=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},d=()=>{u&&c(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,d()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{v(),o=void 0,s=null},y=()=>{c()},x=function(..._){if(i!=null&&i.aborted)return;o=this,s=_;const k=h==null;m(),l&&k&&c()};return x.schedule=m,x.cancel=b,x.flush=y,i==null||i.addEventListener("abort",b,{once:!0}),x}e.debounce=t})(r4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:s=!0,maxWait:l}=a,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let c,d=null;const h=t.debounce(function(...b){c=n.apply(this,b),d=null},i,{edges:u}),m=function(...b){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,b),d=Date.now(),h.cancel(),h.schedule(),c):(h.apply(this,b),c)},v=()=>(h.flush(),c);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(t4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t4;function r(n,i=0,a={}){const{leading:o=!0,trailing:s=!0}=a;return t.debounce(n,i,{leading:o,maxWait:i,trailing:s})}e.throttle=r})(e4);var lX=e4.throttle;const uX=ha(lX);var Tm=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>i[o++]))}},n4=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=oa(n)?e:Number(n),l=oa(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},cX={width:0,height:0,overflow:"visible"},dX={width:0,overflowX:"visible"},fX={height:0,overflowY:"visible"},hX={},pX=e=>{var{width:t,height:r}=e,n=oa(t),i=oa(r);return n&&i?cX:n?dX:i?fX:hX};function mX(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jb.apply(null,arguments)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return(t=vX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i4=g.createContext({width:-1,height:-1});function xX(e){return ki(e.width)&&ki(e.height)}function a4(e){var{children:t,width:r,height:n}=e,i=g.useMemo(()=>({width:r,height:n}),[r,n]);return xX(i)?g.createElement(i4.Provider,{value:i},t):null}var iE=()=>g.useContext(i4),bX=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:m,style:v={}}=e,b=g.useRef(null),y=g.useRef();y.current=m,g.useImperativeHandle(t,()=>b.current);var[x,_]=g.useState({containerWidth:n.width,containerHeight:n.height}),k=g.useCallback((S,A)=>{_(C=>{var N=Math.round(S),O=Math.round(A);return C.containerWidth===N&&C.containerHeight===O?C:{containerWidth:N,containerHeight:O}})},[]);g.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return cf;var S=O=>{var D,{width:F,height:G}=O[0].contentRect;k(F,G),(D=y.current)===null||D===void 0||D.call(y,F,G)};c>0&&(S=uX(S,c,{trailing:!0,leading:!1}));var A=new ResizeObserver(S),{width:C,height:N}=b.current.getBoundingClientRect();return k(C,N),A.observe(b.current),()=>{A.disconnect()}},[k,c]);var{containerWidth:T,containerHeight:I}=x;Tm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:E}=n4(T,I,{width:i,height:a,aspect:r,maxHeight:l});return Tm(j!=null&&j>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,E,i,a,o,s,r),g.createElement("div",{id:d?"".concat(d):void 0,className:Te("recharts-responsive-container",h),style:eI(eI({},v),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:b},g.createElement("div",{style:pX({width:i,height:a})},g.createElement(a4,{width:j,height:E},u)))}),zl=g.forwardRef((e,t)=>{var r=iE();if(ki(r.width)&&ki(r.height))return e.children;var{width:n,height:i}=mX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=n4(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Z(a)&&Z(o)?g.createElement(a4,{width:a,height:o},e.children):g.createElement(bX,jb({},e,{width:n,height:i,ref:t}))});function o4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Sv=()=>{var e,t=Dr(),r=ie(oX),n=ie(kv),i=(e=ie(Ev))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},wX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},s4=()=>{var e;return(e=ie(Ht))!==null&&e!==void 0?e:wX},aE=()=>ie(ba),oE=()=>ie(wa),_X=()=>ie(e=>e.layout.margin),Ie=e=>e.layout.layoutType,Ks=()=>ie(Ie),EX=()=>{var e=Ks();if(e==="horizontal"||e==="vertical")return e},kX=()=>{var e=Ks();return e!==void 0},Pv=e=>{var t=Xe(),r=Dr(),{width:n,height:i}=e,a=iE(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),g.useEffect(()=>{!r&&ki(o)&&ki(s)&&t(NQ({width:o,height:s}))},[t,r,o,s]),null},l4=Symbol.for("immer-nothing"),tI=Symbol.for("immer-draftable"),yn=Symbol.for("immer-state");function Gn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cd=Object.getPrototypeOf;function hu(e){return!!e&&!!e[yn]}function js(e){var t;return e?u4(e)||Array.isArray(e)||!!e[tI]||!!((t=e.constructor)!=null&&t[tI])||gf(e)||Av(e):!1}var SX=Object.prototype.constructor.toString(),rI=new WeakMap;function u4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=rI.get(r);return n===void 0&&(n=Function.toString.call(r),rI.set(r,n)),n===SX}function Am(e,t,r=!0){Tv(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Tv(e){const t=e[yn];return t?t.type_:Array.isArray(e)?1:gf(e)?2:Av(e)?3:0}function Db(e,t){return Tv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c4(e,t,r){const n=Tv(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function PX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function gf(e){return e instanceof Map}function Av(e){return e instanceof Set}function Qo(e){return e.copy_||e.base_}function Rb(e,t){if(gf(e))return new Map(e);if(Av(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=u4(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[yn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const o=i[a],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Cd(e),n)}else{const n=Cd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function sE(e,t=!1){return Iv(e)||hu(e)||!js(e)||(Tv(e)>1&&Object.defineProperties(e,{set:jh,add:jh,clear:jh,delete:jh}),Object.freeze(e),t&&Object.values(e).forEach(r=>sE(r,!0))),e}function TX(){Gn(2)}var jh={value:TX};function Iv(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var AX={};function Ds(e){const t=AX[e];return t||Gn(0,e),t}var Od;function d4(){return Od}function IX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nI(e,t){t&&(Ds("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mb(e){Lb(e),e.drafts_.forEach(CX),e.drafts_=null}function Lb(e){e===Od&&(Od=e.parent_)}function iI(e){return Od=IX(Od,e)}function CX(e){const t=e[yn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[yn].modified_&&(Mb(t),Gn(4)),js(e)&&(e=Im(t,e),t.parent_||Cm(t,e)),t.patches_&&Ds("Patches").generateReplacementPatches_(r[yn].base_,e,t.patches_,t.inversePatches_)):e=Im(t,r,[]),Mb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==l4?e:void 0}function Im(e,t,r){if(Iv(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[yn];if(!i)return Am(t,(a,o)=>oI(e,i,t,a,o,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Cm(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let o=a,s=!1;i.type_===3&&(o=new Set(a),a.clear(),s=!0),Am(o,(l,u)=>oI(e,i,a,l,u,r,s),n),Cm(e,a,!1),r&&e.patches_&&Ds("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function oI(e,t,r,n,i,a,o){if(i==null||typeof i!="object"&&!o)return;const s=Iv(i);if(!(s&&!o)){if(hu(i)){const l=a&&t&&t.type_!==3&&!Db(t.assigned_,n)?a.concat(n):void 0,u=Im(e,i,l);if(c4(r,n,u),hu(u))e.canAutoFreeze_=!1;else return}else o&&r.add(i);if(js(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&s)return;Im(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(gf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Cm(e,i)}}}function Cm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sE(t,r)}function OX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:d4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=lE;r&&(i=[n],a=Nd);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}var lE={get(e,t){if(t===yn)return e;const r=Qo(e);if(!Db(r,t))return NX(e,r,t);const n=r[t];return e.finalized_||!js(n)?n:n===x0(e.base_,t)?(b0(e),e.copy_[t]=$b(n,e)):n},has(e,t){return t in Qo(e)},ownKeys(e){return Reflect.ownKeys(Qo(e))},set(e,t,r){const n=f4(Qo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=x0(Qo(e),t),a=i==null?void 0:i[yn];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(PX(r,i)&&(r!==void 0||Db(e.base_,t)))return!0;b0(e),Vb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return x0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,b0(e),Vb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Qo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Gn(11)},getPrototypeOf(e){return Cd(e.base_)},setPrototypeOf(){Gn(12)}},Nd={};Am(lE,(e,t)=>{Nd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Nd.deleteProperty=function(e,t){return Nd.set.call(this,e,t,void 0)};Nd.set=function(e,t,r){return lE.set.call(this,e[0],t,r,e[0])};function x0(e,t){const r=e[yn];return(r?Qo(r):e)[t]}function NX(e,t,r){var i;const n=f4(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function f4(e,t){if(!(t in e))return;let r=Cd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cd(r)}}function Vb(e){e.modified_||(e.modified_=!0,e.parent_&&Vb(e.parent_))}function b0(e){e.copy_||(e.copy_=Rb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var jX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const o=this;return function(l=a,...u){return o.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Gn(6),n!==void 0&&typeof n!="function"&&Gn(7);let i;if(js(t)){const a=iI(this),o=$b(t,void 0);let s=!0;try{i=r(o),s=!1}finally{s?Mb(a):Lb(a)}return nI(a,n),aI(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===l4&&(i=void 0),this.autoFreeze_&&sE(i,!0),n){const a=[],o=[];Ds("Patches").generateReplacementPatches_(t,i,a,o),n(a,o)}return i}else Gn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,l=>t(l,...s));let n,i;return[this.produce(t,r,(o,s)=>{n=o,i=s}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){js(e)||Gn(8),hu(e)&&(e=DX(e));const t=iI(this),r=$b(e,void 0);return r[yn].isManual_=!0,Lb(t),r}finishDraft(e,t){const r=e&&e[yn];(!r||!r.isManual_)&&Gn(9);const{scope_:n}=r;return nI(n,t),aI(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ds("Patches").applyPatches_;return hu(e)?n(e,t):this.produce(e,i=>n(i,t))}};function $b(e,t){const r=gf(e)?Ds("MapSet").proxyMap_(e,t):Av(e)?Ds("MapSet").proxySet_(e,t):OX(e,t);return(t?t.scope_:d4()).drafts_.push(r),r}function DX(e){return hu(e)||Gn(10,e),h4(e)}function h4(e){if(!js(e)||Iv(e))return e;const t=e[yn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Rb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Rb(e,!0);return Am(r,(i,a)=>{c4(r,i,h4(a))},n),t&&(t.finalized_=!1),r}var RX=new jX;RX.produce;var MX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},p4=rn({name:"legend",initialState:MX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:at()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Jn(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:at()},removeLegendPayload:{reducer(e,t){var r=Jn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:at()}}}),{setLegendSize:sI,setLegendSettings:LX,addLegendPayload:m4,replaceLegendPayload:g4,removeLegendPayload:v4}=p4.actions,VX=p4.reducer,$X=["contextPayload"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fb.apply(null,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BX(e,t){if(e==null)return{};var r,n,i=WX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KX(e){return e.value}function HX(e){var{contextPayload:t}=e,r=BX(e,$X),n=aL(t,e.payloadUniqBy,KX),i=pu(pu({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,i):typeof e.content=="function"?g.createElement(e.content,i):g.createElement(QG,i)}function qX(e,t,r,n,i,a){var{layout:o,align:s,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((n||0)-a.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),pu(pu({},u),c)}function GX(e){var t=Xe();return g.useEffect(()=>{t(LX(e))},[t,e]),null}function YX(e){var t=Xe();return g.useEffect(()=>(t(sI(e)),()=>{t(sI({width:0,height:0}))}),[t,e]),null}function QX(e,t,r,n){return e==="vertical"&&Z(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var XX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function uE(e){var t=Ft(e,XX),r=DY(),n=Wq(),i=_X(),{width:a,height:o,wrapperStyle:s,portal:l}=t,[u,c]=vL([r]),d=aE(),h=oE();if(d==null||h==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=QX(t.layout,o,a,m),b=l?s:pu(pu({position:"absolute",width:(v==null?void 0:v.width)||a||"auto",height:(v==null?void 0:v.height)||o||"auto"},qX(s,t,i,d,h,u)),s),y=l??n;if(y==null||r==null)return null;var x=g.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:c},g.createElement(GX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(YX,{width:u.width,height:u.height}),g.createElement(HX,Fb({},t,v,{margin:i,chartWidth:d,chartHeight:h,contextPayload:r})));return Pg.createPortal(x,y)}uE.displayName="Legend";function zb(){return zb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zb.apply(null,arguments)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function w0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){JX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t,r){return(t=ZX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZX(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tJ(e){return Array.isArray(e)&&Ei(e[0])&&Ei(e[1])?e.join(" ~ "):e}var rJ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var I={padding:0,margin:0},j=(s?fv(a,s):a).map((E,S)=>{if(E.type==="none")return null;var A=E.formatter||o||tJ,{value:C,name:N}=E,O=C,D=N;if(A){var F=A(C,N,E,S,a);if(Array.isArray(F))[O,D]=F;else if(F!=null)O=F;else return null}var G=w0({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:G},Ei(D)?g.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Ei(D)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:I},j)}return null},v=w0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=w0({margin:0},i),y=!gt(c),x=y?c:"",_=Te("recharts-default-tooltip",l),k=Te("recharts-tooltip-label",u);y&&d&&a!==void 0&&a!==null&&(x=d(c,a));var T=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",zb({className:_,style:v},T),g.createElement("p",{className:k,style:b},g.isValidElement(x)?x:"".concat(x)),m())},fc="recharts-tooltip-wrapper",nJ={visibility:"hidden"};function iJ(e){var{coordinate:t,translateX:r,translateY:n}=e;return Te(fc,{["".concat(fc,"-right")]:Z(r)&&t&&Z(t.x)&&r>=t.x,["".concat(fc,"-left")]:Z(r)&&t&&Z(t.x)&&r<t.x,["".concat(fc,"-bottom")]:Z(n)&&t&&Z(t.y)&&n>=t.y,["".concat(fc,"-top")]:Z(n)&&t&&Z(t.y)&&n<t.y})}function cI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(a&&Z(a[n]))return a[n];var c=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?c:d;var h=l[n];if(h==null)return 0;if(o[n]){var m=c,v=h;return m<v?Math.max(d,h):Math.max(c,h)}if(u==null)return 0;var b=d+s,y=h+u;return b>y?Math.max(c,h):Math.max(d,h)}function aJ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oJ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,c,d;return o.height>0&&o.width>0&&r?(c=cI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=cI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=aJ({translateX:c,translateY:d,useTranslate3d:s})):u=nJ,{cssProperties:u,cssClasses:iJ({translateX:c,translateY:d,coordinate:r})}}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ub(e,t,r){return(t=sJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uJ extends g.PureComponent{constructor(){super(...arguments),Ub(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ub(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:b,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:_,cssProperties:k}=oJ({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),T=x?{}:Dh(Dh({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),I=Dh(Dh({},T),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:I,ref:y},a)}}var y4=()=>{var e;return(e=ie(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pI={curveBasisClosed:uG,curveBasisOpen:cG,curveBasis:lG,curveBumpX:Gq,curveBumpY:Yq,curveLinearClosed:dG,curveLinear:av,curveMonotoneX:fG,curveMonotoneY:hG,curveNatural:pG,curveStep:mG,curveStepAfter:vG,curveStepBefore:gG},Om=e=>qe(e.x)&&qe(e.y),mI=e=>e.base!=null&&Om(e.base)&&Om(e),hc=e=>e.x,pc=e=>e.y,hJ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(uf(e));return(r==="curveMonotone"||r==="curveBump")&&t?pI["".concat(r).concat(t==="vertical"?"Y":"X")]:pI[r]||av},pJ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=hJ(t,i),s=a?r.filter(Om):r,l;if(Array.isArray(n)){var u=r.map((m,v)=>hI(hI({},m),{},{base:n[v]}));i==="vertical"?l=Ph().y(pc).x1(hc).x0(m=>m.base.x):l=Ph().x(hc).y1(pc).y0(m=>m.base.y);var c=l.defined(mI).curve(o),d=a?u.filter(mI):u;return c(d)}i==="vertical"&&Z(n)?l=Ph().y(pc).x1(hc).x0(n):Z(n)?l=Ph().x(hc).y1(pc).y0(n):l=SM().x(hc).y(pc);var h=l.defined(Om).curve(o);return h(s)},Ul=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Ks();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},s=r&&r.length?pJ(o):n;return g.createElement("path",Bb({},tn(e),M1(e),{className:Te("recharts-curve",t),d:s===null?void 0:s,ref:i}))},mJ=["x","y","top","left","width","height","className"];function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bJ(e,t){if(e==null)return{};var r,n,i=wJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _J=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),EJ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=bJ(e,mJ),u=gJ({x:t,y:r,top:n,left:i,width:a,height:o},l);return!Z(t)||!Z(r)||!Z(a)||!Z(o)||!Z(n)||!Z(i)?null:g.createElement("path",Wb({},zr(u),{className:Te("recharts-cross",s),d:_J(t,r,a,o,n,i)}))};function kJ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){SJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SJ(e,t,r){return(t=PJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PJ(e){var t=TJ(e,"string");return typeof t=="symbol"?t:t+""}function TJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),x4=(e,t,r)=>e.map(n=>"".concat(AJ(n)," ").concat(t,"ms ").concat(r)).join(","),IJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),jd=(e,t)=>Object.keys(t).reduce((r,n)=>yI(yI({},r),{},{[n]:e(n,t[n])}),{});function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){CJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CJ(e,t,r){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nm=(e,t,r)=>e+(t-e)*r,Kb=e=>{var{from:t,to:r}=e;return t!==r},b4=(e,t,r)=>{var n=jd((i,a)=>{if(Kb(a)){var[o,s]=e(a.from,a.to,a.velocity);return Ut(Ut({},a),{},{from:o,velocity:s})}return a},t);return r<1?jd((i,a)=>Kb(a)&&n[i]!=null?Ut(Ut({},a),{},{velocity:Nm(a.velocity,n[i].velocity,r),from:Nm(a.from,n[i].from,r)}):a,t):b4(e,n,r-1)};function jJ(e,t,r,n,i,a){var o,s=n.reduce((h,m)=>Ut(Ut({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>jd((h,m)=>m.from,s),u=()=>!Object.values(s).filter(Kb).length,c=null,d=h=>{o||(o=h);var m=h-o,v=m/r.dt;s=b4(r,s,v),i(Ut(Ut(Ut({},e),t),l())),o=h,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var h;(h=c)===null||h===void 0||h()})}function DJ(e,t,r,n,i,a,o){var s=null,l=i.reduce((d,h)=>{var m=e[h],v=t[h];return m==null||v==null?d:Ut(Ut({},d),{},{[h]:[m,v]})},{}),u,c=d=>{u||(u=d);var h=(d-u)/n,m=jd((b,y)=>Nm(...y,r(h)),l);if(a(Ut(Ut(Ut({},e),t),m)),h<1)s=o.setTimeout(c);else{var v=jd((b,y)=>Nm(...y,r(1)),l);a(Ut(Ut(Ut({},e),t),v))}};return()=>(s=o.setTimeout(c),()=>{var d;(d=s)===null||d===void 0||d()})}const RJ=(e,t,r,n,i,a)=>{var o=IJ(e,t);return r==null?()=>(i(Ut(Ut({},e),t)),()=>{}):r.isStepper===!0?jJ(e,t,r,o,i,a):DJ(e,t,r,n,o,i,a)};var jm=1e-4,w4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_4=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bI=(e,t)=>r=>{var n=w4(e,t);return _4(n,r)},MJ=(e,t)=>r=>{var n=w4(e,t),i=[...n.map((a,o)=>a*o).slice(1),0];return _4(i,r)},LJ=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},VJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=LJ(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},$J=(e,t,r,n)=>{var i=bI(e,r),a=bI(t,n),o=MJ(e,r),s=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,h=0;h<8;++h){var m=i(d)-c,v=o(d);if(Math.abs(m-c)<jm||v<jm)return a(d);d=s(d-m/v)}return a(d)};return l.isStepper=!1,l},wI=function(){return $J(...VJ(...arguments))},FJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(o,s,l)=>{var u=-(o-s)*r,c=l*n,d=l+(u-c)*i/1e3,h=l*i/1e3+o;return Math.abs(h-s)<jm&&Math.abs(d)<jm?[s,0]:[h,d]};return a.isStepper=!0,a.dt=i,a},zJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wI(e);case"spring":return FJ();default:if(e.split("(")[0]==="cubic-bezier")return wI(e)}return typeof e=="function"?e:null};function UJ(e){var t,r=()=>null,n=!1,i=null,a=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,i&&(i(),i=null),a(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class BJ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function WJ(){return UJ(new BJ)}var KJ=g.createContext(WJ);function HJ(e,t){var r=g.useContext(KJ);return g.useMemo(()=>t??r(e),[e,t,r])}var qJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),vf={isSsr:qJ()},GJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_I={t:0},_0={t:1};function yf(e){var t=Ft(e,GJ),{isActive:r,canBegin:n,duration:i,easing:a,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,c=r==="auto"?!vf.isSsr:r,d=HJ(t.animationId,t.animationManager),[h,m]=g.useState(c?_I:_0),v=g.useRef(null);return g.useEffect(()=>{c||m(_0)},[c]),g.useEffect(()=>{if(!c||!n)return cf;var b=RJ(_I,_0,zJ(a),i,m,d.getTimeoutController()),y=()=>{v.current=b()};return d.start([l,o,y,i,s]),()=>{d.stop(),v.current&&v.current(),s()}},[c,n,i,a,o,l,s,d]),u(h.t)}function xf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Pd(t)),n=g.useRef(e);return n.current!==e&&(r.current=Pd(t),n.current=e),r.current}var YJ=["radius"],QJ=["radius"],EI,kI,SI,PI,TI,AI,II,CI,OI,NI;function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){XJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XJ(e,t,r){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dm.apply(null,arguments)}function RI(e,t){if(e==null)return{};var r,n,i=eZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MI=(e,t,r,n,i)=>{var a=Xa(r),o=Xa(n),s=Math.min(Math.abs(a)/2,Math.abs(o)/2),l=o>=0?1:-1,u=a>=0?1:-1,c=o>=0&&a>=0||o<0&&a<0?1:0,d;if(s>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=i[m]>s?s:i[m];d=kt(EI||(EI=li(["M",",",""])),e,t+l*h[0]),h[0]>0&&(d+=kt(kI||(kI=li(["A ",",",",0,0,",",",",",""])),h[0],h[0],c,e+u*h[0],t)),d+=kt(SI||(SI=li(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(d+=kt(PI||(PI=li(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],c,e+r,t+l*h[1])),d+=kt(TI||(TI=li(["L ",",",""])),e+r,t+n-l*h[2]),h[2]>0&&(d+=kt(AI||(AI=li(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],c,e+r-u*h[2],t+n)),d+=kt(II||(II=li(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(d+=kt(CI||(CI=li(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],c,e,t+n-l*h[3])),d+="Z"}else if(s>0&&i===+i&&i>0){var b=Math.min(s,i);d=kt(OI||(OI=li(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*b,b,b,c,e+u*b,t,e+r-u*b,t,b,b,c,e+r,t+l*b,e+r,t+n-l*b,b,b,c,e+r-u*b,t+n,e+u*b,t+n,b,b,c,e,t+n-l*b)}else d=kt(NI||(NI=li(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},LI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E4=e=>{var t=Ft(e,LI),r=g.useRef(null),[n,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:o,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:b}=t,y=g.useRef(s),x=g.useRef(l),_=g.useRef(a),k=g.useRef(o),T=g.useMemo(()=>({x:a,y:o,width:s,height:l,radius:u}),[a,o,s,l,u]),I=xf(T,"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var j=Te("recharts-rectangle",c);if(!b){var E=zr(t),{radius:S}=E,A=RI(E,YJ);return g.createElement("path",Dm({},A,{x:Xa(a),y:Xa(o),width:Xa(s),height:Xa(l),radius:typeof u=="number"?u:void 0,className:j,d:MI(a,o,s,l,u)}))}var C=y.current,N=x.current,O=_.current,D=k.current,F="0px ".concat(n===-1?1:n,"px"),G="".concat(n,"px 0px"),M=x4(["strokeDasharray"],h,typeof d=="string"?d:LI.animationEasing);return g.createElement(yf,{animationId:I,key:I,canBegin:n>0,duration:h,easing:d,isActive:b,begin:m},H=>{var $=tt(C,s,H),B=tt(N,l,H),X=tt(O,a,H),oe=tt(D,o,H);r.current&&(y.current=$,x.current=B,_.current=X,k.current=oe);var ne;v?H>0?ne={transition:M,strokeDasharray:G}:ne={strokeDasharray:F}:ne={strokeDasharray:G};var ye=zr(t),{radius:Ne}=ye,ct=RI(ye,QJ);return g.createElement("path",Dm({},ct,{radius:typeof u=="number"?u:void 0,className:j,d:MI(X,oe,$,B,u),ref:r,style:DI(DI({},ne),t.style)}))})};function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){tZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tZ(e,t,r){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rZ(e){var t=nZ(e,"string");return typeof t=="symbol"?t:t+""}function nZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rm=Math.PI/180,iZ=e=>e*180/Math.PI,Lt=(e,t,r,n)=>({x:e+Math.cos(-Rm*n)*r,y:t+Math.sin(-Rm*n)*r}),k4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},aZ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},oZ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=aZ({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:iZ(l),angleInRadian:l}},sZ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},lZ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return e+o*360},uZ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=oZ({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s||i===0)return null;var{startAngle:l,endAngle:u}=sZ(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?$I($I({},t),{},{radius:i,angle:lZ(c,t)}):null};function S4(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,o=Lt(t,r,n,i),s=Lt(t,r,n,a);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var FI,zI,UI,BI,WI,KI,HI;function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(null,arguments)}function rs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cZ=(e,t)=>{var r=ir(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Rh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+n,c=Math.asin(s/u)/Rm,d=l?i:i+a*c,h=Lt(t,r,u,d),m=Lt(t,r,n,d),v=l?i-a*c:i,b=Lt(t,r,u*Math.cos(c*Rm),v);return{center:h,circleTangency:m,lineTangency:b,theta:c}},P4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=cZ(a,o),l=a+s,u=Lt(t,r,i,a),c=Lt(t,r,i,l),d=kt(FI||(FI=rs(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(s)>180),+(a>l),c.x,c.y);if(n>0){var h=Lt(t,r,n,a),m=Lt(t,r,n,l);d+=kt(zI||(zI=rs(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(s)>180),+(a<=l),h.x,h.y)}else d+=kt(UI||(UI=rs(["L ",","," Z"])),t,r);return d},dZ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=ir(u-l),{circleTangency:d,lineTangency:h,theta:m}=Rh({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:s}),{circleTangency:v,lineTangency:b,theta:y}=Rh({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:s}),x=s?Math.abs(l-u):Math.abs(l-u)-m-y;if(x<0)return o?kt(BI||(BI=rs(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):P4({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var _=kt(WI||(WI=rs(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(c<0),d.x,d.y,i,i,+(x>180),+(c<0),v.x,v.y,a,a,+(c<0),b.x,b.y);if(n>0){var{circleTangency:k,lineTangency:T,theta:I}=Rh({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:j,lineTangency:E,theta:S}=Rh({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),A=s?Math.abs(l-u):Math.abs(l-u)-I-S;if(A<0&&a===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+=kt(KI||(KI=rs(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,a,a,+(c<0),j.x,j.y,n,n,+(A>180),+(c>0),k.x,k.y,a,a,+(c<0),T.x,T.y)}else _+=kt(HI||(HI=rs(["L",",","Z"])),t,r);return _},fZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},T4=e=>{var t=Ft(e,fZ),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var h=Te("recharts-sector",d),m=a-i,v=Or(o,m,0,!0),b;return v>0&&Math.abs(u-c)<360?b=dZ({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):b=P4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),g.createElement("path",Hb({},zr(t),{className:h,d:b}))};function hZ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(zM(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=Lt(n,i,a,s),u=Lt(n,i,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return S4(t)}}var A4={},I4={},C4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q1;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(C4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C4;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(I4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1,r=I4;function n(i,a,o){o&&typeof o!="number"&&t.isIterateeCall(i,a,o)&&(a=o=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),o=o===void 0?i<a?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((a-i)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=i,i+=o;return l}e.range=n})(A4);var pZ=A4.range;const O4=ha(pZ);function fo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cE(e){let t,r,n;e.length!==2?(t=fo,r=(s,l)=>fo(e(s),l),n=(s,l)=>e(s)-l):(t=e===fo||e===mZ?e:gZ,r=e,n=e);function i(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(s[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function o(s,l,u=0,c=s.length){const d=i(s,l,u,c-1);return d>u&&n(s[d-1],l)>-n(s[d],l)?d-1:d}return{left:i,center:o,right:a}}function gZ(){return 0}function N4(e){return e===null?NaN:+e}function*vZ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const yZ=cE(fo),bf=yZ.right;cE(N4).center;class qI extends Map{constructor(t,r=wZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(GI(this,t))}has(t){return super.has(GI(this,t))}set(t,r){return super.set(xZ(this,t),r)}delete(t){return super.delete(bZ(this,t))}}function GI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function bZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _Z(e=fo){if(e===fo)return j4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function j4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const EZ=Math.sqrt(50),kZ=Math.sqrt(10),SZ=Math.sqrt(2);function Mm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=EZ?10:a>=kZ?5:a>=SZ?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=r&&r<2?Mm(e,t,r*2):[s,l,u]}function qb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,o]=n?Mm(t,e,r):Mm(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function Gb(e,t,r){return t=+t,e=+e,r=+r,Mm(e,t,r)[2]}function Yb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Gb(t,e,r):Gb(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function YI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function D4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?j4:_Z(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+h)),v=Math.min(n,Math.floor(t+(l-u)*d/l+h));D4(e,t,m,v,i)}const a=e[t];let o=r,s=n;for(mc(e,r,t),i(e[n],a)>0&&mc(e,r,n);o<s;){for(mc(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}i(e[r],a)===0?mc(e,r,s):(++s,mc(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function mc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function PZ(e,t,r){if(e=Float64Array.from(vZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return QI(e);if(t>=1)return YI(e);var n,i=(n-1)*t,a=Math.floor(i),o=YI(D4(e,a).subarray(0,a+1)),s=QI(e.subarray(a+1));return o+(s-o)*(i-a)}}function TZ(e,t,r=N4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e),s=+r(e[a+1],a+1,e);return o+(s-o)*(i-a)}}function AZ(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function $n(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function _a(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Qb=Symbol("implicit");function dE(){var e=new qI,t=[],r=[],n=Qb;function i(a){let o=e.get(a);if(o===void 0){if(n!==Qb)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new qI;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return dE(t,r).unknown(n)},$n.apply(i,arguments),i}function fE(){var e=dE().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var h=t().length,m=i<n,v=m?i:n,b=m?n:i;a=(b-v)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),v+=(b-v-a*(h-l))*c,o=a*(1-l),s&&(v=Math.round(v),o=Math.round(o));var y=AZ(h).map(function(x){return v+a*x});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,s=!0,d()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(s=!!h,d()):s},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),d()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),d()):c},e.copy=function(){return fE(t(),[n,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},$n.apply(d(),arguments)}function R4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return R4(t())},e}function IZ(){return R4(fE.apply(null,arguments).paddingInner(1))}function hE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function M4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function wf(){}var Dd=.7,Lm=1/Dd,Bl="\\s*([+-]?\\d+)\\s*",Rd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",CZ=/^#([0-9a-f]{3,8})$/,OZ=new RegExp(`^rgb\\(${Bl},${Bl},${Bl}\\)$`),NZ=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),jZ=new RegExp(`^rgba\\(${Bl},${Bl},${Bl},${Rd}\\)$`),DZ=new RegExp(`^rgba\\(${wi},${wi},${wi},${Rd}\\)$`),RZ=new RegExp(`^hsl\\(${Rd},${wi},${wi}\\)$`),MZ=new RegExp(`^hsla\\(${Rd},${wi},${wi},${Rd}\\)$`),XI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hE(wf,Md,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JI,formatHex:JI,formatHex8:LZ,formatHsl:VZ,formatRgb:ZI,toString:ZI});function JI(){return this.rgb().formatHex()}function LZ(){return this.rgb().formatHex8()}function VZ(){return L4(this).formatHsl()}function ZI(){return this.rgb().formatRgb()}function Md(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=CZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?eC(t):r===3?new Yr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=OZ.exec(e))?new Yr(t[1],t[2],t[3],1):(t=NZ.exec(e))?new Yr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=jZ.exec(e))?Mh(t[1],t[2],t[3],t[4]):(t=DZ.exec(e))?Mh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=RZ.exec(e))?nC(t[1],t[2]/100,t[3]/100,1):(t=MZ.exec(e))?nC(t[1],t[2]/100,t[3]/100,t[4]):XI.hasOwnProperty(e)?eC(XI[e]):e==="transparent"?new Yr(NaN,NaN,NaN,0):null}function eC(e){return new Yr(e>>16&255,e>>8&255,e&255,1)}function Mh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yr(e,t,r,n)}function $Z(e){return e instanceof wf||(e=Md(e)),e?(e=e.rgb(),new Yr(e.r,e.g,e.b,e.opacity)):new Yr}function Xb(e,t,r,n){return arguments.length===1?$Z(e):new Yr(e,t,r,n??1)}function Yr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hE(Yr,Xb,M4(wf,{brighter(e){return e=e==null?Lm:Math.pow(Lm,e),new Yr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dd:Math.pow(Dd,e),new Yr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yr(ds(this.r),ds(this.g),ds(this.b),Vm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tC,formatHex:tC,formatHex8:FZ,formatRgb:rC,toString:rC}));function tC(){return`#${ns(this.r)}${ns(this.g)}${ns(this.b)}`}function FZ(){return`#${ns(this.r)}${ns(this.g)}${ns(this.b)}${ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function rC(){const e=Vm(this.opacity);return`${e===1?"rgb(":"rgba("}${ds(this.r)}, ${ds(this.g)}, ${ds(this.b)}${e===1?")":`, ${e})`}`}function Vm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ns(e){return e=ds(e),(e<16?"0":"")+e.toString(16)}function nC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Yn(e,t,r,n)}function L4(e){if(e instanceof Yn)return new Yn(e.h,e.s,e.l,e.opacity);if(e instanceof wf||(e=Md(e)),!e)return new Yn;if(e instanceof Yn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(t===a?o=(r-n)/s+(r<n)*6:r===a?o=(n-t)/s+2:o=(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Yn(o,s,l,e.opacity)}function zZ(e,t,r,n){return arguments.length===1?L4(e):new Yn(e,t,r,n??1)}function Yn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hE(Yn,zZ,M4(wf,{brighter(e){return e=e==null?Lm:Math.pow(Lm,e),new Yn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dd:Math.pow(Dd,e),new Yn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Yr(E0(e>=240?e-240:e+120,i,n),E0(e,i,n),E0(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Yn(iC(this.h),Lh(this.s),Lh(this.l),Vm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vm(this.opacity);return`${e===1?"hsl(":"hsla("}${iC(this.h)}, ${Lh(this.s)*100}%, ${Lh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iC(e){return e=(e||0)%360,e<0?e+360:e}function Lh(e){return Math.max(0,Math.min(1,e||0))}function E0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const pE=e=>()=>e;function UZ(e,t){return function(r){return e+r*t}}function BZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function WZ(e){return(e=+e)==1?V4:function(t,r){return r-t?BZ(t,r,e):pE(isNaN(t)?r:t)}}function V4(e,t){var r=t-e;return r?UZ(e,r):pE(isNaN(e)?t:e)}const aC=function e(t){var r=WZ(t);function n(i,a){var o=r((i=Xb(i)).r,(a=Xb(a)).r),s=r(i.g,a.g),l=r(i.b,a.b),u=V4(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function KZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function HZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=Cu(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(s){for(o=0;o<n;++o)a[o]=i[o](s);return a}}function GZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function $m(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function YZ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Cu(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Jb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,k0=new RegExp(Jb.source,"g");function QZ(e){return function(){return e}}function XZ(e){return function(t){return e(t)+""}}function JZ(e,t){var r=Jb.lastIndex=k0.lastIndex=0,n,i,a,o=-1,s=[],l=[];for(e=e+"",t=t+"";(n=Jb.exec(e))&&(i=k0.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:$m(n,i)})),r=k0.lastIndex;return r<t.length&&(a=t.slice(r),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?XZ(l[0].x):QZ(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)s[(d=l[c]).i]=d.x(u);return s.join("")})}function Cu(e,t){var r=typeof t,n;return t==null||r==="boolean"?pE(t):(r==="number"?$m:r==="string"?(n=Md(t))?(t=n,aC):JZ:t instanceof Md?aC:t instanceof Date?GZ:HZ(t)?KZ:Array.isArray(t)?qZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?YZ:$m)(e,t)}function mE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ZZ(e,t){t===void 0&&(t=e,e=Cu);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[s](o-s)}}function eee(e){return function(){return e}}function Fm(e){return+e}var oC=[0,1];function $r(e){return e}function Zb(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:eee(isNaN(t)?NaN:.5)}function tee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function ree(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Zb(i,n),a=r(o,a)):(n=Zb(n,i),a=r(a,o)),function(s){return a(n(s))}}function nee(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Zb(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(s){var l=bf(e,s,1,n)-1;return a[l](i[l](s))}}function _f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cv(){var e=oC,t=oC,r=Cu,n,i,a,o=$r,s,l,u;function c(){var h=Math.min(e.length,t.length);return o!==$r&&(o=tee(e[0],e[h-1])),s=h>2?nee:ree,l=u=null,d}function d(h){return h==null||isNaN(h=+h)?a:(l||(l=s(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(i((u||(u=s(t,e.map(n),$m)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,Fm),c()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),c()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=mE,c()},d.clamp=function(h){return arguments.length?(o=h?!0:$r,c()):o!==$r},d.interpolate=function(h){return arguments.length?(r=h,c()):r},d.unknown=function(h){return arguments.length?(a=h,d):a},function(h,m){return n=h,i=m,c()}}function gE(){return Cv()($r,$r)}function iee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function mu(e){return e=zm(Math.abs(e)),e?e[1]:NaN}function aee(e,t){return function(r,n){for(var i=r.length,a=[],o=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(r.substring(i-=s,i+s)),!((l+=s+1)>n));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function oee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var see=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ld(e){if(!(t=see.exec(e)))throw new Error("invalid format: "+e);var t;return new vE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ld.prototype=vE.prototype;function vE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lee(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var $4;function uee(e,t){var r=zm(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-($4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+zm(e,Math.max(0,t+a-1))[0]}function sC(e,t){var r=zm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const lC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sC(e*100,t),r:sC,s:uee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uC(e){return e}var cC=Array.prototype.map,dC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cee(e){var t=e.grouping===void 0||e.thousands===void 0?uC:aee(cC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?uC:oee(cC.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Ld(d);var h=d.fill,m=d.align,v=d.sign,b=d.symbol,y=d.zero,x=d.width,_=d.comma,k=d.precision,T=d.trim,I=d.type;I==="n"?(_=!0,I="g"):lC[I]||(k===void 0&&(k=12),T=!0,I="g"),(y||h==="0"&&m==="=")&&(y=!0,h="0",m="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",E=b==="$"?n:/[%p]/.test(I)?o:"",S=lC[I],A=/[defgprs%]/.test(I);k=k===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function C(N){var O=j,D=E,F,G,M;if(I==="c")D=S(N)+D,N="";else{N=+N;var H=N<0||1/N<0;if(N=isNaN(N)?l:S(Math.abs(N),k),T&&(N=lee(N)),H&&+N==0&&v!=="+"&&(H=!1),O=(H?v==="("?v:s:v==="-"||v==="("?"":v)+O,D=(I==="s"?dC[8+$4/3]:"")+D+(H&&v==="("?")":""),A){for(F=-1,G=N.length;++F<G;)if(M=N.charCodeAt(F),48>M||M>57){D=(M===46?i+N.slice(F+1):N.slice(F))+D,N=N.slice(0,F);break}}}_&&!y&&(N=t(N,1/0));var $=O.length+N.length+D.length,B=$<x?new Array(x-$+1).join(h):"";switch(_&&y&&(N=t(B+N,B.length?x-D.length:1/0),B=""),m){case"<":N=O+N+D+B;break;case"=":N=O+B+N+D;break;case"^":N=B.slice(0,$=B.length>>1)+O+N+D+B.slice($);break;default:N=B+O+N+D;break}return a(N)}return C.toString=function(){return d+""},C}function c(d,h){var m=u((d=Ld(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(mu(h)/3)))*3,b=Math.pow(10,-v),y=dC[8+v/3];return function(x){return m(b*x)+y}}return{format:u,formatPrefix:c}}var Vh,yE,F4;dee({thousands:",",grouping:[3],currency:["$",""]});function dee(e){return Vh=cee(e),yE=Vh.format,F4=Vh.formatPrefix,Vh}function fee(e){return Math.max(0,-mu(Math.abs(e)))}function hee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mu(t)/3)))*3-mu(Math.abs(e)))}function pee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mu(t)-mu(e))+1}function z4(e,t,r,n){var i=Yb(e,t,r),a;switch(n=Ld(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=hee(i,o))&&(n.precision=a),F4(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=pee(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=fee(i))&&(n.precision=a-(n.type==="%")*2);break}}return yE(n)}function Co(e){var t=e.domain;return e.ticks=function(r){var n=t();return qb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return z4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],s=n[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=Gb(o,s,r),u===l)return n[i]=o,n[a]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function U4(){var e=gE();return e.copy=function(){return _f(e,U4())},$n.apply(e,arguments),Co(e)}function B4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Fm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return B4(e).unknown(t)},e=arguments.length?Array.from(e,Fm):[0,1],Co(r)}function W4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),e[r]=t.floor(i),e[n]=t.ceil(a),e}function fC(e){return Math.log(e)}function hC(e){return Math.exp(e)}function mee(e){return-Math.log(-e)}function gee(e){return-Math.exp(-e)}function vee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yee(e){return e===10?vee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pC(e){return(t,r)=>-e(-t,r)}function xE(e){const t=e(fC,hC),r=t.domain;let n=10,i,a;function o(){return i=xee(n),a=yee(n),r()[0]<0?(i=pC(i),a=pC(a),e(mee,gee)):e(fC,hC),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let h=i(u),m=i(c),v,b;const y=s==null?10:+s;let x=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(b=h<0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;x.push(b)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(b=h>0?v/a(-h):v*a(h),!(b<u)){if(b>c)break;x.push(b)}x.length*2<y&&(x=qb(u,c,y))}else x=qb(h,m,Math.min(m-h,y)).map(a);return d?x.reverse():x},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Ld(l)).precision==null&&(l.trim=!0),l=yE(l)),s===1/0)return l;const u=Math.max(1,n*s/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(W4(r(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),t}function K4(){const e=xE(Cv()).domain([1,10]);return e.copy=()=>_f(e,K4()).base(e.base()),$n.apply(e,arguments),e}function mC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bE(e){var t=1,r=e(mC(t),gC(t));return r.constant=function(n){return arguments.length?e(mC(t=+n),gC(t)):t},Co(r)}function H4(){var e=bE(Cv());return e.copy=function(){return _f(e,H4()).constant(e.constant())},$n.apply(e,arguments)}function vC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wee(e){return e<0?-e*e:e*e}function wE(e){var t=e($r,$r),r=1;function n(){return r===1?e($r,$r):r===.5?e(bee,wee):e(vC(r),vC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Co(t)}function _E(){var e=wE(Cv());return e.copy=function(){return _f(e,_E()).exponent(e.exponent())},$n.apply(e,arguments),e}function _ee(){return _E.apply(null,arguments).exponent(.5)}function yC(e){return Math.sign(e)*e*e}function Eee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function q4(){var e=gE(),t=[0,1],r=!1,n;function i(a){var o=Eee(e(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return e.invert(yC(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Fm)).map(yC)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return q4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$n.apply(i,arguments),Co(i)}function G4(){var e=[],t=[],r=[],n;function i(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=TZ(e,o/s);return a}function a(o){return o==null||isNaN(o=+o)?n:t[bf(r,o)]}return a.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(fo),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return G4().domain(e).range(t).unknown(n)},$n.apply(a,arguments)}function Y4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[bf(n,l,0,r)]:a}function s(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Y4().domain([e,t]).range(i).unknown(a)},$n.apply(Co(o),arguments)}function Q4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[bf(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Q4().domain(e).range(t).unknown(r)},$n.apply(i,arguments)}const S0=new Date,P0=new Date;function qt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),t(a,s),e(a);while(u<a&&a<o);return l},i.filter=a=>qt(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!a(o););else for(;--s>=0;)for(;t(o,1),!a(o););}),r&&(i.count=(a,o)=>(S0.setTime(+a),P0.setTime(+o),e(S0),e(P0),Math.floor(r(S0,P0))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Um=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Um.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Um);Um.range;const Bi=1e3,Cn=Bi*60,Wi=Cn*60,la=Wi*24,EE=la*7,xC=la*30,T0=la*365,is=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bi)},(e,t)=>(t-e)/Bi,e=>e.getUTCSeconds());is.range;const kE=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bi)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getMinutes());kE.range;const SE=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getUTCMinutes());SE.range;const PE=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bi-e.getMinutes()*Cn)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getHours());PE.range;const TE=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wi)},(e,t)=>(t-e)/Wi,e=>e.getUTCHours());TE.range;const Ef=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Cn)/la,e=>e.getDate()-1);Ef.range;const Ov=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/la,e=>e.getUTCDate()-1);Ov.range;const X4=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/la,e=>Math.floor(e/la));X4.range;function Hs(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Cn)/EE)}const Nv=Hs(0),Bm=Hs(1),kee=Hs(2),See=Hs(3),gu=Hs(4),Pee=Hs(5),Tee=Hs(6);Nv.range;Bm.range;kee.range;See.range;gu.range;Pee.range;Tee.range;function qs(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/EE)}const jv=qs(0),Wm=qs(1),Aee=qs(2),Iee=qs(3),vu=qs(4),Cee=qs(5),Oee=qs(6);jv.range;Wm.range;Aee.range;Iee.range;vu.range;Cee.range;Oee.range;const AE=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());AE.range;const IE=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());IE.range;const ua=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ua.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ua.range;const ca=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ca.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ca.range;function J4(e,t,r,n,i,a){const o=[[is,1,Bi],[is,5,5*Bi],[is,15,15*Bi],[is,30,30*Bi],[a,1,Cn],[a,5,5*Cn],[a,15,15*Cn],[a,30,30*Cn],[i,1,Wi],[i,3,3*Wi],[i,6,6*Wi],[i,12,12*Wi],[n,1,la],[n,2,2*la],[r,1,EE],[t,1,xC],[t,3,3*xC],[e,1,T0]];function s(u,c,d){const h=c<u;h&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),v=m?m.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,d){const h=Math.abs(c-u)/d,m=cE(([,,y])=>y).right(o,h);if(m===o.length)return e.every(Yb(u/T0,c/T0,d));if(m===0)return Um.every(Math.max(Yb(u,c,d),1));const[v,b]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(b)}return[s,l]}const[Nee,jee]=J4(ca,IE,jv,X4,TE,SE),[Dee,Ree]=J4(ua,AE,Nv,Ef,PE,kE);function A0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function I0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Mee(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=vc(i),c=yc(i),d=vc(a),h=yc(a),m=vc(o),v=yc(o),b=vc(s),y=yc(s),x=vc(l),_=yc(l),k={a:H,A:$,b:B,B:X,c:null,d:SC,e:SC,f:ate,g:mte,G:vte,H:rte,I:nte,j:ite,L:Z4,m:ote,M:ste,p:oe,q:ne,Q:AC,s:IC,S:lte,u:ute,U:cte,V:dte,w:fte,W:hte,x:null,X:null,y:pte,Y:gte,Z:yte,"%":TC},T={a:ye,A:Ne,b:ct,B:wt,c:null,d:PC,e:PC,f:_te,g:Nte,G:Dte,H:xte,I:bte,j:wte,L:t3,m:Ete,M:kte,p:Se,q:an,Q:AC,s:IC,S:Ste,u:Pte,U:Tte,V:Ate,w:Ite,W:Cte,x:null,X:null,y:Ote,Y:jte,Z:Rte,"%":TC},I={a:C,A:N,b:O,B:D,c:F,d:EC,e:EC,f:Jee,g:_C,G:wC,H:kC,I:kC,j:Gee,L:Xee,m:qee,M:Yee,p:A,q:Hee,Q:ete,s:tte,S:Qee,u:zee,U:Uee,V:Bee,w:Fee,W:Wee,x:G,X:M,y:_C,Y:wC,Z:Kee,"%":Zee};k.x=j(r,k),k.X=j(n,k),k.c=j(t,k),T.x=j(r,T),T.X=j(n,T),T.c=j(t,T);function j(K,fe){return function(ge){var q=[],it=-1,ue=0,ze=K.length,Me,xr,wn;for(ge instanceof Date||(ge=new Date(+ge));++it<ze;)K.charCodeAt(it)===37&&(q.push(K.slice(ue,it)),(xr=bC[Me=K.charAt(++it)])!=null?Me=K.charAt(++it):xr=Me==="e"?" ":"0",(wn=fe[Me])&&(Me=wn(ge,xr)),q.push(Me),ue=it+1);return q.push(K.slice(ue,it)),q.join("")}}function E(K,fe){return function(ge){var q=gc(1900,void 0,1),it=S(q,K,ge+="",0),ue,ze;if(it!=ge.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(fe&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ue=I0(gc(q.y,0,1)),ze=ue.getUTCDay(),ue=ze>4||ze===0?Wm.ceil(ue):Wm(ue),ue=Ov.offset(ue,(q.V-1)*7),q.y=ue.getUTCFullYear(),q.m=ue.getUTCMonth(),q.d=ue.getUTCDate()+(q.w+6)%7):(ue=A0(gc(q.y,0,1)),ze=ue.getDay(),ue=ze>4||ze===0?Bm.ceil(ue):Bm(ue),ue=Ef.offset(ue,(q.V-1)*7),q.y=ue.getFullYear(),q.m=ue.getMonth(),q.d=ue.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),ze="Z"in q?I0(gc(q.y,0,1)).getUTCDay():A0(gc(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(ze+5)%7:q.w+q.U*7-(ze+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,I0(q)):A0(q)}}function S(K,fe,ge,q){for(var it=0,ue=fe.length,ze=ge.length,Me,xr;it<ue;){if(q>=ze)return-1;if(Me=fe.charCodeAt(it++),Me===37){if(Me=fe.charAt(it++),xr=I[Me in bC?fe.charAt(it++):Me],!xr||(q=xr(K,ge,q))<0)return-1}else if(Me!=ge.charCodeAt(q++))return-1}return q}function A(K,fe,ge){var q=u.exec(fe.slice(ge));return q?(K.p=c.get(q[0].toLowerCase()),ge+q[0].length):-1}function C(K,fe,ge){var q=m.exec(fe.slice(ge));return q?(K.w=v.get(q[0].toLowerCase()),ge+q[0].length):-1}function N(K,fe,ge){var q=d.exec(fe.slice(ge));return q?(K.w=h.get(q[0].toLowerCase()),ge+q[0].length):-1}function O(K,fe,ge){var q=x.exec(fe.slice(ge));return q?(K.m=_.get(q[0].toLowerCase()),ge+q[0].length):-1}function D(K,fe,ge){var q=b.exec(fe.slice(ge));return q?(K.m=y.get(q[0].toLowerCase()),ge+q[0].length):-1}function F(K,fe,ge){return S(K,t,fe,ge)}function G(K,fe,ge){return S(K,r,fe,ge)}function M(K,fe,ge){return S(K,n,fe,ge)}function H(K){return o[K.getDay()]}function $(K){return a[K.getDay()]}function B(K){return l[K.getMonth()]}function X(K){return s[K.getMonth()]}function oe(K){return i[+(K.getHours()>=12)]}function ne(K){return 1+~~(K.getMonth()/3)}function ye(K){return o[K.getUTCDay()]}function Ne(K){return a[K.getUTCDay()]}function ct(K){return l[K.getUTCMonth()]}function wt(K){return s[K.getUTCMonth()]}function Se(K){return i[+(K.getUTCHours()>=12)]}function an(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var fe=j(K+="",k);return fe.toString=function(){return K},fe},parse:function(K){var fe=E(K+="",!1);return fe.toString=function(){return K},fe},utcFormat:function(K){var fe=j(K+="",T);return fe.toString=function(){return K},fe},utcParse:function(K){var fe=E(K+="",!0);return fe.toString=function(){return K},fe}}}var bC={"-":"",_:" ",0:"0"},or=/^\s*\d+/,Lee=/^%/,Vee=/[\\^$*+?|[\]().{}]/g;function Re(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function $ee(e){return e.replace(Vee,"\\$&")}function vc(e){return new RegExp("^(?:"+e.map($ee).join("|")+")","i")}function yc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Fee(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zee(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Uee(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Bee(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Wee(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wC(e,t,r){var n=or.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _C(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Hee(e,t,r){var n=or.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qee(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function EC(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Gee(e,t,r){var n=or.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function kC(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Yee(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Qee(e,t,r){var n=or.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Xee(e,t,r){var n=or.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Jee(e,t,r){var n=or.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Zee(e,t,r){var n=Lee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ete(e,t,r){var n=or.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tte(e,t,r){var n=or.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function SC(e,t){return Re(e.getDate(),t,2)}function rte(e,t){return Re(e.getHours(),t,2)}function nte(e,t){return Re(e.getHours()%12||12,t,2)}function ite(e,t){return Re(1+Ef.count(ua(e),e),t,3)}function Z4(e,t){return Re(e.getMilliseconds(),t,3)}function ate(e,t){return Z4(e,t)+"000"}function ote(e,t){return Re(e.getMonth()+1,t,2)}function ste(e,t){return Re(e.getMinutes(),t,2)}function lte(e,t){return Re(e.getSeconds(),t,2)}function ute(e){var t=e.getDay();return t===0?7:t}function cte(e,t){return Re(Nv.count(ua(e)-1,e),t,2)}function e3(e){var t=e.getDay();return t>=4||t===0?gu(e):gu.ceil(e)}function dte(e,t){return e=e3(e),Re(gu.count(ua(e),e)+(ua(e).getDay()===4),t,2)}function fte(e){return e.getDay()}function hte(e,t){return Re(Bm.count(ua(e)-1,e),t,2)}function pte(e,t){return Re(e.getFullYear()%100,t,2)}function mte(e,t){return e=e3(e),Re(e.getFullYear()%100,t,2)}function gte(e,t){return Re(e.getFullYear()%1e4,t,4)}function vte(e,t){var r=e.getDay();return e=r>=4||r===0?gu(e):gu.ceil(e),Re(e.getFullYear()%1e4,t,4)}function yte(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Re(t/60|0,"0",2)+Re(t%60,"0",2)}function PC(e,t){return Re(e.getUTCDate(),t,2)}function xte(e,t){return Re(e.getUTCHours(),t,2)}function bte(e,t){return Re(e.getUTCHours()%12||12,t,2)}function wte(e,t){return Re(1+Ov.count(ca(e),e),t,3)}function t3(e,t){return Re(e.getUTCMilliseconds(),t,3)}function _te(e,t){return t3(e,t)+"000"}function Ete(e,t){return Re(e.getUTCMonth()+1,t,2)}function kte(e,t){return Re(e.getUTCMinutes(),t,2)}function Ste(e,t){return Re(e.getUTCSeconds(),t,2)}function Pte(e){var t=e.getUTCDay();return t===0?7:t}function Tte(e,t){return Re(jv.count(ca(e)-1,e),t,2)}function r3(e){var t=e.getUTCDay();return t>=4||t===0?vu(e):vu.ceil(e)}function Ate(e,t){return e=r3(e),Re(vu.count(ca(e),e)+(ca(e).getUTCDay()===4),t,2)}function Ite(e){return e.getUTCDay()}function Cte(e,t){return Re(Wm.count(ca(e)-1,e),t,2)}function Ote(e,t){return Re(e.getUTCFullYear()%100,t,2)}function Nte(e,t){return e=r3(e),Re(e.getUTCFullYear()%100,t,2)}function jte(e,t){return Re(e.getUTCFullYear()%1e4,t,4)}function Dte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vu(e):vu.ceil(e),Re(e.getUTCFullYear()%1e4,t,4)}function Rte(){return"+0000"}function TC(){return"%"}function AC(e){return+e}function IC(e){return Math.floor(+e/1e3)}var nl,n3,i3;Mte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mte(e){return nl=Mee(e),n3=nl.format,nl.parse,i3=nl.utcFormat,nl.utcParse,nl}function Lte(e){return new Date(e)}function Vte(e){return e instanceof Date?+e:+new Date(+e)}function CE(e,t,r,n,i,a,o,s,l,u){var c=gE(),d=c.invert,h=c.domain,m=u(".%L"),v=u(":%S"),b=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),_=u("%b %d"),k=u("%B"),T=u("%Y");function I(j){return(l(j)<j?m:s(j)<j?v:o(j)<j?b:a(j)<j?y:n(j)<j?i(j)<j?x:_:r(j)<j?k:T)(j)}return c.invert=function(j){return new Date(d(j))},c.domain=function(j){return arguments.length?h(Array.from(j,Vte)):h().map(Lte)},c.ticks=function(j){var E=h();return e(E[0],E[E.length-1],j??10)},c.tickFormat=function(j,E){return E==null?I:u(E)},c.nice=function(j){var E=h();return(!j||typeof j.range!="function")&&(j=t(E[0],E[E.length-1],j??10)),j?h(W4(E,j)):c},c.copy=function(){return _f(c,CE(e,t,r,n,i,a,o,s,l,u))},c}function $te(){return $n.apply(CE(Dee,Ree,ua,AE,Nv,Ef,PE,kE,is,n3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fte(){return $n.apply(CE(Nee,jee,ca,IE,jv,Ov,TE,SE,is,i3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dv(){var e=0,t=1,r,n,i,a,o=$r,s=!1,l;function u(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(a(d)-r)*i,s?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(s=!!d,u):s},u.interpolator=function(d){return arguments.length?(o=d,u):o};function c(d){return function(h){var m,v;return arguments.length?([m,v]=h,o=d(m,v),u):[o(0),o(1)]}}return u.range=c(Cu),u.rangeRound=c(mE),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function Oo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function a3(){var e=Co(Dv()($r));return e.copy=function(){return Oo(e,a3())},_a.apply(e,arguments)}function o3(){var e=xE(Dv()).domain([1,10]);return e.copy=function(){return Oo(e,o3()).base(e.base())},_a.apply(e,arguments)}function s3(){var e=bE(Dv());return e.copy=function(){return Oo(e,s3()).constant(e.constant())},_a.apply(e,arguments)}function OE(){var e=wE(Dv());return e.copy=function(){return Oo(e,OE()).exponent(e.exponent())},_a.apply(e,arguments)}function zte(){return OE.apply(null,arguments).exponent(.5)}function l3(){var e=[],t=$r;function r(n){if(n!=null&&!isNaN(n=+n))return t((bf(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(fo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>PZ(e,a/n))},r.copy=function(){return l3(t).domain(e)},_a.apply(r,arguments)}function Rv(){var e=0,t=.5,r=1,n=1,i,a,o,s,l,u=$r,c,d=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-a)*(n*b<n*a?s:l),u(d?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=c(e=+e),a=c(t=+t),o=c(r=+r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(d=!!b,m):d},m.interpolator=function(b){return arguments.length?(u=b,m):u};function v(b){return function(y){var x,_,k;return arguments.length?([x,_,k]=y,u=ZZ(b,[x,_,k]),m):[u(0),u(.5),u(1)]}}return m.range=v(Cu),m.rangeRound=v(mE),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return c=b,i=b(e),a=b(t),o=b(r),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),n=a<i?-1:1,m}}function u3(){var e=Co(Rv()($r));return e.copy=function(){return Oo(e,u3())},_a.apply(e,arguments)}function c3(){var e=xE(Rv()).domain([.1,1,10]);return e.copy=function(){return Oo(e,c3()).base(e.base())},_a.apply(e,arguments)}function d3(){var e=bE(Rv());return e.copy=function(){return Oo(e,d3()).constant(e.constant())},_a.apply(e,arguments)}function NE(){var e=wE(Rv());return e.copy=function(){return Oo(e,NE()).exponent(e.exponent())},_a.apply(e,arguments)}function Ute(){return NE.apply(null,arguments).exponent(.5)}const Oc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fE,scaleDiverging:u3,scaleDivergingLog:c3,scaleDivergingPow:NE,scaleDivergingSqrt:Ute,scaleDivergingSymlog:d3,scaleIdentity:B4,scaleImplicit:Qb,scaleLinear:U4,scaleLog:K4,scaleOrdinal:dE,scalePoint:IZ,scalePow:_E,scaleQuantile:G4,scaleQuantize:Y4,scaleRadial:q4,scaleSequential:a3,scaleSequentialLog:o3,scaleSequentialPow:OE,scaleSequentialQuantile:l3,scaleSequentialSqrt:zte,scaleSequentialSymlog:s3,scaleSqrt:_ee,scaleSymlog:H4,scaleThreshold:Q4,scaleTime:$te,scaleUtc:Fte,tickFormat:z4},Symbol.toStringTag,{value:"Module"}));var Ea=e=>e.chartData,Mv=V([Ea],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),f3=(e,t,r,n)=>n?Mv(e):Ea(e),h3=(e,t,r)=>r?Mv(e):Ea(e);function xo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(qe(t)&&qe(r))return!0}return!1}function CC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function p3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(qe(r))i=r;else if(typeof r=="function")return;if(qe(n))a=n;else if(typeof n=="function")return;var o=[i,a];if(xo(o))return o}}function Bte(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(xo(n))return CC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,o,s;if(i==="auto")t!=null&&(o=Math.min(...t));else if(Z(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&YA.test(i)){var l=YA.exec(i);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(a==="auto")t!=null&&(s=Math.max(...t));else if(Z(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&QA.test(a)){var c=QA.exec(a);if(c==null||c[1]==null||t==null)s=void 0;else{var d=+c[1];s=t[1]+d}}else s=t==null?void 0:t[1];var h=[o,s];if(xo(h))return t==null?h:CC(h,t,r)}}}var Ou=1e9,Wte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},DE,st=!0,Vn="[DecimalError] ",fs=Vn+"Invalid argument: ",jE=Vn+"Exponent out of range: ",Nu=Math.floor,Xo=Math.pow,Kte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,cn,tr=1e7,et=7,m3=9007199254740991,Km=Nu(m3/et),re={};re.absoluteValue=re.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};re.comparedTo=re.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};re.decimalPlaces=re.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};re.dividedBy=re.div=function(e){return Gi(this,new this.constructor(e))};re.dividedToIntegerBy=re.idiv=function(e){var t=this,r=t.constructor;return He(Gi(t,new r(e),0,1),r.precision)};re.equals=re.eq=function(e){return!this.cmp(e)};re.exponent=function(){return $t(this)};re.greaterThan=re.gt=function(e){return this.cmp(e)>0};re.greaterThanOrEqualTo=re.gte=function(e){return this.cmp(e)>=0};re.isInteger=re.isint=function(){return this.e>this.d.length-2};re.isNegative=re.isneg=function(){return this.s<0};re.isPositive=re.ispos=function(){return this.s>0};re.isZero=function(){return this.s===0};re.lessThan=re.lt=function(e){return this.cmp(e)<0};re.lessThanOrEqualTo=re.lte=function(e){return this.cmp(e)<1};re.logarithm=re.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(cn))throw Error(Vn+"NaN");if(r.s<1)throw Error(Vn+(r.s?"NaN":"-Infinity"));return r.eq(cn)?new n(0):(st=!1,t=Gi(Vd(r,a),Vd(e,a),a),st=!0,He(t,i))};re.minus=re.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y3(t,e):g3(t,(e.s=-e.s,e))};re.modulo=re.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Vn+"NaN");return r.s?(st=!1,t=Gi(r,e,0,1).times(e),st=!0,r.minus(t)):He(new n(r),i)};re.naturalExponential=re.exp=function(){return v3(this)};re.naturalLogarithm=re.ln=function(){return Vd(this)};re.negated=re.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};re.plus=re.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g3(t,e):y3(t,(e.s=-e.s,e))};re.precision=re.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(fs+e);if(t=$t(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};re.squareRoot=re.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Vn+"NaN")}for(e=$t(s),st=!1,i=Math.sqrt(+s),i==0||i==1/0?(t=pi(s.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Nu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=o=r+3;;)if(a=n,n=a.plus(Gi(s,a,o+2)).times(.5),pi(a.d).slice(0,o)===(t=pi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(He(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if(t!="9999")break;o+=4}return st=!0,He(n,r)};re.times=re.mul=function(e){var t,r,n,i,a,o,s,l,u,c=this,d=c.constructor,h=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,o=l,l=u,u=o),a=[],o=l+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+m[n]*h[i-n-1]+t,a[i--]=s%tr|0,t=s/tr|0;a[i]=(a[i]+t)%tr|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,st?He(e,d.precision):e};re.toDecimalPlaces=re.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Si(e,0,Ou),t===void 0?t=n.rounding:Si(t,0,8),He(r,e+$t(r)+1,t))};re.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Rs(n,!0):(Si(e,0,Ou),t===void 0?t=i.rounding:Si(t,0,8),n=He(new i(n),e+1,t),r=Rs(n,!0,e+1)),r};re.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Rs(i):(Si(e,0,Ou),t===void 0?t=a.rounding:Si(t,0,8),n=He(new a(i),e+$t(i)+1,t),r=Rs(n.abs(),!1,e+$t(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};re.toInteger=re.toint=function(){var e=this,t=e.constructor;return He(new t(e),$t(e)+1,t.rounding)};re.toNumber=function(){return+this};re.toPower=re.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(cn);if(s=new l(s),!s.s){if(e.s<1)throw Error(Vn+"Infinity");return s}if(s.eq(cn))return s;if(n=l.precision,e.eq(cn))return He(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=s.s,o){if((r=c<0?-c:c)<=m3){for(i=new l(cn),t=Math.ceil(n/et+4),st=!1;r%2&&(i=i.times(s),NC(i.d,t)),r=Nu(r/2),r!==0;)s=s.times(s),NC(s.d,t);return st=!0,e.s<0?new l(cn).div(i):He(i,n)}}else if(a<0)throw Error(Vn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,st=!1,i=e.times(Vd(s,n+u)),st=!0,i=v3(i),i.s=a,i};re.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=$t(i),n=Rs(i,r<=a.toExpNeg||r>=a.toExpPos)):(Si(e,1,Ou),t===void 0?t=a.rounding:Si(t,0,8),i=He(new a(i),e,t),r=$t(i),n=Rs(i,e<=r||r<=a.toExpNeg,e)),n};re.toSignificantDigits=re.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Si(e,1,Ou),t===void 0?t=n.rounding:Si(t,0,8)),He(new n(r),e,t)};re.toString=re.valueOf=re.val=re.toJSON=re[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$t(e),r=e.constructor;return Rs(e,t<=r.toExpNeg||t>=r.toExpPos)};function g3(e,t){var r,n,i,a,o,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),st?He(t,d):t;if(l=e.d,u=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i,a){for(a<0?(n=l,a=-a,s=u.length):(n=u,i=o,s=l.length),o=Math.ceil(d/et),s=o>s?o+1:s+1,a>s&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/tr|0,l[a]%=tr;for(r&&(l.unshift(r),++i),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=i,st?He(t,d):t}function Si(e,t,r){if(e!==~~e||e<t||e>r)throw Error(fs+e)}function pi(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=et-n.length,r&&(a+=Ra(r)),a+=n;o=e[t],n=o+"",r=et-n.length,r&&(a+=Ra(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Gi=function(){function e(n,i){var a,o=0,s=n.length;for(n=n.slice();s--;)a=n[s]*i+o,n[s]=a%tr|0,o=a/tr|0;return o&&n.unshift(o),n}function t(n,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(n[s]!=i[s]){l=n[s]>i[s]?1:-1;break}return l}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*tr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var s,l,u,c,d,h,m,v,b,y,x,_,k,T,I,j,E,S,A=n.constructor,C=n.s==i.s?1:-1,N=n.d,O=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Vn+"Division by zero");for(l=n.e-i.e,E=O.length,I=N.length,m=new A(C),v=m.d=[],u=0;O[u]==(N[u]||0);)++u;if(O[u]>(N[u]||0)&&--l,a==null?_=a=A.precision:o?_=a+($t(n)-$t(i))+1:_=a,_<0)return new A(0);if(_=_/et+2|0,u=0,E==1)for(c=0,O=O[0],_++;(u<I||c)&&_--;u++)k=c*tr+(N[u]||0),v[u]=k/O|0,c=k%O|0;else{for(c=tr/(O[0]+1)|0,c>1&&(O=e(O,c),N=e(N,c),E=O.length,I=N.length),T=E,b=N.slice(0,E),y=b.length;y<E;)b[y++]=0;S=O.slice(),S.unshift(0),j=O[0],O[1]>=tr/2&&++j;do c=0,s=t(O,b,E,y),s<0?(x=b[0],E!=y&&(x=x*tr+(b[1]||0)),c=x/j|0,c>1?(c>=tr&&(c=tr-1),d=e(O,c),h=d.length,y=b.length,s=t(d,b,h,y),s==1&&(c--,r(d,E<h?S:O,h))):(c==0&&(s=c=1),d=O.slice()),h=d.length,h<y&&d.unshift(0),r(b,d,y),s==-1&&(y=b.length,s=t(O,b,E,y),s<1&&(c++,r(b,E<y?S:O,y))),y=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[y++]=N[T]||0:(b=[N[T]],y=1);while((T++<I||b[0]!==void 0)&&_--)}return v[0]||v.shift(),m.e=l,He(m,o?a+$t(m)+1:a)}}();function v3(e,t){var r,n,i,a,o,s,l=0,u=0,c=e.constructor,d=c.precision;if($t(e)>16)throw Error(jE+$t(e));if(!e.s)return new c(cn);for(st=!1,s=d,o=new c(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Xo(2,u))/Math.LN10*2+5|0,s+=n,r=i=a=new c(cn),c.precision=s;;){if(i=He(i.times(e),s),r=r.times(++l),o=a.plus(Gi(i,r,s)),pi(o.d).slice(0,s)===pi(a.d).slice(0,s)){for(;u--;)a=He(a.times(a),s);return c.precision=d,t==null?(st=!0,He(a,d)):a}a=o}}function $t(e){for(var t=e.e*et,r=e.d[0];r>=10;r/=10)t++;return t}function C0(e,t,r){if(t>e.LN10.sd())throw st=!0,r&&(e.precision=r),Error(Vn+"LN10 precision limit exceeded");return He(new e(e.LN10),t)}function Ra(e){for(var t="";e--;)t+="0";return t}function Vd(e,t){var r,n,i,a,o,s,l,u,c,d=1,h=10,m=e,v=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(Vn+(m.s?"NaN":"-Infinity"));if(m.eq(cn))return new b(0);if(t==null?(st=!1,u=y):u=t,m.eq(10))return t==null&&(st=!0),C0(b,u);if(u+=h,b.precision=u,r=pi(v),n=r.charAt(0),a=$t(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=pi(m.d),n=r.charAt(0),d++;a=$t(m),n>1?(m=new b("0."+r),a++):m=new b(n+"."+r.slice(1))}else return l=C0(b,u+2,y).times(a+""),m=Vd(new b(n+"."+r.slice(1)),u-h).plus(l),b.precision=y,t==null?(st=!0,He(m,y)):m;for(s=o=m=Gi(m.minus(cn),m.plus(cn),u),c=He(m.times(m),u),i=3;;){if(o=He(o.times(c),u),l=s.plus(Gi(o,new b(i),u)),pi(l.d).slice(0,u)===pi(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(C0(b,u+2,y).times(a+""))),s=Gi(s,new b(d),u),b.precision=y,t==null?(st=!0,He(s,y)):s;s=l,i+=2}}function OC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Nu(r/et),e.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=et;n<i;)e.d.push(+t.slice(n,n+=et));t=t.slice(n),n=et-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),st&&(e.e>Km||e.e<-Km))throw Error(jE+r)}else e.s=0,e.e=0,e.d=[0];return e}function He(e,t,r){var n,i,a,o,s,l,u,c,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=et,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/et),a=d.length,c>=a)return e;for(u=a=d[c],o=1;a>=10;a/=10)o++;n%=et,i=n-et+o}if(r!==void 0&&(a=Xo(10,o-i-1),s=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(s||l)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||l||r==6&&(n>0?i>0?u/Xo(10,o-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=$t(e),d.length=1,t=t-a-1,d[0]=Xo(10,(et-t%et)%et),e.e=Nu(-t/et)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=Xo(10,et-n),d[c]=i>0?(u/Xo(10,o-i)%Xo(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==tr&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=tr)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(st&&(e.e>Km||e.e<-Km))throw Error(jE+$t(e));return e}function y3(e,t){var r,n,i,a,o,s,l,u,c,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),st?He(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),o=u-n,o){for(c=o<0,c?(r=l,o=-o,s=d.length):(r=d,n=u,s=l.length),i=Math.max(Math.ceil(m/et),s)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=l.length,s=d.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}o=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=tr-1;--l[a],l[i]+=tr}l[i]-=d[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,st?He(t,m):t):new h(0)}function Rs(e,t,r){var n,i=$t(e),a=pi(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Ra(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ra(-i-1)+a,r&&(n=r-o)>0&&(a+=Ra(n))):i>=o?(a+=Ra(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Ra(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Ra(n))),e.s<0?"-"+a:a}function NC(e,t){if(e.length>t)return e.length=t,!0}function x3(e){var t,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(fs+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return OC(o,a.toString())}else if(typeof a!="string")throw Error(fs+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,Kte.test(a))OC(o,a);else throw Error(fs+a)}if(i.prototype=re,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=x3,i.config=i.set=Hte,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Hte(e){if(!e||typeof e!="object")throw Error(Vn+"Object expected");var t,r,n,i=["precision",1,Ou,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Nu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(fs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(fs+r+": "+n);return this}var DE=x3(Wte);cn=new DE(1);const Ve=DE;var qte=e=>e,b3={},w3=e=>e===b3,jC=e=>function t(){return arguments.length===0||arguments.length===1&&w3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},_3=(e,t)=>e===1?t:jC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(o=>o!==b3).length;return a>=e?t(...n):_3(e-a,jC(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=n.map(c=>w3(c)?s.shift():c);return t(...u,...s)}))}),Gte=e=>_3(e.length,e),ew=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Yte=Gte((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Qte=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return qte;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((s,l)=>l(s),a(...arguments))}};function E3(e){var t;return e===0?t=1:t=Math.floor(new Ve(e).abs().log(10).toNumber())+1,t}function k3(e,t,r){for(var n=new Ve(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var S3=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},P3=(e,t,r)=>{if(e.lte(0))return new Ve(0);var n=E3(e.toNumber()),i=new Ve(10).pow(n),a=e.div(i),o=n!==1?.05:.1,s=new Ve(Math.ceil(a.div(o).toNumber())).add(r).mul(o),l=s.mul(i);return t?new Ve(l.toNumber()):new Ve(Math.ceil(l.toNumber()))},Xte=(e,t,r)=>{var n=new Ve(1),i=new Ve(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new Ve(10).pow(E3(e)-1),i=new Ve(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new Ve(Math.floor(e)))}else e===0?i=new Ve(Math.floor((t-1)/2)):r||(i=new Ve(Math.floor(e)));var o=Math.floor((t-1)/2),s=Qte(Yte(l=>i.add(new Ve(l-o).mul(n)).toNumber()),ew);return s(0,t)},T3=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ve(0),tickMin:new Ve(0),tickMax:new Ve(0)};var o=P3(new Ve(r).sub(t).div(n-1),i,a),s;t<=0&&r>=0?s=new Ve(0):(s=new Ve(t).add(r).div(2),s=s.sub(new Ve(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new Ve(r).sub(s).div(o).toNumber()),c=l+u+1;return c>n?T3(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:o,tickMin:s.sub(new Ve(l).mul(o)),tickMax:s.add(new Ve(u).mul(o))})},Jte=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),[s,l]=S3([r,n]);if(s===-1/0||l===1/0){var u=l===1/0?[s,...ew(0,i-1).map(()=>1/0)]:[...ew(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(s===l)return Xte(s,i,a);var{step:c,tickMin:d,tickMax:h}=T3(s,l,o,a,0),m=k3(d,h.add(new Ve(.1).mul(c)),c);return r>n?m.reverse():m},Zte=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=S3([n,i]);if(o===-1/0||s===1/0)return[n,i];if(o===s)return[o];var l=Math.max(r,2),u=P3(new Ve(s).sub(o).div(l-1),a,0),c=[...k3(new Ve(o),new Ve(s),u),s];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?c.reverse():c},A3=e=>e.rootProps.maxBarSize,ere=e=>e.rootProps.barGap,I3=e=>e.rootProps.barCategoryGap,tre=e=>e.rootProps.barSize,kf=e=>e.rootProps.stackOffset,C3=e=>e.rootProps.reverseStackOrder,RE=e=>e.options.chartName,ME=e=>e.rootProps.syncId,O3=e=>e.rootProps.syncMethod,LE=e=>e.options.eventEmitter,rre=e=>e.rootProps.baseValue,Vt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Mi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},un={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lv=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},nre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mi.angleAxisId,includeHidden:!1,name:void 0,reversed:Mi.reversed,scale:Mi.scale,tick:Mi.tick,tickCount:void 0,ticks:void 0,type:Mi.type,unit:void 0},ire={allowDataOverflow:un.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:un.type,unit:void 0},are={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Mi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mi.scale,tick:Mi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},ore={allowDataOverflow:un.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:un.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:un.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:un.scale,tick:un.tick,tickCount:un.tickCount,ticks:void 0,type:"category",unit:void 0},VE=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?are:nre,$E=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?ore:ire,Vv=e=>e.polarOptions,FE=V([ba,wa,Ht],k4),N3=V([Vv,FE],(e,t)=>{if(e!=null)return Or(e.innerRadius,t,0)}),j3=V([Vv,FE],(e,t)=>{if(e!=null)return Or(e.outerRadius,t,t*.8)}),sre=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},D3=V([Vv],sre);V([VE,D3],Lv);var R3=V([FE,N3,j3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});V([$E,R3],Lv);var M3=V([Ie,Vv,N3,j3,ba,wa],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:Or(o,i,i/2),cy:Or(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),lt=(e,t)=>t,Sf=(e,t,r)=>r;function $v(e){return e==null?void 0:e.id}function L3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=$v(s);u.forEach((d,h)=>{var m=a==null||i?h:String(We(d,a,null)),v=We(d,s.dataKey,0),b;o.has(m)?b=o.get(m):b={},Object.assign(b,{[c]:v}),o.set(m,b)})}}),Array.from(o.values())}function Fv(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var zv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Uv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function lre(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Gt=e=>{var t=Ie(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},ju=e=>e.tooltip.settings.axisId;function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){ure(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ure(e,t,r){return(t=cre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cre(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tw=[0,"auto"],Jt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},V3=(e,t)=>e.cartesianAxis.xAxis[t],ka=(e,t)=>{var r=V3(e,t);return r??Jt},Zt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mf},$3=(e,t)=>e.cartesianAxis.yAxis[t],Sa=(e,t)=>{var r=$3(e,t);return r??Zt},fre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},zE=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??fre},bt=(e,t,r)=>{switch(t){case"xAxis":return ka(e,r);case"yAxis":return Sa(e,r);case"zAxis":return zE(e,r);case"angleAxis":return VE(e,r);case"radiusAxis":return $E(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},hre=(e,t,r)=>{switch(t){case"xAxis":return ka(e,r);case"yAxis":return Sa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Pf=(e,t,r)=>{switch(t){case"xAxis":return ka(e,r);case"yAxis":return Sa(e,r);case"angleAxis":return VE(e,r);case"radiusAxis":return $E(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},F3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function UE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Bv=e=>e.graphicalItems.cartesianItems,pre=V([lt,Sf],UE),BE=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Tf=V([Bv,bt,pre],BE,{memoizeOptions:{resultEqualityCheck:Uv}}),z3=V([Tf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fv)),U3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),mre=V([Tf],U3),WE=e=>e.map(t=>t.data).filter(Boolean).flat(1),gre=V([Tf],WE,{memoizeOptions:{resultEqualityCheck:Uv}}),KE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},HE=V([gre,f3],KE),qE=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:We(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:We(i,n)}))):e.map(n=>({value:n})),Wv=V([HE,bt,Tf],qE);function B3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function yp(e){if(Ei(e)||e instanceof Date){var t=Number(e);if(qe(t))return t}}function RC(e){if(Array.isArray(e)){var t=[yp(e[0]),yp(e[1])];return xo(t)?t:void 0}var r=yp(e);if(r!=null)return[r,r]}function da(e){return e.map(yp).filter(TG)}function vre(e,t,r){return!r||typeof t!="number"||Mn(t)?[]:r.length?da(r.flatMap(n=>{var i=We(e,n.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!qe(a)||!qe(o)))return[t-a,t+o]})):[]}var Yt=e=>{var t=Gt(e),r=ju(e);return Pf(e,t,r)},Af=V([Yt],e=>e==null?void 0:e.dataKey),yre=V([z3,f3,Yt],L3),W3=(e,t,r,n)=>{var i={},a=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},i);return Object.fromEntries(Object.entries(a).map(o=>{var[s,l]=o,u=n?[...l].reverse():l,c=u.map($v);return[s,{stackedData:WQ(e,c,r),graphicalItems:u}]}))},qm=V([yre,z3,kf,C3],W3),K3=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var o=GQ(e,i,a);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},xre=V([bt],e=>e.allowDataOverflow),GE=e=>{var t;if(e==null||!("domain"in e))return tw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=da(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:tw},YE=V([bt],GE),QE=V([YE,xre],p3),bre=V([qm,Ea,lt,QE],K3,{memoizeOptions:{resultEqualityCheck:zv}}),Kv=e=>e.errorBars,wre=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>B3(r,n)),Gm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),s=Math.max(...a);return[o,s]}},XE=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(s=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(x=>B3(i,x)),h=We(s,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=vre(s,h,d);if(m.length>=2){var v=Math.min(...m),b=Math.max(...m);(a==null||v<a)&&(a=v),(o==null||b>o)&&(o=b)}var y=RC(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=RC(We(s,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),qe(a)&&qe(o))return[a,o]},_re=V([HE,bt,mre,Kv,lt],XE,{memoizeOptions:{resultEqualityCheck:zv}});function Ere(e){var{value:t}=e;if(Ei(t)||t instanceof Date)return t}var kre=(e,t,r)=>{var n=e.map(Ere).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&VM(n))?O4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},H3=e=>e.referenceElements.dots,Du=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Sre=V([H3,lt,Sf],Du),q3=e=>e.referenceElements.areas,Pre=V([q3,lt,Sf],Du),G3=e=>e.referenceElements.lines,Tre=V([G3,lt,Sf],Du),Y3=(e,t)=>{if(e!=null){var r=da(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Are=V(Sre,lt,Y3),Q3=(e,t)=>{if(e!=null){var r=da(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Ire=V([Pre,lt],Q3);function Cre(e){var t;if(e.x!=null)return da([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:da(r)}function Ore(e){var t;if(e.y!=null)return da([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:da(r)}var X3=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Cre(n):Ore(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Nre=V([Tre,lt],X3),jre=V(Are,Nre,Ire,(e,t,r)=>Gm(e,r,t)),JE=(e,t,r,n,i,a,o,s)=>{if(r!=null)return r;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?Gm(n,a,i):Gm(a,i);return Bte(t,u,e.allowDataOverflow)},Dre=V([bt,YE,QE,bre,_re,jre,Ie,lt],JE,{memoizeOptions:{resultEqualityCheck:zv}}),Rre=[0,1],ZE=(e,t,r,n,i,a,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=xa(t,a);if(u&&s==null){var c;return O4(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?kre(n,e,u):i==="expand"?Rre:o}},ek=V([bt,Ie,HE,Wv,kf,lt,Dre],ZE),J3=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:o}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var s="scale".concat(uf(a));return s in Oc?s:"point"}}},Ru=V([bt,Ie,F3,RE,lt],J3);function Mre(e){if(e!=null){if(e in Oc)return Oc[e]();var t="scale".concat(uf(e));if(t in Oc)return Oc[t]()}}function tk(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Mre(t);if(i!=null){var a=i.domain(r).range(n);return $Q(a),a}}}var rk=(e,t,r)=>{var n=GE(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&xo(e))return Jte(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&xo(e))return Zte(e,t.tickCount,t.allowDecimals)}},nk=V([ek,Pf,Ru],rk),ik=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&xo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},Lre=V([bt,ek,nk,lt],ik),Vre=V(Wv,bt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(da(e.map(d=>d.value))).sort((d,h)=>d-h),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var o=a-i;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s],u=n[s+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/o}}),Z3=V(Vre,Ie,I3,Ht,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!qe(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var o=Or(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),$re=(e,t,r)=>{var n=ka(e,t);return n==null||typeof n.padding!="string"?0:Z3(e,"xAxis",t,r,n.padding)},Fre=(e,t,r)=>{var n=Sa(e,t);return n==null||typeof n.padding!="string"?0:Z3(e,"yAxis",t,r,n.padding)},zre=V(ka,$re,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Ure=V(Sa,Fre,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),Bre=V([Ht,zre,kv,Ev,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Wre=V([Ht,Ie,Ure,kv,Ev,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),If=(e,t,r,n)=>{var i;switch(t){case"xAxis":return Bre(e,r,n);case"yAxis":return Wre(e,r,n);case"zAxis":return(i=zE(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return D3(e);case"radiusAxis":return R3(e,r);default:return}},eV=V([bt,If],Lv),Hv=V([bt,Ru,Lre,eV],tk);V([Tf,Kv,lt],wre);function tV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qv=(e,t)=>t,Gv=(e,t,r)=>r,Kre=V(wv,qv,Gv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(tV)),Hre=V(_v,qv,Gv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(tV)),rV=(e,t)=>({width:e.width,height:t.height}),qre=(e,t)=>{var r=typeof t.width=="number"?t.width:mf;return{width:r,height:e.height}},nV=V(Ht,ka,rV),Gre=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Yre=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Qre=V(wa,Ht,Kre,qv,Gv,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=rV(t,s);o==null&&(o=Gre(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),a}),Xre=V(ba,Ht,Hre,qv,Gv,(e,t,r,n,i)=>{var a={},o;return r.forEach(s=>{var l=qre(t,s);o==null&&(o=Yre(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),a}),Jre=(e,t)=>{var r=ka(e,t);if(r!=null)return Qre(e,r.orientation,r.mirror)},Zre=V([Ht,ka,Jre,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),ene=(e,t)=>{var r=Sa(e,t);if(r!=null)return Xre(e,r.orientation,r.mirror)},tne=V([Ht,Sa,ene,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),iV=V(Ht,Sa,(e,t)=>{var r=typeof t.width=="number"?t.width:mf;return{width:r,height:e.height}}),MC=(e,t,r)=>{switch(t){case"xAxis":return nV(e,r).width;case"yAxis":return iV(e,r).height;default:return}},aV=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=xa(e,n),l=t.map(u=>u.value);if(o&&s&&a==="category"&&i&&VM(l))return l}},ak=V([Ie,Wv,bt,lt],aV),oV=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,o=xa(e,n);if(o&&(i==="number"||a!=="auto"))return t.map(s=>s.value)}},ok=V([Ie,Wv,Pf,lt],oV),LC=V([Ie,hre,Ru,Hv,ak,ok,If,nk,lt],(e,t,r,n,i,a,o,s,l)=>{if(t!=null){var u=xa(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),rne=(e,t,r,n,i,a,o,s,l)=>{if(!(t==null||n==null)){var u=xa(e,l),{type:c,ticks:d,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=c==="category"&&n.bandwidth?n.bandwidth()/m:0;v=l==="angleAxis"&&a!=null&&a.length>=2?ir(a[0]-a[1])*2*v:v;var b=d||i;if(b){var y=b.map((x,_)=>{var k=o?o.indexOf(x):x;return{index:_,coordinate:n(k)+v,value:x,offset:v}});return y.filter(x=>qe(x.coordinate))}return u&&s?s.map((x,_)=>({coordinate:n(x)+v,value:x,index:_,offset:v})).filter(x=>qe(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+v,value:x,offset:v})):n.domain().map((x,_)=>({coordinate:n(x)+v,value:o?o[x]:x,index:_,offset:v}))}},sV=V([Ie,Pf,Ru,Hv,nk,If,ak,ok,lt],rne),nne=(e,t,r,n,i,a,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=xa(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?ir(n[0]-n[1])*2*u:u,s&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},bo=V([Ie,Pf,Hv,If,ak,ok,lt],nne),wo=V(bt,Hv,(e,t)=>{if(!(e==null||t==null))return Hm(Hm({},e),{},{scale:t})}),ine=V([bt,Ru,ek,eV],tk);V((e,t,r)=>zE(e,r),ine,(e,t)=>{if(!(e==null||t==null))return Hm(Hm({},e),{},{scale:t})});var ane=V([Ie,wv,_v],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),lV=e=>e.options.defaultTooltipEventType,uV=e=>e.options.validateTooltipEventTypes;function cV(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sk(e,t){var r=lV(e),n=uV(e);return cV(t,r,n)}function one(e){return ie(t=>sk(t,e))}var dV=(e,t)=>{var r,n=Number(t);if(!(Mn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},sne=e=>e.tooltip.settings,Ka={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},lne={itemInteraction:{click:Ka,hover:Ka},axisInteraction:{click:Ka,hover:Ka},keyboardInteraction:Ka,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},fV=rn({name:"tooltip",initialState:lne,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:at()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Jn(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:at()},removeTooltipEntrySettings:{reducer(e,t){var r=Jn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:at()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:une,replaceTooltipEntrySettings:cne,removeTooltipEntrySettings:dne,setTooltipSettingsState:fne,setActiveMouseOverItemIndex:hV,mouseLeaveItem:hne,mouseLeaveChart:pV,setActiveClickItemIndex:pne,setMouseOverAxisIndex:mV,setMouseClickAxisIndex:mne,setSyncInteraction:rw,setKeyboardInteraction:nw}=fV.actions,gne=fV.reducer;function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vne(e,t,r){return(t=yne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bne(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function wne(e){return e.index!=null}var gV=(e,t,r,n)=>{if(t==null)return Ka;var i=bne(e,t,r);if(i==null)return Ka;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(wne(i)){if(a)return $h($h({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return $h($h({},Ka),{},{coordinate:i.coordinate})};function _ne(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Ene(e,t){var r=_ne(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}function kne(e,t,r){if(r==null||t==null)return!0;var n=We(e,t);return n==null||!xo(r)?!0:Ene(n,r)}var lk=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!qe(a))return i;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(a,s)),u=t[l];return u==null||kne(u,r,n)?String(l):null},vV=(e,t,r,n,i,a,o,s)=>{if(!(a==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},yV=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===i})},Cf=e=>e.options.tooltipPayloadSearcher,Mu=e=>e.tooltip;function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){Sne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sne(e,t,r){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pne(e){var t=Tne(e,"string");return typeof t=="symbol"?t:t+""}function Tne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ane(e,t){return e??t}var xV=(e,t,r,n,i,a,o)=>{if(!(t==null||a==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:b,settings:y}=m,x=Ane(b,s),_=Array.isArray(x)?qL(x,u,c):x,k=(v=y==null?void 0:y.dataKey)!==null&&v!==void 0?v:n,T=y==null?void 0:y.nameKey,I;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&o==="axis"?I=$M(_,n,i):I=a(_,t,l,T),Array.isArray(I))I.forEach(E=>{var S=FC(FC({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(XA({tooltipEntrySettings:S,dataKey:E.dataKey,payload:E.payload,value:We(E.payload,E.dataKey),name:E.name}))});else{var j;h.push(XA({tooltipEntrySettings:y,dataKey:k,payload:I,value:We(I,k),name:(j=We(I,T))!==null&&j!==void 0?j:y==null?void 0:y.name}))}return h},d)}},uk=V([Yt,Ie,F3,RE,Gt],J3),Ine=V([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Cne=V([Gt,ju],UE),Lu=V([Ine,Yt,Cne],BE,{memoizeOptions:{resultEqualityCheck:Uv}}),One=V([Lu],e=>e.filter(Fv)),Nne=V([Lu],WE,{memoizeOptions:{resultEqualityCheck:Uv}}),Vu=V([Nne,Ea],KE),jne=V([One,Ea,Yt],L3),ck=V([Vu,Yt,Lu],qE),bV=V([Yt],GE),Dne=V([Yt],e=>e.allowDataOverflow),wV=V([bV,Dne],p3),Rne=V([Lu],e=>e.filter(Fv)),Mne=V([jne,Rne,kf,C3],W3),Lne=V([Mne,Ea,Gt,wV],K3),Vne=V([Lu],U3),$ne=V([Vu,Yt,Vne,Kv,Gt],XE,{memoizeOptions:{resultEqualityCheck:zv}}),Fne=V([H3,Gt,ju],Du),zne=V([Fne,Gt],Y3),Une=V([q3,Gt,ju],Du),Bne=V([Une,Gt],Q3),Wne=V([G3,Gt,ju],Du),Kne=V([Wne,Gt],X3),Hne=V([zne,Kne,Bne],Gm),qne=V([Yt,bV,wV,Lne,$ne,Hne,Ie,Gt],JE),Of=V([Yt,Ie,Vu,ck,kf,Gt,qne],ZE),Gne=V([Of,Yt,uk],rk),Yne=V([Yt,Of,Gne,Gt],ik),_V=e=>{var t=Gt(e),r=ju(e),n=!1;return If(e,t,r,n)},EV=V([Yt,_V],Lv),kV=V([Yt,uk,Yne,EV],tk),Qne=V([Ie,ck,Yt,Gt],aV),Xne=V([Ie,ck,Yt,Gt],oV),Jne=(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,u=xa(e,s);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=s==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ir(i[0]-i[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:a?a[h]:h,index:m,offset:d}))}}},Pa=V([Ie,Yt,uk,kV,_V,Qne,Xne,Gt],Jne),dk=V([lV,uV,sne],(e,t,r)=>cV(r.shared,e,t)),SV=e=>e.tooltip.settings.trigger,fk=e=>e.tooltip.settings.defaultIndex,Nf=V([Mu,dk,SV,fk],gV),_o=V([Nf,Vu,Af,Of],lk),PV=V([Pa,_o],dV),hk=V([Nf],e=>{if(e)return e.dataKey}),Zne=V([Nf],e=>{if(e)return e.graphicalItemId}),TV=V([Mu,dk,SV,fk],yV),eie=V([ba,wa,Ie,Ht,Pa,fk,TV,Cf],vV),tie=V([Nf,eie],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rie=V([Nf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),nie=V([TV,_o,Ea,Af,PV,Cf,dk],xV),iie=V([nie],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){aie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aie(e,t,r){return(t=oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oie(e){var t=sie(e,"string");return typeof t=="symbol"?t:t+""}function sie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lie=()=>ie(Yt),uie=()=>{var e=lie(),t=ie(Pa),r=ie(kV);return fu(!e||!r?void 0:UC(UC({},e),{},{scale:r}),t)};function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cie(e,t,r){return(t=die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hie=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},pie=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:o}=n;return il(il(il({},n),Lt(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return il(il(il({},n),Lt(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mie(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var AV=(e,t,r,n,i)=>{var a,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,c,d,h,m=s>0?(l=r[s-1])===null||l===void 0?void 0:l.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(c=r[s])===null||c===void 0?void 0:c.coordinate,b=s>=o-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||v==null||b==null))if(ir(v-m)!==ir(b-v)){var x=[];if(ir(b-v)===ir(i[1]-i[0])){y=b;var _=v+i[1]-i[0];x[0]=Math.min(_,(_+m)/2),x[1]=Math.max(_,(_+m)/2)}else{y=m;var k=b+i[1]-i[0];x[0]=Math.min(v,(k+v)/2),x[1]=Math.max(v,(k+v)/2)}var T=[Math.min(v,(y+v)/2),Math.max(v,(y+v)/2)];if(e>T[0]&&e<=T[1]||e>=x[0]&&e<=x[1]){var I;return(I=r[s])===null||I===void 0?void 0:I.index}}else{var j=Math.min(m,b),E=Math.max(m,b);if(e>(j+v)/2&&e<=(E+v)/2){var S;return(S=r[s])===null||S===void 0?void 0:S.index}}}else if(t)for(var A=0;A<o;A++){var C=t[A];if(C!=null){var N=t[A+1],O=t[A-1];if(A===0&&N!=null&&e<=(C.coordinate+N.coordinate)/2||A===o-1&&O!=null&&e>(C.coordinate+O.coordinate)/2||A>0&&A<o-1&&O!=null&&N!=null&&e>(C.coordinate+O.coordinate)/2&&e<=(C.coordinate+N.coordinate)/2)return C.index}}return-1},IV=()=>ie(RE),pk=(e,t)=>t,CV=(e,t,r)=>r,mk=(e,t,r,n)=>n,gie=V(Pa,e=>fv(e,t=>t.coordinate)),gk=V([Mu,pk,CV,mk],gV),vk=V([gk,Vu,Af,Of],lk),vie=(e,t,r)=>{if(t!=null){var n=Mu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},OV=V([Mu,pk,CV,mk],yV),Ym=V([ba,wa,Ie,Ht,Pa,mk,OV,Cf],vV),yie=V([gk,Ym],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),NV=V([Pa,vk],dV),xie=V([OV,vk,Ea,Af,NV,Cf,pk],xV),bie=V([gk,vk],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wie=(e,t,r,n,i,a,o)=>{if(!(!e||!r||!n||!i)&&mie(e,o)){var s=YQ(e,t),l=AV(s,a,i,r,n),u=hie(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},_ie=(e,t,r,n,i,a,o)=>{if(!(!e||!n||!i||!a||!r)){var s=uZ(e,r);if(s){var l=QQ(s,t),u=AV(l,o,a,n,i),c=pie(t,a,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},Eie=(e,t,r,n,i,a,o,s)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?wie(e,t,n,i,a,o,s):_ie(e,t,r,n,i,a,o)},kie=V(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Sie=V(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Vt)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:lre}});function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){Pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pie(e,t,r){return(t=Tie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tie(e){var t=Aie(e,"string");return typeof t=="symbol"?t:t+""}function Aie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iie={},Cie={zIndexMap:Object.values(Vt).reduce((e,t)=>KC(KC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Iie)},Oie=new Set(Object.values(Vt));function Nie(e){return Oie.has(e)}var jV=rn({name:"zIndex",initialState:Cie,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:at()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Nie(r)&&delete e.zIndexMap[r])},prepare:at()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:at()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:at()}}}),{registerZIndexPortal:jie,unregisterZIndexPortal:Die,registerZIndexPortalElement:Rie,unregisterZIndexPortalElement:Mie}=jV.actions,Lie=jV.reducer;function nn(e){var{zIndex:t,children:r}=e,n=kX(),i=n&&t!==void 0&&t!==0,a=Dr(),o=Xe();g.useLayoutEffect(()=>i?(o(jie({zIndex:t})),()=>{o(Die({zIndex:t}))}):cf,[o,t,i]);var s=ie(l=>kie(l,t,a));return i?s?Pg.createPortal(r,s):null:r}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){Vie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vie(e,t,r){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ie(e){var t=Fie(e,"string");return typeof t=="symbol"?t:t+""}function Fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zie(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function Uie(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,h=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var v,b,y;if(c==="ScatterChart")v=d,b=EJ,y=Vt.cursorLine;else if(c==="BarChart")v=kJ(s,d,a,o),b=E4,y=Vt.cursorRectangle;else if(s==="radial"&&zM(d)){var{cx:x,cy:_,radius:k,startAngle:T,endAngle:I}=S4(d);v={cx:x,cy:_,startAngle:T,endAngle:I,innerRadius:k,outerRadius:k},b=T4,y=Vt.cursorLine}else v={points:hZ(s,d,a)},b=Ul,y=Vt.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,E=Fh(Fh(Fh(Fh({stroke:"#ccc",pointerEvents:"none"},a),v),Is(l)),{},{payload:h,payloadIndex:m,className:Te("recharts-tooltip-cursor",j)});return g.createElement(nn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},g.createElement(zie,{cursor:l,cursorComp:b,cursorProps:E}))}function Bie(e){var t=uie(),r=s4(),n=Ks(),i=IV();return t==null||r==null||n==null||i==null?null:g.createElement(Uie,iw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var DV=g.createContext(null),Wie=()=>g.useContext(DV),RV={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,h),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,m=d.length,v=new Array(m);h<m;h++)v[h]=d[h].fn;return v},s.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},s.prototype.emit=function(u,c,d,h,m,v){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],x=arguments.length,_,k;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,c),!0;case 3:return y.fn.call(y.context,c,d),!0;case 4:return y.fn.call(y.context,c,d,h),!0;case 5:return y.fn.call(y.context,c,d,h,m),!0;case 6:return y.fn.call(y.context,c,d,h,m,v),!0}for(k=1,_=new Array(x-1);k<x;k++)_[k-1]=arguments[k];y.fn.apply(y.context,_)}else{var T=y.length,I;for(k=0;k<T;k++)switch(y[k].once&&this.removeListener(u,y[k].fn,void 0,!0),x){case 1:y[k].fn.call(y[k].context);break;case 2:y[k].fn.call(y[k].context,c);break;case 3:y[k].fn.call(y[k].context,c,d);break;case 4:y[k].fn.call(y[k].context,c,d,h);break;default:if(!_)for(I=1,_=new Array(x-1);I<x;I++)_[I-1]=arguments[I];y[k].fn.apply(y[k].context,_)}}return!0},s.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},s.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},s.prototype.removeListener=function(u,c,d,h){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===c&&(!h||v.once)&&(!d||v.context===d)&&o(this,m);else{for(var b=0,y=[],x=v.length;b<x;b++)(v[b].fn!==c||h&&!v[b].once||d&&v[b].context!==d)&&y.push(v[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(RV);var Kie=RV.exports;const Hie=ha(Kie);var $d=new Hie,aw="recharts.syncEvent.tooltip",qC="recharts.syncEvent.brush";function yk(e,t){if(t){var r=Number.parseInt(t,10);if(!Mn(r))return e==null?void 0:e[r]}}var qie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},MV=rn({name:"options",initialState:qie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Gie=MV.reducer,{createEventEmitter:Yie}=MV.actions;function Qie(e){return e.tooltip.syncInteraction}var Xie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},LV=rn({name:"chartData",initialState:Xie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:GC,setDataStartEndIndexes:Jie,setComputedData:Npe}=LV.actions,Zie=LV.reducer,eae=["x","y"];function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function al(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){tae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tae(e,t,r){return(t=rae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rae(e){var t=nae(e,"string");return typeof t=="symbol"?t:t+""}function nae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iae(e,t){if(e==null)return{};var r,n,i=aae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oae(){var e=ie(ME),t=ie(LE),r=Xe(),n=ie(O3),i=ie(Pa),a=Ks(),o=Sv(),s=ie(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return cf;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var h;if(o&&c!==null&&c!==void 0&&(h=c.payload)!==null&&h!==void 0&&h.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:v,y:b}=m,y=iae(m,eae),{x,y:_,width:k,height:T}=c.payload.sourceViewBox,I=al(al({},y),{},{x:o.x+(k?(v-x)/k:0)*o.width,y:o.y+(T?(b-_)/T:0)*o.height});r(al(al({},c),{},{payload:al(al({},c.payload),{},{coordinate:I})}))}else r(c);return}if(i!=null){var j;if(typeof n=="function"){var E={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(i,E);j=i[S]}else n==="value"&&(j=i.find(M=>String(M.value)===c.payload.label));var{coordinate:A}=c.payload;if(j==null||c.payload.active===!1||A==null||o==null){r(rw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:C,y:N}=A,O=Math.min(C,o.x+o.width),D=Math.min(N,o.y+o.height),F={x:a==="horizontal"?j.coordinate:O,y:a==="horizontal"?D:j.coordinate},G=rw({active:c.payload.active,coordinate:F,dataKey:c.payload.dataKey,index:String(j.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(G)}}};return $d.on(aw,l),()=>{$d.off(aw,l)}},[s,r,t,e,n,i,a,o])}function sae(){var e=ie(ME),t=ie(LE),r=Xe();g.useEffect(()=>{if(e==null)return cf;var n=(i,a,o)=>{t!==o&&e===i&&r(Jie(a))};return $d.on(qC,n),()=>{$d.off(qC,n)}},[r,t,e])}function lae(){var e=Xe();g.useEffect(()=>{e(Yie())},[e]),oae(),sae()}function uae(e,t,r,n,i,a){var o=ie(m=>vie(m,e,t)),s=ie(LE),l=ie(ME),u=ie(O3),c=ie(Qie),d=c==null?void 0:c.active,h=Sv();g.useEffect(()=>{if(!d&&l!=null&&s!=null){var m=rw({active:a,coordinate:r,dataKey:o,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});$d.emit(aw,l,m,s)}},[d,r,o,i,n,s,l,u,a,h])}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cae(e,t,r){return(t=dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hae(e){return e.dataKey}function pae(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(rJ,t)}var JC=[],mae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Wl(e){var t,r,n=Ft(e,mae),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:b,wrapperStyle:y,cursor:x,shared:_,trigger:k,defaultIndex:T,portal:I,axisId:j}=n,E=Xe(),S=typeof T=="number"?String(T):T;g.useEffect(()=>{E(fne({shared:_,trigger:k,axisId:j,active:i,defaultIndex:S}))},[E,_,k,j,i,S]);var A=Sv(),C=y4(),N=one(_),{activeIndex:O,isActive:D}=(t=ie(Se=>bie(Se,N,k,S)))!==null&&t!==void 0?t:{},F=ie(Se=>xie(Se,N,k,S)),G=ie(Se=>NV(Se,N,k,S)),M=ie(Se=>yie(Se,N,k,S)),H=F,$=Wie(),B=(r=i??D)!==null&&r!==void 0?r:!1,[X,oe]=vL([H,B]),ne=N==="axis"?G:void 0;uae(N,k,M,ne,O,B);var ye=I??$;if(ye==null||A==null||N==null)return null;var Ne=H??JC;B||(Ne=JC),u&&Ne.length&&(Ne=aL(Ne.filter(Se=>Se.value!=null&&(Se.hide!==!0||n.includeHidden)),h,hae));var ct=Ne.length>0,wt=g.createElement(uJ,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:c,active:B,coordinate:M,hasPayload:ct,offset:d,position:m,reverseDirection:v,useTranslate3d:b,viewBox:A,wrapperStyle:y,lastBoundingBox:X,innerRef:oe,hasPortalFromProps:!!I},pae(l,XC(XC({},n),{},{payload:Ne,label:ne,active:B,activeIndex:O,coordinate:M,accessibilityLayer:C})));return g.createElement(g.Fragment,null,Pg.createPortal(wt,ye),B&&g.createElement(Bie,{cursor:x,tooltipEventType:N,coordinate:M,payload:Ne,index:O}))}var Gs=e=>null;Gs.displayName="Cell";function gae(e,t,r){return(t=vae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class xae{constructor(t){gae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){wae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wae(e,t,r){return(t=_ae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kae={cacheSize:2e3,enableCache:!0},VV=bae({},kae),eO=new xae(VV.cacheSize),Sae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tO="recharts_measurement_span";function Pae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}var rO=(e,t)=>{try{var r=document.getElementById(tO);r||(r=document.createElement("span"),r.setAttribute("id",tO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Sae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Gc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||vf.isSsr)return{width:0,height:0};if(!VV.enableCache)return rO(t,r);var n=Pae(t,r),i=eO.get(n);if(i)return i;var a=rO(t,r);return eO.set(n,a),a},$V;function Tae(e,t,r){return(t=Aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Oae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Nae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jae=["cm","mm","pt","pc","in","Q","px"];function Dae(e){return jae.includes(e)}var Sl="NaN";function Rae(e,t){return e*Nae[t]}class dr{static parse(t){var r,[,n,i]=(r=Oae.exec(t))!==null&&r!==void 0?r:[];return n==null?dr.NaN:new dr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Mn(t)&&(this.unit=""),r!==""&&!Cae.test(r)&&(this.num=NaN,this.unit=""),Dae(r)&&(this.num=Rae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new dr(NaN,""):new dr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new dr(NaN,""):new dr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Mn(this.num)}}$V=dr;Tae(dr,"NaN",new $V(NaN,""));function FV(e){if(e==null||e.includes(Sl))return Sl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=nO.exec(t))!==null&&r!==void 0?r:[],o=dr.parse(n??""),s=dr.parse(a??""),l=i==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Sl;t=t.replace(nO,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=(u=iO.exec(t))!==null&&u!==void 0?u:[],m=dr.parse(c??""),v=dr.parse(h??""),b=d==="+"?m.add(v):m.subtract(v);if(b.isNaN())return Sl;t=t.replace(iO,b.toString())}return t}var aO=/\(([^()]*)\)/;function Mae(e){for(var t=e,r;(r=aO.exec(t))!=null;){var[,n]=r;t=t.replace(aO,FV(n))}return t}function Lae(e){var t=e.replace(/\s+/g,"");return t=Mae(t),t=FV(t),t}function Vae(e){try{return Lae(e)}catch{return Sl}}function O0(e){var t=Vae(e.slice(5,-1));return t===Sl?"":t}var $ae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Fae=["dx","dy","angle","className","breakAll"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function oO(e,t){if(e==null)return{};var r,n,i=zae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zV=/[ \f\n\r\t\v\u2028\u2029]+/,UV=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];gt(t)||(r?i=t.toString().split(""):i=t.toString().split(zV));var a=i.map(s=>({word:s,width:Gc(s,n).width})),o=r?0:Gc("",n).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}};function Uae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var BV=(e,t,r,n)=>e.reduce((i,a)=>{var{word:o,width:s}=a,l=i[i.length-1];if(l&&s!=null&&(t==null||n||l.width+s+r<Number(t)))l.words.push(o),l.width+=s+r;else{var u={words:[o],width:s};i.push(u)}return i},[]),WV=e=>e.reduce((t,r)=>t.width>r.width?t:r),Bae="",sO=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),u=UV({breakAll:r,style:n,children:l+Bae});if(!u)return[!1,[]];var c=BV(u.wordsWithComputedWidth,a,o,s),d=c.length>i||WV(c).width>Number(a);return[d,c]},Wae=(e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,u=Z(a),c=String(o),d=BV(t,n,r,i);if(!u||i)return d;var h=d.length>a||WV(d).width>Number(n);if(!h)return d;for(var m=0,v=c.length-1,b=0,y;m<=v&&b<=c.length-1;){var x=Math.floor((m+v)/2),_=x-1,[k,T]=sO(c,_,l,s,a,n,r,i),[I]=sO(c,x,l,s,a,n,r,i);if(!k&&!I&&(m=x+1),k&&I&&(v=x-1),!k&&I){y=T;break}b++}return y||d},lO=e=>{var t=gt(e)?[]:e.toString().split(zV);return[{words:t,width:void 0}]},Kae=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!vf.isSsr){var s,l,u=UV({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;s=c,l=d}else return lO(n);return Wae({breakAll:a,children:n,maxLines:o,style:i},s,l,t,!!r)}return lO(n)},KV="#808080",Hae={angle:0,breakAll:!1,capHeight:"0.71em",fill:KV,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Yv=g.forwardRef((e,t)=>{var r=Ft(e,Hae),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=oO(r,$ae),h=g.useMemo(()=>Kae({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:v,angle:b,className:y,breakAll:x}=d,_=oO(d,Fae);if(!Ei(n)||!Ei(i)||h.length===0)return null;var k=Number(n)+(Z(m)?m:0),T=Number(i)+(Z(v)?v:0);if(!qe(k)||!qe(T))return null;var I;switch(c){case"start":I=O0("calc(".concat(o,")"));break;case"middle":I=O0("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:I=O0("calc(".concat(h.length-1," * -").concat(a,")"));break}var j=[];if(l){var E=h[0].width,{width:S}=d;j.push("scale(".concat(Z(S)&&Z(E)?S/E:1,")"))}return b&&j.push("rotate(".concat(b,", ").concat(k,", ").concat(T,")")),j.length&&(_.transform=j.join(" ")),g.createElement("text",ow({},zr(_),{ref:t,x:k,y:T,className:Te("recharts-text",y),textAnchor:u,fill:s.includes("url")?KV:s}),h.map((A,C)=>{var N=A.words.join(x?"":" ");return g.createElement("tspan",{x:k,dy:C===0?I:a,key:"".concat(N,"-").concat(C)},N)}))});Yv.displayName="Text";var qae=["labelRef"],Gae=["content"];function uO(e,t){if(e==null)return{};var r,n,i=Yae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Yae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){Qae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qae(e,t,r){return(t=Xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xae(e){var t=Jae(e,"string");return typeof t=="symbol"?t:t+""}function Jae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Li(){return Li=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Li.apply(null,arguments)}var HV=g.createContext(null),Zae=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return g.createElement(HV.Provider,{value:l},s)},qV=()=>{var e=g.useContext(HV),t=Sv();return e||o4(t)},eoe=g.createContext(null),toe=()=>{var e=g.useContext(eoe),t=ie(M3);return e||t},roe=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},xk=e=>e!=null&&typeof e=="function",noe=(e,t)=>{var r=ir(t-e),n=Math.min(Math.abs(t-e),360);return r*n},ioe=(e,t,r,n,i)=>{var{offset:a,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:h,clockWise:m}=i,v=(u+c)/2,b=noe(d,h),y=b>=0?1:-1,x,_;switch(t){case"insideStart":x=d+y*a,_=m;break;case"insideEnd":x=h-y*a,_=!m;break;case"end":x=h+y*a,_=m;break;default:throw new Error("Unsupported position ".concat(t))}_=b<=0?_:!_;var k=Lt(s,l,v,x),T=Lt(s,l,v,x+(_?1:-1)*359),I="M".concat(k.x,",").concat(k.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(T.x,",").concat(T.y),j=gt(e.id)?Pd("recharts-radial-line-"):e.id;return g.createElement("text",Li({},n,{dominantBaseline:"central",className:Te("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:j,d:I})),g.createElement("textPath",{xlinkHref:"#".concat(j)},r))},aoe=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(r==="outside"){var{x:c,y:d}=Lt(n,i,o+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:m,y:v}=Lt(n,i,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},sw=e=>"cx"in e&&Z(e.cx),ooe=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!sw(r)&&(a=r);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=o,h=o+(l-u)/2,m=(d+h)/2,v=(l+u)/2,b=d+l/2,y=c>=0?1:-1,x=y*n,_=y>0?"end":"start",k=y>0?"start":"end",T=l>=0?1:-1,I=T*n,j=T>0?"end":"start",E=T>0?"start":"end";if(i==="top"){var S={x:d+l/2,y:s-x,textAnchor:"middle",verticalAnchor:_};return At(At({},S),a?{height:Math.max(s-a.y,0),width:l}:{})}if(i==="bottom"){var A={x:h+u/2,y:s+c+x,textAnchor:"middle",verticalAnchor:k};return At(At({},A),a?{height:Math.max(a.y+a.height-(s+c),0),width:u}:{})}if(i==="left"){var C={x:m-I,y:s+c/2,textAnchor:j,verticalAnchor:"middle"};return At(At({},C),a?{width:Math.max(C.x-a.x,0),height:c}:{})}if(i==="right"){var N={x:m+v+I,y:s+c/2,textAnchor:E,verticalAnchor:"middle"};return At(At({},N),a?{width:Math.max(a.x+a.width-N.x,0),height:c}:{})}var O=a?{width:v,height:c}:{};return i==="insideLeft"?At({x:m+I,y:s+c/2,textAnchor:E,verticalAnchor:"middle"},O):i==="insideRight"?At({x:m+v-I,y:s+c/2,textAnchor:j,verticalAnchor:"middle"},O):i==="insideTop"?At({x:d+l/2,y:s+x,textAnchor:"middle",verticalAnchor:k},O):i==="insideBottom"?At({x:h+u/2,y:s+c-x,textAnchor:"middle",verticalAnchor:_},O):i==="insideTopLeft"?At({x:d+I,y:s+x,textAnchor:E,verticalAnchor:k},O):i==="insideTopRight"?At({x:d+l-I,y:s+x,textAnchor:j,verticalAnchor:k},O):i==="insideBottomLeft"?At({x:h+I,y:s+c-x,textAnchor:E,verticalAnchor:_},O):i==="insideBottomRight"?At({x:h+u-I,y:s+c-x,textAnchor:j,verticalAnchor:_},O):i&&typeof i=="object"&&(Z(i.x)||oa(i.x))&&(Z(i.y)||oa(i.y))?At({x:o+Or(i.x,v),y:s+Or(i.y,c),textAnchor:"end",verticalAnchor:"end"},O):At({x:b,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},O)},soe={angle:0,offset:5,zIndex:Vt.label,position:"middle",textBreakAll:!1};function Ma(e){var t=Ft(e,soe),{viewBox:r,position:n,value:i,children:a,content:o,className:s="",textBreakAll:l,labelRef:u}=t,c=toe(),d=qV(),h=n==="center"?d:c??d,m,v,b;if(r==null?m=h:sw(r)?m=r:m=o4(r),!m||gt(i)&&gt(a)&&!g.isValidElement(o)&&typeof o!="function")return null;var y=At(At({},t),{},{viewBox:m});if(g.isValidElement(o)){var{labelRef:x}=y,_=uO(y,qae);return g.cloneElement(o,_)}if(typeof o=="function"){var{content:k}=y,T=uO(y,Gae);if(v=g.createElement(o,T),g.isValidElement(v))return v}else v=roe(t);var I=zr(t);if(sw(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return ioe(t,n,v,I,m);b=aoe(m,t.offset,t.position)}else b=ooe(t,m);return g.createElement(nn,{zIndex:t.zIndex},g.createElement(Yv,Li({ref:u,className:Te("recharts-label",s)},I,b,{textAnchor:Uae(I.textAnchor)?I.textAnchor:b.textAnchor,breakAll:l}),v))}Ma.displayName="Label";var loe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Ma,Li({key:"label-implicit"},n)):Ei(e)?g.createElement(Ma,Li({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Ma?g.cloneElement(e,At({key:"label-implicit"},n)):g.createElement(Ma,Li({key:"label-implicit",content:e},n)):xk(e)?g.createElement(Ma,Li({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Ma,Li({},e,{key:"label-implicit"},n)):null};function uoe(e){var{label:t,labelRef:r}=e,n=qV();return loe(t,n,r)||null}var GV={},YV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(YV);var QV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(QV);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YV,r=QV,n=cv;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(GV);var coe=GV.last;const doe=ha(coe);var foe=["valueAccessor"],hoe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Qm(){return Qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qm.apply(null,arguments)}function dO(e,t){if(e==null)return{};var r,n,i=poe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function poe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var moe=e=>Array.isArray(e.value)?doe(e.value):e.value,XV=g.createContext(void 0),JV=XV.Provider,ZV=g.createContext(void 0),goe=ZV.Provider;function voe(){return g.useContext(XV)}function yoe(){return g.useContext(ZV)}function xp(e){var{valueAccessor:t=moe}=e,r=dO(e,foe),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=dO(r,hoe),u=voe(),c=yoe(),d=u||c;return!d||!d.length?null:g.createElement(nn,{zIndex:s??Vt.label},g.createElement(Ot,{className:"recharts-label-list"},d.map((h,m)=>{var v,b=gt(n)?t(h,m):We(h&&h.payload,n),y=gt(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Ma,Qm({key:"label-".concat(m)},zr(h),l,y,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:b,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}xp.displayName="LabelList";function bk(e){var{label:t}=e;return t?t===!0?g.createElement(xp,{key:"labelList-implicit"}):g.isValidElement(t)||xk(t)?g.createElement(xp,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(xp,Qm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(null,arguments)}var e$=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Te("recharts-dot",i);return Z(t)&&Z(r)&&Z(n)?g.createElement("circle",lw({},tn(e),M1(e),{className:a,cx:t,cy:r,r:n})):null},t$=e=>e.graphicalItems.polarItems,xoe=V([lt,Sf],UE),Qv=V([t$,bt,xoe],BE),boe=V([Qv],WE),Xv=V([boe,Mv],KE),woe=V([Xv,bt,Qv],qE);V([Xv,bt,Qv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,o=We(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:We(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var fO=()=>{},_oe=V([Xv,bt,Qv,Kv,lt],XE),Eoe=V([bt,YE,QE,fO,_oe,fO,Ie,lt],JE),r$=V([bt,Ie,Xv,woe,kf,lt,Eoe],ZE),koe=V([r$,bt,Ru],rk);V([bt,r$,koe,lt],ik);var Soe={radiusAxis:{},angleAxis:{}},n$=rn({name:"polarAxis",initialState:Soe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jpe,removeRadiusAxis:Dpe,addAngleAxis:Rpe,removeAngleAxis:Mpe}=n$.actions,Poe=n$.reducer;function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Toe(e,t,r){return(t=Aoe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aoe(e){var t=Ioe(e,"string");return typeof t=="symbol"?t:t+""}function Ioe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Coe=(e,t)=>t,wk=V([t$,Coe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Ooe=[],_k=(e,t,r)=>(r==null?void 0:r.length)===0?Ooe:r,i$=V([Mv,wk,_k],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>pO(pO({},t.presentationProps),a.props))),i!=null)return i}}),Noe=V([i$,wk,_k],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,o=We(n,t.nameKey,t.name),s;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?s=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?s=n.fill:s=t.fill,{value:Iu(o,t.dataKey),color:s,payload:n,type:t.legendType}})}),joe=V([i$,wk,_k,Ht],(e,t,r,n)=>{if(!(t==null||e==null))return jse({offset:n,pieSettings:t,displayedData:e,cells:r})}),a$={exports:{}},Ge={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek=Symbol.for("react.transitional.element"),kk=Symbol.for("react.portal"),Jv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),ty=Symbol.for("react.consumer"),ry=Symbol.for("react.context"),ny=Symbol.for("react.forward_ref"),iy=Symbol.for("react.suspense"),ay=Symbol.for("react.suspense_list"),oy=Symbol.for("react.memo"),sy=Symbol.for("react.lazy"),Doe=Symbol.for("react.view_transition"),Roe=Symbol.for("react.client.reference");function Fn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ek:switch(e=e.type,e){case Jv:case ey:case Zv:case iy:case ay:case Doe:return e;default:switch(e=e&&e.$$typeof,e){case ry:case ny:case sy:case oy:return e;case ty:return e;default:return t}}case kk:return t}}}Ge.ContextConsumer=ty;Ge.ContextProvider=ry;Ge.Element=Ek;Ge.ForwardRef=ny;Ge.Fragment=Jv;Ge.Lazy=sy;Ge.Memo=oy;Ge.Portal=kk;Ge.Profiler=ey;Ge.StrictMode=Zv;Ge.Suspense=iy;Ge.SuspenseList=ay;Ge.isContextConsumer=function(e){return Fn(e)===ty};Ge.isContextProvider=function(e){return Fn(e)===ry};Ge.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ek};Ge.isForwardRef=function(e){return Fn(e)===ny};Ge.isFragment=function(e){return Fn(e)===Jv};Ge.isLazy=function(e){return Fn(e)===sy};Ge.isMemo=function(e){return Fn(e)===oy};Ge.isPortal=function(e){return Fn(e)===kk};Ge.isProfiler=function(e){return Fn(e)===ey};Ge.isStrictMode=function(e){return Fn(e)===Zv};Ge.isSuspense=function(e){return Fn(e)===iy};Ge.isSuspenseList=function(e){return Fn(e)===ay};Ge.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Jv||e===ey||e===Zv||e===iy||e===ay||typeof e=="object"&&e!==null&&(e.$$typeof===sy||e.$$typeof===oy||e.$$typeof===ry||e.$$typeof===ty||e.$$typeof===ny||e.$$typeof===Roe||e.getModuleId!==void 0)};Ge.typeOf=Fn;a$.exports=Ge;var Moe=a$.exports,mO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",gO=null,N0=null,o$=e=>{if(e===gO&&Array.isArray(N0))return N0;var t=[];return g.Children.forEach(e,r=>{gt(r)||(Moe.isFragment(r)?t=t.concat(o$(r.props.children)):t.push(r))}),N0=t,gO=e,t};function Sk(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>mO(i)):n=[mO(t)],o$(e).forEach(i=>{var a=Os(i,"type.displayName")||Os(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var s$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,l$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(l$);var Loe=l$.isPlainObject;const Voe=ha(Loe);var vO,yO,xO,bO,wO;function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){$oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $oe(e,t,r){return(t=Foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Foe(e){var t=zoe(e,"string");return typeof t=="symbol"?t:t+""}function zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xm.apply(null,arguments)}function xc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kO=(e,t,r,n,i)=>{var a=r-n,o;return o=kt(vO||(vO=xc(["M ",",",""])),e,t),o+=kt(yO||(yO=xc(["L ",",",""])),e+r,t),o+=kt(xO||(xO=xc(["L ",",",""])),e+r-a/2,t+i),o+=kt(bO||(bO=xc(["L ",",",""])),e+r-a/2-n,t+i),o+=kt(wO||(wO=xc(["L ",","," Z"])),e,t),o},Uoe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Boe=e=>{var t=Ft(e,Uoe),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=g.useRef(null),[m,v]=g.useState(-1),b=g.useRef(i),y=g.useRef(a),x=g.useRef(o),_=g.useRef(r),k=g.useRef(n),T=xf(e,"trapezoid-");if(g.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var F=h.current.getTotalLength();F&&v(F)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||i===0&&a===0||o===0)return null;var I=Te("recharts-trapezoid",s);if(!d)return g.createElement("g",null,g.createElement("path",Xm({},zr(t),{className:I,d:kO(r,n,i,a,o)})));var j=b.current,E=y.current,S=x.current,A=_.current,C=k.current,N="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),D=x4(["strokeDasharray"],u,l);return g.createElement(yf,{animationId:T,key:T,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},F=>{var G=tt(j,i,F),M=tt(E,a,F),H=tt(S,o,F),$=tt(A,r,F),B=tt(C,n,F);h.current&&(b.current=G,y.current=M,x.current=H,_.current=$,k.current=B);var X=F>0?{transition:D,strokeDasharray:O}:{strokeDasharray:N};return g.createElement("path",Xm({},zr(t),{className:I,d:kO($,B,G,M,H),ref:h,style:EO(EO({},X),t.style)}))})},Woe=["option","shapeType","activeClassName"];function Koe(e,t){if(e==null)return{};var r,n,i=Hoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Hoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){qoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qoe(e,t,r){return(t=Goe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Goe(e){var t=Yoe(e,"string");return typeof t=="symbol"?t:t+""}function Yoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qoe(e,t){return Jm(Jm({},t),e)}function Xoe(e,t){return e==="symbols"}function PO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(E4,r);case"trapezoid":return g.createElement(Boe,r);case"sector":return g.createElement(T4,r);case"symbols":if(Xoe(t))return g.createElement(R1,r);break;case"curve":return g.createElement(Ul,r);default:return null}}function Joe(e){return g.isValidElement(e)?e.props:e}function u$(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=Koe(e,Woe),a;if(g.isValidElement(t))a=g.cloneElement(t,Jm(Jm({},i),Joe(t)));else if(typeof t=="function")a=t(i,i.index);else if(Voe(t)&&typeof t!="boolean"){var o=Qoe(t,i);a=g.createElement(PO,{shapeType:r,elementProps:o})}else{var s=i;a=g.createElement(PO,{shapeType:r,elementProps:s})}return i.isActive?g.createElement(Ot,{className:n},a):a}var Pk=(e,t,r)=>{var n=Xe();return(i,a)=>o=>{e==null||e(i,a,o),n(hV({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},Tk=e=>{var t=Xe();return(r,n)=>i=>{e==null||e(r,n,i),t(hne())}},Ak=(e,t,r)=>{var n=Xe();return(i,a)=>o=>{e==null||e(i,a,o),n(pne({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function Ik(e){var{tooltipEntrySettings:t}=e,r=Xe(),n=Dr(),i=g.useRef(null);return g.useLayoutEffect(()=>{n||(i.current===null?r(une(t)):i.current!==t&&r(cne({prev:i.current,next:t})),i.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{i.current&&(r(dne(i.current)),i.current=null)},[r]),null}function c$(e){var{legendPayload:t}=e,r=Xe(),n=Dr(),i=g.useRef(null);return g.useLayoutEffect(()=>{n||(i.current===null?r(m4(t)):i.current!==t&&r(g4({prev:i.current,next:t})),i.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{i.current&&(r(v4(i.current)),i.current=null)},[r]),null}function Zoe(e){var{legendPayload:t}=e,r=Xe(),n=ie(Ie),i=g.useRef(null);return g.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(m4(t)):i.current!==t&&r(g4({prev:i.current,next:t})),i.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{i.current&&(r(v4(i.current)),i.current=null)},[r]),null}var j0,ese=()=>{var[e]=g.useState(()=>Pd("uid-"));return e},tse=(j0=A2.useId)!==null&&j0!==void 0?j0:ese;function rse(e,t){var r=tse();return t||(e?"".concat(e,"-").concat(r):r)}var nse=g.createContext(void 0),Ck=e=>{var{id:t,type:r,children:n}=e,i=rse("recharts-".concat(r),t);return g.createElement(nse.Provider,{value:i},n(i))},ise={cartesianItems:[],polarItems:[]},d$=rn({name:"graphicalItems",initialState:ise,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:at()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Jn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:at()},removeCartesianGraphicalItem:{reducer(e,t){var r=Jn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:at()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:at()},removePolarGraphicalItem:{reducer(e,t){var r=Jn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:at()}}}),{addCartesianGraphicalItem:ase,replaceCartesianGraphicalItem:ose,removeCartesianGraphicalItem:sse,addPolarGraphicalItem:lse,removePolarGraphicalItem:use}=d$.actions,cse=d$.reducer,dse=e=>{var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(ase(e)):r.current!==e&&t(ose({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(sse(r.current)),r.current=null)},[t]),null},f$=g.memo(dse);function fse(e){var t=Xe();return g.useLayoutEffect(()=>(t(lse(e)),()=>{t(use(e))}),[t,e]),null}var hse=["key"],pse=["onMouseEnter","onClick","onMouseLeave"],mse=["id"],gse=["id"];function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){vse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vse(e,t,r){return(t=yse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yse(e){var t=xse(e,"string");return typeof t=="symbol"?t:t+""}function xse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eo(){return Eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eo.apply(null,arguments)}function ly(e,t){if(e==null)return{};var r,n,i=bse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wse(e){var t=g.useMemo(()=>Sk(e.children,Gs),[e.children]),r=ie(n=>Noe(n,e.id,t));return r==null?null:g.createElement(Zoe,{legendPayload:r})}var _se=g.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:n.map(h=>h.tooltipPayload),positions:n.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:Iu(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:c}};return g.createElement(Ik,{tooltipEntrySettings:d})}),Ese=(e,t)=>e>t?"start":e<t?"end":"middle",kse=(e,t,r)=>Or(typeof t=="function"?t(e):t,r,r*.8),Sse=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=k4(a,o),l=i+Or(e.cx,a,a/2),u=n+Or(e.cy,o,o/2),c=Or(e.innerRadius,s,0),d=kse(r,e.outerRadius,s),h=e.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:h}},Pse=(e,t)=>{var r=ir(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Tse(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Ase=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Te("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=ly(t,hse);return g.createElement(Ul,Eo({},i,{type:"linear",className:r}))},Ise=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var i=Te("recharts-pie-label-text",Tse(e));return g.createElement(Yv,Eo({},t,{alignmentBaseline:"middle",className:i}),n)};function Cse(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=tn(r),l=Is(i),u=Is(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((h,m)=>{var v=(h.startAngle+h.endAngle)/2,b=Lt(h.cx,h.cy,h.outerRadius+c,v),y=Pt(Pt(Pt(Pt({},s),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Ese(b.x,h.cx)},b),x=Pt(Pt(Pt(Pt({},s),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Lt(h.cx,h.cy,h.outerRadius,v),b],key:"line"});return g.createElement(nn,{zIndex:Vt.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},g.createElement(Ot,null,a&&Ase(a,x),Ise(i,y,We(h,o))))});return g.createElement(Ot,{className:"recharts-pie-labels"},d)}function Ose(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(bk,{label:i}):g.createElement(Cse,{sectors:t,props:r,showLabels:n})}function Nse(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:o}=e,s=ie(_o),l=ie(hk),u=ie(Zne),{onMouseEnter:c,onClick:d,onMouseLeave:h}=i,m=ly(i,pse),v=Pk(c,i.dataKey,o),b=Tk(h),y=Ak(d,i.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((x,_)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var k=u==null||u===o,T=String(_)===s&&(l==null||i.dataKey===l)&&k,I=s?n:null,j=r&&T?r:I,E=Pt(Pt({},x),{},{stroke:x.stroke,tabIndex:-1,[JL]:_,[ZL]:o});return g.createElement(Ot,Eo({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},df(m,x,_),{onMouseEnter:v(x,_),onMouseLeave:b(x,_),onClick:y(x,_)}),g.createElement(u$,Eo({option:a??j,index:_,shapeType:"sector",isActive:T},E)))}))}function jse(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,h=Math.abs(r.minAngle),m=Pse(s,l),v=Math.abs(m),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,y=n.filter(j=>We(j,u,0)!==0).length,x=(v>=360?y:y-1)*b,_=v-y*h-x,k=n.reduce((j,E)=>{var S=We(E,u,0);return j+(Z(S)?S:0)},0),T;if(k>0){var I;T=n.map((j,E)=>{var S=We(j,u,0),A=We(j,c,E),C=Sse(r,a,j),N=(Z(S)?S:0)/k,O,D=Pt(Pt({},j),i&&i[E]&&i[E].props);E?O=I.endAngle+ir(m)*b*(S!==0?1:0):O=s;var F=O+ir(m)*((S!==0?h:0)+N*_),G=(O+F)/2,M=(C.innerRadius+C.outerRadius)/2,H=[{name:A,value:S,payload:D,dataKey:u,type:d,graphicalItemId:r.id}],$=Lt(C.cx,C.cy,M,G);return I=Pt(Pt(Pt(Pt({},r.presentationProps),{},{percent:N,cornerRadius:typeof o=="string"?parseFloat(o):o,name:A,tooltipPayload:H,midAngle:G,middleRadius:M,tooltipPosition:$},D),C),{},{value:S,dataKey:u,startAngle:O,endAngle:F,payload:D,paddingAngle:ir(m)*b}),I})}return T}function Dse(e){var{showLabels:t,sectors:r,children:n}=e,i=g.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return g.createElement(goe,{value:t?i:void 0},n)}function Rse(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=t,m=xf(t,"recharts-pie-"),v=r.current,[b,y]=g.useState(!1),x=g.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),_=g.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return g.createElement(Dse,{showLabels:!b,sectors:i},g.createElement(yf,{animationId:m,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:_,onAnimationEnd:x,key:m},k=>{var T=[],I=i&&i[0],j=I==null?void 0:I.startAngle;return i==null||i.forEach((E,S)=>{var A=v&&v[S],C=S>0?Os(E,"paddingAngle",0):0;if(A){var N=tt(A.endAngle-A.startAngle,E.endAngle-E.startAngle,k),O=Pt(Pt({},E),{},{startAngle:j+C,endAngle:j+N+C});T.push(O),j=O.endAngle}else{var{endAngle:D,startAngle:F}=E,G=tt(0,D-F,k),M=Pt(Pt({},E),{},{startAngle:j+C,endAngle:j+G+C});T.push(M),j=M.endAngle}}),r.current=T,g.createElement(Ot,null,g.createElement(Nse,{sectors:T,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),g.createElement(Ose,{showLabels:!b,sectors:i,props:t}),t.children)}var Mse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Vt.area};function Lse(e){var{id:t}=e,r=ly(e,mse),{hide:n,className:i,rootTabIndex:a}=e,o=g.useMemo(()=>Sk(e.children,Gs),[e.children]),s=ie(c=>joe(c,t,o)),l=g.useRef(null),u=Te("recharts-pie",i);return n||s==null?(l.current=null,g.createElement(Ot,{tabIndex:a,className:u})):g.createElement(nn,{zIndex:e.zIndex},g.createElement(_se,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Ot,{tabIndex:a,className:u},g.createElement(Rse,{props:Pt(Pt({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function uy(e){var t=Ft(e,Mse),{id:r}=t,n=ly(t,gse),i=tn(n);return g.createElement(Ck,{id:r,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(fse,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),g.createElement(wse,Eo({},n,{id:a})),g.createElement(Lse,Eo({},n,{id:a}))))}uy.displayName="Pie";var Vse=["points"];function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function D0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){$se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $se(e,t,r){return(t=Fse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fse(e){var t=zse(e,"string");return typeof t=="symbol"?t:t+""}function zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zm.apply(null,arguments)}function Use(e,t){if(e==null)return{};var r,n,i=Bse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wse(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Te(n,typeof t!="boolean"?t.className:""),a=r??{},{points:o}=a,s=Use(a,Vse);return g.createElement(e$,Zm({},s,{className:i}))}function Kse(e,t){return e==null?!1:t?!0:e.length===1}function Hse(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:u=Vt.scatter}=e;if(!Kse(t,r))return null;var c=s$(r),d=Lq(r),h=t.map((v,b)=>{var y,x,_=D0(D0(D0({r:3},o),d),{},{index:b,cx:(y=v.x)!==null&&y!==void 0?y:void 0,cy:(x=v.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return g.createElement(Wse,{key:"dot-".concat(b),option:r,dotProps:_,className:i})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),g.createElement(nn,{zIndex:u},g.createElement(Ot,Zm({className:n},m),h))}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qse(e,t,r){return(t=Gse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=Yse(e,"string");return typeof t=="symbol"?t:t+""}function Yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h$=0,Qse={xAxis:{},yAxis:{},zAxis:{}},p$=rn({name:"cartesianAxis",initialState:Qse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:at()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:at()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:at()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:at()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:at()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:at()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:at()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:at()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:at()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=CO(CO({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:Xse,replaceXAxis:Jse,removeXAxis:Zse,addYAxis:ele,replaceYAxis:tle,removeYAxis:rle,addZAxis:Lpe,replaceZAxis:Vpe,removeZAxis:$pe,updateYAxisWidth:nle}=p$.actions,ile=p$.reducer,ale=V([Ht],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ole=V([ale,ba,wa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Ok=()=>ie(ole),sle=()=>ie(iie);function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){lle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lle(e,t,r){return(t=ule(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ule(e){var t=cle(e,"string");return typeof t=="symbol"?t:t+""}function cle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dle=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(i===!1||t.x==null||t.y==null)return null;var s={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=R0(R0(R0({},s),Is(i)),M1(i)),u;return g.isValidElement(i)?u=g.cloneElement(i,l):typeof i=="function"?u=i(l):u=g.createElement(e$,l),g.createElement(Ot,{className:"recharts-active-dot",clipPath:o},u)};function NO(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=Vt.activeDot}=e,s=ie(_o),l=sle();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return gt(u)?null:g.createElement(nn,{zIndex:o},g.createElement(dle,{point:u,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var jO=(e,t,r)=>{var n=r??e;if(!gt(n))return Or(n,t,0)},fle=(e,t,r)=>{var n={},i=e.filter(Fv),a=e.filter(u=>u.stackId==null),o=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),s=Object.entries(o).map(u=>{var[c,d]=u,h=d.map(v=>v.dataKey),m=jO(t,r,d[0].barSize);return{stackId:c,dataKeys:h,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(h=>h!=null),d=jO(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...s,...l]};function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){hle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hle(e,t,r){return(t=ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ple(e){var t=mle(e,"string");return typeof t=="symbol"?t:t+""}function mle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gle(e,t,r,n,i){var a=n.length;if(!(a<1)){var o=Or(e,r,0,!0),s,l=[];if(qe(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((x,_)=>x+(_.barSize||0),0);d+=(a-1)*o,d>=r&&(d-=(a-1)*o,o=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var h=(r-d)/2>>0,m={offset:h-o,size:0};s=n.reduce((x,_)=>{var k,T={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:m.offset+m.size+o,size:u?c:(k=_.barSize)!==null&&k!==void 0?k:0}},I=[...x,T];return m=I[I.length-1].position,I},l)}else{var v=Or(t,r,0,!0);r-2*v-(a-1)*o<=0&&(o=0);var b=(r-2*v-(a-1)*o)/a;b>1&&(b>>=0);var y=qe(i)?Math.min(b,i):b;s=n.reduce((x,_,k)=>[...x,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:v+(b+o)*k+(b-y)/2,size:y}}],l)}return s}}var vle=(e,t,r,n,i,a,o)=>{var s=gt(o)?t:o,l=gle(r,n,i!==a?i:a,e,s);return i!==a&&l!=null&&(l=l.map(u=>zh(zh({},u),{},{position:zh(zh({},u.position),{},{offset:u.position.offset-i/2})}))),l},yle=(e,t)=>{var r=$v(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(o=>o.key===r)}}}};function xle(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&qe(e.zIndex)?e.zIndex:t}var m$=e=>{var{chartData:t}=e,r=Xe(),n=Dr();return g.useEffect(()=>n?()=>{}:(r(GC(t)),()=>{r(GC(void 0))}),[t,r,n]),null},RO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},g$=rn({name:"brush",initialState:RO,reducers:{setBrushSettings(e,t){return t.payload==null?RO:t.payload}}}),{setBrushSettings:Fpe}=g$.actions,ble=g$.reducer;function wle(e,t,r){return(t=_le(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _le(e){var t=Ele(e,"string");return typeof t=="symbol"?t:t+""}function Ele(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nk{static create(t){return new Nk(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}wle(Nk,"EPS",1e-4);function kle(e){return(e%180+180)%180}var Sle=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kle(i),o=a*Math.PI/180,s=Math.atan(n/r),l=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(l)},Ple={dots:[],areas:[],lines:[]},v$=rn({name:"referenceElements",initialState:Ple,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Jn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Jn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Jn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:zpe,removeDot:Upe,addArea:Bpe,removeArea:Wpe,addLine:Kpe,removeLine:Hpe}=v$.actions,Tle=v$.reducer,Ale=g.createContext(void 0),Ile=e=>{var{children:t}=e,[r]=g.useState("".concat(Pd("recharts"),"-clip")),n=Ok();if(n==null)return null;var{x:i,y:a,width:o,height:s}=n;return g.createElement(Ale.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function y$(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function Cle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Sle(n,r)}function Ole(e,t,r){var n=r==="width",{x:i,y:a,width:o,height:s}=e;return t===1?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}function Fd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Nle(e,t){return y$(e,t+1)}function jle(e,t,r,n,i){for(var a=(n||[]).slice(),{start:o,end:s}=t,l=0,u=1,c=o,d=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:y$(n,u)};var b=l,y,x=()=>(y===void 0&&(y=r(v,b)),y),_=v.coordinate,k=l===0||Fd(e,_,x,c,s);k||(l=0,c=o,u+=1),k&&(c=_+e*(x()/2+i),l+=u)},h;u<=a.length;)if(h=d(),h)return h.v;return[]}function Dle(e,t,r,n,i){var a=(n||[]).slice(),o=a.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var c=(o-1)%u,d=s,h=!0,m=function(){var _=n[v],k=v,T,I=()=>(T===void 0&&(T=r(_,k)),T),j=_.coordinate,E=v===c||Fd(e,j,I,d,l);if(!E)return h=!1,1;E&&(d=j+e*(I()/2+i))},v=c;v<o&&!m();v+=u);if(h){for(var b=[],y=c;y<o;y+=u)b.push(n[y]);return b}}return[]}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){Rle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rle(e,t,r){return(t=Mle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mle(e){var t=Lle(e,"string");return typeof t=="symbol"?t:t+""}function Lle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vle(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,u=function(h){var m=a[h],v,b=()=>(v===void 0&&(v=r(m,h)),v);if(h===o-1){var y=e*(m.coordinate+e*b()/2-l);a[h]=m=Sr(Sr({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=Sr(Sr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=Fd(e,m.tickCoord,b,s,l);x&&(l=m.tickCoord-e*(b()/2+i),a[h]=Sr(Sr({},m),{},{isShow:!0}))}},c=o-1;c>=0;c--)u(c);return a}function $le(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:u}=t;if(a){var c=n[s-1],d=r(c,s-1),h=e*(c.coordinate+e*d/2-u);if(o[s-1]=c=Sr(Sr({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),c.tickCoord!=null){var m=Fd(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),o[s-1]=Sr(Sr({},c),{},{isShow:!0}))}}for(var v=a?s-1:s,b=function(_){var k=o[_],T,I=()=>(T===void 0&&(T=r(k,_)),T);if(_===0){var j=e*(k.coordinate-e*I()/2-l);o[_]=k=Sr(Sr({},k),{},{tickCoord:j<0?k.coordinate-j*e:k.coordinate})}else o[_]=k=Sr(Sr({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var E=Fd(e,k.tickCoord,I,l,u);E&&(l=k.tickCoord+e*(I()/2+i),o[_]=Sr(Sr({},k),{},{isShow:!0}))}},y=0;y<v;y++)b(y);return o}function jk(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(Z(l)||vf.isSsr){var h;return(h=Nle(i,Z(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],v=s==="top"||s==="bottom"?"width":"height",b=c&&v==="width"?Gc(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(k,T)=>{var I=typeof u=="function"?u(k.value,T):k.value;return v==="width"?Cle(Gc(I,{fontSize:t,letterSpacing:r}),b,d):Gc(I,{fontSize:t,letterSpacing:r})[v]},x=i.length>=2?ir(i[1].coordinate-i[0].coordinate):1,_=Ole(a,x,v);return l==="equidistantPreserveStart"?jle(x,_,y,i,o):l==="equidistantPreserveEnd"?Dle(x,_,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?m=$le(x,_,y,i,o,l==="preserveStartEnd"):m=Vle(x,_,y,i,o),m.filter(k=>k.isShow))}var Fle=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>o&&(o=d.width)}});var s=r?r.getBoundingClientRect().width:0,l=i+a,u=o+l+s+(r?n:0);return Math.round(u)}return 0},zle=["axisLine","width","height","className","hide","ticks","axisType"];function Ule(e,t){if(e==null)return{};var r,n,i=Ble(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ble(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ms(){return Ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ms.apply(null,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Wle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wle(e,t,r){return(t=Kle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kle(e){var t=Hle(e,"string");return typeof t=="symbol"?t:t+""}function Hle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vt.axis};function qle(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Dt(Dt(Dt({},l),tn(s)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!o||a==="bottom"&&o);u=Dt(Dt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!o||a==="right"&&o);u=Dt(Dt({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return g.createElement("line",Ms({},u,{className:Te("recharts-cartesian-axis-line",Os(s,"className"))}))}function Gle(e,t,r,n,i,a,o,s,l){var u,c,d,h,m,v,b=s?-1:1,y=e.tickSize||o,x=Z(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,h=r+ +!s*i,d=h-b*y,v=d-b*l,m=x;break;case"left":d=h=e.coordinate,c=t+ +!s*n,u=c-b*y,m=u-b*l,v=x;break;case"right":d=h=e.coordinate,c=t+ +s*n,u=c+b*y,m=u+b*l,v=x;break;default:u=c=e.coordinate,h=r+ +s*i,d=h+b*y,v=d+b*l,m=x;break}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:m,y:v}}}function Yle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qle(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Xle(e){var{option:t,tickProps:r,value:n}=e,i,a=Te(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,Dt(Dt({},r),{},{className:a}));else if(typeof t=="function")i=t(Dt(Dt({},r),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Te(o,t==null?void 0:t.className)),i=g.createElement(Yv,Ms({},r,{className:o}),n)}return i}var Jle=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:m,width:v,height:b,tickSize:y,tickMargin:x,fontSize:_,letterSpacing:k,getTicksConfig:T,events:I,axisType:j}=e,E=jk(Dt(Dt({},T),{},{ticks:r}),_,k),S=Yle(c,d),A=Qle(c,d),C=tn(T),N=Is(n),O={};typeof i=="object"&&(O=i);var D=Dt(Dt({},C),{},{fill:"none"},O),F=E.map(H=>Dt({entry:H},Gle(H,h,m,v,b,c,y,d,x))),G=F.map(H=>{var{entry:$,line:B}=H;return g.createElement(Ot,{className:"recharts-cartesian-axis-tick",key:"tick-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},i&&g.createElement("line",Ms({},D,B,{className:Te("recharts-cartesian-axis-tick-line",Os(i,"className"))})))}),M=F.map((H,$)=>{var{entry:B,tick:X}=H,oe=Dt(Dt(Dt(Dt({textAnchor:S,verticalAnchor:A},C),{},{stroke:"none",fill:a},N),X),{},{index:$,payload:B,visibleTicksCount:E.length,tickFormatter:o,padding:l},u);return g.createElement(Ot,Ms({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},df(I,B,$)),n&&g.createElement(Xle,{option:n,tickProps:oe,value:"".concat(typeof o=="function"?o(B.value,$):B.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},M.length>0&&g.createElement(nn,{zIndex:Vt.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},M)),G.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},G))}),Zle=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,u=Ule(e,zle),[c,d]=g.useState(""),[h,m]=g.useState(""),v=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Fle({ticks:v.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=g.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=x;var _=x[0];if(_){var k=window.getComputedStyle(_),T=k.fontSize,I=k.letterSpacing;(T!==c||I!==h)&&(d(T),m(I))}}},[c,h]);return o||n!=null&&n<=0||i!=null&&i<=0?null:g.createElement(nn,{zIndex:e.zIndex},g.createElement(Ot,{className:Te("recharts-cartesian-axis",a)},g.createElement(qle,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:tn(e)}),g.createElement(Jle,{ref:b,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(Zae,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(uoe,{label:e.label,labelRef:e.labelRef}),e.children)))}),Dk=g.forwardRef((e,t)=>{var r=Ft(e,Yi);return g.createElement(Zle,Ms({},r,{ref:t}))});Dk.displayName="CartesianAxis";var eue=["x1","y1","x2","y2","key"],tue=["offset"],rue=["xAxisId","yAxisId"],nue=["xAxisId","yAxisId"];function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){iue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iue(e,t,r){return(t=aue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aue(e){var t=oue(e,"string");return typeof t=="symbol"?t:t+""}function oue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function as(){return as=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},as.apply(null,arguments)}function eg(e,t){if(e==null)return{};var r,n,i=sue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lue=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return g.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function x$(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:o,x2:s,y2:l,key:u}=r,c=eg(r,eue),d=(i=tn(c))!==null&&i!==void 0?i:{},{offset:h}=d,m=eg(d,tue);n=g.createElement("line",as({},m,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:u}))}return n}function uue(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=eg(e,rue),l=i.map((u,c)=>{var d=Ir(Ir({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return g.createElement(x$,{key:"line-".concat(c),option:n,lineItemProps:d})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function cue(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=eg(e,nue),l=i.map((u,c)=>{var d=Ir(Ir({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return g.createElement(x$,{option:n,lineItemProps:d,key:"line-".concat(c)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function due(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var m=!u[h+1],v=m?i+o-d:u[h+1]-d;if(v<=0)return null;var b=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:d,x:n,height:v,width:a,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function fue(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,h)=>d-h);i!==u[0]&&u.unshift(0);var c=u.map((d,h)=>{var m=!u[h+1],v=m?i+o-d:u[h+1]-d;if(v<=0)return null;var b=h%r.length;return g.createElement("rect",{key:"react-".concat(h),x:d,y:a,width:v,height:s,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var hue=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return GL(jk(Ir(Ir(Ir({},Yi),r),{},{ticks:YL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},pue=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return GL(jk(Ir(Ir(Ir({},Yi),r),{},{ticks:YL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},mue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Vt.grid};function tg(e){var t=aE(),r=oE(),n=s4(),i=Ir(Ir({},Ft(e,mue)),{},{x:Z(e.x)?e.x:n.left,y:Z(e.y)?e.y:n.top,width:Z(e.width)?e.width:n.width,height:Z(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:m}=i,v=Dr(),b=ie(A=>LC(A,"xAxis",a,v)),y=ie(A=>LC(A,"yAxis",o,v));if(!ki(u)||!ki(c)||!Z(s)||!Z(l))return null;var x=i.verticalCoordinatesGenerator||hue,_=i.horizontalCoordinatesGenerator||pue,{horizontalPoints:k,verticalPoints:T}=i;if((!k||!k.length)&&typeof _=="function"){var I=h&&h.length,j=_({yAxis:y?Ir(Ir({},y),{},{ticks:I?h:y.ticks}):void 0,width:t??u,height:r??c,offset:n},I?!0:d);Tm(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(k=j)}if((!T||!T.length)&&typeof x=="function"){var E=m&&m.length,S=x({xAxis:b?Ir(Ir({},b),{},{ticks:E?m:b.ticks}):void 0,width:t??u,height:r??c,offset:n},E?!0:d);Tm(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(T=S)}return g.createElement(nn,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(lue,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(due,as({},i,{horizontalPoints:k})),g.createElement(fue,as({},i,{verticalPoints:T})),g.createElement(uue,as({},i,{offset:n,horizontalPoints:k,xAxis:b,yAxis:y})),g.createElement(cue,as({},i,{offset:n,verticalPoints:T,xAxis:b,yAxis:y}))))}tg.displayName="CartesianGrid";var gue={},b$=rn({name:"errorBars",initialState:gue,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:qpe,replaceErrorBar:Gpe,removeErrorBar:Ype}=b$.actions,vue=b$.reducer,yue=["children"];function xue(e,t){if(e==null)return{};var r,n,i=bue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},_ue=g.createContext(wue);function Eue(e){var{children:t}=e,r=xue(e,yue);return g.createElement(_ue.Provider,{value:r},t)}function Rk(e,t){var r,n,i=ie(u=>ka(u,e)),a=ie(u=>Sa(u,t)),o=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Jt.allowDataOverflow,s=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Zt.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function w$(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=Ok(),{needClipX:a,needClipY:o,needClip:s}=Rk(t,r);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:a?l:l-c/2,y:o?u:u-d/2,width:a?c:c*2,height:o?d:d*2}))}function kue(e){var t=Is(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,o=Number(i),s=Number(a);return(Number.isNaN(o)||o<0)&&(o=r),(Number.isNaN(s)||s<0)&&(s=n),{r:o,strokeWidth:s}}return{r,strokeWidth:n}}var Sue={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jf=g;function Pue(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tue=typeof Object.is=="function"?Object.is:Pue,Aue=jf.useSyncExternalStore,Iue=jf.useRef,Cue=jf.useEffect,Oue=jf.useMemo,Nue=jf.useDebugValue;Sue.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Iue(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Oue(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return d=v}return d=m}if(v=d,Tue(c,m))return v;var b=n(m);return i!==void 0&&i(v,b)?(c=m,v):(c=m,d=b)}var u=!1,c,d,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,i]);var s=Aue(e,a[0],a[1]);return Cue(function(){o.hasValue=!0,o.value=s},[s]),Nue(s),s};function jue(e){e()}function Due(){let e=null,t=null;return{clear(){e=null,t=null},notify(){jue(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $O={notify(){},get:()=>[]};function Rue(e,t){let r,n=$O,i=0,a=!1;function o(b){c();const y=n.subscribe(b);let x=!1;return()=>{x||(x=!0,y(),d())}}function s(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=Due())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=$O)}function h(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var Mue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lue=Mue(),Vue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$ue=Vue(),Fue=()=>Lue||$ue?g.useLayoutEffect:g.useEffect,zue=Fue();function FO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Uue(e,t){if(FO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!FO(e[r[i]],t[r[i]]))return!1;return!0}var M0=Symbol.for("react-redux-context"),L0=typeof globalThis<"u"?globalThis:{};function Bue(){if(!g.createContext)return{};const e=L0[M0]??(L0[M0]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Wue=Bue();function Kue(e){const{children:t,context:r,serverState:n,store:i}=e,a=g.useMemo(()=>{const l=Rue(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),o=g.useMemo(()=>i.getState(),[i]);zue(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,o]);const s=r||Wue;return g.createElement(s.Provider,{value:a},t)}var Hue=Kue,que=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Gue(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function cy(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(que.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Uue(e[n],t[n]))return!1}else if(!Gue(e[n],t[n]))return!1;return!0}function Pi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:h$}function Ti(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:h$}var _$=(e,t,r)=>wo(e,"xAxis",Pi(e,t),r),E$=(e,t,r)=>bo(e,"xAxis",Pi(e,t),r),k$=(e,t,r)=>wo(e,"yAxis",Ti(e,t),r),S$=(e,t,r)=>bo(e,"yAxis",Ti(e,t),r),Yue=V([Ie,_$,k$,E$,S$],(e,t,r,n,i)=>xa(e,"xAxis")?fu(t,n,!1):fu(r,i,!1)),Que=(e,t)=>t,P$=V([Bv,Que],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),T$=e=>{var t=Ie(e),r=xa(t,"xAxis");return r?"yAxis":"xAxis"},Xue=(e,t)=>{var r=T$(e);return r==="yAxis"?Ti(e,t):Pi(e,t)},Jue=(e,t,r)=>qm(e,T$(e),Xue(e,t),r),Zue=V([P$,Jue],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=$v(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,o=a==null?void 0:a.find(s=>s.key===i);if(o!=null)return o.map(s=>[s[0],s[1]])}}}),ece=V([Ie,_$,k$,E$,S$,Zue,h3,Yue,P$,rre],(e,t,r,n,i,a,o,s,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:h}=o;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{data:m}=l,v;if(m&&m.length>0?v=m:v=c==null?void 0:c.slice(d,h+1),v!=null)return xce({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:v,chartBaseValue:u,bandSize:s})}}),tce=["id"],rce=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(null,arguments)}function A$(e,t){if(e==null)return{};var r,n,i=nce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){ice(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ice(e,t,r){return(t=ace(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ace(e){var t=oce(e,"string");return typeof t=="symbol"?t:t+""}function oce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rg(e,t){return e&&e!=="none"?e:t}var sce=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:o}=e;return[{inactive:o,dataKey:t,type:a,color:rg(n,i),value:Iu(r,t),payload:e}]},lce=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Iu(o,t),hide:s,type:u,color:rg(n,a),unit:l,graphicalItemId:c}};return g.createElement(Ik,{tooltipEntrySettings:d})});function uce(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:o}=n,s=tn(n);return g.createElement(Hse,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:o,baseProps:s,needClip:i,clipPathId:t})}function cce(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var o,s,l={x:(o=a.x)!==null&&o!==void 0?o:0,y:(s=a.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Pl(Pl({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return g.createElement(JV,{value:t?i:void 0},r)}function UO(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:o,type:s,stroke:l,connectNulls:u,isRange:c}=a,{id:d}=a,h=A$(a,tce),m=tn(h),v=zr(h);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Ot,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},g.createElement(Ul,hs({},v,{id:d,points:t,connectNulls:u,type:s,baseLine:r,layout:o,stroke:"none",className:"recharts-area-area"})),l!=="none"&&g.createElement(Ul,hs({},m,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&g.createElement(Ul,hs({},m,{className:"recharts-area-curve",layout:o,type:s,connectNulls:u,fill:"none",points:r}))),g.createElement(uce,{points:t,props:h,clipPathId:i}))}function dce(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:o}=e,s=(t=a[0])===null||t===void 0?void 0:t.y,l=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!qe(s)||!qe(l))return null;var u=n*Math.abs(s-l),c=Math.max(...a.map(d=>d.x||0));return Z(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.x||0),c)),Z(c)?g.createElement("rect",{x:0,y:s<l?s:s-u,width:c+(o?parseInt("".concat(o),10):1),height:Math.floor(u)}):null}function fce(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:o}=e,s=(t=a[0])===null||t===void 0?void 0:t.x,l=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!qe(s)||!qe(l))return null;var u=n*Math.abs(s-l),c=Math.max(...a.map(d=>d.y||0));return Z(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.y||0),c)),Z(c)?g.createElement("rect",{x:s<l?s:s-u,y:0,width:u,height:Math.floor(c+(o?parseInt("".concat(o),10):1))}):null}function hce(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?g.createElement(dce,{alpha:t,points:n,baseLine:i,strokeWidth:a}):g.createElement(fce,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function pce(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:o,baseLine:s,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:h,onAnimationEnd:m}=n,v=g.useMemo(()=>({points:o,baseLine:s}),[o,s]),b=xf(v,"recharts-area-"),y=EX(),[x,_]=g.useState(!1),k=!x,T=g.useCallback(()=>{typeof m=="function"&&m(),_(!1)},[m]),I=g.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);if(y==null)return null;var j=i.current,E=a.current;return g.createElement(cce,{showLabels:k,points:o},n.children,g.createElement(yf,{animationId:b,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:T,onAnimationStart:I,key:b},S=>{if(j){var A=j.length/o.length,C=S===1?o:o.map((O,D)=>{var F=Math.floor(D*A);if(j[F]){var G=j[F];return Pl(Pl({},O),{},{x:tt(G.x,O.x,S),y:tt(G.y,O.y,S)})}return O}),N;return Z(s)?N=tt(E,s,S):gt(s)||Mn(s)?N=tt(E,0,S):N=s.map((O,D)=>{var F=Math.floor(D*A);if(Array.isArray(E)&&E[F]){var G=E[F];return Pl(Pl({},O),{},{x:tt(G.x,O.x,S),y:tt(G.y,O.y,S)})}return O}),S>0&&(i.current=C,a.current=N),g.createElement(UO,{points:C,baseLine:N,needClip:t,clipPathId:r,props:n})}return S>0&&(i.current=o,a.current=s),g.createElement(Ot,null,l&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(hce,{alpha:S,points:o,baseLine:s,layout:y,strokeWidth:n.strokeWidth}))),g.createElement(Ot,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(UO,{points:o,baseLine:s,needClip:t,clipPathId:r,props:n})))}),g.createElement(bk,{label:n.label}))}function mce(e){var{needClip:t,clipPathId:r,props:n}=e,i=g.useRef(null),a=g.useRef();return g.createElement(pce,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class gce extends g.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:o,needClip:s,xAxisId:l,yAxisId:u,width:c,height:d,id:h,baseLine:m,zIndex:v}=this.props;if(t)return null;var b=Te("recharts-area",i),y=h,{r:x,strokeWidth:_}=kue(r),k=s$(r),T=x*2+_,I=s?"url(#clipPath-".concat(k?"":"dots-").concat(y,")"):void 0;return g.createElement(nn,{zIndex:v},g.createElement(Ot,{className:b},s&&g.createElement("defs",null,g.createElement(w$,{clipPathId:y,xAxisId:l,yAxisId:u}),!k&&g.createElement("clipPath",{id:"clipPath-dots-".concat(y)},g.createElement("rect",{x:o-T/2,y:a-T/2,width:c+T,height:d+T}))),g.createElement(mce,{needClip:s,clipPathId:y,props:this.props})),g.createElement(NO,{points:n,mainColor:rg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(m)&&g.createElement(NO,{points:m,mainColor:rg(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var I$={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Vt.area};function vce(e){var t,r=Ft(e,I$),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:h,legendType:m,stroke:v,xAxisId:b,yAxisId:y}=r,x=A$(r,rce),_=Ks(),k=IV(),{needClip:T}=Rk(b,y),I=Dr(),{points:j,isRange:E,baseLine:S}=(t=ie(F=>ece(F,e.id,I)))!==null&&t!==void 0?t:{},A=Ok();if(_!=="horizontal"&&_!=="vertical"||A==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:C,width:N,x:O,y:D}=A;return!j||!j.length?null:g.createElement(gce,hs({},x,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:o,baseLine:S,connectNulls:s,dot:l,fill:u,fillOpacity:c,height:C,hide:d,layout:_,isAnimationActive:h==="auto"?!vf.isSsr:h,isRange:E,legendType:m,needClip:T,points:j,stroke:v,width:N,left:O,top:D,xAxisId:b,yAxisId:y}))}var yce=(e,t,r,n,i)=>{var a=r??t;if(Z(a))return a;var o=e==="horizontal"?i:n,s=o.scale.domain();if(o.type==="number"){var l=Math.max(s[0],s[1]),u=Math.min(s[0],s[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(s[0],s[1]),0)}return a==="dataMin"?s[0]:a==="dataMax"?s[1]:s[0]};function xce(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:o,xAxis:s,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:h,bandSize:m}=e,v=i&&i.length,b=yce(a,o,r,s,l),y=a==="horizontal",x=!1,_=u.map((T,I)=>{var j,E,S;if(v)S=i[c+I];else{var A=We(T,n);Array.isArray(A)?(S=A,x=!0):S=[b,A]}var C=(j=(E=S)===null||E===void 0?void 0:E[1])!==null&&j!==void 0?j:null,N=C==null||v&&!t&&We(T,n)==null;return y?{x:qA({axis:s,ticks:d,bandSize:m,entry:T,index:I}),y:N?null:l.scale(C),value:S,payload:T}:{x:N?null:s.scale(C),y:qA({axis:l,ticks:h,bandSize:m,entry:T,index:I}),value:S,payload:T}}),k;return v||x?k=_.map(T=>{var I=Array.isArray(T.value)?T.value[0]:null;return y?{x:T.x,y:I!=null&&T.y!=null?l.scale(I):null,payload:T.payload}:{x:I!=null?s.scale(I):null,y:T.y,payload:T.payload}}):k=y?l.scale(b):s.scale(b),{points:_,baseLine:k,isRange:x}}function bce(e){var t=Ft(e,I$),r=Dr();return g.createElement(Ck,{id:t.id,type:"area"},n=>g.createElement(g.Fragment,null,g.createElement(c$,{legendPayload:sce(t)}),g.createElement(lce,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),g.createElement(f$,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:QL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(vce,hs({},t,{id:n}))))}var uw=g.memo(bce,cy);uw.displayName="Area";var wce="Invariant failed";function _ce(e,t){throw new Error(wce)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(null,arguments)}function ng(e){return g.createElement(u$,cw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Ece=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Z(t))return t;var a=Z(n)||gt(n);return a?t(n,i):(a||_ce(),r)}},kce=(e,t,r)=>r,Sce=(e,t)=>t,Df=V([Bv,Sce],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Pce=V([Df],e=>e==null?void 0:e.maxBarSize),Tce=(e,t,r,n)=>n,Ace=V([Ie,Bv,Pi,Ti,kce],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),Ice=(e,t,r)=>{var n=Ie(e),i=Pi(e,t),a=Ti(e,t);if(!(i==null||a==null))return n==="horizontal"?qm(e,"yAxis",a,r):qm(e,"xAxis",i,r)},Cce=(e,t)=>{var r=Ie(e),n=Pi(e,t),i=Ti(e,t);if(!(n==null||i==null))return r==="horizontal"?MC(e,"xAxis",n):MC(e,"yAxis",i)},Oce=V([Ace,tre,Cce],fle),Nce=(e,t,r)=>{var n,i,a=Df(e,t);if(a!=null){var o=Pi(e,t),s=Ti(e,t);if(!(o==null||s==null)){var l=Ie(e),u=A3(e),{maxBarSize:c}=a,d=gt(c)?u:c,h,m;return l==="horizontal"?(h=wo(e,"xAxis",o,r),m=bo(e,"xAxis",o,r)):(h=wo(e,"yAxis",s,r),m=bo(e,"yAxis",s,r)),(n=(i=fu(h,m,!0))!==null&&i!==void 0?i:d)!==null&&n!==void 0?n:0}}},C$=(e,t,r)=>{var n=Ie(e),i=Pi(e,t),a=Ti(e,t);if(!(i==null||a==null)){var o,s;return n==="horizontal"?(o=wo(e,"xAxis",i,r),s=bo(e,"xAxis",i,r)):(o=wo(e,"yAxis",a,r),s=bo(e,"yAxis",a,r)),fu(o,s)}},jce=V([Oce,A3,ere,I3,Nce,C$,Pce],vle),Dce=(e,t,r)=>{var n=Pi(e,t);if(n!=null)return wo(e,"xAxis",n,r)},Rce=(e,t,r)=>{var n=Ti(e,t);if(n!=null)return wo(e,"yAxis",n,r)},Mce=(e,t,r)=>{var n=Pi(e,t);if(n!=null)return bo(e,"xAxis",n,r)},Lce=(e,t,r)=>{var n=Ti(e,t);if(n!=null)return bo(e,"yAxis",n,r)},Vce=V([jce,Df],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),$ce=V([Ice,Df],yle),Fce=V([Ht,nE,Dce,Rce,Mce,Lce,Vce,Ie,h3,C$,$ce,Df,Tce],(e,t,r,n,i,a,o,s,l,u,c,d,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:b}=l;if(!(d==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:y}=d,x;if(y!=null&&y.length>0?x=y:x=m==null?void 0:m.slice(v,b+1),x!=null)return mde({layout:s,barSettings:d,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:x,offset:e,cells:h,dataStartIndex:v})}}),zce=["index"];function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(null,arguments)}function Uce(e,t){if(e==null)return{};var r,n,i=Bce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var O$=g.createContext(void 0),Wce=e=>{var t=g.useContext(O$);if(t!=null)return t.stackId;if(e!=null)return QL(e)},Kce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Hce=e=>{var t=g.useContext(O$);if(t!=null){var{stackId:r}=t;return"url(#".concat(Kce(r,e),")")}},qce=e=>{var{index:t}=e,r=Uce(e,zce),n=Hce(t);return g.createElement(Ot,dw({className:"recharts-bar-stack-layer",clipPath:n},r))},Gce=["onMouseEnter","onMouseLeave","onClick"],Yce=["value","background","tooltipPosition"],Qce=["id"],Xce=["onMouseEnter","onClick","onMouseLeave"];function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(null,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){Jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jce(e,t,r){return(t=Zce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zce(e){var t=ede(e,"string");return typeof t=="symbol"?t:t+""}function ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ig(e,t){if(e==null)return{};var r,n,i=tde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rde=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Iu(r,t),payload:e}]},nde=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:o,unit:s,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Iu(a,t),hide:o,type:l,color:i,unit:s,graphicalItemId:u}};return g.createElement(Ik,{tooltipEntrySettings:c})});function ide(e){var t=ie(_o),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:o,onMouseLeave:s,onClick:l}=a,u=ig(a,Gce),c=Pk(o,n,a.id),d=Tk(s),h=Ak(l,n,a.id);if(!i||r==null)return null;var m=Is(i);return g.createElement(nn,{zIndex:xle(i,Vt.barBackground)},r.map((v,b)=>{var{value:y,background:x,tooltipPosition:_}=v,k=ig(v,Yce);if(!x)return null;var T=c(v,b),I=d(v,b),j=h(v,b),E=Vr(Vr(Vr(Vr(Vr({option:i,isActive:String(b)===t},k),{},{fill:"#eee"},x),m),df(u,v,b)),{},{onMouseEnter:T,onMouseLeave:I,onClick:j,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return g.createElement(ng,fa({key:"background-bar-".concat(b)},E))}))}function ade(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var o={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Vr(Vr({},o),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:o,fill:a.fill})});return g.createElement(JV,{value:t?i:void 0},r)}function ode(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:o}=e,s=ie(_o),l=ie(hk),u=r&&String(a)===s&&(l==null||o===l),c=u?r:t;return u?g.createElement(nn,{zIndex:Vt.activeBar},g.createElement(ng,fa({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))):g.createElement(ng,fa({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:o}))}function sde(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return g.createElement(ng,fa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function lde(e){var t,{data:r,props:n}=e,i=(t=tn(n))!==null&&t!==void 0?t:{},{id:a}=i,o=ig(i,Qce),{shape:s,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:h}=n,m=ig(n,Xce),v=Pk(c,l,a),b=Tk(h),y=Ak(d,l,a);return r?g.createElement(g.Fragment,null,r.map((x,_)=>g.createElement(qce,fa({index:_,key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(_),className:"recharts-bar-rectangle"},df(m,x,_),{onMouseEnter:v(x,_),onMouseLeave:b(x,_),onClick:y(x,_)}),u?g.createElement(ode,{shape:s,activeBar:u,baseProps:o,entry:x,index:_,dataKey:l}):g.createElement(sde,{shape:s,baseProps:o,entry:x,index:_,dataKey:l})))):null}function ude(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,h=xf(t,"recharts-bar-"),[m,v]=g.useState(!1),b=!m,y=g.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),x=g.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return g.createElement(ade,{showLabels:b,rects:n},g.createElement(yf,{animationId:h,begin:o,duration:s,isActive:a,easing:l,onAnimationEnd:y,onAnimationStart:x,key:h},_=>{var k=_===1?n:n==null?void 0:n.map((T,I)=>{var j=d&&d[I];if(j)return Vr(Vr({},T),{},{x:tt(j.x,T.x,_),y:tt(j.y,T.y,_),width:tt(j.width,T.width,_),height:tt(j.height,T.height,_)});if(i==="horizontal"){var E=tt(0,T.height,_),S=tt(T.stackedBarStart,T.y,_);return Vr(Vr({},T),{},{y:S,height:E})}var A=tt(0,T.width,_),C=tt(T.stackedBarStart,T.x,_);return Vr(Vr({},T),{},{width:A,x:C})});return _>0&&(r.current=k??null),k==null?null:g.createElement(Ot,null,g.createElement(lde,{props:t,data:k}))}),g.createElement(bk,{label:t.label}),t.children)}function cde(e){var t=g.useRef(null);return g.createElement(ude,{previousRectanglesRef:t,props:e})}var N$=0,dde=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:We(e,t)}};class fde extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:o,needClip:s,background:l,id:u}=this.props;if(t||r==null)return null;var c=Te("recharts-bar",i),d=u;return g.createElement(Ot,{className:c,id:u},s&&g.createElement("defs",null,g.createElement(w$,{clipPathId:d,xAxisId:a,yAxisId:o})),g.createElement(Ot,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(d,")"):void 0},g.createElement(ide,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),g.createElement(cde,this.props)))}}var hde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:N$,xAxisId:0,yAxisId:0,zIndex:Vt.bar};function pde(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=Rk(t,r),h=Ks(),m=Dr(),v=Sk(e.children,Gs),b=ie(_=>Fce(_,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var y,x=b==null?void 0:b[0];return x==null||x.height==null||x.width==null?y=0:y=h==="vertical"?x.height/2:x.width/2,g.createElement(Eue,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:dde,errorBarOffset:y},g.createElement(fde,fa({},e,{layout:h,needClip:d,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:o,animationBegin:s,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function mde(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:o,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:h,cells:m,parentViewBox:v,dataStartIndex:b}=e,y=t==="horizontal"?s:o,x=c?y.scale.domain():null,_=KQ({numericAxis:y}),k=y.scale(_);return d.map((T,I)=>{var j,E,S,A,C,N;if(c){var O=c[I+b];if(O==null)return null;j=FQ(O,x)}else j=We(T,r),Array.isArray(j)||(j=[_,j]);var D=Ece(n,N$)(j[1],I);if(t==="horizontal"){var F,[G,M]=[s.scale(j[0]),s.scale(j[1])];E=GA({axis:o,ticks:l,bandSize:a,offset:i.offset,entry:T,index:I}),S=(F=M??G)!==null&&F!==void 0?F:void 0,A=i.size;var H=G-M;if(C=Mn(H)?0:H,N={x:E,y:h.top,width:A,height:h.height},Math.abs(D)>0&&Math.abs(C)<Math.abs(D)){var $=ir(C||D)*(Math.abs(D)-Math.abs(C));S-=$,C+=$}}else{var[B,X]=[o.scale(j[0]),o.scale(j[1])];if(E=B,S=GA({axis:s,ticks:u,bandSize:a,offset:i.offset,entry:T,index:I}),A=X-B,C=i.size,N={x:h.left,y:S,width:h.width,height:C},Math.abs(D)>0&&Math.abs(A)<Math.abs(D)){var oe=ir(A||D)*(Math.abs(D)-Math.abs(A));A+=oe}}if(E==null||S==null||A==null||C==null)return null;var ne=Vr(Vr({},T),{},{stackedBarStart:k,x:E,y:S,width:A,height:C,value:c?j:j[1],payload:T,background:N,tooltipPosition:{x:E+A/2,y:S+C/2},parentViewBox:v},m&&m[I]&&m[I].props);return ne}).filter(Boolean)}function gde(e){var t=Ft(e,hde),r=Wce(t.stackId),n=Dr();return g.createElement(Ck,{id:t.id,type:"bar"},i=>g.createElement(g.Fragment,null,g.createElement(c$,{legendPayload:rde(t)}),g.createElement(nde,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),g.createElement(f$,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(nn,{zIndex:t.zIndex},g.createElement(pde,fa({},t,{id:i})))))}var Kl=g.memo(gde,cy);Kl.displayName="Bar";var vde=["domain","range"],yde=["domain","range"];function WO(e,t){if(e==null)return{};var r,n,i=xde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function j$(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=WO(e,vde),{domain:a,range:o}=t,s=WO(t,yde);return!KO(r,a)||!KO(n,o)?!1:cy(i,s)}var bde=["dangerouslySetInnerHTML","ticks","scale"],wde=["id","scale"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(null,arguments)}function HO(e,t){if(e==null)return{};var r,n,i=_de(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _de(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ede(e){var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(Xse(e)):r.current!==e&&t(Jse({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(Zse(r.current)),r.current=null)},[t]),null}var kde=e=>{var{xAxisId:t,className:r}=e,n=ie(nE),i=Dr(),a="xAxis",o=ie(x=>sV(x,a,t,i)),s=ie(x=>nV(x,t)),l=ie(x=>Zre(x,t)),u=ie(x=>V3(x,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,m=HO(e,bde),{id:v,scale:b}=u,y=HO(u,wde);return g.createElement(Dk,fw({},m,y,{x:l.x,y:l.y,width:s.width,height:s.height,className:Te("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},Sde={allowDataOverflow:Jt.allowDataOverflow,allowDecimals:Jt.allowDecimals,allowDuplicatedCategory:Jt.allowDuplicatedCategory,angle:Jt.angle,axisLine:Yi.axisLine,height:Jt.height,hide:!1,includeHidden:Jt.includeHidden,interval:Jt.interval,minTickGap:Jt.minTickGap,mirror:Jt.mirror,orientation:Jt.orientation,padding:Jt.padding,reversed:Jt.reversed,scale:Jt.scale,tick:Jt.tick,tickCount:Jt.tickCount,tickLine:Yi.tickLine,tickSize:Yi.tickSize,type:Jt.type,xAxisId:0},Pde=e=>{var t=Ft(e,Sde);return g.createElement(g.Fragment,null,g.createElement(Ede,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(kde,t))},ag=g.memo(Pde,j$);ag.displayName="XAxis";var Tde=["dangerouslySetInnerHTML","ticks","scale"],Ade=["id","scale"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(null,arguments)}function qO(e,t){if(e==null)return{};var r,n,i=Ide(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ide(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cde(e){var t=Xe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(ele(e)):r.current!==e&&t(tle({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(rle(r.current)),r.current=null)},[t]),null}var Ode=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=g.useRef(null),o=g.useRef(null),s=ie(nE),l=Dr(),u=Xe(),c="yAxis",d=ie(j=>iV(j,t)),h=ie(j=>tne(j,t)),m=ie(j=>sV(j,c,t,l)),v=ie(j=>$3(j,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!d||xk(i)||g.isValidElement(i)||v==null)){var j=a.current;if(j){var E=j.getCalculatedWidth();Math.round(d.width)!==Math.round(E)&&u(nle({id:t,width:E}))}}},[m,d,u,i,t,n,v]),d==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:b,ticks:y,scale:x}=e,_=qO(e,Tde),{id:k,scale:T}=v,I=qO(v,Ade);return g.createElement(Dk,hw({},_,I,{ref:a,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:Te("recharts-".concat(c," ").concat(c),r),viewBox:s,ticks:m,axisType:c}))},Nde={allowDataOverflow:Zt.allowDataOverflow,allowDecimals:Zt.allowDecimals,allowDuplicatedCategory:Zt.allowDuplicatedCategory,angle:Zt.angle,axisLine:Yi.axisLine,hide:!1,includeHidden:Zt.includeHidden,interval:Zt.interval,minTickGap:Zt.minTickGap,mirror:Zt.mirror,orientation:Zt.orientation,padding:Zt.padding,reversed:Zt.reversed,scale:Zt.scale,tick:Zt.tick,tickCount:Zt.tickCount,tickLine:Yi.tickLine,tickSize:Yi.tickSize,type:Zt.type,width:Zt.width,yAxisId:0},jde=e=>{var t=Ft(e,Nde);return g.createElement(g.Fragment,null,g.createElement(Cde,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(Ode,t))},og=g.memo(jde,j$);og.displayName="YAxis";var Dde=(e,t)=>t,Mk=V([Dde,Ie,M3,Gt,EV,Pa,gie,Ht],Eie),Lk=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},D$=Ln("mouseClick"),R$=pf();R$.startListening({actionCreator:D$,effect:(e,t)=>{var r=e.payload,n=Mk(t.getState(),Lk(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(mne({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var pw=Ln("mouseMove"),M$=pf(),Uh=null;M$.startListening({actionCreator:pw,effect:(e,t)=>{var r=e.payload;Uh!==null&&cancelAnimationFrame(Uh);var n=Lk(r);Uh=requestAnimationFrame(()=>{var i=t.getState(),a=sk(i,i.tooltip.settings.shared);if(a==="axis"){var o=Mk(i,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(mV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(pV())}Uh=null})}});function Rde(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var GO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},L$=rn({name:"rootProps",initialState:GO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:GO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Mde=L$.reducer,{updateOptions:Lde}=L$.actions,V$=rn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Vde}=V$.actions,$de=V$.reducer,$$=Ln("keyDown"),F$=Ln("focus"),Vk=pf();Vk.startListening({actionCreator:$$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=lk(i,Vu(r),Af(r),Of(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Pa(r);if(a==="Enter"){var u=Ym(r,"axis","hover",String(i.index));t.dispatch(nw({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=ane(r),d=c==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=s+h*d;if(!(l==null||m>=l.length||m<0)){var v=Ym(r,"axis","hover",String(m));t.dispatch(nw({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});Vk.startListening({actionCreator:F$,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",o=Ym(r,"axis","hover",String(a));t.dispatch(nw({active:!0,activeIndex:a,activeCoordinate:o}))}}}});var Sn=Ln("externalEvent"),z$=pf(),V0=new Map;z$.startListening({actionCreator:Sn,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=V0.get(i);a!==void 0&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:tie(s),activeDataKey:hk(s),activeIndex:_o(s),activeLabel:PV(s),activeTooltipIndex:_o(s),isTooltipActive:rie(s)};r(l,n)}finally{V0.delete(i)}});V0.set(i,o)}}});var Fde=V([Mu],e=>e.tooltipItemPayloads),zde=V([Fde,Cf,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(s=>s.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var o=t(a,r);return o}}}),U$=Ln("touchMove"),B$=pf();B$.startListening({actionCreator:U$,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=sk(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var o=Mk(n,Lk({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(mV({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(JL),d=(s=u.getAttribute(ZL))!==null&&s!==void 0?s:void 0,h=Lu(n).find(b=>b.id===d);if(c==null||h==null||d==null)return;var{dataKey:m}=h,v=zde(n,c,d);t.dispatch(hV({activeDataKey:m,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:d}))}}}});var Ude=xL({brush:ble,cartesianAxis:ile,chartData:Zie,errorBars:vue,graphicalItems:cse,layout:DQ,legend:VX,options:Gie,polarAxis:Poe,polarOptions:$de,referenceElements:Tle,rootProps:Mde,tooltip:gne,zIndex:Lie}),Bde=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aQ({reducer:Ude,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([R$.middleware,M$.middleware,Vk.middleware,z$.middleware,B$.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(DL({type:"raf"}))},devTools:{serialize:{replacer:Rde},name:"recharts-".concat(r)}})};function W$(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Dr(),a=g.useRef(null);if(i)return r;a.current==null&&(a.current=Bde(t,n));var o=H1;return g.createElement(Hue,{context:o,store:a.current},r)}function Wde(e){var{layout:t,margin:r}=e,n=Xe(),i=Dr();return g.useEffect(()=>{i||(n(OQ(t)),n(CQ(r)))},[n,i,t,r]),null}var K$=g.memo(Wde,cy);function H$(e){var t=Xe();return g.useEffect(()=>{t(Lde(e))},[t,e]),null}function YO(e){var{zIndex:t,isPanorama:r}=e,n=g.useRef(null),i=Xe();return g.useLayoutEffect(()=>(n.current&&i(Rie({zIndex:t,element:n.current,isPanorama:r})),()=>{i(Mie({zIndex:t,isPanorama:r}))}),[i,t,r]),g.createElement("g",{tabIndex:-1,ref:n})}function QO(e){var{children:t,isPanorama:r}=e,n=ie(Sie);if(!n||n.length===0)return t;var i=n.filter(o=>o<0),a=n.filter(o=>o>0);return g.createElement(g.Fragment,null,i.map(o=>g.createElement(YO,{key:o,zIndex:o,isPanorama:r})),t,a.map(o=>g.createElement(YO,{key:o,zIndex:o,isPanorama:r})))}var Kde=["children"];function Hde(e,t){if(e==null)return{};var r,n,i=qde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sg.apply(null,arguments)}var Gde={width:"100%",height:"100%",display:"block"},Yde=g.forwardRef((e,t)=>{var r=aE(),n=oE(),i=y4();if(!ki(r)||!ki(n))return null;var{children:a,otherAttributes:o,title:s,desc:l}=e,u,c;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=i?0:void 0,typeof o.role=="string"?c=o.role:c=i?"application":void 0),g.createElement(C1,sg({},o,{title:s,desc:l,role:c,tabIndex:u,width:r,height:n,style:Gde,ref:t}),a)}),Qde=e=>{var{children:t}=e,r=ie(kv);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return g.createElement(C1,{width:n,height:i,x:o,y:a},t)},XO=g.forwardRef((e,t)=>{var{children:r}=e,n=Hde(e,Kde),i=Dr();return i?g.createElement(Qde,null,g.createElement(QO,{isPanorama:!0},r)):g.createElement(Yde,sg({ref:t},n),g.createElement(QO,{isPanorama:!1},r))});function Xde(){var e=Xe(),[t,r]=g.useState(null),n=ie(XQ);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;qe(a)&&a!==n&&e(jQ(a))}},[t,e,n]),r}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){Zde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zde(e,t,r){return(t=efe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function efe(e){var t=tfe(e,"string");return typeof t=="symbol"?t:t+""}function tfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ls(){return Ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ls.apply(null,arguments)}var rfe=()=>(lae(),null);function lg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nfe=g.forwardRef((e,t)=>{var r,n,i=g.useRef(null),[a,o]=g.useState({containerWidth:lg((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:lg((n=e.style)===null||n===void 0?void 0:n.height)}),s=g.useCallback((u,c)=>{o(d=>{var h=Math.round(u),m=Math.round(c);return d.containerWidth===h&&d.containerHeight===m?d:{containerWidth:h,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();s(c,d);var h=v=>{var{width:b,height:y}=v[0].contentRect;s(b,y)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,s]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(Pv,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Ls({ref:l},e)))}),ife=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=g.useState({containerWidth:lg(r),containerHeight:lg(n)}),o=g.useCallback((l,u)=>{a(c=>{var d=Math.round(l),h=Math.round(u);return c.containerWidth===d&&c.containerHeight===h?c:{containerWidth:d,containerHeight:h}})},[]),s=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();o(u,c)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Pv,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",Ls({ref:s},e)))}),afe=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(Pv,{width:r,height:n}),g.createElement("div",Ls({ref:t},e)))}),ofe=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return oa(r)||oa(n)?g.createElement(ife,Ls({},e,{ref:t})):g.createElement(afe,Ls({},e,{ref:t}))});function sfe(e){return e===!0?nfe:ofe}var lfe=g.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:b,style:y,width:x,responsive:_,dispatchTouchEvents:k=!0}=e,T=g.useRef(null),I=Xe(),[j,E]=g.useState(null),[S,A]=g.useState(null),C=Xde(),N=iE(),O=(N==null?void 0:N.width)>0?N.width:x,D=(N==null?void 0:N.height)>0?N.height:i,F=g.useCallback(K=>{C(K),typeof t=="function"&&t(K),E(K),A(K),K!=null&&(T.current=K)},[C,t,E,A]),G=g.useCallback(K=>{I(D$(K)),I(Sn({handler:a,reactEvent:K}))},[I,a]),M=g.useCallback(K=>{I(pw(K)),I(Sn({handler:u,reactEvent:K}))},[I,u]),H=g.useCallback(K=>{I(pV()),I(Sn({handler:c,reactEvent:K}))},[I,c]),$=g.useCallback(K=>{I(pw(K)),I(Sn({handler:d,reactEvent:K}))},[I,d]),B=g.useCallback(()=>{I(F$())},[I]),X=g.useCallback(K=>{I($$(K.key))},[I]),oe=g.useCallback(K=>{I(Sn({handler:o,reactEvent:K}))},[I,o]),ne=g.useCallback(K=>{I(Sn({handler:s,reactEvent:K}))},[I,s]),ye=g.useCallback(K=>{I(Sn({handler:l,reactEvent:K}))},[I,l]),Ne=g.useCallback(K=>{I(Sn({handler:h,reactEvent:K}))},[I,h]),ct=g.useCallback(K=>{I(Sn({handler:b,reactEvent:K}))},[I,b]),wt=g.useCallback(K=>{k&&I(U$(K)),I(Sn({handler:v,reactEvent:K}))},[I,k,v]),Se=g.useCallback(K=>{I(Sn({handler:m,reactEvent:K}))},[I,m]),an=sfe(_);return g.createElement(DV.Provider,{value:j},g.createElement(xM.Provider,{value:S},g.createElement(an,{width:O??(y==null?void 0:y.width),height:D??(y==null?void 0:y.height),className:Te("recharts-wrapper",n),style:Jde({position:"relative",cursor:"default",width:O,height:D},y),onClick:G,onContextMenu:oe,onDoubleClick:ne,onFocus:B,onKeyDown:X,onMouseDown:ye,onMouseEnter:M,onMouseLeave:H,onMouseMove:$,onMouseUp:Ne,onTouchEnd:Se,onTouchMove:wt,onTouchStart:ct,ref:F},g.createElement(rfe,null),r)))}),ufe=["width","height","responsive","children","className","style","compact","title","desc"];function cfe(e,t){if(e==null)return{};var r,n,i=dfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q$=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:u,desc:c}=e,d=cfe(e,ufe),h=tn(d);return l?g.createElement(g.Fragment,null,g.createElement(Pv,{width:r,height:n}),g.createElement(XO,{otherAttributes:h,title:u,desc:c},a)):g.createElement(lfe,{className:o,style:s,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(XO,{otherAttributes:h,title:u,desc:c,ref:t},g.createElement(Ile,null,a)))});function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(null,arguments)}var ffe={top:5,right:5,bottom:5,left:5},hfe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ffe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},G$=g.forwardRef(function(t,r){var n,i=Ft(t.categoricalChartProps,hfe),{chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(W$,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},g.createElement(m$,{chartData:u.data}),g.createElement(K$,{layout:i.layout,margin:i.margin}),g.createElement(H$,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(q$,mw({},i,{ref:r})))}),pfe=["axis","item"],Y$=g.forwardRef((e,t)=>g.createElement(G$,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pfe,tooltipPayloadSearcher:yk,categoricalChartProps:e,ref:t}));function mfe(e){var t=Xe();return g.useEffect(()=>{t(Vde(e))},[t,e]),null}var gfe=["layout"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(null,arguments)}function vfe(e,t){if(e==null)return{};var r,n,i=yfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xfe={top:5,right:5,bottom:5,left:5},Q$={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:xfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bfe=g.forwardRef(function(t,r){var n,i=Ft(t.categoricalChartProps,Q$),{layout:a}=i,o=vfe(i,gfe),{chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:s,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(W$,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:s},g.createElement(m$,{chartData:i.data}),g.createElement(K$,{layout:a,margin:i.margin}),g.createElement(H$,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(mfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(q$,gw({},o,{ref:r})))});function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){wfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wfe(e,t,r){return(t=_fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _fe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kfe=["item"],Sfe=e2(e2({},Q$),{},{layout:"centric",startAngle:0,endAngle:360}),$k=g.forwardRef((e,t)=>{var r=Ft(e,Sfe);return g.createElement(bfe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kfe,tooltipPayloadSearcher:yk,categoricalChartProps:r,ref:t})}),Pfe=["axis"],Tfe=g.forwardRef((e,t)=>g.createElement(G$,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pfe,tooltipPayloadSearcher:yk,categoricalChartProps:e,ref:t}));function Afe({transactions:e,onClose:t,darkMode:r}){const[n,i]=g.useState(new Date().getFullYear()),[a,o]=g.useState(6),s=(()=>{const l=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],u=new Date,d=n===u.getFullYear()?u.getMonth():11;let h=[];for(let m=a-1;m>=0;m--){const v=d-m;if(v<0)continue;const b=`${n}-${String(v+1).padStart(2,"0")}`;h.push({key:b,name:l[v],income:0,expenseCash:0,expenseCard:0})}return e.forEach(m=>{var x;let v=m.date;if(!v&&((x=m.createdAt)!=null&&x.toDate)){const _=m.createdAt.toDate();v=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`}if(!v)return;const b=v.slice(0,7),y=h.find(_=>_.key===b);y&&(m.type==="income"?y.income+=m.amount:m.type==="expense"&&(m.paymentMethod==="credit_card"?y.expenseCard+=m.amount:y.expenseCash+=m.amount))}),h})();return p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-opacity",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(T1,{className:"text-indigo-600 dark:text-indigo-400",size:24}),"Gelir - Gider Trend Analizi"]}),p.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:p.jsx(A1,{size:24})})]}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex gap-4 mb-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Yl"}),p.jsxs("select",{value:n,onChange:l=>i(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:2024,children:"2024"}),p.jsx("option",{value:2025,children:"2025"}),p.jsx("option",{value:2026,children:"2026"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Ay Says"}),p.jsxs("select",{value:a,onChange:l=>o(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:3,children:"Son 3 Ay"}),p.jsx("option",{value:6,children:"Son 6 Ay"}),p.jsx("option",{value:9,children:"Son 9 Ay"}),p.jsx("option",{value:12,children:"Tm Yl"})]})]})]}),p.jsx("div",{className:"h-80 w-full min-w-[300px]",children:p.jsx(zl,{width:"100%",height:"100%",children:p.jsxs(Y$,{data:s,margin:{top:20,right:30,left:20,bottom:5},children:[p.jsx(tg,{strokeDasharray:"3 3",vertical:!1,stroke:r?"#334155":"#e2e8f0"}),p.jsx(ag,{dataKey:"name",stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"}}),p.jsx(og,{stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"},tickFormatter:l=>`${l}`}),p.jsx(Wl,{formatter:l=>l.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:r?"#1e293b":"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",color:r?"#f1f5f9":"#1e293b"}}),p.jsx(uE,{wrapperStyle:{paddingTop:"20px"}}),p.jsx(Kl,{name:"Gelir",dataKey:"income",fill:"#10b981",radius:[4,4,0,0],barSize:32}),p.jsx(Kl,{name:"Gider (Nakit)",dataKey:"expenseCash",stackId:"expense",fill:"#ef4444",radius:[0,0,4,4],barSize:32}),p.jsx(Kl,{name:"Gider (K. Kart)",dataKey:"expenseCard",stackId:"expense",fill:"#f59e0b",radius:[4,4,0,0],barSize:32})]})})})]})]})})}function yu({isOpen:e,onClose:t,title:r,children:n}){return g.useEffect(()=>{const i=a=>{a.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[e,t]),e?p.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-all animate-in fade-in duration-200",children:[p.jsx("div",{className:"absolute inset-0",onClick:t}),p.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl scale-100 animate-in zoom-in-95 duration-200 border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:r}),p.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:p.jsx(A1,{size:20})})]}),p.jsx("div",{className:"p-4",children:n})]})]}):null}const X$="/SpendWise/assets/logo-CCwMLY72.png",ol=["#6366f1","#ec4899","#8b5cf6","#14b8a6","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function Ife({user:e,filterDate:t,setFilterDate:r}){const n=Og(),[i,a]=g.useState([]),[o,s]=g.useState([]),[l,u]=g.useState(!1),[c,d]=g.useState(!1),[h,m]=g.useState(null),[v,b]=g.useState(""),[y,x]=g.useState(""),[_,k]=g.useState("expense"),[T,I]=g.useState(""),[j,E]=g.useState(new Date().toISOString().split("T")[0]),[S,A]=g.useState("cash"),[C,N]=g.useState([]),[O,D]=g.useState(!1),[F,G]=g.useState(["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"]),[M,H]=g.useState(["Maa","Freelance","Yatrm","Ek Gelir","Dier"]),[$,B]=g.useState([]),[X,oe]=g.useState("");g.useEffect(()=>{const z=hn(ht(xe,"user_settings",e.uid),se=>{if(se.exists()){const Ee=se.data();Ee.expenseCategories&&G(Ee.expenseCategories),Ee.incomeCategories&&H(Ee.incomeCategories),Ee.creditCards&&B(Ee.creditCards)}});return()=>z()},[e.uid]),g.useEffect(()=>{const z=en(Tt(xe,"planned_transactions"),Bt("uid","==",e.uid),Bt("isCompleted","==",!1)),se=hn(z,Ee=>{const _e=Ee.docs.map(be=>({id:be.id,...be.data()}));_e.sort((be,Nt)=>new Date(be.date)-new Date(Nt.date)),N(_e)});return()=>se()},[e.uid]);const[ne,ye]=g.useState([]);g.useEffect(()=>{const z=en(Tt(xe,"subscriptions"),Bt("uid","==",e.uid),Bt("status","==","active")),se=hn(z,Ee=>{const _e=Ee.docs.map(ve=>ve.data()),be=new Date;be.setHours(0,0,0,0);const Nt=_e.filter(ve=>{const Ue=ve.billingDay,sr=be.getMonth(),Rr=be.getFullYear();let zn=new Date(Rr,sr,Ue);be.getDate()>Ue&&zn.setMonth(sr+1);const Aa=zn-be,_n=Math.ceil(Aa/(1e3*60*60*24));return _n>=0&&_n<=3}).map(ve=>{const Ue=ve.billingDay,sr=be.getMonth(),Rr=be.getFullYear();let zn=new Date(Rr,sr,Ue);be.getDate()>Ue&&zn.setMonth(sr+1);const Aa=zn-be,_n=Math.ceil(Aa/(1e3*60*60*24));return{...ve,daysLeft:_n}});ye(Nt)});return()=>se()},[e.uid]);const Ne=async z=>{confirm(`${z.title} demesini tamamland olarak iaretlemek istiyor musunuz?`)&&(await lu(Tt(xe,"transactions"),{uid:e.uid,title:z.title,amount:z.amount,type:"expense",category:z.category,paymentMethod:z.paymentMethod||"cash",date:z.date,createdAt:Ts()}),await Wa(ht(xe,"planned_transactions",z.id),{isCompleted:!0}))},ct=z=>{const se=new Date;se.setHours(0,0,0,0);const Ee=new Date(z);Ee.setHours(0,0,0,0);const _e=Math.ceil((Ee-se)/(1e3*60*60*24));return _e<0?p.jsxs("span",{className:"text-red-500 font-bold",children:[Math.abs(_e)," gn gecikti"]}):_e===0?p.jsx("span",{className:"text-amber-500 font-bold",children:"Bugn"}):_e===1?p.jsx("span",{className:"text-amber-500 font-medium",children:"Yarn"}):p.jsxs("span",{className:"text-indigo-500 font-medium",children:[_e," gn kald"]})},wt=z=>{switch(z){case"Market":return p.jsx(Nq,{size:14});case"Ulam":return p.jsx(pq,{size:14});case"Konut":return p.jsx(wq,{size:14});case"Fatura":return p.jsx(fm,{size:14});case"Elence":return p.jsx(yq,{size:14});case"Salk":return p.jsx(bq,{size:14});case"Eitim":return p.jsx(xq,{size:14});case"Giyim":return p.jsx(Oq,{size:14});default:return p.jsx(dm,{size:14})}},[Se,an]=g.useState(()=>{const z=localStorage.getItem("theme");return z?z==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});g.useEffect(()=>{Se?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[Se]),g.useEffect(()=>{const z=en(Tt(xe,"transactions"),Bt("uid","==",e.uid)),se=hn(z,Ee=>{const _e=Ee.docs.map(be=>({id:be.id,...be.data()}));_e.sort((be,Nt)=>{var sr,Rr;const ve=new Date(be.date||((sr=be.createdAt)==null?void 0:sr.toDate()));return new Date(Nt.date||((Rr=Nt.createdAt)==null?void 0:Rr.toDate()))-ve}),a(_e)},Ee=>{console.error("Veri ekme hatas:",Ee)});return()=>se()},[e.uid]),g.useEffect(()=>{const z=i.filter(se=>{var _e;let Ee=se.date;if(!Ee&&((_e=se.createdAt)!=null&&_e.toDate)){const be=se.createdAt.toDate(),Nt=be.getFullYear(),ve=String(be.getMonth()+1).padStart(2,"0"),Ue=String(be.getDate()).padStart(2,"0");Ee=`${Nt}-${ve}-${Ue}`}return Ee?Ee.startsWith(t):!1});s(z)},[i,t]),g.useEffect(()=>{I(_==="expense"?F[0]:M[0])},[_]);const K=async z=>{z.preventDefault(),!(!v||!y)&&(await lu(Tt(xe,"transactions"),{uid:e.uid,title:y,amount:parseFloat(v),type:_,category:T,paymentMethod:S,cardName:S==="credit_card"?X:null,date:j,createdAt:Ts()}),b(""),x(""),A("cash"),oe(""))},fe=async z=>{confirm("Bu ilemi silmek istediinize emin misiniz?")&&await rv(ht(xe,"transactions",z))},ge=z=>{var se;m({...z,date:z.date||((se=z.createdAt)!=null&&se.toDate?z.createdAt.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0])}),d(!0)},q=async z=>{if(z.preventDefault(),!!h)try{await Wa(ht(xe,"transactions",h.id),{title:h.title,amount:parseFloat(h.amount),type:h.type,category:h.category,date:h.date,paymentMethod:h.paymentMethod||"cash",cardName:h.paymentMethod==="credit_card"?h.cardName:null}),d(!1),m(null)}catch(se){console.error("Error updating document: ",se),alert("Gncelleme srasnda bir hata olutu.")}},it=()=>{if(o.length===0){alert("Da aktarlacak veri bulunamad.");return}let z="data:text/csv;charset=utf-8,\uFEFF";z+=`Tarih,Balk,Kategori,Tutar,Tr
`,o.forEach(_e=>{var ve;let be=_e.date||((ve=_e.createdAt)!=null&&ve.toDate?_e.createdAt.toDate().toLocaleDateString("tr-TR"):"-");if(_e.date){const[Ue,sr,Rr]=_e.date.split("-");be=`${Rr}.${sr}.${Ue}`}const Nt=[be,`"${_e.title.replace(/"/g,'""')}"`,_e.category,_e.amount,_e.type==="income"?"Gelir":"Gider"].join(",");z+=Nt+`\r
`});const se=encodeURI(z),Ee=document.createElement("a");Ee.setAttribute("href",se),Ee.setAttribute("download",`SpendWise_Islemler_${t}.csv`),document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)},ue=o.filter(z=>z.type==="income").reduce((z,se)=>z+se.amount,0),ze=o.filter(z=>z.type==="expense").reduce((z,se)=>z+se.amount,0),Me=ue-ze,xr=o.filter(z=>z.type==="expense").reduce((z,se)=>{const Ee=se.category||"Dier";return z[Ee]=(z[Ee]||0)+se.amount,z},{}),wn=Object.entries(xr).sort(([,z],[,se])=>se-z).map(([z,se])=>({name:z,value:se,percentage:ze>0?se/ze*100:0})),Do=i.reduce((z,se)=>se.type==="income"?z+se.amount:z-se.amount,0);return p.jsxs("div",{className:"max-w-5xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[p.jsx("img",{src:X$,alt:"SpendWise",className:"w-8 h-8 rounded-lg shadow-lg shadow-indigo-500/30"}),p.jsx("h1",{className:"text-xl font-bold text-indigo-700 dark:text-indigo-400",children:"SpendWise"})]}),p.jsx("h2",{className:"hidden lg:block text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Genel Bak"}),p.jsxs("div",{className:"grid grid-cols-5 gap-2 w-full md:flex md:w-auto md:items-center",children:[p.jsxs("button",{onClick:it,className:"col-span-1 p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 group md:order-1",title:"CSV Olarak ndir",children:[p.jsx(vq,{size:20}),p.jsx("span",{className:"hidden lg:inline font-medium text-sm group-hover:text-indigo-700 dark:group-hover:text-indigo-300",children:"ndir"})]}),p.jsxs("button",{onClick:()=>u(!0),className:"col-span-1 p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 group md:order-2",title:"Trendler",children:[p.jsx(T1,{size:20}),p.jsx("span",{className:"hidden lg:inline font-medium text-sm group-hover:text-indigo-700 dark:group-hover:text-indigo-300",children:"Trendler"})]}),p.jsxs("div",{className:"col-span-5 order-first md:order-3 relative md:mx-2 md:w-auto",children:[p.jsx("input",{type:"month",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 pr-8 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 text-sm shadow-sm transition-colors",value:t,onChange:z=>r(z.target.value)}),p.jsx($l,{className:"absolute right-2.5 top-2.5 text-slate-400 pointer-events-none",size:16})]}),p.jsxs("div",{className:"col-span-1 relative flex justify-center md:block md:order-4",children:[p.jsxs("button",{onClick:()=>D(!O),className:"relative p-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 transition-all shadow-sm w-full flex justify-center",children:[p.jsx(fA,{size:20}),C.length+ne.length>0&&p.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-sm animate-pulse",children:C.length+ne.length})]}),O&&p.jsxs("div",{className:"absolute right-0 sm:-right-12 md:right-0 top-full mt-2 w-72 sm:w-96 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden z-50",children:[p.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/20",children:[p.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:"Finansal Asistan"}),p.jsx("button",{onClick:()=>n("/calendar"),className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"Takvime Git"})]}),p.jsx("div",{className:"max-h-[360px] overflow-y-auto p-2 space-y-4",children:C.length===0&&ne.length===0?p.jsxs("div",{className:"p-8 text-center text-slate-400 text-sm",children:[p.jsx(fA,{className:"mx-auto mb-2 opacity-50",size:24}),p.jsx("p",{children:"Harika! Planlanm demeniz veya yaklaan aboneliiniz yok."})]}):p.jsxs(p.Fragment,{children:[ne.length>0&&p.jsxs("div",{className:"space-y-2 mb-2",children:[p.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider pl-1",children:["Yaklaan Abonelikler (",ne.length,")"]}),ne.map(z=>p.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800/50 flex justify-between items-center group",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",style:{backgroundColor:z.color||"#6366f1"},children:z.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:z.name}),p.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[p.jsx($l,{size:10}),z.daysLeft===0?"Bugn!":z.daysLeft===1?"Yarn":`${z.daysLeft} gn kald`]})]})]}),p.jsx("div",{className:"text-right",children:p.jsxs("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-sm",children:[z.price.toLocaleString("tr-TR",{maximumFractionDigits:0})," "]})})]},z.id)),p.jsx("div",{className:"border-b border-slate-100 dark:border-slate-700 my-2"})]}),(()=>{const z=new Date;z.setHours(0,0,0,0);const se=C.reduce((_e,be)=>{const Nt=new Date(be.date);Nt.setHours(0,0,0,0);const ve=Math.ceil((Nt-z)/(1e3*60*60*24));return ve<0?_e.overdue.push(be):ve<=1?_e.upcoming.push(be):_e.future.push(be),_e},{overdue:[],upcoming:[],future:[]}),Ee=(_e,be,Nt)=>be.length>0&&p.jsxs("div",{className:"space-y-1",children:[p.jsx("h4",{className:`text-[10px] uppercase font-bold tracking-wider px-2 ${Nt}`,children:_e}),be.map(ve=>p.jsxs("div",{className:"p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 border-b border-slate-50 dark:border-slate-700/50 last:border-0 transition-colors flex justify-between items-center group",children:[p.jsxs("div",{className:"min-w-0 flex-1 pr-3",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:"p-1 rounded-md bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:wt(ve.category)}),p.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm truncate",children:ve.title})]}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1 pl-7",children:[p.jsx("span",{children:new Date(ve.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),p.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-600 dark:text-slate-400",children:ct(ve.date)})]})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:[ve.amount.toLocaleString("tr-TR")," "]}),p.jsx("button",{onClick:()=>Ne(ve),className:"p-1.5 text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-full transition-all",title:"dendi Olarak aretle",children:p.jsx(kd,{size:18})})]})]},ve.id))]});return p.jsxs(p.Fragment,{children:[Ee("Gecikenler",se.overdue,"text-red-500"),Ee("Yaklaanlar",se.upcoming,"text-amber-500"),Ee("Gelecek Planlar",se.future,"text-emerald-500")]})})()]})}),C.length>0&&p.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/40 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center text-xs font-medium",children:[p.jsx("span",{className:"text-slate-500",children:"Toplam Bekleyen"}),p.jsx("span",{className:"text-slate-800 dark:text-slate-200 text-sm",children:C.reduce((z,se)=>z+se.amount,0).toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]})]})]}),p.jsx("button",{onClick:()=>an(!Se),className:"col-span-1 p-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex justify-center w-full md:order-5",children:Se?p.jsx(mM,{size:20}):p.jsx(pM,{size:20})}),p.jsx("button",{onClick:()=>ND(us),className:"col-span-1 p-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors flex justify-center w-full md:order-6",title:"k Yap",children:p.jsx(hM,{size:20})})]})]}),l&&p.jsx(Afe,{transactions:i,onClose:()=>u(!1),darkMode:Se}),p.jsx(jq,{user:e,transactions:i}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-600 p-6 rounded-2xl text-white shadow-xl shadow-indigo-500/20",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-indigo-100 font-medium mb-1",children:"Dnem Bakiyesi"}),p.jsx("h2",{className:"text-3xl font-bold",children:Me.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),p.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:p.jsx(qc,{size:24,className:"text-white"})})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100 bg-white/10 p-2 rounded-lg backdrop-blur-sm inline-flex",children:[p.jsx(qc,{size:14}),p.jsxs("span",{children:["Toplam Varlk: ",Do.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Gelirler"}),p.jsxs("h2",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["+",ue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),p.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full",children:p.jsx(uu,{size:24})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Giderler"}),p.jsxs("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["-",ze.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),p.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full",children:p.jsx(f0,{size:24})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(yo,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"lem Ekle"]}),p.jsxs("form",{onSubmit:K,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("button",{type:"button",onClick:()=>k("expense"),className:`py-2 px-4 rounded-lg font-medium transition-all ${_==="expense"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 border ring-1 ring-red-200 dark:ring-red-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gider"}),p.jsx("button",{type:"button",onClick:()=>k("income"),className:`py-2 px-4 rounded-lg font-medium transition-all ${_==="income"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 border ring-1 ring-emerald-200 dark:ring-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gelir"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tarih"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"date",required:!0,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:j,onChange:z=>E(z.target.value)}),p.jsx($l,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori"}),p.jsxs("div",{className:"relative",children:[p.jsx("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all appearance-none",value:T,onChange:z=>I(z.target.value),children:(_==="expense"?F:M).map(z=>p.jsx("option",{value:z,children:z},z))}),p.jsx(dm,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aklama"}),p.jsx("input",{type:"text",placeholder:_==="expense"?"rn: Market Fii":"rn: Mart Ay Maa",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:y,onChange:z=>x(z.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar"}),p.jsx("input",{type:"number",placeholder:"0.00",required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:v,onChange:z=>b(z.target.value)})]}),_==="expense"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Yntemi"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("button",{type:"button",onClick:()=>A("cash"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${S==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[p.jsx(pb,{size:16})," Nakit"]}),p.jsxs("button",{type:"button",onClick:()=>A("credit_card"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${S==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[p.jsx(jn,{size:16})," Kredi Kart"]})]}),S==="credit_card"&&$.length>0&&p.jsxs("div",{className:"mt-3 bg-amber-50/50 p-2 rounded-lg border border-amber-100",children:[p.jsx("label",{className:"block text-xs font-medium text-amber-800 mb-2",children:"Hangi Kart?"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(z=>p.jsxs("button",{type:"button",onClick:()=>oe(z),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ${X===z?"bg-amber-100 border border-amber-300 text-amber-800 shadow-sm":"bg-white border border-amber-200 text-amber-600 hover:bg-white hover:border-amber-300"}`,children:[p.jsx(jn,{size:12}),z]},z))})]})]}),p.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2 mt-4",children:[p.jsx(yo,{size:18}),"Ekle"]})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(f0,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"Harcama Analizi"]}),wn.length>0?p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"h-48 w-full min-w-[200px]",children:p.jsx(zl,{width:"100%",height:"100%",children:p.jsxs($k,{children:[p.jsx(uy,{data:wn,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:wn.map((z,se)=>p.jsx(Gs,{fill:ol[se%ol.length]},`cell-${se}`))}),p.jsx(Wl,{formatter:z=>z.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#1e293b"}})]})})}),p.jsx("div",{className:"space-y-4",children:wn.map((z,se)=>p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:ol[se%ol.length]}}),p.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:z.name})]}),p.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:z.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),p.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2",children:p.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${z.percentage}%`,backgroundColor:ol[se%ol.length]}})})]},z.name))})]}):p.jsx("p",{className:"text-slate-400 text-center text-sm py-4",children:"Bu dnem iin harcama kayd yok."})]})]}),p.jsx("div",{className:"lg:col-span-2",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:["lemler (",o.length,")"]}),o.length===0?p.jsxs("div",{className:"text-center py-10 text-slate-400 flex flex-col items-center gap-3",children:[p.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-full",children:p.jsx(qc,{size:32,className:"opacity-50"})}),p.jsx("p",{children:"Bu dnem iin kayt bulunamad."})]}):p.jsx("div",{className:"space-y-3",children:o.map(z=>{var se;return p.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-indigo-100 dark:hover:border-indigo-900 hover:shadow-md transition-all bg-slate-50/50 dark:bg-slate-700/30 hover:bg-white dark:hover:bg-slate-700",children:[p.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[p.jsx("div",{className:"flex-shrink-0 p-3 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",children:z.type==="income"?p.jsx(uu,{size:20,className:"text-emerald-500"}):p.jsx(f0,{size:20,className:"text-red-500"})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 truncate pr-2",children:z.title}),p.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[p.jsx("span",{className:"bg-slate-200 dark:bg-slate-600 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300 font-medium whitespace-nowrap",children:z.category||(z.type==="income"?"Gelir":"Gider")}),p.jsx("span",{className:"hidden sm:inline",children:""}),p.jsx("span",{className:"whitespace-nowrap",children:new Date(z.date||((se=z.createdAt)==null?void 0:se.toDate())).toLocaleDateString("tr-TR")}),z.type==="expense"&&p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"hidden sm:inline",children:""}),p.jsxs("span",{className:`flex items-center gap-1 ${z.paymentMethod==="credit_card"?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"}`,children:[z.paymentMethod==="credit_card"?p.jsx(jn,{size:12}):p.jsx(pb,{size:12}),p.jsx("span",{className:"hidden sm:inline",children:z.paymentMethod==="credit_card"?"Kredi Kart":"Nakit"})]})]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-2",children:[p.jsxs("span",{className:`font-bold text-sm sm:text-lg whitespace-nowrap ${z.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[z.type==="income"?"+":"-",Math.abs(z.amount).toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx("button",{onClick:()=>ge(z),className:"p-2 text-slate-300 dark:text-slate-600 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-all opacity-100 sm:opacity-0 sm:group-hover:opacity-100",title:"Dzenle",children:p.jsx(Sd,{size:18})}),p.jsx("button",{onClick:()=>fe(z.id),className:"p-2 text-slate-300 dark:text-slate-600 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all opacity-100 sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:p.jsx(As,{size:18})})]})]})]},z.id)})})]})})]}),h&&p.jsx(yu,{isOpen:c,onClose:()=>d(!1),title:"lemi Dzenle",children:p.jsxs("form",{onSubmit:q,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("button",{type:"button",onClick:()=>m({...h,type:"expense"}),className:`py-2 px-4 rounded-lg font-medium transition-all ${h.type==="expense"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 border":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:"Gider"}),p.jsx("button",{type:"button",onClick:()=>m({...h,type:"income"}),className:`py-2 px-4 rounded-lg font-medium transition-all ${h.type==="income"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 border":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:"Gelir"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tarih"}),p.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.date,onChange:z=>m({...h,date:z.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori"}),p.jsx("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.category,onChange:z=>m({...h,category:z.target.value}),children:(h.type==="expense"?F:M).map(z=>p.jsx("option",{value:z,children:z},z))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aklama"}),p.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.title,onChange:z=>m({...h,title:z.target.value})})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:h.amount,onChange:z=>m({...h,amount:z.target.value})})]}),h.type==="expense"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Yntemi"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[p.jsx("button",{type:"button",onClick:()=>m({...h,paymentMethod:"cash",cardName:null}),className:`py-2 text-sm rounded-lg border ${h.paymentMethod==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 text-emerald-600":"border-slate-200 dark:border-slate-700"}`,children:"Nakit"}),p.jsx("button",{type:"button",onClick:()=>m({...h,paymentMethod:"credit_card",cardName:$[0]||""}),className:`py-2 text-sm rounded-lg border ${h.paymentMethod==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 border-amber-200 text-amber-600":"border-slate-200 dark:border-slate-700"}`,children:"Kredi Kart"})]}),h.paymentMethod==="credit_card"&&p.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200",value:h.cardName||"",onChange:z=>m({...h,cardName:z.target.value}),children:[p.jsx("option",{value:"",disabled:!0,children:"Kart Sein"}),$.map(z=>p.jsx("option",{value:z,children:z},z))]})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg transition-all",children:"Gncelle"})]})})]})}const Cfe=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!Ofe(i,a)&&n||Object.defineProperty(e,r,a)},Ofe=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Nfe=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},jfe=(e,t)=>`/* Wrapped ${e}*/
${t}`,Dfe=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Rfe=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Mfe=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=jfe.bind(null,n,t.toString());Object.defineProperty(i,"name",Rfe);const{writable:a,enumerable:o,configurable:s}=Dfe;Object.defineProperty(e,"toString",{value:i,writable:a,enumerable:o,configurable:s})};function Lfe(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const i of Reflect.ownKeys(t))Cfe(e,t,i,r);return Nfe(e,t),Mfe(e,t,n),e}const Bh=2147483647,Vfe=new WeakMap,$0=new WeakMap,$fe=new WeakMap;function Ffe(e,t){const r=e.get(t);if(r){if(r.maxAge<=Date.now()){e.delete(t);return}return r}}function J$(e,{cacheKey:t,cache:r=new Map,maxAge:n}={}){if(n===0)return e;if(typeof n=="number"&&Number.isFinite(n)){if(n>Bh)throw new TypeError(`The \`maxAge\` option cannot exceed ${Bh}.`);if(n<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...a){var c;const o=t?t(a):a[0],s=Ffe(r,o);if(s)return s.data;const l=e.apply(this,a),u=typeof n=="function"?n(...a):n;if(u!==void 0&&u!==Number.POSITIVE_INFINITY){if(!Number.isFinite(u))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(u<=0)return l;if(u>Bh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Bh}.`)}if(r.set(o,{data:l,maxAge:u===void 0||u===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+u}),u!==void 0&&u!==Number.POSITIVE_INFINITY){const d=setTimeout(()=>{var m;r.delete(o),(m=$0.get(i))==null||m.delete(d)},u);(c=d.unref)==null||c.call(d);const h=$0.get(i)??new Set;h.add(d),$0.set(i,h)}return l};return Lfe(i,e,{ignoreNonConfigurable:!0}),Vfe.set(i,r),$fe.set(i,t??(a=>a[0])),i}function zfe(e){return typeof e=="string"}function Ufe(e,t,r){return r.indexOf(e)===t}function Bfe(e){return e.toLowerCase()===e}function t2(e){return e.indexOf(",")===-1?e:e.split(",")}function vw(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],r=t===void 0?"":t;return vw(r)}if(e.indexOf("@")!==-1){var n=e.split("@")[0],r=n===void 0?"":n;return vw(r)}if(e.indexOf("-")===-1||!Bfe(e))return e;var i=e.split("-"),a=i[0],o=i[1],s=o===void 0?"":o;return"".concat(a,"-").concat(s.toUpperCase())}function Wfe(e){var t=e===void 0?{}:e,r=t.useFallbackLocale,n=r===void 0?!0:r,i=t.fallbackLocale,a=i===void 0?"en-US":i,o=[];if(typeof navigator<"u"){for(var s=navigator.languages||[],l=[],u=0,c=s;u<c.length;u++){var d=c[u];l=l.concat(t2(d))}var h=navigator.language,m=h&&t2(h);o=o.concat(l,m)}return n&&o.push(a),o.filter(zfe).map(vw).filter(Ufe)}var Kfe=J$(Wfe,{cacheKey:JSON.stringify});function Hfe(e){return Kfe(e)[0]||null}var Z$=J$(Hfe,{cacheKey:JSON.stringify});function Ta(e,t,r){return function(i,a=r){const o=e(i)+a;return t(o)}}function Rf(e){return function(r){return new Date(e(r).getTime()-1)}}function Mf(e,t){return function(n){return[e(n),t(n)]}}function ut(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;const t=Number.parseInt(e,10);if(typeof e=="string"&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${e}.`)}function No(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function dy(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function $u(e){const t=ut(e),r=t+(-t+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const qfe=Ta(ut,$u,-100),e5=Ta(ut,$u,100),Fk=Rf(e5),Gfe=Ta(ut,Fk,-100),t5=Mf($u,Fk);function jo(e){const t=ut(e),r=t+(-t+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const r5=Ta(ut,jo,-10),zk=Ta(ut,jo,10),fy=Rf(zk),n5=Ta(ut,fy,-10),i5=Mf(jo,fy);function Fu(e){const t=ut(e),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}const a5=Ta(ut,Fu,-1),Uk=Ta(ut,Fu,1),hy=Rf(Uk),o5=Ta(ut,hy,-1),Yfe=Mf(Fu,hy);function Bk(e,t){return function(n,i=t){const a=ut(n),o=No(n)+i,s=new Date;return s.setFullYear(a,o,1),s.setHours(0,0,0,0),e(s)}}function Ys(e){const t=ut(e),r=No(e),n=new Date;return n.setFullYear(t,r,1),n.setHours(0,0,0,0),n}const s5=Bk(Ys,-1),Wk=Bk(Ys,1),Lf=Rf(Wk),l5=Bk(Lf,-1),Qfe=Mf(Ys,Lf);function Xfe(e,t){return function(n,i=t){const a=ut(n),o=No(n),s=dy(n)+i,l=new Date;return l.setFullYear(a,o,s),l.setHours(0,0,0,0),e(l)}}function Vf(e){const t=ut(e),r=No(e),n=dy(e),i=new Date;return i.setFullYear(t,r,n),i.setHours(0,0,0,0),i}const Jfe=Xfe(Vf,1),Kk=Rf(Jfe),Zfe=Mf(Vf,Kk);function u5(e){return dy(Lf(e))}var pr={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},ehe={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},Hk=[0,1,2,3,4,5,6],F0=new Map;function the(e){return function(r,n){var i=r||Z$();F0.has(i)||F0.set(i,new Map);var a=F0.get(i);return a.has(e)||a.set(e,new Intl.DateTimeFormat(i||void 0,e).format),a.get(e)(n)}}function rhe(e){var t=new Date(e);return new Date(t.setHours(12))}function Qs(e){return function(t,r){return the(e)(t,rhe(r))}}var nhe={day:"numeric"},ihe={day:"numeric",month:"long",year:"numeric"},ahe={month:"long"},ohe={month:"long",year:"numeric"},she={weekday:"short"},lhe={weekday:"long"},uhe={year:"numeric"},che=Qs(nhe),dhe=Qs(ihe),fhe=Qs(ahe),c5=Qs(ohe),hhe=Qs(she),phe=Qs(lhe),py=Qs(uhe),mhe=Hk[0],ghe=Hk[5],r2=Hk[6];function zd(e,t){t===void 0&&(t=pr.ISO_8601);var r=e.getDay();switch(t){case pr.ISO_8601:return(r+6)%7;case pr.ISLAMIC:return(r+1)%7;case pr.HEBREW:case pr.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function vhe(e){var t=$u(e);return ut(t)}function yhe(e){var t=jo(e);return ut(t)}function yw(e,t){t===void 0&&(t=pr.ISO_8601);var r=ut(e),n=No(e),i=e.getDate()-zd(e,t);return new Date(r,n,i)}function xhe(e,t){t===void 0&&(t=pr.ISO_8601);var r=t===pr.GREGORY?pr.GREGORY:pr.ISO_8601,n=yw(e,t),i=ut(e)+1,a,o;do a=new Date(i,0,r===pr.ISO_8601?4:1),o=yw(a,t),i-=1;while(e<o);return Math.round((n.getTime()-o.getTime())/(864e5*7))+1}function ps(e,t){switch(e){case"century":return $u(t);case"decade":return jo(t);case"year":return Fu(t);case"month":return Ys(t);case"day":return Vf(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function bhe(e,t){switch(e){case"century":return qfe(t);case"decade":return r5(t);case"year":return a5(t);case"month":return s5(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function d5(e,t){switch(e){case"century":return e5(t);case"decade":return zk(t);case"year":return Uk(t);case"month":return Wk(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function whe(e,t){switch(e){case"decade":return r5(t,-100);case"year":return a5(t,-10);case"month":return s5(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function _he(e,t){switch(e){case"decade":return zk(t,100);case"year":return Uk(t,10);case"month":return Wk(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function f5(e,t){switch(e){case"century":return Fk(t);case"decade":return fy(t);case"year":return hy(t);case"month":return Lf(t);case"day":return Kk(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ehe(e,t){switch(e){case"century":return Gfe(t);case"decade":return n5(t);case"year":return o5(t);case"month":return l5(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function khe(e,t){switch(e){case"decade":return n5(t,-100);case"year":return o5(t,-10);case"month":return l5(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function n2(e,t){switch(e){case"century":return t5(t);case"decade":return i5(t);case"year":return Yfe(t);case"month":return Qfe(t);case"day":return Zfe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function She(e,t,r){var n=[t,r].sort(function(i,a){return i.getTime()-a.getTime()});return[ps(e,n[0]),f5(e,n[1])]}function h5(e,t,r){return r.map(function(n){return(t||py)(e,n)}).join("  ")}function Phe(e,t,r){return h5(e,t,t5(r))}function p5(e,t,r){return h5(e,t,i5(r))}function The(e){return e.getDay()===new Date().getDay()}function m5(e,t){t===void 0&&(t=pr.ISO_8601);var r=e.getDay();switch(t){case pr.ISLAMIC:case pr.HEBREW:return r===ghe||r===r2;case pr.ISO_8601:case pr.GREGORY:return r===r2||r===mhe;default:throw new Error("Unsupported calendar type.")}}var ui="react-calendar__navigation";function Ahe(e){var t=e.activeStartDate,r=e.drillUp,n=e.formatMonthYear,i=n===void 0?c5:n,a=e.formatYear,o=a===void 0?py:a,s=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,d=c===void 0?"":c,h=e.navigationAriaLive,m=e.navigationLabel,v=e.next2AriaLabel,b=v===void 0?"":v,y=e.next2Label,x=y===void 0?"":y,_=e.nextAriaLabel,k=_===void 0?"":_,T=e.nextLabel,I=T===void 0?"":T,j=e.prev2AriaLabel,E=j===void 0?"":j,S=e.prev2Label,A=S===void 0?"":S,C=e.prevAriaLabel,N=C===void 0?"":C,O=e.prevLabel,D=O===void 0?"":O,F=e.setActiveStartDate,G=e.showDoubleView,M=e.view,H=e.views,$=H.indexOf(M)>0,B=M!=="century",X=bhe(M,t),oe=B?whe(M,t):void 0,ne=d5(M,t),ye=B?_he(M,t):void 0,Ne=function(){if(X.getFullYear()<0)return!0;var ue=Ehe(M,t);return u&&u>=ue}(),ct=B&&function(){if(oe.getFullYear()<0)return!0;var ue=khe(M,t);return u&&u>=ue}(),wt=l&&l<ne,Se=B&&l&&l<ye;function an(){F(X,"prev")}function K(){F(oe,"prev2")}function fe(){F(ne,"next")}function ge(){F(ye,"next2")}function q(ue){var ze=function(){switch(M){case"century":return Phe(s,o,ue);case"decade":return p5(s,o,ue);case"year":return o(s,ue);case"month":return i(s,ue);default:throw new Error("Invalid view: ".concat(M,"."))}}();return m?m({date:ue,label:ze,locale:s||Z$()||void 0,view:M}):ze}function it(){var ue="".concat(ui,"__label");return p.jsxs("button",{"aria-label":d,"aria-live":h,className:ue,disabled:!$,onClick:r,style:{flexGrow:1},type:"button",children:[p.jsx("span",{className:"".concat(ue,"__labelText ").concat(ue,"__labelText--from"),children:q(t)}),G?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"".concat(ue,"__divider"),children:"  "}),p.jsx("span",{className:"".concat(ue,"__labelText ").concat(ue,"__labelText--to"),children:q(ne)})]}):null]})}return p.jsxs("div",{className:ui,children:[A!==null&&B?p.jsx("button",{"aria-label":E,className:"".concat(ui,"__arrow ").concat(ui,"__prev2-button"),disabled:ct,onClick:K,type:"button",children:A}):null,D!==null&&p.jsx("button",{"aria-label":N,className:"".concat(ui,"__arrow ").concat(ui,"__prev-button"),disabled:Ne,onClick:an,type:"button",children:D}),it(),I!==null&&p.jsx("button",{"aria-label":k,className:"".concat(ui,"__arrow ").concat(ui,"__next-button"),disabled:wt,onClick:fe,type:"button",children:I}),x!==null&&B?p.jsx("button",{"aria-label":b,className:"".concat(ui,"__arrow ").concat(ui,"__next2-button"),disabled:Se,onClick:ge,type:"button",children:x}):null]})}var Tl=function(){return Tl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Tl.apply(this,arguments)},Ihe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function i2(e){return"".concat(e,"%")}function qk(e){var t=e.children,r=e.className,n=e.count,i=e.direction,a=e.offset,o=e.style,s=e.wrap,l=Ihe(e,["children","className","count","direction","offset","style","wrap"]);return p.jsx("div",Tl({className:r,style:Tl({display:"flex",flexDirection:i,flexWrap:s?"wrap":"nowrap"},o)},l,{children:g.Children.map(t,function(u,c){var d=a&&c===0?i2(100*a/n):null;return g.cloneElement(u,Tl(Tl({},u.props),{style:{flexBasis:i2(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function Che(e,t,r){return t&&t>e?t:r&&r<e?r:e}function Ud(e,t){return t[0]<=e&&t[1]>=e}function Ohe(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function g5(e,t){return Ud(e[0],t)||Ud(e[1],t)}function a2(e,t,r){var n=g5(t,e),i=[];if(n){i.push(r);var a=Ud(e[0],t),o=Ud(e[1],t);a&&i.push("".concat(r,"Start")),o&&i.push("".concat(r,"End")),a&&o&&i.push("".concat(r,"BothEnds"))}return i}function Nhe(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function jhe(e){if(!e)throw new Error("args is required");var t=e.value,r=e.date,n=e.hover,i="react-calendar__tile",a=[i];if(!r)return a;var o=new Date,s=function(){if(Array.isArray(r))return r;var m=e.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return n2(m,r)}();if(Ud(o,s)&&a.push("".concat(i,"--now")),!t||!Nhe(t))return a;var l=function(){if(Array.isArray(t))return t;var m=e.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return n2(m,t)}();Ohe(l,s)?a.push("".concat(i,"--active")):g5(l,s)&&a.push("".concat(i,"--hasActive"));var u=a2(l,s,"".concat(i,"--range"));a.push.apply(a,u);var c=Array.isArray(t)?t:[t];if(n&&c.length===1){var d=n>l[0]?[l[0],n]:[n,l[0]],h=a2(d,s,"".concat(i,"--hover"));a.push.apply(a,h)}return a}function my(e){for(var t=e.className,r=e.count,n=r===void 0?3:r,i=e.dateTransform,a=e.dateType,o=e.end,s=e.hover,l=e.offset,u=e.renderTile,c=e.start,d=e.step,h=d===void 0?1:d,m=e.value,v=e.valueType,b=[],y=c;y<=o;y+=h){var x=i(y);b.push(u({classes:jhe({date:x,dateType:a,hover:s,value:m,valueType:v}),date:x}))}return p.jsx(qk,{className:t,count:n,offset:l,wrap:!0,children:b})}function gy(e){var t=e.activeStartDate,r=e.children,n=e.classes,i=e.date,a=e.formatAbbr,o=e.locale,s=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,d=e.onClick,h=e.onMouseOver,m=e.style,v=e.tileClassName,b=e.tileContent,y=e.tileDisabled,x=e.view,_=g.useMemo(function(){var T={activeStartDate:t,date:i,view:x};return typeof v=="function"?v(T):v},[t,i,v,x]),k=g.useMemo(function(){var T={activeStartDate:t,date:i,view:x};return typeof b=="function"?b(T):b},[t,i,b,x]);return p.jsxs("button",{className:Te(n,_),disabled:u&&c(u)>i||s&&l(s)<i||(y==null?void 0:y({activeStartDate:t,date:i,view:x})),onClick:d?function(T){return d(i,T)}:void 0,onFocus:h?function(){return h(i)}:void 0,onMouseOver:h?function(){return h(i)}:void 0,style:m,type:"button",children:[a?p.jsx("abbr",{"aria-label":a(o,i),children:r}):r,k]})}var xw=function(){return xw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},xw.apply(this,arguments)},Dhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},o2="react-calendar__century-view__decades__decade";function Rhe(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentCentury,i=e.formatYear,a=i===void 0?py:i,o=Dhe(e,["classes","currentCentury","formatYear"]),s=o.date,l=o.locale,u=[];return r&&u.push.apply(u,r),u.push(o2),$u(s).getFullYear()!==n&&u.push("".concat(o2,"--neighboringCentury")),p.jsx(gy,xw({},o,{classes:u,maxDateTransform:fy,minDateTransform:jo,view:"century",children:p5(l,a,s)}))}var bw=function(){return bw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bw.apply(this,arguments)},s2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Mhe(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringCentury,i=e.value,a=e.valueType,o=s2(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),s=vhe(t),l=s+(n?119:99);return p.jsx(my,{className:"react-calendar__century-view__decades",dateTransform:jo,dateType:"decade",end:l,hover:r,renderTile:function(u){var c=u.date,d=s2(u,["date"]);return p.jsx(Rhe,bw({},o,d,{activeStartDate:t,currentCentury:s,date:c}),c.getTime())},start:s,step:10,value:i,valueType:a})}var ww=function(){return ww=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ww.apply(this,arguments)};function Lhe(e){function t(){return p.jsx(Mhe,ww({},e))}return p.jsx("div",{className:"react-calendar__century-view",children:t()})}var _w=function(){return _w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_w.apply(this,arguments)},Vhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},l2="react-calendar__decade-view__years__year";function $he(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentDecade,i=e.formatYear,a=i===void 0?py:i,o=Vhe(e,["classes","currentDecade","formatYear"]),s=o.date,l=o.locale,u=[];return r&&u.push.apply(u,r),u.push(l2),jo(s).getFullYear()!==n&&u.push("".concat(l2,"--neighboringDecade")),p.jsx(gy,_w({},o,{classes:u,maxDateTransform:hy,minDateTransform:Fu,view:"decade",children:a(l,s)}))}var Ew=function(){return Ew=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ew.apply(this,arguments)},u2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Fhe(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringDecade,i=e.value,a=e.valueType,o=u2(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),s=yhe(t),l=s+(n?11:9);return p.jsx(my,{className:"react-calendar__decade-view__years",dateTransform:Fu,dateType:"year",end:l,hover:r,renderTile:function(u){var c=u.date,d=u2(u,["date"]);return p.jsx($he,Ew({},o,d,{activeStartDate:t,currentDecade:s,date:c}),c.getTime())},start:s,value:i,valueType:a})}var kw=function(){return kw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},kw.apply(this,arguments)};function zhe(e){function t(){return p.jsx(Fhe,kw({},e))}return p.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Sw=function(){return Sw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sw.apply(this,arguments)},Uhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},c2=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},Bhe="react-calendar__year-view__months__month";function Whe(e){var t=e.classes,r=t===void 0?[]:t,n=e.formatMonth,i=n===void 0?fhe:n,a=e.formatMonthYear,o=a===void 0?c5:a,s=Uhe(e,["classes","formatMonth","formatMonthYear"]),l=s.date,u=s.locale;return p.jsx(gy,Sw({},s,{classes:c2(c2([],r,!0),[Bhe],!1),formatAbbr:o,maxDateTransform:Lf,minDateTransform:Ys,view:"year",children:i(u,l)}))}var Pw=function(){return Pw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pw.apply(this,arguments)},d2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Khe(e){var t=e.activeStartDate,r=e.hover,n=e.value,i=e.valueType,a=d2(e,["activeStartDate","hover","value","valueType"]),o=0,s=11,l=ut(t);return p.jsx(my,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(l,u,1),Ys(c)},dateType:"month",end:s,hover:r,renderTile:function(u){var c=u.date,d=d2(u,["date"]);return p.jsx(Whe,Pw({},a,d,{activeStartDate:t,date:c}),c.getTime())},start:o,value:n,valueType:i})}var Tw=function(){return Tw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Tw.apply(this,arguments)};function Hhe(e){function t(){return p.jsx(Khe,Tw({},e))}return p.jsx("div",{className:"react-calendar__year-view",children:t()})}var Aw=function(){return Aw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Aw.apply(this,arguments)},qhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},z0="react-calendar__month-view__days__day";function Ghe(e){var t=e.calendarType,r=e.classes,n=r===void 0?[]:r,i=e.currentMonthIndex,a=e.formatDay,o=a===void 0?che:a,s=e.formatLongDate,l=s===void 0?dhe:s,u=qhe(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=u.date,d=u.locale,h=[];return n&&h.push.apply(h,n),h.push(z0),m5(c,t)&&h.push("".concat(z0,"--weekend")),c.getMonth()!==i&&h.push("".concat(z0,"--neighboringMonth")),p.jsx(gy,Aw({},u,{classes:h,formatAbbr:l,maxDateTransform:Kk,minDateTransform:Vf,view:"month",children:o(d,c)}))}var Iw=function(){return Iw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Iw.apply(this,arguments)},f2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Yhe(e){var t=e.activeStartDate,r=e.calendarType,n=e.hover,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,o=e.value,s=e.valueType,l=f2(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=ut(t),c=No(t),d=i||a,h=zd(t,r),m=d?0:h,v=(d?-h:0)+1,b=function(){if(i)return v+6*7-1;var y=u5(t);if(a){var x=new Date;x.setFullYear(u,c,y),x.setHours(0,0,0,0);var _=7-zd(x,r)-1;return y+_}return y}();return p.jsx(my,{className:"react-calendar__month-view__days",count:7,dateTransform:function(y){var x=new Date;return x.setFullYear(u,c,y),Vf(x)},dateType:"day",hover:n,end:b,renderTile:function(y){var x=y.date,_=f2(y,["date"]);return p.jsx(Ghe,Iw({},l,_,{activeStartDate:t,calendarType:r,currentMonthIndex:c,date:x}),x.getTime())},offset:m,start:v,value:o,valueType:s})}var v5="react-calendar__month-view__weekdays",U0="".concat(v5,"__weekday");function Qhe(e){for(var t=e.calendarType,r=e.formatShortWeekday,n=r===void 0?hhe:r,i=e.formatWeekday,a=i===void 0?phe:i,o=e.locale,s=e.onMouseLeave,l=new Date,u=Ys(l),c=ut(u),d=No(u),h=[],m=1;m<=7;m+=1){var v=new Date(c,d,m-zd(u,t)),b=a(o,v);h.push(p.jsx("div",{className:Te(U0,The(v)&&"".concat(U0,"--current"),m5(v,t)&&"".concat(U0,"--weekend")),children:p.jsx("abbr",{"aria-label":b,title:b,children:n(o,v).replace(".","")})},m))}return p.jsx(qk,{className:v5,count:7,onFocus:s,onMouseOver:s,children:h})}var ug=function(){return ug=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ug.apply(this,arguments)},h2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},p2="react-calendar__tile";function Xhe(e){var t=e.onClickWeekNumber,r=e.weekNumber,n=p.jsx("span",{children:r});if(t){var i=e.date,a=e.onClickWeekNumber,o=e.weekNumber,s=h2(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("button",ug({},s,{className:p2,onClick:function(l){return a(o,i,l)},type:"button",children:n}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var s=h2(e,["date","onClickWeekNumber","weekNumber"]);return p.jsx("div",ug({},s,{className:p2,children:n}))}}function Jhe(e){var t=e.activeStartDate,r=e.calendarType,n=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,o=function(){if(a)return 6;var u=u5(t),c=zd(t,r),d=u-(7-c);return 1+Math.ceil(d/7)}(),s=function(){for(var u=ut(t),c=No(t),d=dy(t),h=[],m=0;m<o;m+=1)h.push(yw(new Date(u,c,d+m*7),r));return h}(),l=s.map(function(u){return xhe(u,r)});return p.jsx(qk,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,c){var d=s[c];if(!d)throw new Error("date is not defined");return p.jsx(Xhe,{date:d,onClickWeekNumber:n,weekNumber:u},u)})})}var Cw=function(){return Cw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Cw.apply(this,arguments)},Zhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function epe(e){if(e)for(var t=0,r=Object.entries(ehe);t<r.length;t++){var n=r[t],i=n[0],a=n[1];if(a.includes(e))return i}return pr.ISO_8601}function tpe(e){var t=e.activeStartDate,r=e.locale,n=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,o=a===void 0?epe(r):a,s=e.formatShortWeekday,l=e.formatWeekday,u=e.onClickWeekNumber,c=e.showWeekNumbers,d=Zhe(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function h(){return p.jsx(Qhe,{calendarType:o,formatShortWeekday:s,formatWeekday:l,locale:r,onMouseLeave:n})}function m(){return c?p.jsx(Jhe,{activeStartDate:t,calendarType:o,onClickWeekNumber:u,onMouseLeave:n,showFixedNumberOfWeeks:i}):null}function v(){return p.jsx(Yhe,Cw({calendarType:o},d))}var b="react-calendar__month-view";return p.jsx("div",{className:Te(b,c?"".concat(b,"--weekNumbers"):""),children:p.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[m(),p.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[h(),v()]})]})})}var Al=function(){return Al=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Al.apply(this,arguments)},Wh="react-calendar",bp=["century","decade","year","month"],rpe=["decade","year","month","day"],Gk=new Date;Gk.setFullYear(1,0,1);Gk.setHours(0,0,0,0);var npe=new Date(864e13);function Nc(e){return e instanceof Date?e:new Date(e)}function y5(e,t){return bp.slice(bp.indexOf(e),bp.indexOf(t)+1)}function ipe(e,t,r){var n=y5(t,r);return n.indexOf(e)!==-1}function Yk(e,t,r){return e&&ipe(e,t,r)?e:r}function x5(e){var t=bp.indexOf(e);return rpe[t]}function ape(e,t){var r=Array.isArray(e)?e[t]:e;if(!r)return null;var n=Nc(r);if(Number.isNaN(n.getTime()))throw new Error("Invalid date: ".concat(e));return n}function b5(e,t){var r=e.value,n=e.minDate,i=e.maxDate,a=e.maxDetail,o=ape(r,t);if(!o)return null;var s=x5(a),l=function(){switch(t){case 0:return ps(s,o);case 1:return f5(s,o);default:throw new Error("Invalid index value: ".concat(t))}}();return Che(l,n,i)}var Qk=function(e){return b5(e,0)},w5=function(e){return b5(e,1)},ope=function(e){return[Qk,w5].map(function(t){return t(e)})};function _5(e){var t=e.maxDate,r=e.maxDetail,n=e.minDate,i=e.minDetail,a=e.value,o=e.view,s=Yk(o,i,r),l=Qk({value:a,minDate:n,maxDate:t,maxDetail:r})||new Date;return ps(s,l)}function spe(e){var t=e.activeStartDate,r=e.defaultActiveStartDate,n=e.defaultValue,i=e.defaultView,a=e.maxDate,o=e.maxDetail,s=e.minDate,l=e.minDetail,u=e.value,c=e.view,d=Yk(c,l,o),h=t||r;return h?ps(d,h):_5({maxDate:a,maxDetail:o,minDate:s,minDetail:l,value:u||n,view:c||i})}function B0(e){return e&&(!Array.isArray(e)||e.length===1)}function Kh(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var lpe=g.forwardRef(function(t,r){var n=t.activeStartDate,i=t.allowPartialRange,a=t.calendarType,o=t.className,s=t.defaultActiveStartDate,l=t.defaultValue,u=t.defaultView,c=t.formatDay,d=t.formatLongDate,h=t.formatMonth,m=t.formatMonthYear,v=t.formatShortWeekday,b=t.formatWeekday,y=t.formatYear,x=t.goToRangeStartOnSelect,_=x===void 0?!0:x,k=t.inputRef,T=t.locale,I=t.maxDate,j=I===void 0?npe:I,E=t.maxDetail,S=E===void 0?"month":E,A=t.minDate,C=A===void 0?Gk:A,N=t.minDetail,O=N===void 0?"century":N,D=t.navigationAriaLabel,F=t.navigationAriaLive,G=t.navigationLabel,M=t.next2AriaLabel,H=t.next2Label,$=t.nextAriaLabel,B=t.nextLabel,X=t.onActiveStartDateChange,oe=t.onChange,ne=t.onClickDay,ye=t.onClickDecade,Ne=t.onClickMonth,ct=t.onClickWeekNumber,wt=t.onClickYear,Se=t.onDrillDown,an=t.onDrillUp,K=t.onViewChange,fe=t.prev2AriaLabel,ge=t.prev2Label,q=t.prevAriaLabel,it=t.prevLabel,ue=t.returnValue,ze=ue===void 0?"start":ue,Me=t.selectRange,xr=t.showDoubleView,wn=t.showFixedNumberOfWeeks,Do=t.showNavigation,z=Do===void 0?!0:Do,se=t.showNeighboringCentury,Ee=t.showNeighboringDecade,_e=t.showNeighboringMonth,be=_e===void 0?!0:_e,Nt=t.showWeekNumbers,ve=t.tileClassName,Ue=t.tileContent,sr=t.tileDisabled,Rr=t.value,zn=t.view,Aa=g.useState(s),_n=Aa[0],Ro=Aa[1],zu=g.useState(null),Uu=zu[0],$f=zu[1],Ff=g.useState(Array.isArray(l)?l.map(function(we){return we!==null?Nc(we):null}):l!=null?Nc(l):null),Mo=Ff[0],zf=Ff[1],Bu=g.useState(u),Lo=Bu[0],Xs=Bu[1],Qt=n||_n||spe({activeStartDate:n,defaultActiveStartDate:s,defaultValue:l,defaultView:u,maxDate:j,maxDetail:S,minDate:C,minDetail:O,value:Rr,view:zn}),_t=function(){var we=function(){return Me&&B0(Mo)?Mo:Rr!==void 0?Rr:Mo}();return we?Array.isArray(we)?we.map(function(Le){return Le!==null?Nc(Le):null}):we!==null?Nc(we):null:null}(),Vo=x5(S),Be=Yk(zn||Lo,O,S),on=y5(O,S),$o=Me?Uu:null,Js=on.indexOf(Be)<on.length-1,Xt=on.indexOf(Be)>0,Wu=g.useCallback(function(we){var Le=function(){switch(ze){case"start":return Qk;case"end":return w5;case"range":return ope;default:throw new Error("Invalid returnValue.")}}();return Le({maxDate:j,maxDetail:S,minDate:C,value:we})},[j,S,C,ze]),Ai=g.useCallback(function(we,Le){Ro(we);var dt={action:Le,activeStartDate:we,value:_t,view:Be};X&&!Kh(Qt,we)&&X(dt)},[Qt,X,_t,Be]),ai=g.useCallback(function(we,Le){var dt=function(){switch(Be){case"century":return ye;case"decade":return wt;case"year":return Ne;case"month":return ne;default:throw new Error("Invalid view: ".concat(Be,"."))}}();dt&&dt(we,Le)},[ne,ye,Ne,wt,Be]),Ku=g.useCallback(function(we,Le){if(Js){ai(we,Le);var dt=on[on.indexOf(Be)+1];if(!dt)throw new Error("Attempted to drill down from the lowest view.");Ro(we),Xs(dt);var Kr={action:"drillDown",activeStartDate:we,value:_t,view:dt};X&&!Kh(Qt,we)&&X(Kr),K&&Be!==dt&&K(Kr),Se&&Se(Kr)}},[Qt,Js,X,ai,Se,K,_t,Be,on]),Hu=g.useCallback(function(){if(Xt){var we=on[on.indexOf(Be)-1];if(!we)throw new Error("Attempted to drill up from the highest view.");var Le=ps(we,Qt);Ro(Le),Xs(we);var dt={action:"drillUp",activeStartDate:Le,value:_t,view:we};X&&!Kh(Qt,Le)&&X(dt),K&&Be!==we&&K(dt),an&&an(dt)}},[Qt,Xt,X,an,K,_t,Be,on]),oi=g.useCallback(function(we,Le){var dt=_t;ai(we,Le);var Kr=Me&&!B0(dt),Mr;if(Me)if(Kr)Mr=ps(Vo,we);else{if(!dt)throw new Error("previousValue is required");if(Array.isArray(dt))throw new Error("previousValue must not be an array");Mr=She(Vo,dt,we)}else Mr=Wu(we);var zo=!Me||Kr||_?_5({maxDate:j,maxDetail:S,minDate:C,minDetail:O,value:Mr,view:Be}):null;Le.persist(),Ro(zo),zf(Mr);var Bf={action:"onChange",activeStartDate:zo,value:Mr,view:Be};if(X&&!Kh(Qt,zo)&&X(Bf),oe)if(Me){var Wf=B0(Mr);if(!Wf)oe(Mr||null,Le);else if(i){if(Array.isArray(Mr))throw new Error("value must not be an array");oe([Mr||null,null],Le)}}else oe(Mr||null,Le)},[Qt,i,Wu,_,j,S,C,O,X,oe,ai,Me,_t,Vo,Be]);function vy(we){$f(we)}function qu(){$f(null)}g.useImperativeHandle(r,function(){return{activeStartDate:Qt,drillDown:Ku,drillUp:Hu,onChange:oi,setActiveStartDate:Ai,value:_t,view:Be}},[Qt,Ku,Hu,oi,Ai,_t,Be]);function Fo(we){var Le=we?d5(Be,Qt):ps(Be,Qt),dt=Js?Ku:oi,Kr={activeStartDate:Le,hover:$o,locale:T,maxDate:j,minDate:C,onClick:dt,onMouseOver:Me?vy:void 0,tileClassName:ve,tileContent:Ue,tileDisabled:sr,value:_t,valueType:Vo};switch(Be){case"century":return p.jsx(Lhe,Al({formatYear:y,showNeighboringCentury:se},Kr));case"decade":return p.jsx(zhe,Al({formatYear:y,showNeighboringDecade:Ee},Kr));case"year":return p.jsx(Hhe,Al({formatMonth:h,formatMonthYear:m},Kr));case"month":return p.jsx(tpe,Al({calendarType:a,formatDay:c,formatLongDate:d,formatShortWeekday:v,formatWeekday:b,onClickWeekNumber:ct,onMouseLeave:Me?qu:void 0,showFixedNumberOfWeeks:typeof wn<"u"?wn:xr,showNeighboringMonth:be,showWeekNumbers:Nt},Kr));default:throw new Error("Invalid view: ".concat(Be,"."))}}function Uf(){return z?p.jsx(Ahe,{activeStartDate:Qt,drillUp:Hu,formatMonthYear:m,formatYear:y,locale:T,maxDate:j,minDate:C,navigationAriaLabel:D,navigationAriaLive:F,navigationLabel:G,next2AriaLabel:M,next2Label:H,nextAriaLabel:$,nextLabel:B,prev2AriaLabel:fe,prev2Label:ge,prevAriaLabel:q,prevLabel:it,setActiveStartDate:Ai,showDoubleView:xr,view:Be,views:on}):null}var Gu=Array.isArray(_t)?_t:[_t];return p.jsxs("div",{className:Te(Wh,Me&&Gu.length===1&&"".concat(Wh,"--selectRange"),xr&&"".concat(Wh,"--doubleView"),o),ref:k,children:[Uf(),p.jsxs("div",{className:"".concat(Wh,"__viewContainer"),onBlur:Me?qu:void 0,onMouseLeave:Me?qu:void 0,children:[Fo(),xr?Fo(!0):null]})]})});const upe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function cpe({user:e}){const[t,r]=g.useState(new Date),[n,i]=g.useState([]),[a,o]=g.useState([]),[s,l]=g.useState(""),[u,c]=g.useState(""),[d,h]=g.useState(""),[m,v]=g.useState("none"),[b,y]=g.useState(12),[x,_]=g.useState(!1),[k,T]=g.useState("cash");g.useEffect(()=>{const O=en(Tt(xe,"planned_transactions"),Bt("uid","==",e.uid)),D=hn(O,F=>{const G=F.docs.map(M=>({id:M.id,...M.data()}));i(G)});return()=>D()},[e.uid]),g.useEffect(()=>{const O=en(Tt(xe,"subscriptions"),Bt("uid","==",e.uid),Bt("status","==","active")),D=hn(O,F=>{const G=F.docs.map(M=>({id:M.id,...M.data()}));o(G)});return()=>D()},[e.uid]);const I=({date:O,view:D})=>{if(D==="month"){const F=O.toISOString().split("T")[0],G=n.filter(H=>H.date===F),M=a.filter(H=>H.billingDay===O.getDate());if(G.length>0||M.length>0)return p.jsxs("div",{className:"calendar-tile-content flex items-center justify-center gap-0.5",children:[G.map((H,$)=>p.jsx("div",{className:`calendar-dot ${H.isCompleted?"dot-completed":"dot-expense"}`},`evt-${$}`)),M.map((H,$)=>p.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500",title:H.name},`sub-${$}`))]})}},j=async O=>{if(O.preventDefault(),!(!s||!u||!d)){_(!0);try{const D=new Date(t),F=m==="none"?1:parseInt(b),G=[];for(let M=0;M<F;M++){const H=new Date(D);m==="weekly"?H.setDate(D.getDate()+M*7):m==="monthly"&&H.setMonth(D.getMonth()+M);const $=H.toISOString().split("T")[0];G.push(lu(Tt(xe,"planned_transactions"),{uid:e.uid,title:m!=="none"?`${u} (${M+1}/${F})`:u,amount:parseFloat(s),category:d,paymentMethod:k,date:$,isCompleted:!1,createdAt:Ts()}))}await Promise.all(G),l(""),c(""),h(""),v("none")}catch(D){console.error("Error adding planned transaction:",D),alert("Bir hata olutu.")}finally{_(!1)}}},E=async O=>{confirm(`${O.title} ilemini tamamland olarak iaretlemek istiyor musunuz?`)&&(await lu(Tt(xe,"transactions"),{uid:e.uid,title:O.title,amount:O.amount,type:"expense",category:O.category,paymentMethod:O.paymentMethod||"cash",date:O.date,createdAt:Ts()}),await Wa(ht(xe,"planned_transactions",O.id),{isCompleted:!0}))},S=async O=>{confirm("Bu planl ilemi silmek istediinize emin misiniz?")&&await rv(ht(xe,"planned_transactions",O))},A=t.toISOString().split("T")[0],C=n.filter(O=>O.date===A),N=a.filter(O=>O.billingDay===t.getDate());return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-6",children:[p.jsx($l,{className:"text-indigo-600 dark:text-indigo-400"}),"deme Takvimi"]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700",children:p.jsx(lpe,{onChange:r,value:t,tileContent:I,className:"w-full border-none font-sans text-slate-700 dark:text-slate-200",locale:"tr-TR"})}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),C.length===0&&N.length===0?p.jsx("p",{className:"text-slate-400 text-sm text-center py-6",children:"Bu tarih iin planlanm bir deme yok."}):p.jsxs("div",{className:"space-y-3",children:[N.map(O=>p.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800/50 rounded-xl flex items-center justify-between group",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",style:{backgroundColor:O.color||"#6366f1"},children:O.name.charAt(0)}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:O.name}),p.jsx("span",{className:"text-[10px] uppercase font-bold text-indigo-500 bg-indigo-100 dark:bg-indigo-900 px-1.5 py-0.5 rounded",children:"Abonelik"})]})]}),p.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-sm",children:O.price.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},O.id)),C.map(O=>p.jsxs("div",{className:`p-3 rounded-xl border flex items-center justify-between group transition-all ${O.isCompleted?"bg-emerald-50 border-emerald-100 dark:bg-emerald-900/20 dark:border-emerald-800":"bg-slate-50 border-slate-100 dark:bg-slate-700/50 dark:border-slate-600"}`,children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${O.isCompleted?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900 dark:text-emerald-400":"bg-white text-slate-500 dark:bg-slate-600 dark:text-slate-300"}`,children:O.isCompleted?p.jsx(kd,{size:16}):p.jsx(gq,{size:16})}),p.jsxs("div",{children:[p.jsx("p",{className:`font-semibold text-sm ${O.isCompleted?"text-emerald-800 dark:text-emerald-200 line-through":"text-slate-800 dark:text-slate-200"}`,children:O.title}),p.jsx("p",{className:"text-xs text-slate-400",children:O.category})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:`font-bold text-sm ${O.isCompleted?"text-emerald-600 dark:text-emerald-400":"text-slate-600 dark:text-slate-300"}`,children:[O.amount,""]}),!O.isCompleted&&p.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>E(O),className:"p-1.5 text-emerald-500 hover:bg-emerald-100 rounded-md",title:"de",children:p.jsx(kd,{size:14})}),p.jsx("button",{onClick:()=>S(O.id),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-md",title:"Sil",children:p.jsx(As,{size:14})})]})]})]},O.id))]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(yo,{size:20,className:"text-indigo-500"}),"Yeni Plan Ekle"]}),p.jsxs("form",{onSubmit:j,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Balk"}),p.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",placeholder:"rn: Kira demesi",value:u,onChange:O=>c(O.target.value)})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tutar"}),p.jsx("input",{type:"number",required:!0,min:"0",className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",placeholder:"0.00",value:s,onChange:O=>l(O.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Kategori"}),p.jsxs("select",{className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:d,onChange:O=>h(O.target.value),children:[p.jsx("option",{value:"",children:"Seiniz"}),upe.map(O=>p.jsx("option",{value:O,children:O},O))]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"deme Yntemi"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsxs("button",{type:"button",onClick:()=>T("cash"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${k==="cash"?"bg-emerald-50 text-emerald-600 border border-emerald-200":"bg-slate-50 text-slate-500 border border-transparent"}`,children:[p.jsx(pb,{size:16})," Nakit"]}),p.jsxs("button",{type:"button",onClick:()=>T("credit_card"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${k==="credit_card"?"bg-amber-50 text-amber-600 border border-amber-200":"bg-slate-50 text-slate-500 border border-transparent"}`,children:[p.jsx(jn,{size:16})," Kredi Kart"]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tekrar"}),p.jsxs("select",{className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:m,onChange:O=>v(O.target.value),children:[p.jsx("option",{value:"none",children:"Tek Seferlik"}),p.jsx("option",{value:"weekly",children:"Haftalk"}),p.jsx("option",{value:"monthly",children:"Aylk"})]})]}),m!=="none"&&p.jsxs("div",{children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tekrar Says"}),p.jsx("input",{type:"number",min:"2",max:"60",className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:b,onChange:O=>y(O.target.value)})]}),p.jsx("button",{type:"submit",disabled:x,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:x?"Ekleniyor...":p.jsxs(p.Fragment,{children:[p.jsx(yo,{size:18}),"Plana Ekle"]})})]})]})]})]})]})}const dpe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function fpe({user:e,filterDate:t,setFilterDate:r}){const[n,i]=g.useState([]),[a,o]=g.useState({}),[s,l]=g.useState(!0),[u,c]=g.useState(!1),[d,h]=g.useState(null),[m,v]=g.useState("");g.useEffect(()=>{const E=en(Tt(xe,"transactions"),Bt("uid","==",e.uid)),S=hn(E,A=>{const C=A.docs.map(N=>N.data());i(C),l(!1)});return()=>S()},[e.uid]),g.useEffect(()=>{const E=en(Tt(xe,"budgets"),Bt("uid","==",e.uid)),S=hn(E,A=>{const C={};A.docs.forEach(N=>{C[N.data().category]=N.data().limit}),o(C)});return()=>S()},[e.uid]);const b=E=>{h(E),v(a[E]||""),c(!0)},y=async E=>{if(E.preventDefault(),m===""||parseFloat(m)<0)return;const S=parseFloat(m);await Qa(ht(xe,"budgets",`${e.uid}_${d}`),{uid:e.uid,category:d,limit:S}),c(!1)},_=n.filter(E=>{var A;let S=E.date;if(!S&&((A=E.createdAt)!=null&&A.toDate)){const C=E.createdAt.toDate();S=`${C.getFullYear()}-${String(C.getMonth()+1).padStart(2,"0")}-${String(C.getDate()).padStart(2,"0")}`}return S&&S.startsWith(t)&&E.type==="expense"}).reduce((E,S)=>{const A=S.category||"Dier";return E[A]=(E[A]||0)+S.amount,E},{});let k=0,T=0;Object.entries(a).forEach(([E,S])=>{S>0&&(k+=S,T+=_[E]||0)});const I=k-T,j=k>0?T/k*100:0;return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(vA,{className:"text-indigo-600 dark:text-indigo-400"}),"Bte Planlamas"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Aylk harcama hedeflerinizi ynetin ve tasarruf edin."})]}),p.jsx("input",{type:"month",className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 shadow-sm",value:t,onChange:E=>r(E.target.value)})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(vA,{size:64,className:"text-indigo-600 dark:text-indigo-400"})}),p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Toplam Bte Hedefi"}),p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:k.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:p.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full",style:{width:"100%"}})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(uu,{size:64,className:"text-amber-500"})}),p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Harcanan Tutar"}),p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:T.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:p.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${j>100?"bg-red-500":"bg-amber-500"}`,style:{width:`${Math.min(j,100)}%`}})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:p.jsx(qc,{size:64,className:"text-emerald-500"})}),p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Kalan Kullanlabilir"}),p.jsx("h3",{className:`text-2xl font-bold mt-1 ${I<0?"text-red-500":"text-emerald-600 dark:text-emerald-400"}`,children:I.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("p",{className:"text-xs text-slate-400 mt-2",children:I<0?"Toplam bte hedefini atnz.":"Bte hedeflerine gre gvendesiniz."})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:dpe.map(E=>{const S=a[E]||0,A=_[E]||0,C=S>0?A/S*100:0,N=S-A,O=S>0;let D="text-slate-400",F="bg-slate-200 dark:bg-slate-700",G="Bte Yok";return O&&(C>=100?(D="text-red-500",F="bg-red-500",G="Bte Ald"):C>=75?(D="text-amber-500",F="bg-amber-500",G="Dikkat"):(D="text-emerald-500",F="bg-emerald-500",G="Gvenli")),p.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl p-6 border transition-all hover:shadow-md ${O?"border-slate-100 dark:border-slate-700":"border-dashed border-slate-200 dark:border-slate-700 opacity-70 hover:opacity-100"}`,children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:E}),p.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700/50 ${D}`,children:G})]}),p.jsx("button",{onClick:()=>b(E),className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Limiti Dzenle",children:p.jsx(Sd,{size:18})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex justify-between items-end",children:p.jsxs("div",{className:"text-right w-full",children:[p.jsxs("div",{className:"flex justify-between text-sm mb-1 text-slate-500 dark:text-slate-400",children:[p.jsx("span",{children:"Harcanan"}),p.jsxs("span",{className:C>100?"text-red-500 font-bold":"",children:[A.toLocaleString("tr-TR",{maximumFractionDigits:0})," TL"]})]}),p.jsxs("div",{className:"flex justify-between text-sm mb-1 font-medium text-slate-700 dark:text-slate-300",children:[p.jsx("span",{children:"Limit"}),p.jsx("span",{children:S>0?S.toLocaleString("tr-TR",{maximumFractionDigits:0})+" TL":"-"})]})]})}),p.jsx("div",{className:"relative h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:S>0&&p.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all duration-700 ${F}`,style:{width:`${Math.min(C,100)}%`}})}),O&&p.jsx("div",{className:"flex items-center gap-2 text-xs font-medium pt-1",children:N>=0?p.jsxs(p.Fragment,{children:[p.jsx(kd,{size:14,className:"text-emerald-500"}),p.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:[N.toLocaleString("tr-TR",{maximumFractionDigits:0})," TL harcayabilirsiniz"]})]}):p.jsxs(p.Fragment,{children:[p.jsx(P1,{size:14,className:"text-red-500"}),p.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[Math.abs(N).toLocaleString("tr-TR",{maximumFractionDigits:0})," TL atnz"]})]})})]})]},E)})}),p.jsx(yu,{isOpen:u,onClose:()=>c(!1),title:`${d} Btesi`,children:p.jsxs("form",{onSubmit:y,className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Bu kategori iin aylk harcama limiti belirleyin."}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aylk Limit (TL)"}),p.jsxs("div",{className:"relative",children:[p.jsx("input",{type:"number",required:!0,min:"0",step:"1",placeholder:"0",value:m,onChange:E=>v(E.target.value),className:"w-full pl-4 pr-12 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-semibold text-lg",autoFocus:!0}),p.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 font-medium",children:"TL"})]})]}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{type:"button",onClick:()=>c(!1),className:"flex-1 py-2 px-4 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors font-medium",children:"ptal"}),p.jsxs("button",{type:"submit",className:"flex-1 py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[p.jsx(mb,{size:18}),"Kaydet"]})]})]})})]})}const hpe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"],ppe=["Maa","Freelance","Yatrm","Ek Gelir","Dier"];function mpe({user:e}){const[t,r]=g.useState("cards"),[n,i]=g.useState(!0),[a,o]=g.useState({expenseCategories:hpe,incomeCategories:ppe,creditCards:[],theme:"system",currency:"TRY"}),[s,l]=g.useState(e.displayName||""),[u,c]=g.useState(!1),[d,h]=g.useState(""),[m,v]=g.useState("expense"),[b,y]=g.useState(""),[x,_]=g.useState(""),[k,T]=g.useState(""),[I,j]=g.useState("");g.useEffect(()=>{(async()=>{const G=ht(xe,"user_settings",e.uid),M=await lq(G);if(M.exists()){const H=M.data();o({...H,creditCards:H.creditCards||[]})}else await Qa(G,a);i(!1)})()},[e.uid]);const E=async F=>{const G={...a,theme:F};o(G),F==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):F==="light"?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(localStorage.removeItem("theme"),window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),await Wa(ht(xe,"user_settings",e.uid),{theme:F})},S=async F=>{if(F.preventDefault(),!d.trim())return;const G=m==="expense"?a.expenseCategories:a.incomeCategories;if(G.includes(d.trim())){alert("Bu kategori zaten mevcut.");return}const M=[...G,d.trim()],H=m==="expense"?{expenseCategories:M}:{incomeCategories:M};o({...a,...H}),await Wa(ht(xe,"user_settings",e.uid),H),h("")},A=async F=>{if(F.preventDefault(),!b.trim())return;const G=a.creditCards||[];if(G.includes(b.trim())){alert("Bu kart zaten ekli.");return}const H={creditCards:[...G,b.trim()]};o({...a,...H}),await Wa(ht(xe,"user_settings",e.uid),H),y("")},C=async(F,G)=>{if(!confirm(`${F} gesini silmek istediinize emin misiniz?`))return;let M={};if(G==="card")M={creditCards:(a.creditCards||[]).filter($=>$!==F)};else{const $=(G==="expense"?a.expenseCategories:a.incomeCategories).filter(B=>B!==F);M=G==="expense"?{expenseCategories:$}:{incomeCategories:$}}o({...a,...M}),await Wa(ht(xe,"user_settings",e.uid),M)},N=async F=>{F.preventDefault(),c(!0);try{await B8(e,{displayName:s}),alert("Profil gncellendi!")}catch(G){console.error(G),alert("Hata olutu.")}finally{c(!1)}},O=async F=>{if(F.preventDefault(),k!==I){alert("Yeni ifreler elemiyor.");return}try{const G=Us.credential(e.email,x);await $8(e,G),await W8(e,k),alert("ifre baaryla deitirildi."),_(""),T(""),j("")}catch(G){console.error(G),alert("ifre deitirilemedi. Mevcut ifrenizi doru girdiinizden emin olun.")}},D=[{id:"cards",label:"Kartlarm",icon:jn},{id:"categories",label:"Kategoriler",icon:dm},{id:"preferences",label:"Grnm",icon:mA},{id:"profile",label:"Profil",icon:yA},{id:"security",label:"Gvenlik",icon:gA}];return n?p.jsx("div",{className:"p-8 text-center",children:"Ykleniyor..."}):p.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Ayarlar"}),p.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[p.jsx("div",{className:"lg:w-64 flex-shrink-0",children:p.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden sticky top-8",children:D.map(F=>p.jsxs("button",{onClick:()=>r(F.id),className:`w-full flex items-center gap-3 p-4 text-sm font-medium transition-colors ${t===F.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 border-l-4 border-indigo-600":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 border-l-4 border-transparent"}`,children:[p.jsx(F.icon,{size:18}),F.label]},F.id))})}),p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 min-h-[400px]",children:[t==="cards"&&p.jsx("div",{className:"space-y-8",children:p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(jn,{className:"text-indigo-600",size:20}),"Kartlarm"]}),p.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Kullandnz kredi kartlarn ekleyin. Harcama yaparken bu kartlardan seim yapabileceksiniz."}),p.jsxs("form",{onSubmit:A,className:"flex gap-2 mb-6",children:[p.jsx("input",{type:"text",value:b,onChange:F=>y(F.target.value),placeholder:"Kart ad (rn: Bonus, Maximum)",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:p.jsx(yo,{size:24})})]}),p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(a.creditCards||[]).map((F,G)=>p.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-slate-800 to-slate-700 text-white rounded-xl shadow-md group",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(jn,{size:20,className:"text-white/80"}),p.jsx("span",{className:"font-medium",children:F})]}),p.jsx("button",{onClick:()=>C(F,"card"),className:"p-1.5 text-white/50 hover:text-red-300 hover:bg-white/10 rounded-md transition-all sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:p.jsx(As,{size:16})})]},G)),(a.creditCards||[]).length===0&&p.jsxs("div",{className:"col-span-2 text-center py-8 text-slate-400 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[p.jsx("p",{className:"mb-2",children:"Henz kart eklemediniz."}),p.jsx("p",{className:"text-xs",children:"Yukardan kartnzn adn yazp (+) butonuna basn."})]})]})]})}),t==="categories"&&p.jsx("div",{className:"space-y-8",children:p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(dm,{className:"text-indigo-600",size:20}),"Kategori Ynetimi"]}),p.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Gelir ve gider ilemlerinizde kullanacanz kategorileri zelletirin."}),p.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-700 rounded-xl mb-6",children:[p.jsx("button",{onClick:()=>v("expense"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${m==="expense"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gider Kategorileri"}),p.jsx("button",{onClick:()=>v("income"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${m==="income"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gelir Kategorileri"})]}),p.jsxs("form",{onSubmit:S,className:"flex gap-2 mb-6",children:[p.jsx("input",{type:"text",value:d,onChange:F=>h(F.target.value),placeholder:"Yeni kategori ad...",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:p.jsx(yo,{size:24})})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(m==="expense"?a.expenseCategories:a.incomeCategories).map((F,G)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg group border border-transparent hover:border-slate-200 dark:hover:border-slate-600 transition-all",children:[p.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:F}),p.jsx("button",{onClick:()=>C(F,m),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md opacity-100 lg:opacity-0 group-hover:opacity-100 transition-all",title:"Sil",children:p.jsx(As,{size:16})})]},G))})]})}),t==="preferences"&&p.jsx("div",{className:"space-y-8",children:p.jsxs("div",{children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(mA,{className:"text-indigo-600",size:20}),"Grnm & Tercihler"]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Tema Seimi"}),p.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[p.jsxs("button",{onClick:()=>E("light"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="light"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[p.jsx(mM,{size:24}),p.jsx("span",{className:"text-sm font-medium",children:"Ak"})]}),p.jsxs("button",{onClick:()=>E("dark"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="dark"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[p.jsx(pM,{size:24}),p.jsx("span",{className:"text-sm font-medium",children:"Koyu"})]}),p.jsxs("button",{onClick:()=>E("system"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${a.theme==="system"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[p.jsx(Sq,{size:24}),p.jsx("span",{className:"text-sm font-medium",children:"Sistem"})]})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Para Birimi"}),p.jsxs("select",{value:a.currency,onChange:F=>{const G=F.target.value;o({...a,currency:G}),Wa(ht(xe,"user_settings",e.uid),{currency:G})},className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"TRY",children:"Trk Liras ()"}),p.jsx("option",{value:"USD",children:"Amerikan Dolar ($)"}),p.jsx("option",{value:"EUR",children:"Euro ()"})]})]})]})]})}),t==="profile"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(yA,{className:"text-indigo-600",size:20}),"Profil Bilgileri"]}),p.jsxs("form",{onSubmit:N,className:"space-y-4 max-w-md",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta Adresi"}),p.jsx("input",{type:"email",disabled:!0,value:e.email,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Grnen sim"}),p.jsx("input",{type:"text",value:s,onChange:F=>l(F.target.value),placeholder:"sminiz",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("button",{type:"submit",disabled:u,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[p.jsx(mb,{size:18})," ",u?"Kaydediliyor...":"Kaydet"]})]})]}),t==="security"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[p.jsx(gA,{className:"text-indigo-600",size:20}),"Gvenlik"]}),p.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl mb-6",children:p.jsxs("div",{className:"flex gap-3",children:[p.jsx(Eq,{className:"text-amber-600 dark:text-amber-400 shrink-0",size:24}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-300 text-sm",children:"ifre Deitirme"}),p.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 mt-1",children:"Gvenliiniz iin ifrenizi dzenli olarak deitirmenizi neririz."})]})]})}),p.jsxs("form",{onSubmit:O,className:"space-y-4 max-w-md",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mevcut ifre"}),p.jsx("input",{type:"password",required:!0,value:x,onChange:F=>_(F.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre"}),p.jsx("input",{type:"password",required:!0,value:k,onChange:F=>T(F.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre (Tekrar)"}),p.jsx("input",{type:"password",required:!0,value:I,onChange:F=>j(F.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[p.jsx(mb,{size:18})," ifreyi Gncelle"]})]})]})]})})]})]})}const m2=["#6366f1","#ec4899","#8b5cf6","#19d6c0ff","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function gpe({user:e}){const[t,r]=g.useState([]),[n,i]=g.useState(!0),[a,o]=g.useState("6M");g.useEffect(()=>{const y=en(Tt(xe,"transactions"),Bt("uid","==",e.uid)),x=hn(y,_=>{const k=_.docs.map(T=>{var j;const I=T.data();return{id:T.id,...I,dateObj:new Date(I.date||((j=I.createdAt)==null?void 0:j.toDate()))}});k.sort((T,I)=>T.dateObj-I.dateObj),r(k),i(!1)});return()=>x()},[e.uid]);const s=()=>{const y=new Date;let x=new Date;a==="1M"?x.setMonth(y.getMonth()-1):a==="3M"?x.setMonth(y.getMonth()-3):a==="6M"?x.setMonth(y.getMonth()-6):a==="1Y"?x.setFullYear(y.getFullYear()-1):x=new Date(0);const _=t.filter(T=>T.dateObj>=x),k={};return _.forEach(T=>{const I=T.dateObj.toLocaleDateString("tr-TR",{month:"short",year:"numeric"});k[I]||(k[I]={name:I,income:0,expense:0,balance:0,rawDate:T.dateObj}),T.type==="income"?k[I].income+=T.amount:k[I].expense+=T.amount}),Object.values(k).sort((T,I)=>T.rawDate-I.rawDate)},l=()=>{const y=new Date;let x=new Date;a==="1M"?x.setMonth(y.getMonth()-1):a==="3M"?x.setMonth(y.getMonth()-3):a==="6M"?x.setMonth(y.getMonth()-6):a==="1Y"?x.setFullYear(y.getFullYear()-1):x=new Date(0);const k=t.filter(T=>T.type==="expense"&&T.dateObj>=x).reduce((T,I)=>{const j=I.category||"Dier";return T[j]=(T[j]||0)+I.amount,T},{});return Object.entries(k).map(([T,I])=>({name:T,value:I})).sort((T,I)=>I.value-T.value).slice(0,6)},u=()=>{const y=new Date;let x=new Date;a==="1M"?x.setMonth(y.getMonth()-1):a==="3M"?x.setMonth(y.getMonth()-3):a==="6M"?x.setMonth(y.getMonth()-6):a==="1Y"?x.setFullYear(y.getFullYear()-1):x=new Date(0);const k=t.filter(I=>I.type==="expense"&&I.paymentMethod==="credit_card"&&I.dateObj>=x).reduce((I,j)=>{const E=j.cardName||"Dier / Genel Kart";return I[E]=(I[E]||0)+j.amount,I},{}),T=Object.values(k).reduce((I,j)=>I+j,0);return Object.entries(k).map(([I,j])=>({name:I,value:j,percent:T>0?j/T*100:0})).sort((I,j)=>j.value-I.value)},c=()=>{const y=s(),x=y.reduce((T,I)=>T+I.income,0),_=y.reduce((T,I)=>T+I.expense,0),k=x>0?(x-_)/x*100:0;return{totalIncome:x,totalExpense:_,net:x-_,savingsRate:k}},d=s(),h=l(),m=u(),v=c(),b=({active:y,payload:x,label:_})=>y&&x&&x.length?p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 border border-slate-100 dark:border-slate-700 rounded-lg shadow-lg",children:[p.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-200 mb-2",children:_}),x.map((k,T)=>p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:k.color}}),p.jsxs("span",{className:"text-slate-500 dark:text-slate-400 capitalize",children:[k.name==="income"?"Gelir":k.name==="expense"?"Gider":k.name,":"]}),p.jsx("span",{className:"font-mono font-medium text-slate-700 dark:text-slate-200",children:k.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},T))]}):null;return n?p.jsx("div",{className:"p-8 text-center text-slate-500",children:"Analizler hazrlanyor..."}):p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(hq,{className:"text-indigo-600"}),"Finansal Raporlar"]}),p.jsx("div",{className:"flex bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:["1M","3M","6M","1Y","ALL"].map(y=>p.jsx("button",{onClick:()=>o(y),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${a===y?"bg-indigo-600 text-white shadow-md":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:y==="ALL"?"Tm":y},y))})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gelir"}),p.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:v.totalIncome.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gider"}),p.jsx("h3",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:v.totalExpense.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Net Durum"}),p.jsxs("h3",{className:`text-2xl font-bold ${v.net>=0?"text-indigo-600 dark:text-indigo-400":"text-red-500"}`,children:[v.net>0?"+":"",v.net.toLocaleString("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Tasarruf Oran"}),p.jsxs("h3",{className:"text-2xl font-bold text-amber-500",children:[v.savingsRate.toFixed(1),"%"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[p.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Gelir ve Gider Ak"}),p.jsx("div",{className:"h-[300px] w-full",children:p.jsx(zl,{width:"100%",height:"100%",children:p.jsxs(Tfe,{data:d,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),p.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[p.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.1}),p.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),p.jsx(tg,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),p.jsx(ag,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),p.jsx(og,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),p.jsx(Wl,{content:p.jsx(b,{})}),p.jsx(uw,{type:"monotone",dataKey:"income",name:"income",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),p.jsx(uw,{type:"monotone",dataKey:"expense",name:"expense",stroke:"#ef4444",strokeWidth:3,fillOpacity:1,fill:"url(#colorExpense)"})]})})})]}),p.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Nereye Harcadm?"}),p.jsx("div",{className:"h-[300px] w-full relative",children:h.length>0?p.jsx(zl,{width:"100%",height:"100%",children:p.jsxs($k,{children:[p.jsx(uy,{data:h,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:h.map((y,x)=>p.jsx(Gs,{fill:m2[x%m2.length]},`cell-${x}`))}),p.jsx(Wl,{}),p.jsx(uE,{verticalAlign:"bottom",height:36,iconType:"circle",content:({payload:y})=>p.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 text-xs",children:y.map((x,_)=>p.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400",children:[p.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:x.color}}),x.value]},`item-${_}`))})})]})}):p.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Veri yok"})})]})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Aylk Net Ak"}),p.jsx("div",{className:"h-[250px] w-full",children:p.jsx(zl,{width:"100%",height:"100%",children:p.jsxs(Y$,{data:d,margin:{top:10,right:10,left:-20,bottom:0},children:[p.jsx(tg,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),p.jsx(ag,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),p.jsx(og,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),p.jsx(Wl,{content:p.jsx(b,{})}),p.jsx(Kl,{dataKey:"income",name:"Gelir",fill:"#10b981",radius:[4,4,0,0],maxBarSize:40}),p.jsx(Kl,{dataKey:"expense",name:"Gider",fill:"#ef4444",radius:[4,4,0,0],maxBarSize:40})]})})})]}),m.length>0&&p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mt-8",children:[p.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[p.jsx(jn,{className:"text-amber-600"}),"Kredi Kart Harcamalar"]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map((y,x)=>p.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-700 flex items-center justify-between group hover:border-amber-200 dark:hover:border-amber-800 transition-all",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg text-amber-600 shadow-sm",children:p.jsx(jn,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:y.name}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("div",{className:"w-16 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${y.percent}%`}})}),p.jsxs("span",{className:"text-xs text-slate-500",children:["%",y.percent.toFixed(0)]})]})]})]}),p.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:y.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},y.name))})]})]})}const vpe=({isOpen:e,onClose:t,asset:r,onAddTransaction:n})=>{const[i,a]=g.useState([]),[o,s]=g.useState(!1),[l,u]=g.useState("buy"),[c,d]=g.useState(""),[h,m]=g.useState("");g.useEffect(()=>{if(!r||!e)return;const b=en(Tt(xe,"asset_transactions"),Bt("assetId","==",r.id),iq("date","desc"),aq(20)),y=hn(b,x=>{a(x.docs.map(_=>({id:_.id,..._.data()})))});return()=>y()},[r,e]);const v=b=>{b.preventDefault(),n({assetId:r.id,type:l,amount:parseFloat(c),price:parseFloat(h),date:new Date().toISOString(),createdAt:Ts()}),d(""),m("")};return!e||!r?null:p.jsxs(yu,{isOpen:e,onClose:t,title:`${r.name} lem Gemii`,children:[p.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700",children:[p.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Yeni lem Ekle"}),p.jsxs("form",{onSubmit:v,className:"grid grid-cols-2 gap-3",children:[p.jsxs("div",{className:"col-span-2 flex gap-2 mb-1",children:[p.jsx("button",{type:"button",onClick:()=>u("buy"),className:`flex-1 py-1.5 text-sm rounded-lg font-medium transition-colors ${l==="buy"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-white dark:bg-slate-800 text-slate-500"}`,children:"Al (Ekle)"}),p.jsx("button",{type:"button",onClick:()=>u("sell"),className:`flex-1 py-1.5 text-sm rounded-lg font-medium transition-colors ${l==="sell"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-white dark:bg-slate-800 text-slate-500"}`,children:"Sat (kar)"})]}),p.jsx("div",{children:p.jsx("input",{type:"number",placeholder:"Miktar",value:c,onChange:b=>d(b.target.value),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200",required:!0})}),p.jsx("div",{children:p.jsx("input",{type:"number",placeholder:"Birim Fiyat",value:h,onChange:b=>m(b.target.value),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200",required:!0})}),p.jsx("button",{className:"col-span-2 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",children:"lemi Kaydet"})]})]}),p.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:i.length===0?p.jsx("p",{className:"text-center text-sm text-slate-400 py-4",children:"Henz ilem kayd yok."}):i.map(b=>p.jsxs("div",{className:"flex justify-between items-center p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`p-2 rounded-full ${b.type==="buy"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:b.type==="buy"?p.jsx(cM,{size:16}):p.jsx(dM,{size:16})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:b.type==="buy"?"Al":"Sat"}),p.jsx("p",{className:"text-xs text-slate-400",children:new Date(b.date).toLocaleDateString()})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("p",{className:`text-sm font-bold ${b.type==="buy"?"text-emerald-600":"text-red-600"}`,children:[b.type==="buy"?"+":"-",b.amount," Adet"]}),p.jsxs("p",{className:"text-xs text-slate-500",children:["@",b.price," TL"]})]})]},b.id))})]})},Ko=[{id:"gold",label:"Altn (Gr)",color:"#fbbf24"},{id:"usd",label:"Dolar ($)",color:"#22c55e"},{id:"eur",label:"Euro ()",color:"#3b82f6"},{id:"stock",label:"Hisse Senedi",color:"#6366f1"},{id:"cash",label:"Nakit (TL)",color:"#94a3b8"},{id:"other",label:"Dier",color:"#ec4899"}],ype={gold:0,usd:0,eur:0};function xpe({user:e}){const[t,r]=g.useState([]),[n,i]=g.useState(ype),[a,o]=g.useState(!0),[s,l]=g.useState(!1),[u,c]=g.useState({isOpen:!1,asset:null}),d=async()=>{l(!0);try{const H=await(await fetch("https://open.er-api.com/v6/latest/USD")).json();if(!H||!H.rates)throw new Error("Dviz verisi alnamad");const $=H.rates.TRY,X=1/H.rates.EUR*$,ne=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=pax-gold&vs_currencies=usd")).json();let ye=0;ne&&ne["pax-gold"]&&(ye=ne["pax-gold"].usd/31.1035*$),i(Ne=>({...Ne,gold:parseFloat(ye.toFixed(2)),usd:parseFloat($.toFixed(4)),eur:parseFloat(X.toFixed(4))})),alert("Piyasa kurlar baaryla gncellendi!")}catch(M){console.error(M),alert("Veri ekilemedi. Ltfen tekrar deneyin.")}finally{l(!1)}},[h,m]=g.useState(!1),[v,b]=g.useState(!1),[y,x]=g.useState(null),[_,k]=g.useState({type:"gold",name:"",amount:"",avgCost:""});g.useEffect(()=>{const M=en(Tt(xe,"investments"),Bt("uid","==",e.uid)),H=hn(M,$=>{r($.docs.map(B=>({id:B.id,...B.data()}))),o(!1)});return()=>H()},[e.uid]),g.useEffect(()=>{const M=hn(ht(xe,"user_settings",e.uid),H=>{H.exists()&&H.data().marketRates&&i($=>({...$,...H.data().marketRates}))});return()=>M()},[e.uid]);const I=(()=>{let M=0,H=0;const $=t.map(B=>{let X=0;["gold","usd","eur"].includes(B.type)?X=n[B.type]:X=B.currentPrice||B.avgCost;const oe=B.amount*X,ne=B.amount*B.avgCost;return M+=oe,H+=ne,{...B,currentValue:oe,profit:oe-ne,profitPercent:ne>0?(oe-ne)/ne*100:0}});return{totalValue:M,totalCost:H,items:$}})(),j=I.totalValue-I.totalCost,E=I.totalCost>0?j/I.totalCost*100:0,S=async M=>{try{await lu(Tt(xe,"asset_transactions"),M);const H=ht(xe,"investments",M.assetId),$=t.find(oe=>oe.id===M.assetId);if(!$)return;let B=$.amount,X=$.avgCost;if(M.type==="buy"){const oe=$.amount*$.avgCost+M.amount*M.price;B=$.amount+M.amount,X=B>0?oe/B:0}else M.type==="sell"&&(B=$.amount-M.amount);await Qa(H,{amount:B,avgCost:parseFloat(X.toFixed(2))},{merge:!0}),alert("lem baaryla eklendi ve portfy gncellendi."),c(oe=>({...oe,isOpen:!1}))}catch(H){console.error("Transaction Error:",H),alert("lem eklenirken hata olutu.")}},A=async M=>{var $;M.preventDefault();const H={uid:e.uid,type:_.type,name:_.name||(($=Ko.find(B=>B.id===_.type))==null?void 0:$.label),amount:parseFloat(_.amount),avgCost:parseFloat(_.avgCost),currentPrice:parseFloat(_.currentPrice||_.avgCost)};y?await Qa(ht(xe,"investments",y.id),H,{merge:!0}):await Qa(ht(Tt(xe,"investments")),H),m(!1),D()},C=async M=>{confirm("Bu varl portfyden kaldrmak istiyor musunuz?")&&await rv(ht(xe,"investments",M))},N=M=>{c({isOpen:!0,asset:M})},O=async M=>{M.preventDefault(),await Qa(ht(xe,"user_settings",e.uid),{marketRates:n},{merge:!0}),b(!1)},D=()=>{k({type:"gold",name:"",amount:"",avgCost:"",currentPrice:""}),x(null)},F=M=>{x(M),k({type:M.type,name:M.name,amount:M.amount,avgCost:M.avgCost,currentPrice:M.currentPrice}),m(!0)},G=I.items.map(M=>{var H;return{name:M.name,value:M.currentValue,color:((H=Ko.find($=>$.id===M.type))==null?void 0:H.color)||"#999"}}).filter(M=>M.value>0);return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(fM,{className:"text-indigo-600 dark:text-indigo-400"}),"Yatrm Portfy"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Varlklarnz takip edin, kr/zarar durumunuzu ynetin."})]}),p.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[p.jsxs("button",{onClick:()=>b(!0),className:"flex-1 md:flex-none py-2 px-4 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center gap-2 font-medium shadow-sm",children:[p.jsx(pp,{size:18}),"Kurlar Gncelle"]}),p.jsxs("button",{onClick:()=>{D(),m(!0)},className:"flex-1 md:flex-none py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-indigo-500/30",children:[p.jsx(yo,{size:18}),"Varlk Ekle"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[p.jsx("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 dark:from-indigo-900 dark:to-slate-900 p-6 rounded-2xl text-white shadow-xl",children:p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Toplam Portfy Deeri"}),p.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:I.totalValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),p.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:p.jsx(qc,{size:24,className:"text-indigo-400"})})]})}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Toplam Kr / Zarar"}),j>=0?p.jsx(uu,{className:"text-emerald-500"}):p.jsx(uu,{className:"text-red-500 rotate-180"})]}),p.jsxs("div",{className:"flex items-end gap-3",children:[p.jsxs("h2",{className:`text-3xl font-bold ${j>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[j>0?"+":"",j.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),p.jsxs("span",{className:`text-sm font-bold mb-1.5 px-2 py-0.5 rounded ${j>=0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:["%",E.toFixed(2)]})]}),p.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Maliyet: ",I.totalCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),p.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-center relative overflow-hidden",children:G.length>0?p.jsx(zl,{width:"100%",height:120,children:p.jsxs($k,{children:[p.jsx(uy,{data:G,cx:"50%",cy:"50%",innerRadius:35,outerRadius:50,paddingAngle:2,dataKey:"value",children:G.map((M,H)=>p.jsx(Gs,{fill:M.color,stroke:"none"},`cell-${H}`))}),p.jsx(Wl,{formatter:M=>M.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]})}):p.jsx("div",{className:"text-slate-400 text-xs text-center p-4",children:"Veri Yok"})})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[p.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Varlklarm"}),p.jsxs("span",{className:"text-xs text-slate-400 font-normal",children:[I.items.length," Varlk"]})]}),p.jsx("div",{className:"block md:hidden",children:I.items.length===0?p.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"Henz portfyne varlk eklemedin."}):p.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:I.items.map(M=>{var H,$;return p.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-1.5 h-10 rounded-full",style:{backgroundColor:(H=Ko.find(B=>B.id===M.type))==null?void 0:H.color}}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:M.name}),p.jsx("span",{className:"text-xs text-slate-400",children:($=Ko.find(B=>B.id===M.type))==null?void 0:$.label})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:M.currentValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsxs("div",{className:`text-xs font-semibold ${M.profit>=0?"text-emerald-500":"text-red-500"}`,children:[M.profit>=0?"+":"","%",M.profitPercent.toFixed(1)]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm bg-slate-50 dark:bg-slate-900/30 p-3 rounded-lg",children:[p.jsxs("div",{children:[p.jsx("span",{className:"block text-xs text-slate-400",children:"Miktar"}),p.jsxs("span",{className:"font-mono text-slate-600 dark:text-slate-300",children:[M.amount," ",p.jsx("span",{className:"text-[10px]",children:M.type==="gold"?"gr":""})]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"block text-xs text-slate-400",children:"Ort. Maliyet"}),p.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:M.avgCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),p.jsxs("div",{className:"col-span-2 pt-2 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[p.jsx("span",{className:"text-xs text-slate-400",children:"Net Kr/Zarar"}),p.jsxs("span",{className:`font-medium ${M.profit>=0?"text-emerald-600":"text-red-600"}`,children:[M.profit>=0?"+":"",M.profit.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]})]}),p.jsxs("div",{className:"flex justify-end gap-2 mt-1",children:[p.jsxs("button",{onClick:()=>N(M),className:"px-3 py-1.5 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 text-xs font-medium rounded-lg flex items-center gap-1",children:[p.jsx(pA,{size:14})," Gemi"]}),p.jsxs("button",{onClick:()=>F(M),className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 text-xs font-medium rounded-lg flex items-center gap-1",children:[p.jsx(Sd,{size:14})," Dzenle"]}),p.jsx("button",{onClick:()=>C(M.id),className:"p-1.5 text-red-500 bg-red-50 dark:bg-red-900/20 rounded-lg",children:p.jsx(As,{size:14})})]})]},M.id)})})}),p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:"w-full text-left",children:[p.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-slate-500 dark:text-slate-400 text-xs uppercase font-semibold",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-4",children:"Varlk"}),p.jsx("th",{className:"px-6 py-4",children:"Miktar"}),p.jsx("th",{className:"px-6 py-4",children:"Ort. Maliyet"}),p.jsx("th",{className:"px-6 py-4",children:"Anlk Deer"}),p.jsx("th",{className:"px-6 py-4",children:"Kr / Zarar"}),p.jsx("th",{className:"px-6 py-4 text-right",children:"lemler"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:I.items.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-slate-400",children:"Henz portfyne varlk eklemedin."})}):I.items.map(M=>{var H,$;return p.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group",children:[p.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 dark:text-slate-200 flex items-center gap-3",children:[p.jsx("div",{className:"w-2 h-8 rounded-full",style:{backgroundColor:(H=Ko.find(B=>B.id===M.type))==null?void 0:H.color}}),p.jsxs("div",{children:[M.name,p.jsx("div",{className:"text-xs text-slate-400 font-normal",children:($=Ko.find(B=>B.id===M.type))==null?void 0:$.label})]})]}),p.jsxs("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300 font-mono",children:[M.amount," ",p.jsx("span",{className:"text-xs text-slate-400",children:M.type==="gold"?"gr":""})]}),p.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:M.avgCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("td",{className:"px-6 py-4 font-bold text-slate-800 dark:text-slate-200",children:M.currentValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsxs("td",{className:"px-6 py-4",children:[p.jsxs("div",{className:`flex items-center gap-1 ${M.profit>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[M.profit>=0?p.jsx(dM,{size:16}):p.jsx(cM,{size:16}),p.jsxs("span",{className:"font-semibold",children:[Math.abs(M.profit).toLocaleString("tr-TR",{maximumFractionDigits:0})," TL"]})]}),p.jsxs("span",{className:`text-xs ${M.profit>=0?"text-emerald-500":"text-red-500"}`,children:["%",M.profitPercent.toFixed(1)]})]}),p.jsx("td",{className:"px-6 py-4 text-right",children:p.jsxs("div",{className:"flex justify-end gap-2 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:[p.jsx("button",{onClick:()=>N(M),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"lem Gemii / Ekle",children:p.jsx(pA,{size:16})}),p.jsx("button",{onClick:()=>F(M),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:p.jsx(Sd,{size:16})}),p.jsx("button",{onClick:()=>C(M.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:p.jsx(As,{size:16})})]})})]},M.id)})})]})})]}),p.jsx(yu,{isOpen:h,onClose:()=>m(!1),title:y?"Varlk Dzenle":"Yeni Varlk Ekle",children:p.jsxs("form",{onSubmit:A,className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Varlk Tr"}),p.jsx("select",{value:_.type,onChange:M=>k({..._,type:M.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:!!y,children:Ko.map(M=>p.jsx("option",{value:M.id,children:M.label},M.id))})]}),["stock","crypto","other"].includes(_.type)&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Varlk Ad / Sembol"}),p.jsx("input",{type:"text",required:!0,placeholder:"rn: ASELS, BTC, ETH...",value:_.name,onChange:M=>k({..._,name:M.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),["stock","crypto","other"].includes(_.type)&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gncel Birim Fiyat (TL)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:_.currentPrice,onChange:M=>k({..._,currentPrice:M.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),p.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Kr/Zarar hesab iin gncel fiyat manuel giriniz."})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar (Adet/Bakiye)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:_.amount,onChange:M=>k({..._,amount:M.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ortalama Al Maliyeti (Birim Ba TL)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:_.avgCost,onChange:M=>k({..._,avgCost:M.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kaydet"})]})}),p.jsx(vpe,{isOpen:u.isOpen,onClose:()=>c({...u,isOpen:!1}),asset:u.asset,onAddTransaction:S}),p.jsx(yu,{isOpen:v,onClose:()=>b(!1),title:"Piyasa Kurlarn Gncelle",children:p.jsxs("form",{onSubmit:O,className:"space-y-4",children:[p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm mb-4",children:[p.jsx("p",{children:'Kurlar manuel girebilir veya "Otomatik Getir" butonunu kullanarak gncel piyasa verilerini ekebilirsiniz.'}),p.jsx("p",{className:"text-xs mt-1 opacity-70",children:"*Altn fiyat uluslararas piyasalara gre (PAX Gold endeksli) hesaplanr, banka kurlarndan farkllk gsterebilir."})]}),p.jsxs("button",{type:"button",onClick:d,disabled:s,className:"w-full py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 font-medium mb-4",children:[s?p.jsx(pp,{size:18,className:"animate-spin"}):p.jsx(pp,{size:18}),s?"Veriler ekiliyor...":"Otomatik Getir (API)"]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gram Altn (TL)"}),p.jsx("input",{type:"number",min:"0",step:"0.01",value:n.gold,onChange:M=>i({...n,gold:parseFloat(M.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dolar / TL"}),p.jsx("input",{type:"number",min:"0",step:"0.0001",value:n.usd,onChange:M=>i({...n,usd:parseFloat(M.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Euro / TL"}),p.jsx("input",{type:"number",min:"0",step:"0.0001",value:n.eur,onChange:M=>i({...n,eur:parseFloat(M.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kurlar Kaydet"})]})})]})}function bpe({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:a="danger"}){return e?p.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:p.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-sm border border-slate-100 dark:border-slate-700 p-6 relative animate-in fade-in zoom-in duration-200",children:[p.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:p.jsx(A1,{size:20})}),p.jsxs("div",{className:"flex flex-col items-center text-center",children:[p.jsx("div",{className:`p-3 rounded-full mb-4 ${a==="danger"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-600"}`,children:p.jsx(P1,{size:32})}),p.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:n}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:i}),p.jsxs("div",{className:"flex gap-3 w-full",children:[p.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 font-medium transition-colors",children:"ptal"}),p.jsx("button",{onClick:()=>{r(),t()},className:`flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors ${a==="danger"?"bg-red-600 hover:bg-red-700 shadow-lg shadow-red-500/30":"bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-500/30"}`,children:"Onayla"})]})]})]})}):null}const g2=[{id:"netflix",name:"Netflix",color:"#E50914",icon:"N"},{id:"spotify",name:"Spotify",color:"#1DB954",icon:"S"},{id:"youtube",name:"YouTube Premium",color:"#FF0000",icon:"Y"},{id:"amazon",name:"Amazon Prime",color:"#00A8E1",icon:"A"},{id:"icloud",name:"Apple iCloud",color:"#0070c9",icon:"A"},{id:"disney",name:"Disney+",color:"#113CCF",icon:"D"},{id:"xbox",name:"Xbox Game Pass",color:"#107C10",icon:"X"},{id:"playstation",name:"PlayStation Plus",color:"#00439C",icon:"P"},{id:"exxen",name:"Exxen",color:"#FFD600",icon:"E"},{id:"blutv",name:"BluTV",color:"#1FBAD6",icon:"B"},{id:"custom",name:"Dier",color:"#6366f1",icon:"?"}];function wpe({user:e}){var I,j;const[t,r]=g.useState([]),[n,i]=g.useState(!0),[a,o]=g.useState(!1),[s,l]=g.useState({isOpen:!1,sub:null}),[u,c]=g.useState({serviceId:"custom",name:"",price:"",billingDay:"1",cycle:"monthly",status:"active"});g.useEffect(()=>{const E=en(Tt(xe,"subscriptions"),Bt("uid","==",e.uid)),S=hn(E,A=>{const C=A.docs.map(N=>({id:N.id,...N.data()}));r(C),i(!1)});return()=>S()},[e.uid]);const d=async E=>{E.preventDefault();let S=u.name,A=u.color;if(u.serviceId!=="custom"){const N=g2.find(O=>O.id===u.serviceId);N&&(S=S||N.name,A=N.color)}else A="#6366f1";const C={uid:e.uid,serviceId:u.serviceId,name:S,price:parseFloat(u.price),billingDay:parseInt(u.billingDay),cycle:u.cycle,status:u.status,color:A,updatedAt:Ts()};u.id?await Qa(ht(xe,"subscriptions",u.id),C,{merge:!0}):await Qa(ht(Tt(xe,"subscriptions")),C),o(!1),m()},h=async E=>{confirm("Bu abonelik kaydn silmek istiyor musunuz?")&&await rv(ht(xe,"subscriptions",E))},m=()=>{c({serviceId:"custom",name:"",price:"",billingDay:"1",cycle:"monthly",status:"active"})},v=E=>{c({...E}),o(!0)},b=async E=>{try{const S=new Date().toISOString().slice(0,7),A=`${E.name} Abonelii`,C=en(Tt(xe,"transactions"),Bt("uid","==",e.uid),Bt("title","==",A));if((await hb(C)).docs.some(D=>{const F=D.data();return F.date&&F.date.startsWith(S)})){alert(`"${E.name}" iin bu ay zaten bir harcama kayd bulunuyor.`);return}l({isOpen:!0,sub:E})}catch(S){console.error("deme kontrol hatas:",S),alert("Bir hata olutu, ltfen tekrar deneyin.")}},y=async()=>{const E=s.sub;if(E)try{await lu(Tt(xe,"transactions"),{uid:e.uid,title:`${E.name} Abonelii`,amount:E.price,type:"expense",category:"Fatura",paymentMethod:"credit_card",date:new Date().toISOString().split("T")[0],subscriptionId:E.id,createdAt:Ts()}),alert("Harcama baaryla eklendi!")}catch(S){console.error(S),alert("Hata olutu.")}},x=t.filter(E=>E.status==="active").reduce((E,S)=>{let A=S.price;return S.cycle==="yearly"&&(A=S.price/12),E+A},0),_=t.filter(E=>E.status==="active").length,k=E=>{const S=new Date,A=S.getFullYear(),C=S.getMonth();let N=new Date(A,C,E);return S.getDate()>E&&N.setMonth(C+1),N},T=[...t].sort((E,S)=>{const A=k(E.billingDay),C=k(S.billingDay);return A-C});return p.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[p.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[p.jsx(fm,{className:"text-indigo-600 dark:text-indigo-400"}),"Abonelikler"]}),p.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Sabit demelerinizi ve dijital servis yeliklerinizi ynetin."})]}),p.jsxs("button",{onClick:()=>{m(),o(!0)},className:"py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-indigo-500/30",children:[p.jsx(yo,{size:18}),"Yeni Abonelik"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-800 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:p.jsx(fm,{size:80})}),p.jsx("p",{className:"text-indigo-100 text-sm font-medium mb-1",children:"Aylk Toplam Sabit Gider"}),p.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:x.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsx("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:"*Yllk paketler aylk ortalamaya dahil edilmitir."})]}),p.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[p.jsxs("div",{className:"flex justify-between items-start mb-2",children:[p.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Aktif Abonelikler"}),p.jsx(kd,{className:"text-emerald-500"})]}),p.jsxs("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:[_," ",p.jsx("span",{className:"text-base font-normal text-slate-400",children:"Servis"})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:T.map(E=>{const S=k(E.billingDay),A=Math.ceil((S-new Date)/(1e3*60*60*24)),C=A<=3;return p.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border transition-all hover:shadow-md relative overflow-hidden group ${E.status==="inactive"?"opacity-60 border-slate-200 dark:border-slate-700":C?"border-amber-200 dark:border-amber-800":"border-slate-100 dark:border-slate-700"}`,children:[E.status==="active"&&A<=7&&p.jsx("div",{className:`absolute top-0 right-0 px-3 py-1 text-[10px] font-bold text-white rounded-bl-xl ${C?"bg-amber-500":"bg-slate-400"}`,children:A===0?"BUGN":`${A} GN KALDI`}),p.jsxs("div",{className:"p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-sm",style:{backgroundColor:E.color||"#6366f1"},children:E.name.charAt(0).toUpperCase()}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg leading-tight",children:E.name}),p.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[E.billingDay,". Gn / ",E.cycle==="monthly"?"Aylk":"Yllk"]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>b(E),className:"text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"demeyi Harcama Olarak Ekle",children:p.jsx(jn,{size:18})}),p.jsx("button",{onClick:()=>v(E),className:"text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Dzenle",children:p.jsx(Sd,{size:18})})]})]}),p.jsxs("div",{className:"flex items-end justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:E.price.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),p.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[p.jsx($l,{size:12}),"Sonraki: ",S.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})]})]}),p.jsxs("div",{className:`px-2.5 py-1 rounded-full text-xs font-semibold flex items-center gap-1.5 ${E.status==="active"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:[E.status==="active"?p.jsx(Iq,{size:10,fill:"currentColor"}):p.jsx(Pq,{size:10,fill:"currentColor"}),E.status==="active"?"Aktif":"Pasif"]})]})]})]},E.id)})}),p.jsx(yu,{isOpen:a,onClose:()=>o(!1),title:u.id?"Abonelii Dzenle":"Yeni Abonelik Ekle",children:p.jsxs("form",{onSubmit:d,className:"space-y-4",children:[p.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 mb-4",children:g2.map(E=>p.jsxs("button",{type:"button",onClick:()=>c({...u,serviceId:E.id,name:E.id==="custom"?"":E.name}),className:`p-2 rounded-lg border text-xs font-medium flex flex-col items-center gap-1 transition-all ${u.serviceId===E.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400"}`,children:[p.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-[10px] font-bold",style:{backgroundColor:E.color},children:E.icon}),p.jsx("span",{className:"truncate w-full text-center",children:E.name.split(" ")[0]})]},E.id))}),u.serviceId==="custom"&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Servis Ad"}),p.jsx("input",{type:"text",required:!0,value:u.name,onChange:E=>c({...u,name:E.target.value}),placeholder:"rn: Ev Kiras, nternet...",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tutar (TL)"}),p.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:u.price,onChange:E=>c({...u,price:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Gn"}),p.jsx("select",{value:u.billingDay,onChange:E=>c({...u,billingDay:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:Array.from({length:31},(E,S)=>S+1).map(E=>p.jsxs("option",{value:E,children:["Her ayn ",E,". gn"]},E))})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dng"}),p.jsxs("select",{value:u.cycle,onChange:E=>c({...u,cycle:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"monthly",children:"Aylk"}),p.jsx("option",{value:"yearly",children:"Yllk"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Durum"}),p.jsxs("select",{value:u.status,onChange:E=>c({...u,status:E.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[p.jsx("option",{value:"active",children:"Aktif"}),p.jsx("option",{value:"inactive",children:"Pasif / ptal"})]})]})]}),p.jsxs("div",{className:"flex gap-3 pt-3",children:[u.id&&p.jsx("button",{type:"button",onClick:()=>h(u.id),className:"px-4 py-3 bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 rounded-lg transition-colors",children:p.jsx(As,{size:20})}),p.jsx("button",{type:"submit",className:"flex-1 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kaydet"})]})]})}),p.jsx(bpe,{isOpen:s.isOpen,onClose:()=>l({...s,isOpen:!1}),onConfirm:y,title:"Abonelik demesi",message:`"${(I=s.sub)==null?void 0:I.name}" iin ${(j=s.sub)==null?void 0:j.price} TL tutarnda harcama eklemek istiyor musunuz?`,type:"info"})]})}function _pe(){var o;const[e,t]=g.useState(!1),[r,n]=g.useState(""),i=async()=>{t(!0),n("");try{await OD(us.currentUser),n("Dorulama balants tekrar gnderildi. Ltfen e-posta kutunuzu (ve spam klasrn) kontrol edin.")}catch(s){console.error(s),s.code==="auth/too-many-requests"?n("ok fazla istek gnderdiniz. Ltfen biraz bekleyin."):n("E-posta gnderilemedi: "+s.message)}finally{t(!1)}},a=()=>{window.location.reload()};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:p.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 text-center",children:[p.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-6 text-indigo-600 dark:text-indigo-400",children:p.jsx(kq,{size:32})}),p.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"E-posta Dorulama"}),p.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["Devam etmek iin ltfen ",p.jsx("strong",{children:(o=us.currentUser)==null?void 0:o.email})," adresine gnderilen dorulama balantsna tklayn."]}),r&&p.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 p-3 rounded-lg text-sm mb-6",children:r}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("button",{onClick:a,className:"w-full py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[p.jsx(pp,{size:18}),"Kullandm, sayfay yenile"]}),p.jsx("button",{onClick:i,disabled:e,className:"w-full py-2.5 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-lg font-medium hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",children:e?"Gnderiliyor...":"Balanty Tekrar Gnder"}),p.jsxs("button",{onClick:()=>ND(us),className:"text-slate-400 hover:text-red-500 text-sm mt-4 flex items-center justify-center gap-1 mx-auto transition-colors",children:[p.jsx(hM,{size:14})," Farkl bir hesapla giri yap"]})]})]})})}function Epe(){Fs();const e=[{path:"/",icon:_q,label:"Ana Sayfa"},{path:"/calendar",icon:$l,label:"Takvim"},{path:"/budget",icon:Tq,label:"Bte"},{path:"/subscriptions",icon:fm,label:"Abonelikler"},{path:"/investments",icon:fM,label:"Portfy"},{path:"/reports",icon:T1,label:"Raporlar"},{path:"/settings",icon:Cq,label:"Ayarlar"}];return p.jsxs(p.Fragment,{children:[p.jsxs("nav",{className:"hidden lg:flex flex-col w-64 h-screen fixed left-0 top-0 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 p-6 z-50 transition-colors duration-300",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2",children:[p.jsx("img",{src:X$,alt:"SpendWise",className:"w-10 h-10 rounded-lg shadow-lg shadow-indigo-500/30"}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-800 to-indigo-600 dark:from-indigo-400 dark:to-indigo-300 bg-clip-text text-transparent",children:"SpendWise"})]}),p.jsx("div",{className:"space-y-2",children:e.map(t=>p.jsxs(GP,{to:t.path,className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${r?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-indigo-600 dark:hover:text-indigo-300"}`,children:[p.jsx(t.icon,{size:20}),t.label]},t.path))}),p.jsx("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-800",children:p.jsx("p",{className:"text-xs text-slate-400 text-center",children:"v1.1.0  SpendWise"})})]}),p.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 w-full bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 pb-safe z-50 transition-colors duration-300",children:p.jsx("div",{className:"flex overflow-x-auto items-center px-2 py-2 gap-1 [&::-webkit-scrollbar]:hidden",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(t=>p.jsxs(GP,{to:t.path,className:({isActive:r})=>`flex flex-col items-center justify-center gap-1 p-2 rounded-lg transition-colors flex-shrink-0 min-w-[64px] ${r?"text-indigo-600 dark:text-indigo-400 font-medium bg-indigo-50 dark:bg-indigo-900/10":"text-slate-500 dark:text-slate-400"}`,children:[p.jsx(t.icon,{size:20,className:"mb-0.5"}),p.jsx("span",{className:"text-[10px] whitespace-nowrap",children:t.label})]},t.path))})})]})}function kpe(){const[e,t]=g.useState(null),[r,n]=g.useState(!0),[i,a]=g.useState(()=>{const o=new Date,s=o.getFullYear(),l=String(o.getMonth()+1).padStart(2,"0");return`${s}-${l}`});return g.useEffect(()=>{const o=G8(us,s=>{t(s),n(!1)});return()=>o()},[]),r?p.jsx("div",{className:"min-h-screen grid place-items-center bg-slate-50 text-slate-500",children:"Ykleniyor..."}):p.jsx(rB,{children:p.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900 transition-colors duration-300",children:[p.jsx(nU,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"},className:"dark:bg-slate-800 dark:text-white"}}),e?e.emailVerified?p.jsxs(p.Fragment,{children:[p.jsx(Epe,{}),p.jsx("main",{className:"lg:ml-64 min-h-screen",children:p.jsxs(GU,{children:[p.jsx(Ni,{path:"/",element:p.jsx(Ife,{user:e,filterDate:i,setFilterDate:a})}),p.jsx(Ni,{path:"/calendar",element:p.jsx(cpe,{user:e})}),p.jsx(Ni,{path:"/budget",element:p.jsx(fpe,{user:e,filterDate:i,setFilterDate:a})}),p.jsx(Ni,{path:"/subscriptions",element:p.jsx(wpe,{user:e})}),p.jsx(Ni,{path:"/investments",element:p.jsx(xpe,{user:e})}),p.jsx(Ni,{path:"/reports",element:p.jsx(gpe,{user:e})}),p.jsx(Ni,{path:"/settings",element:p.jsx(mpe,{user:e})}),p.jsx(Ni,{path:"*",element:p.jsx(HU,{to:"/",replace:!0})})]})})]}):p.jsx(_pe,{}):p.jsx(cq,{})]})})}W0.createRoot(document.getElementById("root")).render(p.jsx(T2.StrictMode,{children:p.jsx(kpe,{})}));
