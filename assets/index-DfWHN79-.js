var K$=Object.defineProperty;var H$=(e,t,r)=>t in e?K$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var I0=(e,t,r)=>H$(e,typeof t!="symbol"?t+"":t,r);function q$(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function ba(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v2={exports:{}},fg={},y2={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qd=Symbol.for("react.element"),G$=Symbol.for("react.portal"),Y$=Symbol.for("react.fragment"),Q$=Symbol.for("react.strict_mode"),X$=Symbol.for("react.profiler"),J$=Symbol.for("react.provider"),Z$=Symbol.for("react.context"),e6=Symbol.for("react.forward_ref"),t6=Symbol.for("react.suspense"),r6=Symbol.for("react.memo"),n6=Symbol.for("react.lazy"),DS=Symbol.iterator;function i6(e){return e===null||typeof e!="object"?null:(e=DS&&e[DS]||e["@@iterator"],typeof e=="function"?e:null)}var x2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b2=Object.assign,w2={};function Eu(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||x2}Eu.prototype.isReactComponent={};Eu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Eu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _2(){}_2.prototype=Eu.prototype;function Dw(e,t,r){this.props=e,this.context=t,this.refs=w2,this.updater=r||x2}var Rw=Dw.prototype=new _2;Rw.constructor=Dw;b2(Rw,Eu.prototype);Rw.isPureReactComponent=!0;var RS=Array.isArray,k2=Object.prototype.hasOwnProperty,Mw={current:null},E2={key:!0,ref:!0,__self:!0,__source:!0};function S2(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)k2.call(t,n)&&!E2.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:qd,type:e,key:a,ref:s,props:i,_owner:Mw.current}}function a6(e,t){return{$$typeof:qd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lw(e){return typeof e=="object"&&e!==null&&e.$$typeof===qd}function s6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var MS=/\/+/g;function C0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?s6(""+e.key):t.toString(36)}function qh(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case qd:case G$:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+C0(s,0):n,RS(i)?(r="",e!=null&&(r=e.replace(MS,"$&/")+"/"),qh(i,t,r,"",function(u){return u})):i!=null&&(Lw(i)&&(i=a6(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(MS,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",RS(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+C0(a,o);s+=qh(a,t,r,l,i)}else if(l=i6(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+C0(a,o++),s+=qh(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ih(e,t,r){if(e==null)return e;var n=[],i=0;return qh(e,n,"","",function(a){return t.call(r,a,i++)}),n}function o6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Hr={current:null},Gh={transition:null},l6={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:Gh,ReactCurrentOwner:Mw};function P2(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:ih,forEach:function(e,t,r){ih(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ih(e,function(){t++}),t},toArray:function(e){return ih(e,function(t){return t})||[]},only:function(e){if(!Lw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=Eu;Ee.Fragment=Y$;Ee.Profiler=X$;Ee.PureComponent=Dw;Ee.StrictMode=Q$;Ee.Suspense=t6;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=l6;Ee.act=P2;Ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=b2({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=Mw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)k2.call(t,l)&&!E2.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:qd,type:e.type,key:i,ref:a,props:n,_owner:s}};Ee.createContext=function(e){return e={$$typeof:Z$,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:J$,_context:e},e.Consumer=e};Ee.createElement=S2;Ee.createFactory=function(e){var t=S2.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:e6,render:e}};Ee.isValidElement=Lw;Ee.lazy=function(e){return{$$typeof:n6,_payload:{_status:-1,_result:e},_init:o6}};Ee.memo=function(e,t){return{$$typeof:r6,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Gh.transition;Gh.transition={};try{e()}finally{Gh.transition=t}};Ee.unstable_act=P2;Ee.useCallback=function(e,t){return Hr.current.useCallback(e,t)};Ee.useContext=function(e){return Hr.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Hr.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return Hr.current.useEffect(e,t)};Ee.useId=function(){return Hr.current.useId()};Ee.useImperativeHandle=function(e,t,r){return Hr.current.useImperativeHandle(e,t,r)};Ee.useInsertionEffect=function(e,t){return Hr.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return Hr.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return Hr.current.useMemo(e,t)};Ee.useReducer=function(e,t,r){return Hr.current.useReducer(e,t,r)};Ee.useRef=function(e){return Hr.current.useRef(e)};Ee.useState=function(e){return Hr.current.useState(e)};Ee.useSyncExternalStore=function(e,t,r){return Hr.current.useSyncExternalStore(e,t,r)};Ee.useTransition=function(){return Hr.current.useTransition()};Ee.version="18.3.1";y2.exports=Ee;var g=y2.exports;const T2=ba(g),A2=q$({__proto__:null,default:T2},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6=g,c6=Symbol.for("react.element"),d6=Symbol.for("react.fragment"),f6=Object.prototype.hasOwnProperty,h6=u6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p6={key:!0,ref:!0,__self:!0,__source:!0};function I2(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)f6.call(t,n)&&!p6.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:c6,type:e,key:a,ref:s,props:i,_owner:h6.current}}fg.Fragment=d6;fg.jsx=I2;fg.jsxs=I2;v2.exports=fg;var h=v2.exports,Hy={},C2={exports:{}},kn={},O2={exports:{}},N2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,V){var Y=M.length;M.push(V);e:for(;0<Y;){var Z=Y-1>>>1,re=M[Z];if(0<i(re,V))M[Z]=V,M[Y]=re,Y=Z;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var V=M[0],Y=M.pop();if(Y!==V){M[0]=Y;e:for(var Z=0,re=M.length,ge=re>>>1;Z<ge;){var ke=2*(Z+1)-1,dt=M[ke],it=ke+1,Oe=M[it];if(0>i(dt,Y))it<re&&0>i(Oe,dt)?(M[Z]=Oe,M[it]=Y,Z=it):(M[Z]=dt,M[ke]=Y,Z=ke);else if(it<re&&0>i(Oe,Y))M[Z]=Oe,M[it]=Y,Z=it;else break e}}return V}function i(M,V){var Y=M.sortIndex-V.sortIndex;return Y!==0?Y:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,d=null,p=3,m=!1,v=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(M){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=M)n(u),V.sortIndex=V.expirationTime,t(l,V);else break;V=r(u)}}function A(M){if(y=!1,E(M),!v)if(r(l)!==null)v=!0,L(N);else{var V=r(u);V!==null&&H(A,V.startTime-M)}}function N(M,V){v=!1,y&&(y=!1,b(S),S=-1),m=!0;var Y=p;try{for(E(V),d=r(l);d!==null&&(!(d.expirationTime>V)||M&&!C());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var re=Z(d.expirationTime<=V);V=e.unstable_now(),typeof re=="function"?d.callback=re:d===r(l)&&n(l),E(V)}else n(l);d=r(l)}if(d!==null)var ge=!0;else{var ke=r(u);ke!==null&&H(A,ke.startTime-V),ge=!1}return ge}finally{d=null,p=Y,m=!1}}var j=!1,k=null,S=-1,T=5,O=-1;function C(){return!(e.unstable_now()-O<T)}function I(){if(k!==null){var M=e.unstable_now();O=M;var V=!0;try{V=k(!0,M)}finally{V?D():(j=!1,k=null)}}else j=!1}var D;if(typeof _=="function")D=function(){_(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,X=B.port2;B.port1.onmessage=I,D=function(){X.postMessage(null)}}else D=function(){x(I,0)};function L(M){k=M,j||(j=!0,D())}function H(M,V){S=x(function(){M(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,L(N))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(M){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var Y=p;p=V;try{return M()}finally{p=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var Y=p;p=M;try{return V()}finally{p=Y}},e.unstable_scheduleCallback=function(M,V,Y){var Z=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?Z+Y:Z):Y=Z,M){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Y+re,M={id:c++,callback:V,priorityLevel:M,startTime:Y,expirationTime:re,sortIndex:-1},Y>Z?(M.sortIndex=Y,t(u,M),r(l)===null&&M===r(u)&&(y?(b(S),S=-1):y=!0,H(A,Y-Z))):(M.sortIndex=re,t(l,M),v||m||(v=!0,L(N))),M},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(M){var V=p;return function(){var Y=p;p=V;try{return M.apply(this,arguments)}finally{p=Y}}}})(N2);O2.exports=N2;var m6=O2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g6=g,wn=m6;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var j2=new Set,Jc={};function qo(e,t){Jl(e,t),Jl(e+"Capture",t)}function Jl(e,t){for(Jc[e]=t,e=0;e<t.length;e++)j2.add(t[e])}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qy=Object.prototype.hasOwnProperty,v6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LS={},VS={};function y6(e){return qy.call(VS,e)?!0:qy.call(LS,e)?!1:v6.test(e)?VS[e]=!0:(LS[e]=!0,!1)}function x6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function b6(e,t,r,n){if(t===null||typeof t>"u"||x6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function qr(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){br[e]=new qr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];br[t]=new qr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){br[e]=new qr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){br[e]=new qr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){br[e]=new qr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){br[e]=new qr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){br[e]=new qr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){br[e]=new qr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){br[e]=new qr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vw=/[\-:]([a-z])/g;function $w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vw,$w);br[t]=new qr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vw,$w);br[t]=new qr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vw,$w);br[t]=new qr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){br[e]=new qr(e,1,!1,e.toLowerCase(),null,!1,!1)});br.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){br[e]=new qr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fw(e,t,r,n){var i=br.hasOwnProperty(t)?br[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(b6(t,r,i,n)&&(r=null),n||i===null?y6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wa=g6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ah=Symbol.for("react.element"),yl=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),zw=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),D2=Symbol.for("react.provider"),R2=Symbol.for("react.context"),Uw=Symbol.for("react.forward_ref"),Yy=Symbol.for("react.suspense"),Qy=Symbol.for("react.suspense_list"),Bw=Symbol.for("react.memo"),Ua=Symbol.for("react.lazy"),M2=Symbol.for("react.offscreen"),$S=Symbol.iterator;function sc(e){return e===null||typeof e!="object"?null:(e=$S&&e[$S]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,O0;function kc(e){if(O0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);O0=t&&t[1]||""}return`
`+O0+e}var N0=!1;function j0(e,t){if(!e||N0)return"";N0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{N0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?kc(e):""}function w6(e){switch(e.tag){case 5:return kc(e.type);case 16:return kc("Lazy");case 13:return kc("Suspense");case 19:return kc("SuspenseList");case 0:case 2:case 15:return e=j0(e.type,!1),e;case 11:return e=j0(e.type.render,!1),e;case 1:return e=j0(e.type,!0),e;default:return""}}function Xy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xl:return"Fragment";case yl:return"Portal";case Gy:return"Profiler";case zw:return"StrictMode";case Yy:return"Suspense";case Qy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R2:return(e.displayName||"Context")+".Consumer";case D2:return(e._context.displayName||"Context")+".Provider";case Uw:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bw:return t=e.displayName||null,t!==null?t:Xy(e.type)||"Memo";case Ua:t=e._payload,e=e._init;try{return Xy(e(t))}catch{}}return null}function _6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xy(t);case 8:return t===zw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ws(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function L2(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k6(e){var t=L2(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function sh(e){e._valueTracker||(e._valueTracker=k6(e))}function V2(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=L2(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _p(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Jy(e,t){var r=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function FS(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ws(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $2(e,t){t=t.checked,t!=null&&Fw(e,"checked",t,!1)}function Zy(e,t){$2(e,t);var r=ws(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ex(e,t.type,r):t.hasOwnProperty("defaultValue")&&ex(e,t.type,ws(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zS(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ex(e,t,r){(t!=="number"||_p(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ec=Array.isArray;function Ml(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ws(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function tx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function US(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Ec(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ws(r)}}function F2(e,t){var r=ws(t.value),n=ws(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function BS(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function z2(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?z2(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var oh,U2=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(oh=oh||document.createElement("div"),oh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},E6=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(e){E6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mc[t]=Mc[e]})});function B2(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Mc.hasOwnProperty(e)&&Mc[e]?(""+t).trim():t+"px"}function W2(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=B2(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var S6=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nx(e,t){if(t){if(S6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function ix(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ax=null;function Ww(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sx=null,Ll=null,Vl=null;function WS(e){if(e=Qd(e)){if(typeof sx!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=vg(t),sx(e.stateNode,e.type,t))}}function K2(e){Ll?Vl?Vl.push(e):Vl=[e]:Ll=e}function H2(){if(Ll){var e=Ll,t=Vl;if(Vl=Ll=null,WS(e),t)for(e=0;e<t.length;e++)WS(t[e])}}function q2(e,t){return e(t)}function G2(){}var D0=!1;function Y2(e,t,r){if(D0)return e(t,r);D0=!0;try{return q2(e,t,r)}finally{D0=!1,(Ll!==null||Vl!==null)&&(G2(),H2())}}function ed(e,t){var r=e.stateNode;if(r===null)return null;var n=vg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var ox=!1;if(ra)try{var oc={};Object.defineProperty(oc,"passive",{get:function(){ox=!0}}),window.addEventListener("test",oc,oc),window.removeEventListener("test",oc,oc)}catch{ox=!1}function P6(e,t,r,n,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Lc=!1,kp=null,Ep=!1,lx=null,T6={onError:function(e){Lc=!0,kp=e}};function A6(e,t,r,n,i,a,s,o,l){Lc=!1,kp=null,P6.apply(T6,arguments)}function I6(e,t,r,n,i,a,s,o,l){if(A6.apply(this,arguments),Lc){if(Lc){var u=kp;Lc=!1,kp=null}else throw Error(Q(198));Ep||(Ep=!0,lx=u)}}function Go(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Q2(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function KS(e){if(Go(e)!==e)throw Error(Q(188))}function C6(e){var t=e.alternate;if(!t){if(t=Go(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return KS(i),e;if(a===n)return KS(i),t;a=a.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function X2(e){return e=C6(e),e!==null?J2(e):null}function J2(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=J2(e);if(t!==null)return t;e=e.sibling}return null}var Z2=wn.unstable_scheduleCallback,HS=wn.unstable_cancelCallback,O6=wn.unstable_shouldYield,N6=wn.unstable_requestPaint,Ot=wn.unstable_now,j6=wn.unstable_getCurrentPriorityLevel,Kw=wn.unstable_ImmediatePriority,eN=wn.unstable_UserBlockingPriority,Sp=wn.unstable_NormalPriority,D6=wn.unstable_LowPriority,tN=wn.unstable_IdlePriority,hg=null,xi=null;function R6(e){if(xi&&typeof xi.onCommitFiberRoot=="function")try{xi.onCommitFiberRoot(hg,e,void 0,(e.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:V6,M6=Math.log,L6=Math.LN2;function V6(e){return e>>>=0,e===0?32:31-(M6(e)/L6|0)|0}var lh=64,uh=4194304;function Sc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pp(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=Sc(o):(a&=s,a!==0&&(n=Sc(a)))}else s=r&~i,s!==0?n=Sc(s):a!==0&&(n=Sc(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Zn(t),i=1<<r,n|=e[r],t&=~i;return n}function $6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F6(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Zn(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=$6(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function ux(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rN(){var e=lh;return lh<<=1,!(lh&4194240)&&(lh=64),e}function R0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Gd(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Zn(t),e[t]=r}function z6(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Zn(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Hw(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Zn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Fe=0;function nN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iN,qw,aN,sN,oN,cx=!1,ch=[],ss=null,os=null,ls=null,td=new Map,rd=new Map,Ha=[],U6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qS(e,t){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":td.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":rd.delete(t.pointerId)}}function lc(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Qd(t),t!==null&&qw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function B6(e,t,r,n,i){switch(t){case"focusin":return ss=lc(ss,e,t,r,n,i),!0;case"dragenter":return os=lc(os,e,t,r,n,i),!0;case"mouseover":return ls=lc(ls,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return td.set(a,lc(td.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,rd.set(a,lc(rd.get(a)||null,e,t,r,n,i)),!0}return!1}function lN(e){var t=so(e.target);if(t!==null){var r=Go(t);if(r!==null){if(t=r.tag,t===13){if(t=Q2(r),t!==null){e.blockedOn=t,oN(e.priority,function(){aN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ax=n,r.target.dispatchEvent(n),ax=null}else return t=Qd(r),t!==null&&qw(t),e.blockedOn=r,!1;t.shift()}return!0}function GS(e,t,r){Yh(e)&&r.delete(t)}function W6(){cx=!1,ss!==null&&Yh(ss)&&(ss=null),os!==null&&Yh(os)&&(os=null),ls!==null&&Yh(ls)&&(ls=null),td.forEach(GS),rd.forEach(GS)}function uc(e,t){e.blockedOn===t&&(e.blockedOn=null,cx||(cx=!0,wn.unstable_scheduleCallback(wn.unstable_NormalPriority,W6)))}function nd(e){function t(i){return uc(i,e)}if(0<ch.length){uc(ch[0],e);for(var r=1;r<ch.length;r++){var n=ch[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ss!==null&&uc(ss,e),os!==null&&uc(os,e),ls!==null&&uc(ls,e),td.forEach(t),rd.forEach(t),r=0;r<Ha.length;r++)n=Ha[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ha.length&&(r=Ha[0],r.blockedOn===null);)lN(r),r.blockedOn===null&&Ha.shift()}var $l=wa.ReactCurrentBatchConfig,Tp=!0;function K6(e,t,r,n){var i=Fe,a=$l.transition;$l.transition=null;try{Fe=1,Gw(e,t,r,n)}finally{Fe=i,$l.transition=a}}function H6(e,t,r,n){var i=Fe,a=$l.transition;$l.transition=null;try{Fe=4,Gw(e,t,r,n)}finally{Fe=i,$l.transition=a}}function Gw(e,t,r,n){if(Tp){var i=dx(e,t,r,n);if(i===null)K0(e,t,n,Ap,r),qS(e,n);else if(B6(i,e,t,r,n))n.stopPropagation();else if(qS(e,n),t&4&&-1<U6.indexOf(e)){for(;i!==null;){var a=Qd(i);if(a!==null&&iN(a),a=dx(e,t,r,n),a===null&&K0(e,t,n,Ap,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else K0(e,t,n,null,r)}}var Ap=null;function dx(e,t,r,n){if(Ap=null,e=Ww(n),e=so(e),e!==null)if(t=Go(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Q2(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ap=e,null}function uN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j6()){case Kw:return 1;case eN:return 4;case Sp:case D6:return 16;case tN:return 536870912;default:return 16}default:return 16}}var es=null,Yw=null,Qh=null;function cN(){if(Qh)return Qh;var e,t=Yw,r=t.length,n,i="value"in es?es.value:es.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Qh=i.slice(e,1<n?1-n:void 0)}function Xh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function dh(){return!0}function YS(){return!1}function En(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?dh:YS,this.isPropagationStopped=YS,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),t}var Su={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qw=En(Su),Yd=yt({},Su,{view:0,detail:0}),q6=En(Yd),M0,L0,cc,pg=yt({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cc&&(cc&&e.type==="mousemove"?(M0=e.screenX-cc.screenX,L0=e.screenY-cc.screenY):L0=M0=0,cc=e),M0)},movementY:function(e){return"movementY"in e?e.movementY:L0}}),QS=En(pg),G6=yt({},pg,{dataTransfer:0}),Y6=En(G6),Q6=yt({},Yd,{relatedTarget:0}),V0=En(Q6),X6=yt({},Su,{animationName:0,elapsedTime:0,pseudoElement:0}),J6=En(X6),Z6=yt({},Su,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eF=En(Z6),tF=yt({},Su,{data:0}),XS=En(tF),rF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iF[e])?!!t[e]:!1}function Xw(){return aF}var sF=yt({},Yd,{key:function(e){if(e.key){var t=rF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xw,charCode:function(e){return e.type==="keypress"?Xh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oF=En(sF),lF=yt({},pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JS=En(lF),uF=yt({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xw}),cF=En(uF),dF=yt({},Su,{propertyName:0,elapsedTime:0,pseudoElement:0}),fF=En(dF),hF=yt({},pg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pF=En(hF),mF=[9,13,27,32],Jw=ra&&"CompositionEvent"in window,Vc=null;ra&&"documentMode"in document&&(Vc=document.documentMode);var gF=ra&&"TextEvent"in window&&!Vc,dN=ra&&(!Jw||Vc&&8<Vc&&11>=Vc),ZS=" ",eP=!1;function fN(e,t){switch(e){case"keyup":return mF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bl=!1;function vF(e,t){switch(e){case"compositionend":return hN(t);case"keypress":return t.which!==32?null:(eP=!0,ZS);case"textInput":return e=t.data,e===ZS&&eP?null:e;default:return null}}function yF(e,t){if(bl)return e==="compositionend"||!Jw&&fN(e,t)?(e=cN(),Qh=Yw=es=null,bl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return dN&&t.locale!=="ko"?null:t.data;default:return null}}var xF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xF[e.type]:t==="textarea"}function pN(e,t,r,n){K2(n),t=Ip(t,"onChange"),0<t.length&&(r=new Qw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var $c=null,id=null;function bF(e){SN(e,0)}function mg(e){var t=kl(e);if(V2(t))return e}function wF(e,t){if(e==="change")return t}var mN=!1;if(ra){var $0;if(ra){var F0="oninput"in document;if(!F0){var rP=document.createElement("div");rP.setAttribute("oninput","return;"),F0=typeof rP.oninput=="function"}$0=F0}else $0=!1;mN=$0&&(!document.documentMode||9<document.documentMode)}function nP(){$c&&($c.detachEvent("onpropertychange",gN),id=$c=null)}function gN(e){if(e.propertyName==="value"&&mg(id)){var t=[];pN(t,id,e,Ww(e)),Y2(bF,t)}}function _F(e,t,r){e==="focusin"?(nP(),$c=t,id=r,$c.attachEvent("onpropertychange",gN)):e==="focusout"&&nP()}function kF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mg(id)}function EF(e,t){if(e==="click")return mg(t)}function SF(e,t){if(e==="input"||e==="change")return mg(t)}function PF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ri=typeof Object.is=="function"?Object.is:PF;function ad(e,t){if(ri(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!qy.call(t,i)||!ri(e[i],t[i]))return!1}return!0}function iP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aP(e,t){var r=iP(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iP(r)}}function vN(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vN(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yN(){for(var e=window,t=_p();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_p(e.document)}return t}function Zw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TF(e){var t=yN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vN(r.ownerDocument.documentElement,r)){if(n!==null&&Zw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=aP(r,a);var s=aP(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var AF=ra&&"documentMode"in document&&11>=document.documentMode,wl=null,fx=null,Fc=null,hx=!1;function sP(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hx||wl==null||wl!==_p(n)||(n=wl,"selectionStart"in n&&Zw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fc&&ad(Fc,n)||(Fc=n,n=Ip(fx,"onSelect"),0<n.length&&(t=new Qw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=wl)))}function fh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var _l={animationend:fh("Animation","AnimationEnd"),animationiteration:fh("Animation","AnimationIteration"),animationstart:fh("Animation","AnimationStart"),transitionend:fh("Transition","TransitionEnd")},z0={},xN={};ra&&(xN=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function gg(e){if(z0[e])return z0[e];if(!_l[e])return e;var t=_l[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in xN)return z0[e]=t[r];return e}var bN=gg("animationend"),wN=gg("animationiteration"),_N=gg("animationstart"),kN=gg("transitionend"),EN=new Map,oP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ns(e,t){EN.set(e,t),qo(t,[e])}for(var U0=0;U0<oP.length;U0++){var B0=oP[U0],IF=B0.toLowerCase(),CF=B0[0].toUpperCase()+B0.slice(1);Ns(IF,"on"+CF)}Ns(bN,"onAnimationEnd");Ns(wN,"onAnimationIteration");Ns(_N,"onAnimationStart");Ns("dblclick","onDoubleClick");Ns("focusin","onFocus");Ns("focusout","onBlur");Ns(kN,"onTransitionEnd");Jl("onMouseEnter",["mouseout","mouseover"]);Jl("onMouseLeave",["mouseout","mouseover"]);Jl("onPointerEnter",["pointerout","pointerover"]);Jl("onPointerLeave",["pointerout","pointerover"]);qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pc));function lP(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,I6(n,t,void 0,e),e.currentTarget=null}function SN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;lP(i,o,u),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;lP(i,o,u),a=l}}}if(Ep)throw e=lx,Ep=!1,lx=null,e}function Ze(e,t){var r=t[yx];r===void 0&&(r=t[yx]=new Set);var n=e+"__bubble";r.has(n)||(PN(t,e,2,!1),r.add(n))}function W0(e,t,r){var n=0;t&&(n|=4),PN(r,e,n,t)}var hh="_reactListening"+Math.random().toString(36).slice(2);function sd(e){if(!e[hh]){e[hh]=!0,j2.forEach(function(r){r!=="selectionchange"&&(OF.has(r)||W0(r,!1,e),W0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hh]||(t[hh]=!0,W0("selectionchange",!1,t))}}function PN(e,t,r,n){switch(uN(t)){case 1:var i=K6;break;case 4:i=H6;break;default:i=Gw}r=i.bind(null,t,r,e),i=void 0,!ox||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function K0(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=so(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}Y2(function(){var u=a,c=Ww(r),d=[];e:{var p=EN.get(e);if(p!==void 0){var m=Qw,v=e;switch(e){case"keypress":if(Xh(r)===0)break e;case"keydown":case"keyup":m=oF;break;case"focusin":v="focus",m=V0;break;case"focusout":v="blur",m=V0;break;case"beforeblur":case"afterblur":m=V0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=QS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Y6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cF;break;case bN:case wN:case _N:m=J6;break;case kN:m=fF;break;case"scroll":m=q6;break;case"wheel":m=pF;break;case"copy":case"cut":case"paste":m=eF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JS}var y=(t&4)!==0,x=!y&&e==="scroll",b=y?p!==null?p+"Capture":null:p;y=[];for(var _=u,E;_!==null;){E=_;var A=E.stateNode;if(E.tag===5&&A!==null&&(E=A,b!==null&&(A=ed(_,b),A!=null&&y.push(od(_,A,E)))),x)break;_=_.return}0<y.length&&(p=new m(p,v,null,r,c),d.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==ax&&(v=r.relatedTarget||r.fromElement)&&(so(v)||v[na]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?so(v):null,v!==null&&(x=Go(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(y=QS,A="onMouseLeave",b="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(y=JS,A="onPointerLeave",b="onPointerEnter",_="pointer"),x=m==null?p:kl(m),E=v==null?p:kl(v),p=new y(A,_+"leave",m,r,c),p.target=x,p.relatedTarget=E,A=null,so(c)===u&&(y=new y(b,_+"enter",v,r,c),y.target=E,y.relatedTarget=x,A=y),x=A,m&&v)t:{for(y=m,b=v,_=0,E=y;E;E=ul(E))_++;for(E=0,A=b;A;A=ul(A))E++;for(;0<_-E;)y=ul(y),_--;for(;0<E-_;)b=ul(b),E--;for(;_--;){if(y===b||b!==null&&y===b.alternate)break t;y=ul(y),b=ul(b)}y=null}else y=null;m!==null&&uP(d,p,m,y,!1),v!==null&&x!==null&&uP(d,x,v,y,!0)}}e:{if(p=u?kl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var N=wF;else if(tP(p))if(mN)N=SF;else{N=kF;var j=_F}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(N=EF);if(N&&(N=N(e,u))){pN(d,N,r,c);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&ex(p,"number",p.value)}switch(j=u?kl(u):window,e){case"focusin":(tP(j)||j.contentEditable==="true")&&(wl=j,fx=u,Fc=null);break;case"focusout":Fc=fx=wl=null;break;case"mousedown":hx=!0;break;case"contextmenu":case"mouseup":case"dragend":hx=!1,sP(d,r,c);break;case"selectionchange":if(AF)break;case"keydown":case"keyup":sP(d,r,c)}var k;if(Jw)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bl?fN(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(dN&&r.locale!=="ko"&&(bl||S!=="onCompositionStart"?S==="onCompositionEnd"&&bl&&(k=cN()):(es=c,Yw="value"in es?es.value:es.textContent,bl=!0)),j=Ip(u,S),0<j.length&&(S=new XS(S,e,null,r,c),d.push({event:S,listeners:j}),k?S.data=k:(k=hN(r),k!==null&&(S.data=k)))),(k=gF?vF(e,r):yF(e,r))&&(u=Ip(u,"onBeforeInput"),0<u.length&&(c=new XS("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=k))}SN(d,t)})}function od(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ip(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=ed(e,r),a!=null&&n.unshift(od(e,a,i)),a=ed(e,t),a!=null&&n.push(od(e,a,i))),e=e.return}return n}function ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function uP(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=ed(r,a),l!=null&&s.unshift(od(r,l,o))):i||(l=ed(r,a),l!=null&&s.push(od(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var NF=/\r\n?/g,jF=/\u0000|\uFFFD/g;function cP(e){return(typeof e=="string"?e:""+e).replace(NF,`
`).replace(jF,"")}function ph(e,t,r){if(t=cP(t),cP(e)!==t&&r)throw Error(Q(425))}function Cp(){}var px=null,mx=null;function gx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vx=typeof setTimeout=="function"?setTimeout:void 0,DF=typeof clearTimeout=="function"?clearTimeout:void 0,dP=typeof Promise=="function"?Promise:void 0,RF=typeof queueMicrotask=="function"?queueMicrotask:typeof dP<"u"?function(e){return dP.resolve(null).then(e).catch(MF)}:vx;function MF(e){setTimeout(function(){throw e})}function H0(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),nd(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);nd(t)}function us(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fP(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Pu=Math.random().toString(36).slice(2),mi="__reactFiber$"+Pu,ld="__reactProps$"+Pu,na="__reactContainer$"+Pu,yx="__reactEvents$"+Pu,LF="__reactListeners$"+Pu,VF="__reactHandles$"+Pu;function so(e){var t=e[mi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[na]||r[mi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fP(e);e!==null;){if(r=e[mi])return r;e=fP(e)}return t}e=r,r=e.parentNode}return null}function Qd(e){return e=e[mi]||e[na],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function kl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function vg(e){return e[ld]||null}var xx=[],El=-1;function js(e){return{current:e}}function nt(e){0>El||(e.current=xx[El],xx[El]=null,El--)}function Ye(e,t){El++,xx[El]=e.current,e.current=t}var _s={},Dr=js(_s),en=js(!1),Eo=_s;function Zl(e,t){var r=e.type.contextTypes;if(!r)return _s;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tn(e){return e=e.childContextTypes,e!=null}function Op(){nt(en),nt(Dr)}function hP(e,t,r){if(Dr.current!==_s)throw Error(Q(168));Ye(Dr,t),Ye(en,r)}function TN(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Q(108,_6(e)||"Unknown",i));return yt({},r,n)}function Np(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,Eo=Dr.current,Ye(Dr,e),Ye(en,en.current),!0}function pP(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=TN(e,t,Eo),n.__reactInternalMemoizedMergedChildContext=e,nt(en),nt(Dr),Ye(Dr,e)):nt(en),Ye(en,r)}var Fi=null,yg=!1,q0=!1;function AN(e){Fi===null?Fi=[e]:Fi.push(e)}function $F(e){yg=!0,AN(e)}function Ds(){if(!q0&&Fi!==null){q0=!0;var e=0,t=Fe;try{var r=Fi;for(Fe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fi=null,yg=!1}catch(i){throw Fi!==null&&(Fi=Fi.slice(e+1)),Z2(Kw,Ds),i}finally{Fe=t,q0=!1}}return null}var Sl=[],Pl=0,jp=null,Dp=0,Cn=[],On=0,So=null,Wi=1,Ki="";function eo(e,t){Sl[Pl++]=Dp,Sl[Pl++]=jp,jp=e,Dp=t}function IN(e,t,r){Cn[On++]=Wi,Cn[On++]=Ki,Cn[On++]=So,So=e;var n=Wi;e=Ki;var i=32-Zn(n)-1;n&=~(1<<i),r+=1;var a=32-Zn(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Wi=1<<32-Zn(t)+i|r<<i|n,Ki=a+e}else Wi=1<<a|r<<i|n,Ki=e}function e_(e){e.return!==null&&(eo(e,1),IN(e,1,0))}function t_(e){for(;e===jp;)jp=Sl[--Pl],Sl[Pl]=null,Dp=Sl[--Pl],Sl[Pl]=null;for(;e===So;)So=Cn[--On],Cn[On]=null,Ki=Cn[--On],Cn[On]=null,Wi=Cn[--On],Cn[On]=null}var xn=null,gn=null,ot=!1,Yn=null;function CN(e,t){var r=Nn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mP(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,gn=us(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,gn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=So!==null?{id:Wi,overflow:Ki}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Nn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xn=e,gn=null,!0):!1;default:return!1}}function bx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wx(e){if(ot){var t=gn;if(t){var r=t;if(!mP(e,t)){if(bx(e))throw Error(Q(418));t=us(r.nextSibling);var n=xn;t&&mP(e,t)?CN(n,r):(e.flags=e.flags&-4097|2,ot=!1,xn=e)}}else{if(bx(e))throw Error(Q(418));e.flags=e.flags&-4097|2,ot=!1,xn=e}}}function gP(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function mh(e){if(e!==xn)return!1;if(!ot)return gP(e),ot=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gx(e.type,e.memoizedProps)),t&&(t=gn)){if(bx(e))throw ON(),Error(Q(418));for(;t;)CN(e,t),t=us(t.nextSibling)}if(gP(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gn=us(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gn=null}}else gn=xn?us(e.stateNode.nextSibling):null;return!0}function ON(){for(var e=gn;e;)e=us(e.nextSibling)}function eu(){gn=xn=null,ot=!1}function r_(e){Yn===null?Yn=[e]:Yn.push(e)}var FF=wa.ReactCurrentBatchConfig;function dc(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function gh(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vP(e){var t=e._init;return t(e._payload)}function NN(e){function t(b,_){if(e){var E=b.deletions;E===null?(b.deletions=[_],b.flags|=16):E.push(_)}}function r(b,_){if(!e)return null;for(;_!==null;)t(b,_),_=_.sibling;return null}function n(b,_){for(b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(b,_){return b=hs(b,_),b.index=0,b.sibling=null,b}function a(b,_,E){return b.index=E,e?(E=b.alternate,E!==null?(E=E.index,E<_?(b.flags|=2,_):E):(b.flags|=2,_)):(b.flags|=1048576,_)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,_,E,A){return _===null||_.tag!==6?(_=ey(E,b.mode,A),_.return=b,_):(_=i(_,E),_.return=b,_)}function l(b,_,E,A){var N=E.type;return N===xl?c(b,_,E.props.children,A,E.key):_!==null&&(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ua&&vP(N)===_.type)?(A=i(_,E.props),A.ref=dc(b,_,E),A.return=b,A):(A=ip(E.type,E.key,E.props,null,b.mode,A),A.ref=dc(b,_,E),A.return=b,A)}function u(b,_,E,A){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=ty(E,b.mode,A),_.return=b,_):(_=i(_,E.children||[]),_.return=b,_)}function c(b,_,E,A,N){return _===null||_.tag!==7?(_=go(E,b.mode,A,N),_.return=b,_):(_=i(_,E),_.return=b,_)}function d(b,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ey(""+_,b.mode,E),_.return=b,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ah:return E=ip(_.type,_.key,_.props,null,b.mode,E),E.ref=dc(b,null,_),E.return=b,E;case yl:return _=ty(_,b.mode,E),_.return=b,_;case Ua:var A=_._init;return d(b,A(_._payload),E)}if(Ec(_)||sc(_))return _=go(_,b.mode,E,null),_.return=b,_;gh(b,_)}return null}function p(b,_,E,A){var N=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:o(b,_,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ah:return E.key===N?l(b,_,E,A):null;case yl:return E.key===N?u(b,_,E,A):null;case Ua:return N=E._init,p(b,_,N(E._payload),A)}if(Ec(E)||sc(E))return N!==null?null:c(b,_,E,A,null);gh(b,E)}return null}function m(b,_,E,A,N){if(typeof A=="string"&&A!==""||typeof A=="number")return b=b.get(E)||null,o(_,b,""+A,N);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case ah:return b=b.get(A.key===null?E:A.key)||null,l(_,b,A,N);case yl:return b=b.get(A.key===null?E:A.key)||null,u(_,b,A,N);case Ua:var j=A._init;return m(b,_,E,j(A._payload),N)}if(Ec(A)||sc(A))return b=b.get(E)||null,c(_,b,A,N,null);gh(_,A)}return null}function v(b,_,E,A){for(var N=null,j=null,k=_,S=_=0,T=null;k!==null&&S<E.length;S++){k.index>S?(T=k,k=null):T=k.sibling;var O=p(b,k,E[S],A);if(O===null){k===null&&(k=T);break}e&&k&&O.alternate===null&&t(b,k),_=a(O,_,S),j===null?N=O:j.sibling=O,j=O,k=T}if(S===E.length)return r(b,k),ot&&eo(b,S),N;if(k===null){for(;S<E.length;S++)k=d(b,E[S],A),k!==null&&(_=a(k,_,S),j===null?N=k:j.sibling=k,j=k);return ot&&eo(b,S),N}for(k=n(b,k);S<E.length;S++)T=m(k,b,S,E[S],A),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?S:T.key),_=a(T,_,S),j===null?N=T:j.sibling=T,j=T);return e&&k.forEach(function(C){return t(b,C)}),ot&&eo(b,S),N}function y(b,_,E,A){var N=sc(E);if(typeof N!="function")throw Error(Q(150));if(E=N.call(E),E==null)throw Error(Q(151));for(var j=N=null,k=_,S=_=0,T=null,O=E.next();k!==null&&!O.done;S++,O=E.next()){k.index>S?(T=k,k=null):T=k.sibling;var C=p(b,k,O.value,A);if(C===null){k===null&&(k=T);break}e&&k&&C.alternate===null&&t(b,k),_=a(C,_,S),j===null?N=C:j.sibling=C,j=C,k=T}if(O.done)return r(b,k),ot&&eo(b,S),N;if(k===null){for(;!O.done;S++,O=E.next())O=d(b,O.value,A),O!==null&&(_=a(O,_,S),j===null?N=O:j.sibling=O,j=O);return ot&&eo(b,S),N}for(k=n(b,k);!O.done;S++,O=E.next())O=m(k,b,S,O.value,A),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?S:O.key),_=a(O,_,S),j===null?N=O:j.sibling=O,j=O);return e&&k.forEach(function(I){return t(b,I)}),ot&&eo(b,S),N}function x(b,_,E,A){if(typeof E=="object"&&E!==null&&E.type===xl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case ah:e:{for(var N=E.key,j=_;j!==null;){if(j.key===N){if(N=E.type,N===xl){if(j.tag===7){r(b,j.sibling),_=i(j,E.props.children),_.return=b,b=_;break e}}else if(j.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Ua&&vP(N)===j.type){r(b,j.sibling),_=i(j,E.props),_.ref=dc(b,j,E),_.return=b,b=_;break e}r(b,j);break}else t(b,j);j=j.sibling}E.type===xl?(_=go(E.props.children,b.mode,A,E.key),_.return=b,b=_):(A=ip(E.type,E.key,E.props,null,b.mode,A),A.ref=dc(b,_,E),A.return=b,b=A)}return s(b);case yl:e:{for(j=E.key;_!==null;){if(_.key===j)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){r(b,_.sibling),_=i(_,E.children||[]),_.return=b,b=_;break e}else{r(b,_);break}else t(b,_);_=_.sibling}_=ty(E,b.mode,A),_.return=b,b=_}return s(b);case Ua:return j=E._init,x(b,_,j(E._payload),A)}if(Ec(E))return v(b,_,E,A);if(sc(E))return y(b,_,E,A);gh(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(r(b,_.sibling),_=i(_,E),_.return=b,b=_):(r(b,_),_=ey(E,b.mode,A),_.return=b,b=_),s(b)):r(b,_)}return x}var tu=NN(!0),jN=NN(!1),Rp=js(null),Mp=null,Tl=null,n_=null;function i_(){n_=Tl=Mp=null}function a_(e){var t=Rp.current;nt(Rp),e._currentValue=t}function _x(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fl(e,t){Mp=e,n_=Tl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Jr=!0),e.firstContext=null)}function Ln(e){var t=e._currentValue;if(n_!==e)if(e={context:e,memoizedValue:t,next:null},Tl===null){if(Mp===null)throw Error(Q(308));Tl=e,Mp.dependencies={lanes:0,firstContext:e}}else Tl=Tl.next=e;return t}var oo=null;function s_(e){oo===null?oo=[e]:oo.push(e)}function DN(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,s_(t)):(r.next=i.next,i.next=r),t.interleaved=r,ia(e,n)}function ia(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ba=!1;function o_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,ia(e,r)}return i=n.interleaved,i===null?(t.next=t,s_(n)):(t.next=i.next,i.next=t),n.interleaved=t,ia(e,r)}function Jh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hw(e,r)}}function yP(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Lp(e,t,r,n){var i=e.updateQueue;Ba=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var d=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane,m=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,y=o;switch(p=t,m=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(m,d,p);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,d,p):v,p==null)break e;d=yt({},d,p);break e;case 2:Ba=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else m={eventTime:m,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=d):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);To|=s,e.lanes=s,e.memoizedState=d}}function xP(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var Xd={},bi=js(Xd),ud=js(Xd),cd=js(Xd);function lo(e){if(e===Xd)throw Error(Q(174));return e}function l_(e,t){switch(Ye(cd,t),Ye(ud,e),Ye(bi,Xd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rx(t,e)}nt(bi),Ye(bi,t)}function ru(){nt(bi),nt(ud),nt(cd)}function MN(e){lo(cd.current);var t=lo(bi.current),r=rx(t,e.type);t!==r&&(Ye(ud,e),Ye(bi,r))}function u_(e){ud.current===e&&(nt(bi),nt(ud))}var pt=js(0);function Vp(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var G0=[];function c_(){for(var e=0;e<G0.length;e++)G0[e]._workInProgressVersionPrimary=null;G0.length=0}var Zh=wa.ReactCurrentDispatcher,Y0=wa.ReactCurrentBatchConfig,Po=0,mt=null,Wt=null,sr=null,$p=!1,zc=!1,dd=0,zF=0;function Er(){throw Error(Q(321))}function d_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ri(e[r],t[r]))return!1;return!0}function f_(e,t,r,n,i,a){if(Po=a,mt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zh.current=e===null||e.memoizedState===null?KF:HF,e=r(n,i),zc){a=0;do{if(zc=!1,dd=0,25<=a)throw Error(Q(301));a+=1,sr=Wt=null,t.updateQueue=null,Zh.current=qF,e=r(n,i)}while(zc)}if(Zh.current=Fp,t=Wt!==null&&Wt.next!==null,Po=0,sr=Wt=mt=null,$p=!1,t)throw Error(Q(300));return e}function h_(){var e=dd!==0;return dd=0,e}function pi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?mt.memoizedState=sr=e:sr=sr.next=e,sr}function Vn(){if(Wt===null){var e=mt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var t=sr===null?mt.memoizedState:sr.next;if(t!==null)sr=t,Wt=e;else{if(e===null)throw Error(Q(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},sr===null?mt.memoizedState=sr=e:sr=sr.next=e}return sr}function fd(e,t){return typeof t=="function"?t(e):t}function Q0(e){var t=Vn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Wt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,u=a;do{var c=u.lane;if((Po&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,s=n):l=l.next=d,mt.lanes|=c,To|=c}u=u.next}while(u!==null&&u!==a);l===null?s=n:l.next=o,ri(n,t.memoizedState)||(Jr=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,mt.lanes|=a,To|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function X0(e){var t=Vn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);ri(a,t.memoizedState)||(Jr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function LN(){}function VN(e,t){var r=mt,n=Vn(),i=t(),a=!ri(n.memoizedState,i);if(a&&(n.memoizedState=i,Jr=!0),n=n.queue,p_(zN.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,hd(9,FN.bind(null,r,n,i,t),void 0,null),ur===null)throw Error(Q(349));Po&30||$N(r,t,i)}return i}function $N(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function FN(e,t,r,n){t.value=r,t.getSnapshot=n,UN(t)&&BN(e)}function zN(e,t,r){return r(function(){UN(t)&&BN(e)})}function UN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ri(e,r)}catch{return!0}}function BN(e){var t=ia(e,1);t!==null&&ei(t,e,1,-1)}function bP(e){var t=pi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:e},t.queue=e,e=e.dispatch=WF.bind(null,mt,e),[t.memoizedState,e]}function hd(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=mt.updateQueue,t===null?(t={lastEffect:null,stores:null},mt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function WN(){return Vn().memoizedState}function ep(e,t,r,n){var i=pi();mt.flags|=e,i.memoizedState=hd(1|t,r,void 0,n===void 0?null:n)}function xg(e,t,r,n){var i=Vn();n=n===void 0?null:n;var a=void 0;if(Wt!==null){var s=Wt.memoizedState;if(a=s.destroy,n!==null&&d_(n,s.deps)){i.memoizedState=hd(t,r,a,n);return}}mt.flags|=e,i.memoizedState=hd(1|t,r,a,n)}function wP(e,t){return ep(8390656,8,e,t)}function p_(e,t){return xg(2048,8,e,t)}function KN(e,t){return xg(4,2,e,t)}function HN(e,t){return xg(4,4,e,t)}function qN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function GN(e,t,r){return r=r!=null?r.concat([e]):null,xg(4,4,qN.bind(null,t,e),r)}function m_(){}function YN(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&d_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function QN(e,t){var r=Vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&d_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function XN(e,t,r){return Po&21?(ri(r,t)||(r=rN(),mt.lanes|=r,To|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Jr=!0),e.memoizedState=r)}function UF(e,t){var r=Fe;Fe=r!==0&&4>r?r:4,e(!0);var n=Y0.transition;Y0.transition={};try{e(!1),t()}finally{Fe=r,Y0.transition=n}}function JN(){return Vn().memoizedState}function BF(e,t,r){var n=fs(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZN(e))ej(t,r);else if(r=DN(e,t,r,n),r!==null){var i=Br();ei(r,e,n,i),tj(r,t,n)}}function WF(e,t,r){var n=fs(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZN(e))ej(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,ri(o,s)){var l=t.interleaved;l===null?(i.next=i,s_(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=DN(e,t,i,n),r!==null&&(i=Br(),ei(r,e,n,i),tj(r,t,n))}}function ZN(e){var t=e.alternate;return e===mt||t!==null&&t===mt}function ej(e,t){zc=$p=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tj(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hw(e,r)}}var Fp={readContext:Ln,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},KF={readContext:Ln,useCallback:function(e,t){return pi().memoizedState=[e,t===void 0?null:t],e},useContext:Ln,useEffect:wP,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ep(4194308,4,qN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ep(4194308,4,e,t)},useInsertionEffect:function(e,t){return ep(4,2,e,t)},useMemo:function(e,t){var r=pi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=BF.bind(null,mt,e),[n.memoizedState,e]},useRef:function(e){var t=pi();return e={current:e},t.memoizedState=e},useState:bP,useDebugValue:m_,useDeferredValue:function(e){return pi().memoizedState=e},useTransition:function(){var e=bP(!1),t=e[0];return e=UF.bind(null,e[1]),pi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=mt,i=pi();if(ot){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),ur===null)throw Error(Q(349));Po&30||$N(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,wP(zN.bind(null,n,a,e),[e]),n.flags|=2048,hd(9,FN.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=pi(),t=ur.identifierPrefix;if(ot){var r=Ki,n=Wi;r=(n&~(1<<32-Zn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=dd++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=zF++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},HF={readContext:Ln,useCallback:YN,useContext:Ln,useEffect:p_,useImperativeHandle:GN,useInsertionEffect:KN,useLayoutEffect:HN,useMemo:QN,useReducer:Q0,useRef:WN,useState:function(){return Q0(fd)},useDebugValue:m_,useDeferredValue:function(e){var t=Vn();return XN(t,Wt.memoizedState,e)},useTransition:function(){var e=Q0(fd)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:LN,useSyncExternalStore:VN,useId:JN,unstable_isNewReconciler:!1},qF={readContext:Ln,useCallback:YN,useContext:Ln,useEffect:p_,useImperativeHandle:GN,useInsertionEffect:KN,useLayoutEffect:HN,useMemo:QN,useReducer:X0,useRef:WN,useState:function(){return X0(fd)},useDebugValue:m_,useDeferredValue:function(e){var t=Vn();return Wt===null?t.memoizedState=e:XN(t,Wt.memoizedState,e)},useTransition:function(){var e=X0(fd)[0],t=Vn().memoizedState;return[e,t]},useMutableSource:LN,useSyncExternalStore:VN,useId:JN,unstable_isNewReconciler:!1};function qn(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function kx(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:yt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var bg={isMounted:function(e){return(e=e._reactInternals)?Go(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Br(),i=fs(e),a=Xi(n,i);a.payload=t,r!=null&&(a.callback=r),t=cs(e,a,i),t!==null&&(ei(t,e,i,n),Jh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Br(),i=fs(e),a=Xi(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=cs(e,a,i),t!==null&&(ei(t,e,i,n),Jh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Br(),n=fs(e),i=Xi(r,n);i.tag=2,t!=null&&(i.callback=t),t=cs(e,i,n),t!==null&&(ei(t,e,n,r),Jh(t,e,n))}};function _P(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!ad(r,n)||!ad(i,a):!0}function rj(e,t,r){var n=!1,i=_s,a=t.contextType;return typeof a=="object"&&a!==null?a=Ln(a):(i=tn(t)?Eo:Dr.current,n=t.contextTypes,a=(n=n!=null)?Zl(e,i):_s),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=bg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function kP(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&bg.enqueueReplaceState(t,t.state,null)}function Ex(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},o_(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Ln(a):(a=tn(t)?Eo:Dr.current,i.context=Zl(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(kx(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&bg.enqueueReplaceState(i,i.state,null),Lp(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function nu(e,t){try{var r="",n=t;do r+=w6(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function J0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Sx(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var GF=typeof WeakMap=="function"?WeakMap:Map;function nj(e,t,r){r=Xi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Up||(Up=!0,Rx=n),Sx(e,t)},r}function ij(e,t,r){r=Xi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Sx(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Sx(e,t),typeof n!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function EP(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new GF;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=lz.bind(null,e,t,r),t.then(e,e))}function SP(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function PP(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xi(-1,1),t.tag=2,cs(r,t,1))),r.lanes|=1),e)}var YF=wa.ReactCurrentOwner,Jr=!1;function $r(e,t,r,n){t.child=e===null?jN(t,null,r,n):tu(t,e.child,r,n)}function TP(e,t,r,n,i){r=r.render;var a=t.ref;return Fl(t,i),n=f_(e,t,r,n,a,i),r=h_(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(ot&&r&&e_(t),t.flags|=1,$r(e,t,n,i),t.child)}function AP(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!k_(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,aj(e,t,a,n,i)):(e=ip(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:ad,r(s,n)&&e.ref===t.ref)return aa(e,t,i)}return t.flags|=1,e=hs(a,n),e.ref=t.ref,e.return=t,t.child=e}function aj(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(ad(a,n)&&e.ref===t.ref)if(Jr=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Jr=!0);else return t.lanes=e.lanes,aa(e,t,i)}return Px(e,t,r,n,i)}function sj(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(Il,hn),hn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ye(Il,hn),hn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ye(Il,hn),hn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ye(Il,hn),hn|=n;return $r(e,t,i,r),t.child}function oj(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Px(e,t,r,n,i){var a=tn(r)?Eo:Dr.current;return a=Zl(t,a),Fl(t,i),r=f_(e,t,r,n,a,i),n=h_(),e!==null&&!Jr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aa(e,t,i)):(ot&&n&&e_(t),t.flags|=1,$r(e,t,r,i),t.child)}function IP(e,t,r,n,i){if(tn(r)){var a=!0;Np(t)}else a=!1;if(Fl(t,i),t.stateNode===null)tp(e,t),rj(t,r,n),Ex(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ln(u):(u=tn(r)?Eo:Dr.current,u=Zl(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==u)&&kP(t,s,n,u),Ba=!1;var p=t.memoizedState;s.state=p,Lp(t,n,s,i),l=t.memoizedState,o!==n||p!==l||en.current||Ba?(typeof c=="function"&&(kx(t,r,c,n),l=t.memoizedState),(o=Ba||_P(t,r,o,n,p,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,RN(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:qn(t.type,o),s.props=u,d=t.pendingProps,p=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ln(l):(l=tn(r)?Eo:Dr.current,l=Zl(t,l));var m=r.getDerivedStateFromProps;(c=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==d||p!==l)&&kP(t,s,n,l),Ba=!1,p=t.memoizedState,s.state=p,Lp(t,n,s,i);var v=t.memoizedState;o!==d||p!==v||en.current||Ba?(typeof m=="function"&&(kx(t,r,m,n),v=t.memoizedState),(u=Ba||_P(t,r,u,n,p,v,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Tx(e,t,r,n,a,i)}function Tx(e,t,r,n,i,a){oj(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&pP(t,r,!1),aa(e,t,a);n=t.stateNode,YF.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=tu(t,e.child,null,a),t.child=tu(t,null,o,a)):$r(e,t,o,a),t.memoizedState=n.state,i&&pP(t,r,!0),t.child}function lj(e){var t=e.stateNode;t.pendingContext?hP(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hP(e,t.context,!1),l_(e,t.containerInfo)}function CP(e,t,r,n,i){return eu(),r_(i),t.flags|=256,$r(e,t,r,n),t.child}var Ax={dehydrated:null,treeContext:null,retryLane:0};function Ix(e){return{baseLanes:e,cachePool:null,transitions:null}}function uj(e,t,r){var n=t.pendingProps,i=pt.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ye(pt,i&1),e===null)return wx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=kg(s,n,0,null),e=go(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ix(r),t.memoizedState=Ax,e):g_(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return QF(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=hs(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=hs(o,a):(a=go(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?Ix(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=Ax,n}return a=e.child,e=a.sibling,n=hs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function g_(e,t){return t=kg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vh(e,t,r,n){return n!==null&&r_(n),tu(t,e.child,null,r),e=g_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QF(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=J0(Error(Q(422))),vh(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=kg({mode:"visible",children:n.children},i,0,null),a=go(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&tu(t,e.child,null,s),t.child.memoizedState=Ix(s),t.memoizedState=Ax,a);if(!(t.mode&1))return vh(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(Q(419)),n=J0(a,n,void 0),vh(e,t,s,n)}if(o=(s&e.childLanes)!==0,Jr||o){if(n=ur,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ia(e,i),ei(n,e,i,-1))}return __(),n=J0(Error(Q(421))),vh(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=uz.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,gn=us(i.nextSibling),xn=t,ot=!0,Yn=null,e!==null&&(Cn[On++]=Wi,Cn[On++]=Ki,Cn[On++]=So,Wi=e.id,Ki=e.overflow,So=t),t=g_(t,n.children),t.flags|=4096,t)}function OP(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_x(e.return,t,r)}function Z0(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function cj(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if($r(e,t,n.children,r),n=pt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&OP(e,r,t);else if(e.tag===19)OP(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ye(pt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Vp(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Z0(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Vp(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Z0(t,!0,r,null,a);break;case"together":Z0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function tp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),To|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=hs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=hs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function XF(e,t,r){switch(t.tag){case 3:lj(t),eu();break;case 5:MN(t);break;case 1:tn(t.type)&&Np(t);break;case 4:l_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ye(Rp,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ye(pt,pt.current&1),t.flags|=128,null):r&t.child.childLanes?uj(e,t,r):(Ye(pt,pt.current&1),e=aa(e,t,r),e!==null?e.sibling:null);Ye(pt,pt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cj(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ye(pt,pt.current),n)break;return null;case 22:case 23:return t.lanes=0,sj(e,t,r)}return aa(e,t,r)}var dj,Cx,fj,hj;dj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Cx=function(){};fj=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,lo(bi.current);var a=null;switch(r){case"input":i=Jy(e,i),n=Jy(e,n),a=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),a=[];break;case"textarea":i=tx(e,i),n=tx(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Cp)}nx(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ze("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};hj=function(e,t,r,n){r!==n&&(t.flags|=4)};function fc(e,t){if(!ot)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Sr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function JF(e,t,r){var n=t.pendingProps;switch(t_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(t),null;case 1:return tn(t.type)&&Op(),Sr(t),null;case 3:return n=t.stateNode,ru(),nt(en),nt(Dr),c_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(mh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yn!==null&&(Vx(Yn),Yn=null))),Cx(e,t),Sr(t),null;case 5:u_(t);var i=lo(cd.current);if(r=t.type,e!==null&&t.stateNode!=null)fj(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return Sr(t),null}if(e=lo(bi.current),mh(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[mi]=t,n[ld]=a,e=(t.mode&1)!==0,r){case"dialog":Ze("cancel",n),Ze("close",n);break;case"iframe":case"object":case"embed":Ze("load",n);break;case"video":case"audio":for(i=0;i<Pc.length;i++)Ze(Pc[i],n);break;case"source":Ze("error",n);break;case"img":case"image":case"link":Ze("error",n),Ze("load",n);break;case"details":Ze("toggle",n);break;case"input":FS(n,a),Ze("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Ze("invalid",n);break;case"textarea":US(n,a),Ze("invalid",n)}nx(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&ph(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&ph(n.textContent,o,e),i=["children",""+o]):Jc.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Ze("scroll",n)}switch(r){case"input":sh(n),zS(n,a,!0);break;case"textarea":sh(n),BS(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Cp)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=z2(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[mi]=t,e[ld]=n,dj(e,t,!1,!1),t.stateNode=e;e:{switch(s=ix(r,n),r){case"dialog":Ze("cancel",e),Ze("close",e),i=n;break;case"iframe":case"object":case"embed":Ze("load",e),i=n;break;case"video":case"audio":for(i=0;i<Pc.length;i++)Ze(Pc[i],e);i=n;break;case"source":Ze("error",e),i=n;break;case"img":case"image":case"link":Ze("error",e),Ze("load",e),i=n;break;case"details":Ze("toggle",e),i=n;break;case"input":FS(e,n),i=Jy(e,n),Ze("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),Ze("invalid",e);break;case"textarea":US(e,n),i=tx(e,n),Ze("invalid",e);break;default:i=n}nx(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?W2(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&U2(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Zc(e,l):typeof l=="number"&&Zc(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jc.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ze("scroll",e):l!=null&&Fw(e,a,l,s))}switch(r){case"input":sh(e),zS(e,n,!1);break;case"textarea":sh(e),BS(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ws(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Ml(e,!!n.multiple,a,!1):n.defaultValue!=null&&Ml(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Cp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Sr(t),null;case 6:if(e&&t.stateNode!=null)hj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=lo(cd.current),lo(bi.current),mh(t)){if(n=t.stateNode,r=t.memoizedProps,n[mi]=t,(a=n.nodeValue!==r)&&(e=xn,e!==null))switch(e.tag){case 3:ph(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ph(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mi]=t,t.stateNode=n}return Sr(t),null;case 13:if(nt(pt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ot&&gn!==null&&t.mode&1&&!(t.flags&128))ON(),eu(),t.flags|=98560,a=!1;else if(a=mh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[mi]=t}else eu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Sr(t),a=!1}else Yn!==null&&(Vx(Yn),Yn=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pt.current&1?qt===0&&(qt=3):__())),t.updateQueue!==null&&(t.flags|=4),Sr(t),null);case 4:return ru(),Cx(e,t),e===null&&sd(t.stateNode.containerInfo),Sr(t),null;case 10:return a_(t.type._context),Sr(t),null;case 17:return tn(t.type)&&Op(),Sr(t),null;case 19:if(nt(pt),a=t.memoizedState,a===null)return Sr(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)fc(a,!1);else{if(qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Vp(e),s!==null){for(t.flags|=128,fc(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ye(pt,pt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ot()>iu&&(t.flags|=128,n=!0,fc(a,!1),t.lanes=4194304)}else{if(!n)if(e=Vp(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fc(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!ot)return Sr(t),null}else 2*Ot()-a.renderingStartTime>iu&&r!==1073741824&&(t.flags|=128,n=!0,fc(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ot(),t.sibling=null,r=pt.current,Ye(pt,n?r&1|2:r&1),t):(Sr(t),null);case 22:case 23:return w_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hn&1073741824&&(Sr(t),t.subtreeFlags&6&&(t.flags|=8192)):Sr(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function ZF(e,t){switch(t_(t),t.tag){case 1:return tn(t.type)&&Op(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ru(),nt(en),nt(Dr),c_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return u_(t),null;case 13:if(nt(pt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));eu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nt(pt),null;case 4:return ru(),null;case 10:return a_(t.type._context),null;case 22:case 23:return w_(),null;case 24:return null;default:return null}}var yh=!1,Ir=!1,ez=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Al(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(e,t,n)}else r.current=null}function Ox(e,t,r){try{r()}catch(n){St(e,t,n)}}var NP=!1;function tz(e,t){if(px=Tp,e=yN(),Zw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var m;d!==r||i!==0&&d.nodeType!==3||(o=s+i),d!==a||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(m=d.firstChild)!==null;)p=d,d=m;for(;;){if(d===e)break t;if(p===r&&++u===i&&(o=s),p===a&&++c===n&&(l=s),(m=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(mx={focusedElem:e,selectionRange:r},Tp=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,x=v.memoizedState,b=t.stateNode,_=b.getSnapshotBeforeUpdate(t.elementType===t.type?y:qn(t.type,y),x);b.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(A){St(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return v=NP,NP=!1,v}function Uc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Ox(t,r,a)}i=i.next}while(i!==n)}}function wg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Nx(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pj(e){var t=e.alternate;t!==null&&(e.alternate=null,pj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mi],delete t[ld],delete t[yx],delete t[LF],delete t[VF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mj(e){return e.tag===5||e.tag===3||e.tag===4}function jP(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Cp));else if(n!==4&&(e=e.child,e!==null))for(jx(e,t,r),e=e.sibling;e!==null;)jx(e,t,r),e=e.sibling}function Dx(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Dx(e,t,r),e=e.sibling;e!==null;)Dx(e,t,r),e=e.sibling}var hr=null,Gn=!1;function Fa(e,t,r){for(r=r.child;r!==null;)gj(e,t,r),r=r.sibling}function gj(e,t,r){if(xi&&typeof xi.onCommitFiberUnmount=="function")try{xi.onCommitFiberUnmount(hg,r)}catch{}switch(r.tag){case 5:Ir||Al(r,t);case 6:var n=hr,i=Gn;hr=null,Fa(e,t,r),hr=n,Gn=i,hr!==null&&(Gn?(e=hr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hr.removeChild(r.stateNode));break;case 18:hr!==null&&(Gn?(e=hr,r=r.stateNode,e.nodeType===8?H0(e.parentNode,r):e.nodeType===1&&H0(e,r),nd(e)):H0(hr,r.stateNode));break;case 4:n=hr,i=Gn,hr=r.stateNode.containerInfo,Gn=!0,Fa(e,t,r),hr=n,Gn=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Ox(r,t,s),i=i.next}while(i!==n)}Fa(e,t,r);break;case 1:if(!Ir&&(Al(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){St(r,t,o)}Fa(e,t,r);break;case 21:Fa(e,t,r);break;case 22:r.mode&1?(Ir=(n=Ir)||r.memoizedState!==null,Fa(e,t,r),Ir=n):Fa(e,t,r);break;default:Fa(e,t,r)}}function DP(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ez),t.forEach(function(n){var i=cz.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Hn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:hr=o.stateNode,Gn=!1;break e;case 3:hr=o.stateNode.containerInfo,Gn=!0;break e;case 4:hr=o.stateNode.containerInfo,Gn=!0;break e}o=o.return}if(hr===null)throw Error(Q(160));gj(a,s,i),hr=null,Gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){St(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vj(t,e),t=t.sibling}function vj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),di(e),n&4){try{Uc(3,e,e.return),wg(3,e)}catch(y){St(e,e.return,y)}try{Uc(5,e,e.return)}catch(y){St(e,e.return,y)}}break;case 1:Hn(t,e),di(e),n&512&&r!==null&&Al(r,r.return);break;case 5:if(Hn(t,e),di(e),n&512&&r!==null&&Al(r,r.return),e.flags&32){var i=e.stateNode;try{Zc(i,"")}catch(y){St(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&$2(i,a),ix(o,s);var u=ix(o,a);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?W2(i,d):c==="dangerouslySetInnerHTML"?U2(i,d):c==="children"?Zc(i,d):Fw(i,c,d,u)}switch(o){case"input":Zy(i,a);break;case"textarea":F2(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ml(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Ml(i,!!a.multiple,a.defaultValue,!0):Ml(i,!!a.multiple,a.multiple?[]:"",!1))}i[ld]=a}catch(y){St(e,e.return,y)}}break;case 6:if(Hn(t,e),di(e),n&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){St(e,e.return,y)}}break;case 3:if(Hn(t,e),di(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{nd(t.containerInfo)}catch(y){St(e,e.return,y)}break;case 4:Hn(t,e),di(e);break;case 13:Hn(t,e),di(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(x_=Ot())),n&4&&DP(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Ir=(u=Ir)||c,Hn(t,e),Ir=u):Hn(t,e),di(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(ne=e,c=e.child;c!==null;){for(d=ne=c;ne!==null;){switch(p=ne,m=p.child,p.tag){case 0:case 11:case 14:case 15:Uc(4,p,p.return);break;case 1:Al(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){St(n,r,y)}}break;case 5:Al(p,p.return);break;case 22:if(p.memoizedState!==null){MP(d);continue}}m!==null?(m.return=p,ne=m):MP(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=B2("display",s))}catch(y){St(e,e.return,y)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){St(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Hn(t,e),di(e),n&4&&DP(e);break;case 21:break;default:Hn(t,e),di(e)}}function di(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(mj(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Zc(i,""),n.flags&=-33);var a=jP(e);Dx(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=jP(e);jx(e,o,s);break;default:throw Error(Q(161))}}catch(l){St(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rz(e,t,r){ne=e,yj(e)}function yj(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var i=ne,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||yh;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ir;o=yh;var u=Ir;if(yh=s,(Ir=l)&&!u)for(ne=i;ne!==null;)s=ne,l=s.child,s.tag===22&&s.memoizedState!==null?LP(i):l!==null?(l.return=s,ne=l):LP(i);for(;a!==null;)ne=a,yj(a),a=a.sibling;ne=i,yh=o,Ir=u}RP(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,ne=a):RP(e)}}function RP(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ir||wg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ir)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:qn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&xP(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xP(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&nd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Ir||t.flags&512&&Nx(t)}catch(p){St(t,t.return,p)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function MP(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function LP(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wg(4,t)}catch(l){St(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){St(t,i,l)}}var a=t.return;try{Nx(t)}catch(l){St(t,a,l)}break;case 5:var s=t.return;try{Nx(t)}catch(l){St(t,s,l)}}}catch(l){St(t,t.return,l)}if(t===e){ne=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ne=o;break}ne=t.return}}var nz=Math.ceil,zp=wa.ReactCurrentDispatcher,v_=wa.ReactCurrentOwner,Dn=wa.ReactCurrentBatchConfig,Ce=0,ur=null,Lt=null,yr=0,hn=0,Il=js(0),qt=0,pd=null,To=0,_g=0,y_=0,Bc=null,Qr=null,x_=0,iu=1/0,$i=null,Up=!1,Rx=null,ds=null,xh=!1,ts=null,Bp=0,Wc=0,Mx=null,rp=-1,np=0;function Br(){return Ce&6?Ot():rp!==-1?rp:rp=Ot()}function fs(e){return e.mode&1?Ce&2&&yr!==0?yr&-yr:FF.transition!==null?(np===0&&(np=rN()),np):(e=Fe,e!==0||(e=window.event,e=e===void 0?16:uN(e.type)),e):1}function ei(e,t,r,n){if(50<Wc)throw Wc=0,Mx=null,Error(Q(185));Gd(e,r,n),(!(Ce&2)||e!==ur)&&(e===ur&&(!(Ce&2)&&(_g|=r),qt===4&&qa(e,yr)),rn(e,n),r===1&&Ce===0&&!(t.mode&1)&&(iu=Ot()+500,yg&&Ds()))}function rn(e,t){var r=e.callbackNode;F6(e,t);var n=Pp(e,e===ur?yr:0);if(n===0)r!==null&&HS(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&HS(r),t===1)e.tag===0?$F(VP.bind(null,e)):AN(VP.bind(null,e)),RF(function(){!(Ce&6)&&Ds()}),r=null;else{switch(nN(n)){case 1:r=Kw;break;case 4:r=eN;break;case 16:r=Sp;break;case 536870912:r=tN;break;default:r=Sp}r=Pj(r,xj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function xj(e,t){if(rp=-1,np=0,Ce&6)throw Error(Q(327));var r=e.callbackNode;if(zl()&&e.callbackNode!==r)return null;var n=Pp(e,e===ur?yr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wp(e,n);else{t=n;var i=Ce;Ce|=2;var a=wj();(ur!==e||yr!==t)&&($i=null,iu=Ot()+500,mo(e,t));do try{sz();break}catch(o){bj(e,o)}while(!0);i_(),zp.current=a,Ce=i,Lt!==null?t=0:(ur=null,yr=0,t=qt)}if(t!==0){if(t===2&&(i=ux(e),i!==0&&(n=i,t=Lx(e,i))),t===1)throw r=pd,mo(e,0),qa(e,n),rn(e,Ot()),r;if(t===6)qa(e,n);else{if(i=e.current.alternate,!(n&30)&&!iz(i)&&(t=Wp(e,n),t===2&&(a=ux(e),a!==0&&(n=a,t=Lx(e,a))),t===1))throw r=pd,mo(e,0),qa(e,n),rn(e,Ot()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:to(e,Qr,$i);break;case 3:if(qa(e,n),(n&130023424)===n&&(t=x_+500-Ot(),10<t)){if(Pp(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Br(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=vx(to.bind(null,e,Qr,$i),t);break}to(e,Qr,$i);break;case 4:if(qa(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-Zn(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nz(n/1960))-n,10<n){e.timeoutHandle=vx(to.bind(null,e,Qr,$i),n);break}to(e,Qr,$i);break;case 5:to(e,Qr,$i);break;default:throw Error(Q(329))}}}return rn(e,Ot()),e.callbackNode===r?xj.bind(null,e):null}function Lx(e,t){var r=Bc;return e.current.memoizedState.isDehydrated&&(mo(e,t).flags|=256),e=Wp(e,t),e!==2&&(t=Qr,Qr=r,t!==null&&Vx(t)),e}function Vx(e){Qr===null?Qr=e:Qr.push.apply(Qr,e)}function iz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!ri(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qa(e,t){for(t&=~y_,t&=~_g,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Zn(t),n=1<<r;e[r]=-1,t&=~n}}function VP(e){if(Ce&6)throw Error(Q(327));zl();var t=Pp(e,0);if(!(t&1))return rn(e,Ot()),null;var r=Wp(e,t);if(e.tag!==0&&r===2){var n=ux(e);n!==0&&(t=n,r=Lx(e,n))}if(r===1)throw r=pd,mo(e,0),qa(e,t),rn(e,Ot()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,to(e,Qr,$i),rn(e,Ot()),null}function b_(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(iu=Ot()+500,yg&&Ds())}}function Ao(e){ts!==null&&ts.tag===0&&!(Ce&6)&&zl();var t=Ce;Ce|=1;var r=Dn.transition,n=Fe;try{if(Dn.transition=null,Fe=1,e)return e()}finally{Fe=n,Dn.transition=r,Ce=t,!(Ce&6)&&Ds()}}function w_(){hn=Il.current,nt(Il)}function mo(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,DF(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(t_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Op();break;case 3:ru(),nt(en),nt(Dr),c_();break;case 5:u_(n);break;case 4:ru();break;case 13:nt(pt);break;case 19:nt(pt);break;case 10:a_(n.type._context);break;case 22:case 23:w_()}r=r.return}if(ur=e,Lt=e=hs(e.current,null),yr=hn=t,qt=0,pd=null,y_=_g=To=0,Qr=Bc=null,oo!==null){for(t=0;t<oo.length;t++)if(r=oo[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}oo=null}return e}function bj(e,t){do{var r=Lt;try{if(i_(),Zh.current=Fp,$p){for(var n=mt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$p=!1}if(Po=0,sr=Wt=mt=null,zc=!1,dd=0,v_.current=null,r===null||r.return===null){qt=1,pd=t,Lt=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=yr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=SP(s);if(m!==null){m.flags&=-257,PP(m,s,o,a,t),m.mode&1&&EP(a,u,t),t=m,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){EP(a,u,t),__();break e}l=Error(Q(426))}}else if(ot&&o.mode&1){var x=SP(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PP(x,s,o,a,t),r_(nu(l,o));break e}}a=l=nu(l,o),qt!==4&&(qt=2),Bc===null?Bc=[a]:Bc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=nj(a,l,t);yP(a,b);break e;case 1:o=l;var _=a.type,E=a.stateNode;if(!(a.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ds===null||!ds.has(E)))){a.flags|=65536,t&=-t,a.lanes|=t;var A=ij(a,o,t);yP(a,A);break e}}a=a.return}while(a!==null)}kj(r)}catch(N){t=N,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function wj(){var e=zp.current;return zp.current=Fp,e===null?Fp:e}function __(){(qt===0||qt===3||qt===2)&&(qt=4),ur===null||!(To&268435455)&&!(_g&268435455)||qa(ur,yr)}function Wp(e,t){var r=Ce;Ce|=2;var n=wj();(ur!==e||yr!==t)&&($i=null,mo(e,t));do try{az();break}catch(i){bj(e,i)}while(!0);if(i_(),Ce=r,zp.current=n,Lt!==null)throw Error(Q(261));return ur=null,yr=0,qt}function az(){for(;Lt!==null;)_j(Lt)}function sz(){for(;Lt!==null&&!O6();)_j(Lt)}function _j(e){var t=Sj(e.alternate,e,hn);e.memoizedProps=e.pendingProps,t===null?kj(e):Lt=t,v_.current=null}function kj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ZF(r,t),r!==null){r.flags&=32767,Lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qt=6,Lt=null;return}}else if(r=JF(r,t,hn),r!==null){Lt=r;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);qt===0&&(qt=5)}function to(e,t,r){var n=Fe,i=Dn.transition;try{Dn.transition=null,Fe=1,oz(e,t,r,n)}finally{Dn.transition=i,Fe=n}return null}function oz(e,t,r,n){do zl();while(ts!==null);if(Ce&6)throw Error(Q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(z6(e,a),e===ur&&(Lt=ur=null,yr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||xh||(xh=!0,Pj(Sp,function(){return zl(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Dn.transition,Dn.transition=null;var s=Fe;Fe=1;var o=Ce;Ce|=4,v_.current=null,tz(e,r),vj(r,e),TF(mx),Tp=!!px,mx=px=null,e.current=r,rz(r),N6(),Ce=o,Fe=s,Dn.transition=a}else e.current=r;if(xh&&(xh=!1,ts=e,Bp=i),a=e.pendingLanes,a===0&&(ds=null),R6(r.stateNode),rn(e,Ot()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Up)throw Up=!1,e=Rx,Rx=null,e;return Bp&1&&e.tag!==0&&zl(),a=e.pendingLanes,a&1?e===Mx?Wc++:(Wc=0,Mx=e):Wc=0,Ds(),null}function zl(){if(ts!==null){var e=nN(Bp),t=Dn.transition,r=Fe;try{if(Dn.transition=null,Fe=16>e?16:e,ts===null)var n=!1;else{if(e=ts,ts=null,Bp=0,Ce&6)throw Error(Q(331));var i=Ce;for(Ce|=4,ne=e.current;ne!==null;){var a=ne,s=a.child;if(ne.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ne=u;ne!==null;){var c=ne;switch(c.tag){case 0:case 11:case 15:Uc(8,c,a)}var d=c.child;if(d!==null)d.return=c,ne=d;else for(;ne!==null;){c=ne;var p=c.sibling,m=c.return;if(pj(c),c===u){ne=null;break}if(p!==null){p.return=m,ne=p;break}ne=m}}}var v=a.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ne=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,ne=s;else e:for(;ne!==null;){if(a=ne,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Uc(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,ne=b;break e}ne=a.return}}var _=e.current;for(ne=_;ne!==null;){s=ne;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,ne=E;else e:for(s=_;ne!==null;){if(o=ne,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:wg(9,o)}}catch(N){St(o,o.return,N)}if(o===s){ne=null;break e}var A=o.sibling;if(A!==null){A.return=o.return,ne=A;break e}ne=o.return}}if(Ce=i,Ds(),xi&&typeof xi.onPostCommitFiberRoot=="function")try{xi.onPostCommitFiberRoot(hg,e)}catch{}n=!0}return n}finally{Fe=r,Dn.transition=t}}return!1}function $P(e,t,r){t=nu(r,t),t=nj(e,t,1),e=cs(e,t,1),t=Br(),e!==null&&(Gd(e,1,t),rn(e,t))}function St(e,t,r){if(e.tag===3)$P(e,e,r);else for(;t!==null;){if(t.tag===3){$P(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ds===null||!ds.has(n))){e=nu(r,e),e=ij(t,e,1),t=cs(t,e,1),e=Br(),t!==null&&(Gd(t,1,e),rn(t,e));break}}t=t.return}}function lz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Br(),e.pingedLanes|=e.suspendedLanes&r,ur===e&&(yr&r)===r&&(qt===4||qt===3&&(yr&130023424)===yr&&500>Ot()-x_?mo(e,0):y_|=r),rn(e,t)}function Ej(e,t){t===0&&(e.mode&1?(t=uh,uh<<=1,!(uh&130023424)&&(uh=4194304)):t=1);var r=Br();e=ia(e,t),e!==null&&(Gd(e,t,r),rn(e,r))}function uz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ej(e,r)}function cz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),Ej(e,r)}var Sj;Sj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||en.current)Jr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Jr=!1,XF(e,t,r);Jr=!!(e.flags&131072)}else Jr=!1,ot&&t.flags&1048576&&IN(t,Dp,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;tp(e,t),e=t.pendingProps;var i=Zl(t,Dr.current);Fl(t,r),i=f_(null,t,n,e,i,r);var a=h_();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tn(n)?(a=!0,Np(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,o_(t),i.updater=bg,t.stateNode=i,i._reactInternals=t,Ex(t,n,e,r),t=Tx(null,t,n,!0,a,r)):(t.tag=0,ot&&a&&e_(t),$r(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(tp(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=fz(n),e=qn(n,e),i){case 0:t=Px(null,t,n,e,r);break e;case 1:t=IP(null,t,n,e,r);break e;case 11:t=TP(null,t,n,e,r);break e;case 14:t=AP(null,t,n,qn(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qn(n,i),Px(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qn(n,i),IP(e,t,n,i,r);case 3:e:{if(lj(t),e===null)throw Error(Q(387));n=t.pendingProps,a=t.memoizedState,i=a.element,RN(e,t),Lp(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=nu(Error(Q(423)),t),t=CP(e,t,n,r,i);break e}else if(n!==i){i=nu(Error(Q(424)),t),t=CP(e,t,n,r,i);break e}else for(gn=us(t.stateNode.containerInfo.firstChild),xn=t,ot=!0,Yn=null,r=jN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(eu(),n===i){t=aa(e,t,r);break e}$r(e,t,n,r)}t=t.child}return t;case 5:return MN(t),e===null&&wx(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,gx(n,i)?s=null:a!==null&&gx(n,a)&&(t.flags|=32),oj(e,t),$r(e,t,s,r),t.child;case 6:return e===null&&wx(t),null;case 13:return uj(e,t,r);case 4:return l_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=tu(t,null,n,r):$r(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qn(n,i),TP(e,t,n,i,r);case 7:return $r(e,t,t.pendingProps,r),t.child;case 8:return $r(e,t,t.pendingProps.children,r),t.child;case 12:return $r(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ye(Rp,n._currentValue),n._currentValue=s,a!==null)if(ri(a.value,s)){if(a.children===i.children&&!en.current){t=aa(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=Xi(-1,r&-r),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),_x(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(Q(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),_x(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}$r(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Fl(t,r),i=Ln(i),n=n(i),t.flags|=1,$r(e,t,n,r),t.child;case 14:return n=t.type,i=qn(n,t.pendingProps),i=qn(n.type,i),AP(e,t,n,i,r);case 15:return aj(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:qn(n,i),tp(e,t),t.tag=1,tn(n)?(e=!0,Np(t)):e=!1,Fl(t,r),rj(t,n,i),Ex(t,n,i,r),Tx(null,t,n,!0,e,r);case 19:return cj(e,t,r);case 22:return sj(e,t,r)}throw Error(Q(156,t.tag))};function Pj(e,t){return Z2(e,t)}function dz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(e,t,r,n){return new dz(e,t,r,n)}function k_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fz(e){if(typeof e=="function")return k_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uw)return 11;if(e===Bw)return 14}return 2}function hs(e,t){var r=e.alternate;return r===null?(r=Nn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ip(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")k_(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case xl:return go(r.children,i,a,t);case zw:s=8,i|=8;break;case Gy:return e=Nn(12,r,t,i|2),e.elementType=Gy,e.lanes=a,e;case Yy:return e=Nn(13,r,t,i),e.elementType=Yy,e.lanes=a,e;case Qy:return e=Nn(19,r,t,i),e.elementType=Qy,e.lanes=a,e;case M2:return kg(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D2:s=10;break e;case R2:s=9;break e;case Uw:s=11;break e;case Bw:s=14;break e;case Ua:s=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=Nn(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function go(e,t,r,n){return e=Nn(7,e,n,t),e.lanes=r,e}function kg(e,t,r,n){return e=Nn(22,e,n,t),e.elementType=M2,e.lanes=r,e.stateNode={isHidden:!1},e}function ey(e,t,r){return e=Nn(6,e,null,t),e.lanes=r,e}function ty(e,t,r){return t=Nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hz(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R0(0),this.expirationTimes=R0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function E_(e,t,r,n,i,a,s,o,l){return e=new hz(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Nn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},o_(a),e}function pz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yl,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Tj(e){if(!e)return _s;e=e._reactInternals;e:{if(Go(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(tn(r))return TN(e,r,t)}return t}function Aj(e,t,r,n,i,a,s,o,l){return e=E_(r,n,!0,e,i,a,s,o,l),e.context=Tj(null),r=e.current,n=Br(),i=fs(r),a=Xi(n,i),a.callback=t??null,cs(r,a,i),e.current.lanes=i,Gd(e,i,n),rn(e,n),e}function Eg(e,t,r,n){var i=t.current,a=Br(),s=fs(i);return r=Tj(r),t.context===null?t.context=r:t.pendingContext=r,t=Xi(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=cs(i,t,s),e!==null&&(ei(e,i,s,a),Jh(e,i,s)),s}function Kp(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function FP(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function S_(e,t){FP(e,t),(e=e.alternate)&&FP(e,t)}function mz(){return null}var Ij=typeof reportError=="function"?reportError:function(e){console.error(e)};function P_(e){this._internalRoot=e}Sg.prototype.render=P_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Eg(e,t,null,null)};Sg.prototype.unmount=P_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ao(function(){Eg(null,e,null,null)}),t[na]=null}};function Sg(e){this._internalRoot=e}Sg.prototype.unstable_scheduleHydration=function(e){if(e){var t=sN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ha.length&&t!==0&&t<Ha[r].priority;r++);Ha.splice(r,0,e),r===0&&lN(e)}};function T_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zP(){}function gz(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var u=Kp(s);a.call(u)}}var s=Aj(t,n,e,0,null,!1,!1,"",zP);return e._reactRootContainer=s,e[na]=s.current,sd(e.nodeType===8?e.parentNode:e),Ao(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Kp(l);o.call(u)}}var l=E_(e,0,!1,null,null,!1,!1,"",zP);return e._reactRootContainer=l,e[na]=l.current,sd(e.nodeType===8?e.parentNode:e),Ao(function(){Eg(t,l,r,n)}),l}function Tg(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Kp(s);o.call(l)}}Eg(t,s,e,i)}else s=gz(r,t,e,i,n);return Kp(s)}iN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Sc(t.pendingLanes);r!==0&&(Hw(t,r|1),rn(t,Ot()),!(Ce&6)&&(iu=Ot()+500,Ds()))}break;case 13:Ao(function(){var n=ia(e,1);if(n!==null){var i=Br();ei(n,e,1,i)}}),S_(e,1)}};qw=function(e){if(e.tag===13){var t=ia(e,134217728);if(t!==null){var r=Br();ei(t,e,134217728,r)}S_(e,134217728)}};aN=function(e){if(e.tag===13){var t=fs(e),r=ia(e,t);if(r!==null){var n=Br();ei(r,e,t,n)}S_(e,t)}};sN=function(){return Fe};oN=function(e,t){var r=Fe;try{return Fe=e,t()}finally{Fe=r}};sx=function(e,t,r){switch(t){case"input":if(Zy(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=vg(n);if(!i)throw Error(Q(90));V2(n),Zy(n,i)}}}break;case"textarea":F2(e,r);break;case"select":t=r.value,t!=null&&Ml(e,!!r.multiple,t,!1)}};q2=b_;G2=Ao;var vz={usingClientEntryPoint:!1,Events:[Qd,kl,vg,K2,H2,b_]},hc={findFiberByHostInstance:so,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yz={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wa.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=X2(e),e===null?null:e.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||mz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{hg=bh.inject(yz),xi=bh}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vz;kn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T_(t))throw Error(Q(200));return pz(e,t,null,r)};kn.createRoot=function(e,t){if(!T_(e))throw Error(Q(299));var r=!1,n="",i=Ij;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=E_(e,1,!1,null,null,r,!1,n,i),e[na]=t.current,sd(e.nodeType===8?e.parentNode:e),new P_(t)};kn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=X2(t),e=e===null?null:e.stateNode,e};kn.flushSync=function(e){return Ao(e)};kn.hydrate=function(e,t,r){if(!Pg(t))throw Error(Q(200));return Tg(null,e,t,!0,r)};kn.hydrateRoot=function(e,t,r){if(!T_(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=Ij;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=Aj(t,null,e,1,r??null,i,!1,a,s),e[na]=t.current,sd(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Sg(t)};kn.render=function(e,t,r){if(!Pg(t))throw Error(Q(200));return Tg(null,e,t,!1,r)};kn.unmountComponentAtNode=function(e){if(!Pg(e))throw Error(Q(40));return e._reactRootContainer?(Ao(function(){Tg(null,null,e,!1,function(){e._reactRootContainer=null,e[na]=null})}),!0):!1};kn.unstable_batchedUpdates=b_;kn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pg(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Tg(e,t,r,!1,n)};kn.version="18.3.1-next-f1338f8080-20240426";function Cj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cj)}catch(e){console.error(e)}}Cj(),C2.exports=kn;var Ag=C2.exports,UP=Ag;Hy.createRoot=UP.createRoot,Hy.hydrateRoot=UP.hydrateRoot;let xz={data:""},bz=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||xz},wz=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_z=/\/\*[^]*?\*\/|  +/g,BP=/\n+/g,Ga=(e,t)=>{let r="",n="",i="";for(let a in e){let s=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+s+";":n+=a[1]=="f"?Ga(s,a):a+"{"+Ga(s,a[1]=="k"?"":t)+"}":typeof s=="object"?n+=Ga(s,t?t.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ga.p?Ga.p(a,s):a+":"+s+";")}return r+(t&&i?t+"{"+i+"}":i)+n},Li={},Oj=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+Oj(e[r]);return t}return e},kz=(e,t,r,n,i)=>{let a=Oj(e),s=Li[a]||(Li[a]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(a));if(!Li[s]){let l=a!==e?e:(u=>{let c,d,p=[{}];for(;c=wz.exec(u.replace(_z,""));)c[4]?p.shift():c[3]?(d=c[3].replace(BP," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][c[1]]=c[2].replace(BP," ").trim();return p[0]})(e);Li[s]=Ga(i?{["@keyframes "+s]:l}:l,r?"":"."+s)}let o=r&&Li.g?Li.g:null;return r&&(Li.g=Li[s]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Li[s],t,n,o),s},Ez=(e,t,r)=>e.reduce((n,i,a)=>{let s=t[a];if(s&&s.call){let o=s(r),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=l?"."+l:o&&typeof o=="object"?o.props?"":Ga(o,""):o===!1?"":o}return n+i+(s??"")},"");function Ig(e){let t=this||{},r=e.call?e(t.p):e;return kz(r.unshift?r.raw?Ez(r,[].slice.call(arguments,1),t.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(t.p):i),{}):r,bz(t.target),t.g,t.o,t.k)}let Nj,$x,Fx;Ig.bind({g:1});let sa=Ig.bind({k:1});function Sz(e,t,r,n){Ga.p=t,Nj=e,$x=r,Fx=n}function Rs(e,t){let r=this||{};return function(){let n=arguments;function i(a,s){let o=Object.assign({},a),l=o.className||i.className;r.p=Object.assign({theme:$x&&$x()},o),r.o=/ *go\d+/.test(l),o.className=Ig.apply(r,n)+(l?" "+l:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),Fx&&u[0]&&Fx(o),Nj(u,o)}return i}}var Pz=e=>typeof e=="function",Hp=(e,t)=>Pz(e)?e(t):e,Tz=(()=>{let e=0;return()=>(++e).toString()})(),jj=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Az=20,A_="default",Dj=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(s=>s.id===t.toast.id?{...s,...t.toast}:s)};case 2:let{toast:n}=t;return Dj(e,{type:e.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(s=>s.id===i||i===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(s=>s.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let a=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},ap=[],Rj={toasts:[],pausedAt:void 0,settings:{toastLimit:Az}},gi={},Mj=(e,t=A_)=>{gi[t]=Dj(gi[t]||Rj,e),ap.forEach(([r,n])=>{r===t&&n(gi[t])})},Lj=e=>Object.keys(gi).forEach(t=>Mj(e,t)),Iz=e=>Object.keys(gi).find(t=>gi[t].toasts.some(r=>r.id===e)),Cg=(e=A_)=>t=>{Mj(t,e)},Cz={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Oz=(e={},t=A_)=>{let[r,n]=g.useState(gi[t]||Rj),i=g.useRef(gi[t]);g.useEffect(()=>(i.current!==gi[t]&&n(gi[t]),ap.push([t,n]),()=>{let s=ap.findIndex(([o])=>o===t);s>-1&&ap.splice(s,1)}),[t]);let a=r.toasts.map(s=>{var o,l,u;return{...e,...e[s.type],...s,removeDelay:s.removeDelay||((o=e[s.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:s.duration||((l=e[s.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||Cz[s.type],style:{...e.style,...(u=e[s.type])==null?void 0:u.style,...s.style}}});return{...r,toasts:a}},Nz=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Tz()}),Jd=e=>(t,r)=>{let n=Nz(t,e,r);return Cg(n.toasterId||Iz(n.id))({type:2,toast:n}),n.id},or=(e,t)=>Jd("blank")(e,t);or.error=Jd("error");or.success=Jd("success");or.loading=Jd("loading");or.custom=Jd("custom");or.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Cg(t)(r):Lj(r)};or.dismissAll=e=>or.dismiss(void 0,e);or.remove=(e,t)=>{let r={type:4,toastId:e};t?Cg(t)(r):Lj(r)};or.removeAll=e=>or.remove(void 0,e);or.promise=(e,t,r)=>{let n=or.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let a=t.success?Hp(t.success,i):void 0;return a?or.success(a,{id:n,...r,...r==null?void 0:r.success}):or.dismiss(n),i}).catch(i=>{let a=t.error?Hp(t.error,i):void 0;a?or.error(a,{id:n,...r,...r==null?void 0:r.error}):or.dismiss(n)}),e};var jz=1e3,Dz=(e,t="default")=>{let{toasts:r,pausedAt:n}=Oz(e,t),i=g.useRef(new Map).current,a=g.useCallback((d,p=jz)=>{if(i.has(d))return;let m=setTimeout(()=>{i.delete(d),s({type:4,toastId:d})},p);i.set(d,m)},[]);g.useEffect(()=>{if(n)return;let d=Date.now(),p=r.map(m=>{if(m.duration===1/0)return;let v=(m.duration||0)+m.pauseDuration-(d-m.createdAt);if(v<0){m.visible&&or.dismiss(m.id);return}return setTimeout(()=>or.dismiss(m.id,t),v)});return()=>{p.forEach(m=>m&&clearTimeout(m))}},[r,n,t]);let s=g.useCallback(Cg(t),[t]),o=g.useCallback(()=>{s({type:5,time:Date.now()})},[s]),l=g.useCallback((d,p)=>{s({type:1,toast:{id:d,height:p}})},[s]),u=g.useCallback(()=>{n&&s({type:6,time:Date.now()})},[n,s]),c=g.useCallback((d,p)=>{let{reverseOrder:m=!1,gutter:v=8,defaultPosition:y}=p||{},x=r.filter(E=>(E.position||y)===(d.position||y)&&E.height),b=x.findIndex(E=>E.id===d.id),_=x.filter((E,A)=>A<b&&E.visible).length;return x.filter(E=>E.visible).slice(...m?[_+1]:[0,_]).reduce((E,A)=>E+(A.height||0)+v,0)},[r]);return g.useEffect(()=>{r.forEach(d=>{if(d.dismissed)a(d.id,d.removeDelay);else{let p=i.get(d.id);p&&(clearTimeout(p),i.delete(d.id))}})},[r,a]),{toasts:r,handlers:{updateHeight:l,startPause:o,endPause:u,calculateOffset:c}}},Rz=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Mz=sa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Lz=sa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Vz=Rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Rz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Mz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Lz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$z=sa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Fz=Rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$z} 1s linear infinite;
`,zz=sa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Uz=sa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Bz=Rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Uz} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Wz=Rs("div")`
  position: absolute;
`,Kz=Rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Hz=sa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qz=Rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Hz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Gz=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?g.createElement(qz,null,t):t:r==="blank"?null:g.createElement(Kz,null,g.createElement(Fz,{...n}),r!=="loading"&&g.createElement(Wz,null,r==="error"?g.createElement(Vz,{...n}):g.createElement(Bz,{...n})))},Yz=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Qz=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Xz="0%{opacity:0;} 100%{opacity:1;}",Jz="0%{opacity:1;} 100%{opacity:0;}",Zz=Rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,eU=Rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,tU=(e,t)=>{let r=e.includes("top")?1:-1,[n,i]=jj()?[Xz,Jz]:[Yz(r),Qz(r)];return{animation:t?`${sa(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${sa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rU=g.memo(({toast:e,position:t,style:r,children:n})=>{let i=e.height?tU(e.position||t||"top-center",e.visible):{opacity:0},a=g.createElement(Gz,{toast:e}),s=g.createElement(eU,{...e.ariaProps},Hp(e.message,e));return g.createElement(Zz,{className:e.className,style:{...i,...r,...e.style}},typeof n=="function"?n({icon:a,message:s}):g.createElement(g.Fragment,null,a,s))});Sz(g.createElement);var nU=({id:e,className:t,style:r,onHeightUpdate:n,children:i})=>{let a=g.useCallback(s=>{if(s){let o=()=>{let l=s.getBoundingClientRect().height;n(e,l)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return g.createElement("div",{ref:a,className:t,style:r},i)},iU=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:jj()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...i}},aU=Ig`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wh=16,sU=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:i,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:u}=Dz(r,a);return g.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:wh,left:wh,right:wh,bottom:wh,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(c=>{let d=c.position||t,p=u.calculateOffset(c,{reverseOrder:e,gutter:n,defaultPosition:t}),m=iU(d,p);return g.createElement(nU,{id:c.id,key:c.id,onHeightUpdate:u.updateHeight,className:c.visible?aU:"",style:m},c.type==="custom"?Hp(c.message,c):i?i(c):g.createElement(rU,{toast:c,position:d}))}))};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function md(){return md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},md.apply(this,arguments)}var rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rs||(rs={}));const WP="popstate";function oU(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:s,hash:o}=n.location;return zx("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:qp(i)}return uU(t,r,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function I_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lU(){return Math.random().toString(36).substr(2,8)}function KP(e,t){return{usr:e.state,key:e.key,idx:t}}function zx(e,t,r,n){return r===void 0&&(r=null),md({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Tu(t):t,{state:r,key:t&&t.key||n||lU()})}function qp(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Tu(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function uU(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o=rs.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(md({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){o=rs.Pop;let x=c(),b=x==null?null:x-u;u=x,l&&l({action:o,location:y.location,delta:b})}function p(x,b){o=rs.Push;let _=zx(y.location,x,b);u=c()+1;let E=KP(_,u),A=y.createHref(_);try{s.pushState(E,"",A)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(A)}a&&l&&l({action:o,location:y.location,delta:1})}function m(x,b){o=rs.Replace;let _=zx(y.location,x,b);u=c();let E=KP(_,u),A=y.createHref(_);s.replaceState(E,"",A),a&&l&&l({action:o,location:y.location,delta:0})}function v(x){let b=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof x=="string"?x:qp(x);return _=_.replace(/ $/,"%20"),gt(b,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,b)}let y={get action(){return o},get location(){return e(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WP,d),l=x,()=>{i.removeEventListener(WP,d),l=null}},createHref(x){return t(i,x)},createURL:v,encodeLocation(x){let b=v(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:p,replace:m,go(x){return s.go(x)}};return y}var HP;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(HP||(HP={}));function cU(e,t,r){return r===void 0&&(r="/"),dU(e,t,r)}function dU(e,t,r,n){let i=typeof t=="string"?Tu(t):t,a=au(i.pathname||"/",r);if(a==null)return null;let s=Vj(e);fU(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let u=kU(a);o=wU(s[l],u)}return o}function Vj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,s,o)=>{let l={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=ps([n,l.relativePath]),c=r.concat(l);a.children&&a.children.length>0&&(gt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Vj(a.children,t,c,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:xU(u,a.index),routesMeta:c})};return e.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let l of $j(a.path))i(a,s,l)}),t}function $j(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=$j(n.join("/")),o=[];return o.push(...s.map(l=>l===""?a:[a,l].join("/"))),i&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function fU(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:bU(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hU=/^:[\w-]+$/,pU=3,mU=2,gU=1,vU=10,yU=-2,qP=e=>e==="*";function xU(e,t){let r=e.split("/"),n=r.length;return r.some(qP)&&(n+=yU),t&&(n+=mU),r.filter(i=>!qP(i)).reduce((i,a)=>i+(hU.test(a)?pU:a===""?gU:vU),n)}function bU(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function wU(e,t,r){let{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=a==="/"?t:t.slice(a.length)||"/",d=Ux({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:ps([a,d.pathname]),pathnameBase:AU(ps([a,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(a=ps([a,d.pathnameBase]))}return s}function Ux(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=_U(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:p,isOptional:m}=c;if(p==="*"){let y=o[d]||"";s=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const v=o[d];return m&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:e}}function _U(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),I_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function kU(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return I_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function au(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const EU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SU=e=>EU.test(e);function PU(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Tu(e):e,a;if(r)if(SU(r))a=r;else{if(r.includes("//")){let s=r;r=r.replace(/\/\/+/g,"/"),I_(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+r))}r.startsWith("/")?a=GP(r.substring(1),"/"):a=GP(r,t)}else a=t;return{pathname:a,search:IU(n),hash:CU(i)}}function GP(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ry(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TU(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function C_(e,t){let r=TU(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function O_(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Tu(e):(i=md({},e),gt(!i.pathname||!i.pathname.includes("?"),ry("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),ry("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),ry("#","search","hash",i)));let a=e===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let p=s.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}o=d>=0?t[d]:"/"}let l=PU(i,o),u=s&&s!=="/"&&s.endsWith("/"),c=(a||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ps=e=>e.join("/").replace(/\/\/+/g,"/"),AU=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IU=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,CU=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function OU(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Fj=["post","put","patch","delete"];new Set(Fj);const NU=["get",...Fj];new Set(NU);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gd.apply(this,arguments)}const Og=g.createContext(null),zj=g.createContext(null),_a=g.createContext(null),Ng=g.createContext(null),Ms=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Uj=g.createContext(null);function jU(e,t){let{relative:r}=t===void 0?{}:t;Au()||gt(!1);let{basename:n,navigator:i}=g.useContext(_a),{hash:a,pathname:s,search:o}=Dg(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:ps([n,s])),i.createHref({pathname:l,search:o,hash:a})}function Au(){return g.useContext(Ng)!=null}function Ls(){return Au()||gt(!1),g.useContext(Ng).location}function Bj(e){g.useContext(_a).static||g.useLayoutEffect(e)}function jg(){let{isDataRoute:e}=g.useContext(Ms);return e?HU():DU()}function DU(){Au()||gt(!1);let e=g.useContext(Og),{basename:t,future:r,navigator:n}=g.useContext(_a),{matches:i}=g.useContext(Ms),{pathname:a}=Ls(),s=JSON.stringify(C_(i,r.v7_relativeSplatPath)),o=g.useRef(!1);return Bj(()=>{o.current=!0}),g.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=O_(u,JSON.parse(s),a,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:ps([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,s,a,e])}function Dg(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(_a),{matches:i}=g.useContext(Ms),{pathname:a}=Ls(),s=JSON.stringify(C_(i,n.v7_relativeSplatPath));return g.useMemo(()=>O_(e,JSON.parse(s),a,r==="path"),[e,s,a,r])}function RU(e,t){return MU(e,t)}function MU(e,t,r,n){Au()||gt(!1);let{navigator:i}=g.useContext(_a),{matches:a}=g.useContext(Ms),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=Ls(),c;if(t){var d;let x=typeof t=="string"?Tu(t):t;l==="/"||(d=x.pathname)!=null&&d.startsWith(l)||gt(!1),c=x}else c=u;let p=c.pathname||"/",m=p;if(l!=="/"){let x=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=cU(e,{pathname:m}),y=zU(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ps([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:ps([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&y?g.createElement(Ng.Provider,{value:{location:gd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:rs.Pop}},y):y}function LU(){let e=KU(),t=OU(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:i},r):null,null)}const VU=g.createElement(LU,null);class $U extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Ms.Provider,{value:this.props.routeContext},g.createElement(Uj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FU(e){let{routeContext:t,match:r,children:n}=e,i=g.useContext(Og);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Ms.Provider,{value:t},n)}function zU(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||gt(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:m}=r,v=d.route.loader&&p[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||v){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,p)=>{let m,v=!1,y=null,x=null;r&&(m=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||VU,l&&(u<0&&p===0?(qU("route-fallback"),v=!0,x=null):u===p&&(v=!0,x=d.route.hydrateFallbackElement||null)));let b=t.concat(s.slice(0,p+1)),_=()=>{let E;return m?E=y:v?E=x:d.route.Component?E=g.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=c,g.createElement(FU,{match:d,routeContext:{outlet:c,matches:b,isDataRoute:r!=null},children:E})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?g.createElement($U,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:_(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):_()},null)}var Wj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Wj||{}),Kj=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kj||{});function UU(e){let t=g.useContext(Og);return t||gt(!1),t}function BU(e){let t=g.useContext(zj);return t||gt(!1),t}function WU(e){let t=g.useContext(Ms);return t||gt(!1),t}function Hj(e){let t=WU(),r=t.matches[t.matches.length-1];return r.route.id||gt(!1),r.route.id}function KU(){var e;let t=g.useContext(Uj),r=BU(),n=Hj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function HU(){let{router:e}=UU(Wj.UseNavigateStable),t=Hj(Kj.UseNavigateStable),r=g.useRef(!1);return Bj(()=>{r.current=!0}),g.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,gd({fromRouteId:t},a)))},[e,t])}const YP={};function qU(e,t,r){YP[e]||(YP[e]=!0)}function GU(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function YU(e){let{to:t,replace:r,state:n,relative:i}=e;Au()||gt(!1);let{future:a,static:s}=g.useContext(_a),{matches:o}=g.useContext(Ms),{pathname:l}=Ls(),u=jg(),c=O_(t,C_(o,a.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return g.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function Vi(e){gt(!1)}function QU(e){let{basename:t="/",children:r=null,location:n,navigationType:i=rs.Pop,navigator:a,static:s=!1,future:o}=e;Au()&&gt(!1);let l=t.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:l,navigator:a,static:s,future:gd({v7_relativeSplatPath:!1},o)}),[l,o,a,s]);typeof n=="string"&&(n=Tu(n));let{pathname:c="/",search:d="",hash:p="",state:m=null,key:v="default"}=n,y=g.useMemo(()=>{let x=au(c,l);return x==null?null:{location:{pathname:x,search:d,hash:p,state:m,key:v},navigationType:i}},[l,c,d,p,m,v,i]);return y==null?null:g.createElement(_a.Provider,{value:u},g.createElement(Ng.Provider,{children:r,value:y}))}function XU(e){let{children:t,location:r}=e;return RU(Bx(t),r)}new Promise(()=>{});function Bx(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,i)=>{if(!g.isValidElement(n))return;let a=[...t,i];if(n.type===g.Fragment){r.push.apply(r,Bx(n.props.children,a));return}n.type!==Vi&&gt(!1),!n.props.index||!n.props.children||gt(!1);let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=Bx(n.props.children,a)),r.push(s)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gp.apply(this,arguments)}function qj(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function JU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ZU(e,t){return e.button===0&&(!t||t==="_self")&&!JU(e)}const eB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tB=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rB="6";try{window.__reactRouterVersion=rB}catch{}const nB=g.createContext({isTransitioning:!1}),iB="startTransition",QP=A2[iB];function aB(e){let{basename:t,children:r,future:n,window:i}=e,a=g.useRef();a.current==null&&(a.current=oU({window:i,v5Compat:!0}));let s=a.current,[o,l]=g.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},c=g.useCallback(d=>{u&&QP?QP(()=>l(d)):l(d)},[l,u]);return g.useLayoutEffect(()=>s.listen(c),[s,c]),g.useEffect(()=>GU(n),[n]),g.createElement(QU,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const sB=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oB=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lB=g.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:s,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,p=qj(t,eB),{basename:m}=g.useContext(_a),v,y=!1;if(typeof u=="string"&&oB.test(u)&&(v=u,sB))try{let E=new URL(window.location.href),A=u.startsWith("//")?new URL(E.protocol+u):new URL(u),N=au(A.pathname,m);A.origin===E.origin&&N!=null?u=N+A.search+A.hash:y=!0}catch{}let x=jU(u,{relative:i}),b=cB(u,{replace:s,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:d});function _(E){n&&n(E),E.defaultPrevented||b(E)}return g.createElement("a",Gp({},p,{href:v||x,onClick:y||a?n:_,ref:r,target:l}))}),XP=g.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:l,viewTransition:u,children:c}=t,d=qj(t,tB),p=Dg(l,{relative:d.relative}),m=Ls(),v=g.useContext(zj),{navigator:y,basename:x}=g.useContext(_a),b=v!=null&&dB(p)&&u===!0,_=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,E=m.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(E=E.toLowerCase(),A=A?A.toLowerCase():null,_=_.toLowerCase()),A&&x&&(A=au(A,x)||A);const N=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let j=E===_||!s&&E.startsWith(_)&&E.charAt(N)==="/",k=A!=null&&(A===_||!s&&A.startsWith(_)&&A.charAt(_.length)==="/"),S={isActive:j,isPending:k,isTransitioning:b},T=j?n:void 0,O;typeof a=="function"?O=a(S):O=[a,j?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let C=typeof o=="function"?o(S):o;return g.createElement(lB,Gp({},d,{"aria-current":T,className:O,ref:r,style:C,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var Wx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wx||(Wx={}));var JP;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(JP||(JP={}));function uB(e){let t=g.useContext(Og);return t||gt(!1),t}function cB(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o}=t===void 0?{}:t,l=jg(),u=Ls(),c=Dg(e,{relative:s});return g.useCallback(d=>{if(ZU(d,r)){d.preventDefault();let p=n!==void 0?n:qp(u)===qp(c);l(e,{replace:p,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[u,l,c,n,i,r,e,a,s,o])}function dB(e,t){t===void 0&&(t={});let r=g.useContext(nB);r==null&&gt(!1);let{basename:n}=uB(Wx.useViewTransitionState),i=Dg(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=au(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=au(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ux(i.pathname,s)!=null||Ux(i.pathname,a)!=null}var ZP={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},fB=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},Yj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=a>>2,d=(a&3)<<4|o>>4;let p=(o&15)<<2|u>>6,m=u&63;l||(m=64,s||(p=64)),n.push(r[c],r[d],r[p],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Gj(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):fB(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const u=i<e.length?r[e.charAt(i)]:64;++i;const d=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||u==null||d==null)throw new hB;const p=a<<2|o>>4;if(n.push(p),u!==64){const m=o<<4&240|u>>2;if(n.push(m),d!==64){const v=u<<6&192|d;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class hB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pB=function(e){const t=Gj(e);return Yj.encodeByteArray(t,!0)},Yp=function(e){return pB(e).replace(/\./g,"")},Qj=function(e){try{return Yj.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB=()=>mB().__FIREBASE_DEFAULTS__,vB=()=>{if(typeof process>"u"||typeof ZP>"u")return;const e=ZP.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},yB=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qj(e[1]);return t&&JSON.parse(t)},Rg=()=>{try{return gB()||vB()||yB()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Xj=e=>{var t,r;return(r=(t=Rg())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},xB=e=>{const t=Xj(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Jj=()=>{var e;return(e=Rg())===null||e===void 0?void 0:e.config},Zj=e=>{var t;return(t=Rg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Yp(JSON.stringify(r)),Yp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _B(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rr())}function kB(){var e;const t=(e=Rg())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SB(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function PB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TB(){const e=Rr();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function AB(){return!kB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IB(){try{return typeof indexedDB=="object"}catch{return!1}}function CB(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="FirebaseError";class ka extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=OB,Object.setPrototypeOf(this,ka.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zd.prototype.create)}}class Zd{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?NB(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ka(i,o,n)}}function NB(e,t){return e.replace(jB,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const jB=/\{\$([^}]+)}/g;function DB(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Qp(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(eT(a)&&eT(s)){if(!Qp(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function eT(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Tc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function Ac(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function RB(e,t){const r=new MB(e,t);return r.subscribe.bind(r)}class MB{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");LB(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=ny),i.error===void 0&&(i.error=ny),i.complete===void 0&&(i.complete=ny);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function LB(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function ny(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(e){return e&&e._delegate?e._delegate:e}class Io{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VB=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new bB;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FB(t))try{this.getOrInitializeService({instanceIdentifier:ro})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=ro){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ro){return this.instances.has(t)}getOptions(t=ro){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){var n;const i=this.normalizeInstanceIdentifier(r),a=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;a.add(t),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&t(s,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:$B(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=ro){return this.component?this.component.multipleInstances?t:ro:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $B(e){return e===ro?void 0:e}function FB(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new VB(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Te||(Te={}));const UB={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},BB=Te.INFO,WB={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},KB=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=WB[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class N_{constructor(t){this.name=t,this._logLevel=BB,this._logHandler=KB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UB[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...t),this._logHandler(this,Te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...t),this._logHandler(this,Te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...t),this._logHandler(this,Te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...t),this._logHandler(this,Te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...t),this._logHandler(this,Te.ERROR,...t)}}const HB=(e,t)=>t.some(r=>e instanceof r);let tT,rT;function qB(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GB(){return rT||(rT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eD=new WeakMap,Kx=new WeakMap,tD=new WeakMap,iy=new WeakMap,j_=new WeakMap;function YB(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(ms(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&eD.set(r,e)}).catch(()=>{}),j_.set(t,e),t}function QB(e){if(Kx.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});Kx.set(e,t)}let Hx={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return Kx.get(e);if(t==="objectStoreNames")return e.objectStoreNames||tD.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ms(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function XB(e){Hx=e(Hx)}function JB(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(ay(this),t,...r);return tD.set(n,t.sort?t.sort():[t]),ms(n)}:GB().includes(e)?function(...t){return e.apply(ay(this),t),ms(eD.get(this))}:function(...t){return ms(e.apply(ay(this),t))}}function ZB(e){return typeof e=="function"?JB(e):(e instanceof IDBTransaction&&QB(e),HB(e,qB())?new Proxy(e,Hx):e)}function ms(e){if(e instanceof IDBRequest)return YB(e);if(iy.has(e))return iy.get(e);const t=ZB(e);return t!==e&&(iy.set(e,t),j_.set(t,e)),t}const ay=e=>j_.get(e);function e9(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=ms(s);return n&&s.addEventListener("upgradeneeded",l=>{n(ms(s.result),l.oldVersion,l.newVersion,ms(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const t9=["get","getKey","getAll","getAllKeys","count"],r9=["put","add","delete","clear"],sy=new Map;function nT(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sy.get(t))return sy.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=r9.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||t9.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return sy.set(t,a),a}XB(e=>({...e,get:(t,r,n)=>nT(t,r)||e.get(t,r,n),has:(t,r)=>!!nT(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(i9(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function i9(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qx="@firebase/app",iT="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new N_("@firebase/app"),a9="@firebase/app-compat",s9="@firebase/analytics-compat",o9="@firebase/analytics",l9="@firebase/app-check-compat",u9="@firebase/app-check",c9="@firebase/auth",d9="@firebase/auth-compat",f9="@firebase/database",h9="@firebase/data-connect",p9="@firebase/database-compat",m9="@firebase/functions",g9="@firebase/functions-compat",v9="@firebase/installations",y9="@firebase/installations-compat",x9="@firebase/messaging",b9="@firebase/messaging-compat",w9="@firebase/performance",_9="@firebase/performance-compat",k9="@firebase/remote-config",E9="@firebase/remote-config-compat",S9="@firebase/storage",P9="@firebase/storage-compat",T9="@firebase/firestore",A9="@firebase/vertexai-preview",I9="@firebase/firestore-compat",C9="firebase",O9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="[DEFAULT]",N9={[qx]:"fire-core",[a9]:"fire-core-compat",[o9]:"fire-analytics",[s9]:"fire-analytics-compat",[u9]:"fire-app-check",[l9]:"fire-app-check-compat",[c9]:"fire-auth",[d9]:"fire-auth-compat",[f9]:"fire-rtdb",[h9]:"fire-data-connect",[p9]:"fire-rtdb-compat",[m9]:"fire-fn",[g9]:"fire-fn-compat",[v9]:"fire-iid",[y9]:"fire-iid-compat",[x9]:"fire-fcm",[b9]:"fire-fcm-compat",[w9]:"fire-perf",[_9]:"fire-perf-compat",[k9]:"fire-rc",[E9]:"fire-rc-compat",[S9]:"fire-gcs",[P9]:"fire-gcs-compat",[T9]:"fire-fst",[I9]:"fire-fst-compat",[A9]:"fire-vertex","fire-js":"fire-js",[C9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new Map,j9=new Map,Yx=new Map;function aT(e,t){try{e.container.addComponent(t)}catch(r){oa.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function su(e){const t=e.name;if(Yx.has(t))return oa.debug(`There were multiple attempts to register component ${t}.`),!1;Yx.set(t,e);for(const r of Xp.values())aT(r,e);for(const r of j9.values())aT(r,e);return!0}function D_(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function vi(e){return e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gs=new Zd("app","Firebase",D9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iu=O9;function rD(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:Gx,automaticDataCollectionEnabled:!1},t),i=n.name;if(typeof i!="string"||!i)throw gs.create("bad-app-name",{appName:String(i)});if(r||(r=Jj()),!r)throw gs.create("no-options");const a=Xp.get(i);if(a){if(Qp(r,a.options)&&Qp(n,a.config))return a;throw gs.create("duplicate-app",{appName:i})}const s=new zB(i);for(const l of Yx.values())s.addComponent(l);const o=new R9(r,n,s);return Xp.set(i,o),o}function nD(e=Gx){const t=Xp.get(e);if(!t&&e===Gx&&Jj())return rD();if(!t)throw gs.create("no-app",{appName:e});return t}function vs(e,t,r){var n;let i=(n=N9[e])!==null&&n!==void 0?n:e;r&&(i+=`-${r}`);const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const o=[`Unable to register library "${i}" with version "${t}":`];a&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oa.warn(o.join(" "));return}su(new Io(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9="firebase-heartbeat-database",L9=1,vd="firebase-heartbeat-store";let oy=null;function iD(){return oy||(oy=e9(M9,L9,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vd)}catch(r){console.warn(r)}}}}).catch(e=>{throw gs.create("idb-open",{originalErrorMessage:e.message})})),oy}async function V9(e){try{const r=(await iD()).transaction(vd),n=await r.objectStore(vd).get(aD(e));return await r.done,n}catch(t){if(t instanceof ka)oa.warn(t.message);else{const r=gs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oa.warn(r.message)}}}async function sT(e,t){try{const n=(await iD()).transaction(vd,"readwrite");await n.objectStore(vd).put(t,aD(e)),await n.done}catch(r){if(r instanceof ka)oa.warn(r.message);else{const n=gs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});oa.warn(n.message)}}}function aD(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9=1024,F9=30*24*60*60*1e3;class z9{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new B9(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=oT();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=F9}),this._storage.overwrite(this._heartbeatsCache))}catch(n){oa.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=oT(),{heartbeatsToSend:n,unsentEntries:i}=U9(this._heartbeatsCache.heartbeats),a=Yp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return oa.warn(r),""}}}function oT(){return new Date().toISOString().substring(0,10)}function U9(e,t=$9){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),lT(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),lT(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class B9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IB()?CB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await V9(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return sT(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function lT(e){return Yp(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(e){su(new Io("platform-logger",t=>new n9(t),"PRIVATE")),su(new Io("heartbeat",t=>new z9(t),"PRIVATE")),vs(qx,iT,e),vs(qx,iT,"esm2017"),vs("fire-js","")}W9("");function R_(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function sD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const K9=sD,oD=new Zd("auth","Firebase",sD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new N_("@firebase/auth");function H9(e,...t){Jp.logLevel<=Te.WARN&&Jp.warn(`Auth (${Iu}): ${e}`,...t)}function sp(e,...t){Jp.logLevel<=Te.ERROR&&Jp.error(`Auth (${Iu}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(e,...t){throw M_(e,...t)}function wi(e,...t){return M_(e,...t)}function lD(e,t,r){const n=Object.assign(Object.assign({},K9()),{[t]:r});return new Zd("auth","Firebase",n).create(t,{appName:e.name})}function Ji(e){return lD(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M_(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return oD.create(e,...t)}function pe(e,t,...r){if(!e)throw M_(t,...r)}function Hi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw sp(t),new Error(t)}function la(e,t){e||Hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function q9(){return uT()==="http:"||uT()==="https:"}function uT(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q9()||SB()||"connection"in navigator)?navigator.onLine:!0}function Y9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(t,r){this.shortDelay=t,this.longDelay=r,la(r>t,"Short delay should be less than long delay!"),this.isMobile=_B()||PB()}get(){return G9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(e,t){la(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new tf(3e4,6e4);function Ea(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function si(e,t,r,n,i={}){return cD(e,i,async()=>{let a={},s={};n&&(t==="GET"?s=n:a={body:JSON.stringify(n)});const o=ef(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const u=Object.assign({method:t,headers:l},a);return EB()||(u.referrerPolicy="no-referrer"),uD.fetch()(dD(e,e.config.apiHost,r,o),u)})}async function cD(e,t,r){e._canInitEmulator=!1;const n=Object.assign(Object.assign({},Q9),t);try{const i=new Z9(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw _h(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw _h(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw _h(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw _h(e,"user-disabled",s);const c=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw lD(e,c,u);ni(e,c)}}catch(i){if(i instanceof ka)throw i;ni(e,"network-request-failed",{message:String(i)})}}async function rf(e,t,r,n,i={}){const a=await si(e,t,r,n,i);return"mfaPendingCredential"in a&&ni(e,"multi-factor-auth-required",{_serverResponse:a}),a}function dD(e,t,r,n){const i=`${t}${r}?${n}`;return e.config.emulator?L_(e.config,i):`${e.config.apiScheme}://${i}`}function J9(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Z9{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(wi(this.auth,"network-request-failed")),X9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _h(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=wi(e,t,n);return i.customData._tokenResponse=r,i}function cT(e){return e!==void 0&&e.enterprise!==void 0}class e8{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return J9(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}}async function t8(e,t){return si(e,"GET","/v2/recaptchaConfig",Ea(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r8(e,t){return si(e,"POST","/v1/accounts:delete",t)}async function fD(e,t){return si(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function n8(e,t=!1){const r=xt(e),n=await r.getIdToken(t),i=V_(n);pe(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:Kc(ly(i.auth_time)),issuedAtTime:Kc(ly(i.iat)),expirationTime:Kc(ly(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ly(e){return Number(e)*1e3}function V_(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return sp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qj(r);return i?JSON.parse(i):(sp("Failed to decode base64 JWT payload"),null)}catch(i){return sp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function dT(e){const t=V_(e);return pe(t,"internal-error"),pe(typeof t.exp<"u","internal-error"),pe(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof ka&&i8(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function i8({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kc(this.lastLoginAt),this.creationTime=Kc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zp(e){var t;const r=e.auth,n=await e.getIdToken(),i=await Co(e,fD(r,{idToken:n}));pe(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=!((t=a.providerUserInfo)===null||t===void 0)&&t.length?hD(a.providerUserInfo):[],o=o8(e.providerData,s),l=e.isAnonymous,u=!(e.email&&a.passwordHash)&&!(o!=null&&o.length),c=l?u:!1,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Xx(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function s8(e){const t=xt(e);await Zp(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function o8(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function hD(e){return e.map(t=>{var{providerId:r}=t,n=R_(t,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l8(e,t){const r=await cD(e,{},async()=>{const n=ef({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=dD(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",uD.fetch()(s,{method:"POST",headers:o,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function u8(e,t){return si(e,"POST","/v2/accounts:revokeToken",Ea(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pe(t.idToken,"internal-error"),pe(typeof t.idToken<"u","internal-error"),pe(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){pe(t.length!==0,"internal-error");const r=dT(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(pe(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await l8(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Ul;return n&&(pe(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),i&&(pe(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(pe(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ul,this.toJSON())}_performRefresh(){return Hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(e,t){pe(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class qi{constructor(t){var{uid:r,auth:n,stsTokenManager:i}=t,a=R_(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await Co(this,this.stsTokenManager.getToken(this.auth,t));return pe(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return n8(this,t)}reload(){return s8(this)}_assign(t){this!==t&&(pe(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new qi(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Zp(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vi(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Co(this,r8(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var n,i,a,s,o,l,u,c;const d=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,m=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,v=(s=r.photoURL)!==null&&s!==void 0?s:void 0,y=(o=r.tenantId)!==null&&o!==void 0?o:void 0,x=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=r.createdAt)!==null&&u!==void 0?u:void 0,_=(c=r.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:E,emailVerified:A,isAnonymous:N,providerData:j,stsTokenManager:k}=r;pe(E&&k,t,"internal-error");const S=Ul.fromJSON(this.name,k);pe(typeof E=="string",t,"internal-error"),za(d,t.name),za(p,t.name),pe(typeof A=="boolean",t,"internal-error"),pe(typeof N=="boolean",t,"internal-error"),za(m,t.name),za(v,t.name),za(y,t.name),za(x,t.name),za(b,t.name),za(_,t.name);const T=new qi({uid:E,auth:t,email:p,emailVerified:A,displayName:d,isAnonymous:N,photoURL:v,phoneNumber:m,tenantId:y,stsTokenManager:S,createdAt:b,lastLoginAt:_});return j&&Array.isArray(j)&&(T.providerData=j.map(O=>Object.assign({},O))),x&&(T._redirectEventId=x),T}static async _fromIdTokenResponse(t,r,n=!1){const i=new Ul;i.updateFromServerResponse(r);const a=new qi({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await Zp(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];pe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?hD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Ul;o.updateFromIdToken(n);const l=new qi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Xx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;function Gi(e){la(e instanceof Function,"Expected a class definition");let t=fT.get(e);return t?(la(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fT.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}pD.type="NONE";const hT=pD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(e,t,r){return`firebase:${e}:${t}:${r}`}class Bl{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=op(this.userKey,i.apiKey,a),this.fullPersistenceKey=op("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?qi._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Bl(Gi(hT),t,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Gi(hT);const s=op(n,t.config.apiKey,t.name);let o=null;for(const u of r)try{const c=await u._get(s);if(c){const d=qi._fromJSON(t,c);u!==a&&(o=d),a=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Bl(a,t,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Bl(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yD(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mD(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(bD(t))return"Blackberry";if(wD(t))return"Webos";if(gD(t))return"Safari";if((t.includes("chrome/")||vD(t))&&!t.includes("edge/"))return"Chrome";if(xD(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function mD(e=Rr()){return/firefox\//i.test(e)}function gD(e=Rr()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function vD(e=Rr()){return/crios\//i.test(e)}function yD(e=Rr()){return/iemobile/i.test(e)}function xD(e=Rr()){return/android/i.test(e)}function bD(e=Rr()){return/blackberry/i.test(e)}function wD(e=Rr()){return/webos/i.test(e)}function $_(e=Rr()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function c8(e=Rr()){var t;return $_(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function d8(){return TB()&&document.documentMode===10}function _D(e=Rr()){return $_(e)||xD(e)||wD(e)||bD(e)||/windows phone/i.test(e)||yD(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(e,t=[]){let r;switch(e){case"Browser":r=pT(Rr());break;case"Worker":r=`${pT(Rr())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Iu}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((s,o)=>{try{const l=t(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h8(e,t={}){return si(e,"GET","/v2/passwordPolicy",Ea(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p8=6;class m8{constructor(t){var r,n,i,a;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=s.minPasswordLength)!==null&&r!==void 0?r:p8,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=t.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var r,n,i,a,s,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsUppercaseLetter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mT(this),this.idTokenSubscription=new mT(this),this.beforeStateQueue=new f8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Gi(r)),this._initializationPromise=this.queue(async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await Bl.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await fD(this,{idToken:t}),n=await qi._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(vi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,o=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(i=l.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Zp(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Y9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vi(this.app))return Promise.reject(Ji(this));const r=t?xt(t):null;return r&&pe(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&pe(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vi(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vi(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await h8(this),r=new m8(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Zd("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await u8(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Gi(t)||this._popupRedirectResolver;pe(r,this,"argument-error"),this.redirectPersistenceManager=await Bl.create(this,[Gi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(pe(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=t.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&H9(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Vs(e){return xt(e)}class mT{constructor(t){this.auth=t,this.observer=null,this.addObserver=RB(r=>this.observer=r)}get next(){return pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v8(e){Mg=e}function ED(e){return Mg.loadJS(e)}function y8(){return Mg.recaptchaEnterpriseScript}function x8(){return Mg.gapiScript}function b8(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const w8="recaptcha-enterprise",_8="NO_RECAPTCHA";class k8{constructor(t){this.type=w8,this.auth=Vs(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{t8(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new e8(l);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;cT(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(u=>{s(u)}).catch(()=>{s(_8)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&cT(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=y8();l.length!==0&&(l+=o),ED(l).then(()=>{i(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function gT(e,t,r,n=!1){const i=new k8(e);let a;try{a=await i.verify(r)}catch{a=await i.verify(r,!0)}const s=Object.assign({},t);return n?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function em(e,t,r,n){var i;if(!((i=e._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await gT(e,t,r,r==="getOobCode");return n(e,a)}else return n(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await gT(e,t,r,r==="getOobCode");return n(e,s)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E8(e,t){const r=D_(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Qp(a,t??{}))return i;ni(i,"already-initialized")}return r.initialize({options:t})}function S8(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Gi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function P8(e,t,r){const n=Vs(e);pe(n._canInitEmulator,n,"emulator-config-failed"),pe(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=SD(t),{host:s,port:o}=T8(t),l=o===null?"":`:${o}`;n.config.emulator={url:`${a}//${s}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),A8()}function SD(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function T8(e){const t=SD(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:vT(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:vT(s)}}}function vT(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function A8(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Hi("not implemented")}_getIdTokenResponse(t){return Hi("not implemented")}_linkToIdToken(t,r){return Hi("not implemented")}_getReauthenticationResolver(t){return Hi("not implemented")}}async function I8(e,t){return si(e,"POST","/v1/accounts:update",t)}async function C8(e,t){return si(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O8(e,t){return rf(e,"POST","/v1/accounts:signInWithPassword",Ea(e,t))}async function PD(e,t){return si(e,"POST","/v1/accounts:sendOobCode",Ea(e,t))}async function N8(e,t){return PD(e,t)}async function j8(e,t){return PD(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D8(e,t){return rf(e,"POST","/v1/accounts:signInWithEmailLink",Ea(e,t))}async function R8(e,t){return rf(e,"POST","/v1/accounts:signInWithEmailLink",Ea(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends F_{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new yd(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new yd(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(t,r,"signInWithPassword",O8);case"emailLink":return D8(t,{email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return em(t,n,"signUpPassword",C8);case"emailLink":return R8(t,{idToken:r,email:this._email,oobCode:this._password});default:ni(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(e,t){return rf(e,"POST","/v1/accounts:signInWithIdp",Ea(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="http://localhost";class Oo extends F_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Oo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):ni("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i}=r,a=R_(r,["providerId","signInMethod"]);if(!n||!i)return null;const s=new Oo(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return Wl(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Wl(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Wl(t,r)}buildRequest(){const t={requestUri:M8,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=ef(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L8(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function V8(e){const t=Tc(Ac(e)).link,r=t?Tc(Ac(t)).deep_link_id:null,n=Tc(Ac(e)).deep_link_id;return(n?Tc(Ac(n)).link:null)||n||r||t||e}class z_{constructor(t){var r,n,i,a,s,o;const l=Tc(Ac(t)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,c=(n=l.oobCode)!==null&&n!==void 0?n:null,d=L8((i=l.mode)!==null&&i!==void 0?i:null);pe(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(a=l.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(t){const r=V8(t);try{return new z_(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(t,r){return yd._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=z_.parseLink(r);return pe(n,"argument-error"),yd._fromEmailAndCode(t,n.code,n.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends TD{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends nf{constructor(){super("facebook.com")}static credential(t){return Oo._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ya.credentialFromTaggedObject(t)}static credentialFromError(t){return Ya.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ya.credential(t.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Oo._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Qa.credentialFromTaggedObject(t)}static credentialFromError(t){return Qa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Qa.credential(r,n)}catch{return null}}}Qa.GOOGLE_SIGN_IN_METHOD="google.com";Qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends nf{constructor(){super("github.com")}static credential(t){return Oo._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xa.credentialFromTaggedObject(t)}static credentialFromError(t){return Xa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xa.credential(t.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends nf{constructor(){super("twitter.com")}static credential(t,r){return Oo._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ja.credentialFromTaggedObject(t)}static credentialFromError(t){return Ja.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Ja.credential(r,n)}catch{return null}}}Ja.TWITTER_SIGN_IN_METHOD="twitter.com";Ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $8(e,t){return rf(e,"POST","/v1/accounts:signUp",Ea(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await qi._fromIdTokenResponse(t,n,i),s=yT(n);return new No({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=yT(n);return new No({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function yT(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends ka{constructor(t,r,n,i){var a;super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,tm.prototype),this.customData={appName:t.name,tenantId:(a=t.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new tm(t,r,n,i)}}function AD(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(e,a,t,n):a})}async function F8(e,t,r=!1){const n=await Co(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return No._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(e,t,r=!1){const{auth:n}=e;if(vi(n.app))return Promise.reject(Ji(n));const i="reauthenticate";try{const a=await Co(e,AD(n,i,t,e),r);pe(a.idToken,n,"internal-error");const s=V_(a.idToken);pe(s,n,"internal-error");const{sub:o}=s;return pe(e.uid===o,n,"user-mismatch"),No._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ni(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(e,t,r=!1){if(vi(e.app))return Promise.reject(Ji(e));const n="signIn",i=await AD(e,n,t),a=await No._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function z8(e,t){return CD(Vs(e),t)}async function U8(e,t){return ID(xt(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OD(e){const t=Vs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function B8(e,t,r){const n=Vs(e);await em(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",j8)}async function W8(e,t,r){if(vi(e.app))return Promise.reject(Ji(e));const n=Vs(e),s=await em(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$8).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&OD(e),l}),o=await No._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function K8(e,t,r){return vi(e.app)?Promise.reject(Ji(e)):z8(xt(e),Yo.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&OD(e),n})}async function ND(e,t){const r=xt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:a}=await N8(r.auth,i);a!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H8(e,t){return si(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q8(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=xt(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},s=await Co(n,H8(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function G8(e,t){return Y8(xt(e),null,t)}async function Y8(e,t,r){const{auth:n}=e,a={idToken:await e.getIdToken(),returnSecureToken:!0};r&&(a.password=r);const s=await Co(e,I8(n,a));await e._updateTokensIfNecessary(s,!0)}function Q8(e,t,r,n){return xt(e).onIdTokenChanged(t,r,n)}function X8(e,t,r){return xt(e).beforeAuthStateChanged(t,r)}function J8(e,t,r,n){return xt(e).onAuthStateChanged(t,r,n)}function jD(e){return xt(e).signOut()}const rm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(rm,"1"),this.storage.removeItem(rm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z8=1e3,e7=10;class RD extends DD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_D(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);d8()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,e7):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},Z8)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}RD.type="LOCAL";const t7=RD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD extends DD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}MD.type="SESSION";const LD=MD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new Lg(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async u=>u(r.origin,a)),l=await r7(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const u=U_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(p.data.response);break;default:clearTimeout(c),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:u,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(){return window}function i7(e){_i().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(){return typeof _i().WorkerGlobalScope<"u"&&typeof _i().importScripts=="function"}async function a7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s7(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function o7(){return VD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="firebaseLocalStorageDb",l7=1,nm="firebaseLocalStorage",FD="fbase_key";class af{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Vg(e,t){return e.transaction([nm],t?"readwrite":"readonly").objectStore(nm)}function u7(){const e=indexedDB.deleteDatabase($D);return new af(e).toPromise()}function Jx(){const e=indexedDB.open($D,l7);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(nm,{keyPath:FD})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(nm)?t(n):(n.close(),await u7(),t(await Jx()))})})}async function xT(e,t,r){const n=Vg(e,!0).put({[FD]:t,value:r});return new af(n).toPromise()}async function c7(e,t){const r=Vg(e,!1).get(t),n=await new af(r).toPromise();return n===void 0?null:n.value}function bT(e,t){const r=Vg(e,!0).delete(t);return new af(r).toPromise()}const d7=800,f7=3;class zD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jx(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>f7)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return VD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lg._getInstance(o7()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await a7(),!this.activeServiceWorker)return;this.sender=new n7(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((t=n[0])===null||t===void 0)&&t.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||s7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Jx();return await xT(t,rm,"1"),await bT(t,rm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>xT(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>c7(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>bT(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=Vg(i,!1).getAll();return new af(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zD.type="LOCAL";const h7=zD;new tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(e,t){return t?Gi(t):(pe(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_ extends F_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wl(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Wl(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Wl(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function m7(e){return CD(e.auth,new B_(e),e.bypassAuthState)}function g7(e){const{auth:t,user:r}=e;return pe(r,t,"internal-error"),ID(r,new B_(e),e.bypassAuthState)}async function v7(e){const{auth:t,user:r}=e;return pe(r,t,"internal-error"),F8(r,new B_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return m7;case"linkViaPopup":case"linkViaRedirect":return v7;case"reauthViaPopup":case"reauthViaRedirect":return g7;default:ni(this.auth,"internal-error")}}resolve(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y7=new tf(2e3,1e4);class Cl extends UD{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Cl.currentPopupAction&&Cl.currentPopupAction.cancel(),Cl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pe(t,this.auth,"internal-error"),t}async onExecution(){la(this.filter.length===1,"Popup operations only handle one event");const t=U_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,y7.get())};t()}}Cl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7="pendingRedirect",lp=new Map;class b7 extends UD{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=lp.get(this.auth._key());if(!t){try{const n=await w7(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}lp.set(this.auth._key(),t)}return this.bypassAuthState||lp.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function w7(e,t){const r=E7(t),n=k7(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function _7(e,t){lp.set(e._key(),t)}function k7(e){return Gi(e._redirectPersistence)}function E7(e){return op(x7,e.config.apiKey,e.name)}async function S7(e,t,r=!1){if(vi(e.app))return Promise.reject(Ji(e));const n=Vs(e),i=p7(n,t),s=await new b7(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=10*60*1e3;class T7{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!A7(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!BD(t)){const i=((n=t.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(wi(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=P7&&this.cachedEventUids.clear(),this.cachedEventUids.has(wT(t))}saveEventToCache(t){this.cachedEventUids.add(wT(t)),this.lastProcessedEventTime=Date.now()}}function wT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function BD({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function A7(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BD(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I7(e,t={}){return si(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O7=/^https?/;async function N7(e){if(e.config.emulator)return;const{authorizedDomains:t}=await I7(e);for(const r of t)try{if(j7(r))return}catch{}ni(e,"unauthorized-domain")}function j7(e){const t=Qx(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!O7.test(r))return!1;if(C7.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7=new tf(3e4,6e4);function _T(){const e=_i().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function R7(e){return new Promise((t,r)=>{var n,i,a;function s(){_T(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_T(),r(wi(e,"network-request-failed"))},timeout:D7.get()})}if(!((i=(n=_i().gapi)===null||n===void 0?void 0:n.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((a=_i().gapi)===null||a===void 0)&&a.load)s();else{const o=b8("iframefcb");return _i()[o]=()=>{gapi.load?s():r(wi(e,"network-request-failed"))},ED(`${x8()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw up=null,t})}let up=null;function M7(e){return up=up||R7(e),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L7=new tf(5e3,15e3),V7="__/auth/iframe",$7="emulator/auth/iframe",F7={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z7=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U7(e){const t=e.config;pe(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?L_(t,$7):`https://${e.config.authDomain}/${V7}`,n={apiKey:t.apiKey,appName:e.name,v:Iu},i=z7.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${ef(n).slice(1)}`}async function B7(e){const t=await M7(e),r=_i().gapi;return pe(r,e,"internal-error"),t.open({where:document.body,url:U7(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:F7,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=wi(e,"network-request-failed"),o=_i().setTimeout(()=>{a(s)},L7.get());function l(){_i().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K7=500,H7=600,q7="_blank",G7="http://localhost";class kT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y7(e,t,r,n=K7,i=H7){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l=Object.assign(Object.assign({},W7),{width:n.toString(),height:i.toString(),top:a,left:s}),u=Rr().toLowerCase();r&&(o=vD(u)?q7:r),mD(u)&&(t=t||G7,l.scrollbars="yes");const c=Object.entries(l).reduce((p,[m,v])=>`${p}${m}=${v},`,"");if(c8(u)&&o!=="_self")return Q7(t||"",o),new kT(null);const d=window.open(t||"",o,c);pe(d,e,"popup-blocked");try{d.focus()}catch{}return new kT(d)}function Q7(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="__/auth/handler",J7="emulator/auth/handler",Z7=encodeURIComponent("fac");async function ET(e,t,r,n,i,a){pe(e.config.authDomain,e,"auth-domain-config-required"),pe(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:Iu,eventId:i};if(t instanceof TD){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",DB(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries({}))s[c]=d}if(t instanceof nf){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const c of Object.keys(o))o[c]===void 0&&delete o[c];const l=await e._getAppCheckToken(),u=l?`#${Z7}=${encodeURIComponent(l)}`:"";return`${eW(e)}?${ef(o).slice(1)}${u}`}function eW({config:e}){return e.emulator?L_(e,J7):`https://${e.authDomain}/${X7}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="webStorageSupport";class tW{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=LD,this._completeRedirectFn=S7,this._overrideRedirectResult=_7}async _openPopup(t,r,n,i){var a;la((a=this.eventManagers[t._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await ET(t,r,n,Qx(),i);return Y7(t,s,U_())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await ET(t,r,n,Qx(),i);return i7(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(la(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await B7(t),n=new T7(t);return r.register("authEvent",i=>(pe(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(uy,{type:uy},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[uy];s!==void 0&&r(!!s),ni(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=N7(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return _D()||gD()||$_()}}const rW=tW;var ST="@firebase/auth",PT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iW(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aW(e){su(new Io("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;pe(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kD(e)},u=new g8(n,i,a,l);return S8(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),su(new Io("auth-internal",t=>{const r=Vs(t.getProvider("auth").getImmediate());return(n=>new nW(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(ST,PT,iW(e)),vs(ST,PT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sW=5*60,oW=Zj("authIdTokenMaxAge")||sW;let TT=null;const lW=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>oW)return;const i=r==null?void 0:r.token;TT!==i&&(TT=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uW(e=nD()){const t=D_(e,"auth");if(t.isInitialized())return t.getImmediate();const r=E8(e,{popupRedirectResolver:rW,persistence:[h7,t7,LD]}),n=Zj("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=lW(a.toString());X8(r,s,()=>s(r.currentUser)),Q8(r,o=>s(o))}}const i=Xj("auth");return i&&P8(r,`http://${i}`),r}function cW(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}v8({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=wi("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",cW().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aW("Browser");var dW="firebase",fW="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs(dW,fW,"app");var AT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vo,WD;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,S){function T(){}T.prototype=S.prototype,k.D=S.prototype,k.prototype=new T,k.prototype.constructor=k,k.C=function(O,C,I){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return S.prototype[C].apply(O,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,S,T){T||(T=0);var O=Array(16);if(typeof S=="string")for(var C=0;16>C;++C)O[C]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(C=0;16>C;++C)O[C]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=k.g[0],T=k.g[1],C=k.g[2];var I=k.g[3],D=S+(I^T&(C^I))+O[0]+3614090360&4294967295;S=T+(D<<7&4294967295|D>>>25),D=I+(C^S&(T^C))+O[1]+3905402710&4294967295,I=S+(D<<12&4294967295|D>>>20),D=C+(T^I&(S^T))+O[2]+606105819&4294967295,C=I+(D<<17&4294967295|D>>>15),D=T+(S^C&(I^S))+O[3]+3250441966&4294967295,T=C+(D<<22&4294967295|D>>>10),D=S+(I^T&(C^I))+O[4]+4118548399&4294967295,S=T+(D<<7&4294967295|D>>>25),D=I+(C^S&(T^C))+O[5]+1200080426&4294967295,I=S+(D<<12&4294967295|D>>>20),D=C+(T^I&(S^T))+O[6]+2821735955&4294967295,C=I+(D<<17&4294967295|D>>>15),D=T+(S^C&(I^S))+O[7]+4249261313&4294967295,T=C+(D<<22&4294967295|D>>>10),D=S+(I^T&(C^I))+O[8]+1770035416&4294967295,S=T+(D<<7&4294967295|D>>>25),D=I+(C^S&(T^C))+O[9]+2336552879&4294967295,I=S+(D<<12&4294967295|D>>>20),D=C+(T^I&(S^T))+O[10]+4294925233&4294967295,C=I+(D<<17&4294967295|D>>>15),D=T+(S^C&(I^S))+O[11]+2304563134&4294967295,T=C+(D<<22&4294967295|D>>>10),D=S+(I^T&(C^I))+O[12]+1804603682&4294967295,S=T+(D<<7&4294967295|D>>>25),D=I+(C^S&(T^C))+O[13]+4254626195&4294967295,I=S+(D<<12&4294967295|D>>>20),D=C+(T^I&(S^T))+O[14]+2792965006&4294967295,C=I+(D<<17&4294967295|D>>>15),D=T+(S^C&(I^S))+O[15]+1236535329&4294967295,T=C+(D<<22&4294967295|D>>>10),D=S+(C^I&(T^C))+O[1]+4129170786&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^C&(S^T))+O[6]+3225465664&4294967295,I=S+(D<<9&4294967295|D>>>23),D=C+(S^T&(I^S))+O[11]+643717713&4294967295,C=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(C^I))+O[0]+3921069994&4294967295,T=C+(D<<20&4294967295|D>>>12),D=S+(C^I&(T^C))+O[5]+3593408605&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^C&(S^T))+O[10]+38016083&4294967295,I=S+(D<<9&4294967295|D>>>23),D=C+(S^T&(I^S))+O[15]+3634488961&4294967295,C=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(C^I))+O[4]+3889429448&4294967295,T=C+(D<<20&4294967295|D>>>12),D=S+(C^I&(T^C))+O[9]+568446438&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^C&(S^T))+O[14]+3275163606&4294967295,I=S+(D<<9&4294967295|D>>>23),D=C+(S^T&(I^S))+O[3]+4107603335&4294967295,C=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(C^I))+O[8]+1163531501&4294967295,T=C+(D<<20&4294967295|D>>>12),D=S+(C^I&(T^C))+O[13]+2850285829&4294967295,S=T+(D<<5&4294967295|D>>>27),D=I+(T^C&(S^T))+O[2]+4243563512&4294967295,I=S+(D<<9&4294967295|D>>>23),D=C+(S^T&(I^S))+O[7]+1735328473&4294967295,C=I+(D<<14&4294967295|D>>>18),D=T+(I^S&(C^I))+O[12]+2368359562&4294967295,T=C+(D<<20&4294967295|D>>>12),D=S+(T^C^I)+O[5]+4294588738&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^C)+O[8]+2272392833&4294967295,I=S+(D<<11&4294967295|D>>>21),D=C+(I^S^T)+O[11]+1839030562&4294967295,C=I+(D<<16&4294967295|D>>>16),D=T+(C^I^S)+O[14]+4259657740&4294967295,T=C+(D<<23&4294967295|D>>>9),D=S+(T^C^I)+O[1]+2763975236&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^C)+O[4]+1272893353&4294967295,I=S+(D<<11&4294967295|D>>>21),D=C+(I^S^T)+O[7]+4139469664&4294967295,C=I+(D<<16&4294967295|D>>>16),D=T+(C^I^S)+O[10]+3200236656&4294967295,T=C+(D<<23&4294967295|D>>>9),D=S+(T^C^I)+O[13]+681279174&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^C)+O[0]+3936430074&4294967295,I=S+(D<<11&4294967295|D>>>21),D=C+(I^S^T)+O[3]+3572445317&4294967295,C=I+(D<<16&4294967295|D>>>16),D=T+(C^I^S)+O[6]+76029189&4294967295,T=C+(D<<23&4294967295|D>>>9),D=S+(T^C^I)+O[9]+3654602809&4294967295,S=T+(D<<4&4294967295|D>>>28),D=I+(S^T^C)+O[12]+3873151461&4294967295,I=S+(D<<11&4294967295|D>>>21),D=C+(I^S^T)+O[15]+530742520&4294967295,C=I+(D<<16&4294967295|D>>>16),D=T+(C^I^S)+O[2]+3299628645&4294967295,T=C+(D<<23&4294967295|D>>>9),D=S+(C^(T|~I))+O[0]+4096336452&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~C))+O[7]+1126891415&4294967295,I=S+(D<<10&4294967295|D>>>22),D=C+(S^(I|~T))+O[14]+2878612391&4294967295,C=I+(D<<15&4294967295|D>>>17),D=T+(I^(C|~S))+O[5]+4237533241&4294967295,T=C+(D<<21&4294967295|D>>>11),D=S+(C^(T|~I))+O[12]+1700485571&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~C))+O[3]+2399980690&4294967295,I=S+(D<<10&4294967295|D>>>22),D=C+(S^(I|~T))+O[10]+4293915773&4294967295,C=I+(D<<15&4294967295|D>>>17),D=T+(I^(C|~S))+O[1]+2240044497&4294967295,T=C+(D<<21&4294967295|D>>>11),D=S+(C^(T|~I))+O[8]+1873313359&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~C))+O[15]+4264355552&4294967295,I=S+(D<<10&4294967295|D>>>22),D=C+(S^(I|~T))+O[6]+2734768916&4294967295,C=I+(D<<15&4294967295|D>>>17),D=T+(I^(C|~S))+O[13]+1309151649&4294967295,T=C+(D<<21&4294967295|D>>>11),D=S+(C^(T|~I))+O[4]+4149444226&4294967295,S=T+(D<<6&4294967295|D>>>26),D=I+(T^(S|~C))+O[11]+3174756917&4294967295,I=S+(D<<10&4294967295|D>>>22),D=C+(S^(I|~T))+O[2]+718787259&4294967295,C=I+(D<<15&4294967295|D>>>17),D=T+(I^(C|~S))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(C+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+C&4294967295,k.g[3]=k.g[3]+I&4294967295}n.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var T=S-this.blockSize,O=this.B,C=this.h,I=0;I<S;){if(C==0)for(;I<=T;)i(this,k,I),I+=this.blockSize;if(typeof k=="string"){for(;I<S;)if(O[C++]=k.charCodeAt(I++),C==this.blockSize){i(this,O),C=0;break}}else for(;I<S;)if(O[C++]=k[I++],C==this.blockSize){i(this,O),C=0;break}}this.h=C,this.o+=S},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var T=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=T&255,T/=256;for(this.u(k),k=Array(16),S=T=0;4>S;++S)for(var O=0;32>O;O+=8)k[T++]=this.g[S]>>>O&255;return k};function a(k,S){var T=o;return Object.prototype.hasOwnProperty.call(T,k)?T[k]:T[k]=S(k)}function s(k,S){this.h=S;for(var T=[],O=!0,C=k.length-1;0<=C;C--){var I=k[C]|0;O&&I==S||(T[C]=I,O=!1)}this.g=T}var o={};function l(k){return-128<=k&&128>k?a(k,function(S){return new s([S|0],0>S?-1:0)}):new s([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return d;if(0>k)return x(u(-k));for(var S=[],T=1,O=0;k>=T;O++)S[O]=k/T|0,T*=4294967296;return new s(S,0)}function c(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return x(c(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(S,8)),O=d,C=0;C<k.length;C+=8){var I=Math.min(8,k.length-C),D=parseInt(k.substring(C,C+I),S);8>I?(I=u(Math.pow(S,I)),O=O.j(I).add(u(D))):(O=O.j(T),O=O.add(u(D)))}return O}var d=l(0),p=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(y(this))return-x(this).m();for(var k=0,S=1,T=0;T<this.g.length;T++){var O=this.i(T);k+=(0<=O?O:4294967296+O)*S,S*=4294967296}return k},e.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(v(this))return"0";if(y(this))return"-"+x(this).toString(k);for(var S=u(Math.pow(k,6)),T=this,O="";;){var C=A(T,S).g;T=b(T,C.j(S));var I=((0<T.g.length?T.g[0]:T.h)>>>0).toString(k);if(T=C,v(T))return I+O;for(;6>I.length;)I="0"+I;O=I+O}},e.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function v(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function y(k){return k.h==-1}e.l=function(k){return k=b(this,k),y(k)?-1:v(k)?0:1};function x(k){for(var S=k.g.length,T=[],O=0;O<S;O++)T[O]=~k.g[O];return new s(T,~k.h).add(p)}e.abs=function(){return y(this)?x(this):this},e.add=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],O=0,C=0;C<=S;C++){var I=O+(this.i(C)&65535)+(k.i(C)&65535),D=(I>>>16)+(this.i(C)>>>16)+(k.i(C)>>>16);O=D>>>16,I&=65535,D&=65535,T[C]=D<<16|I}return new s(T,T[T.length-1]&-2147483648?-1:0)};function b(k,S){return k.add(x(S))}e.j=function(k){if(v(this)||v(k))return d;if(y(this))return y(k)?x(this).j(x(k)):x(x(this).j(k));if(y(k))return x(this.j(x(k)));if(0>this.l(m)&&0>k.l(m))return u(this.m()*k.m());for(var S=this.g.length+k.g.length,T=[],O=0;O<2*S;O++)T[O]=0;for(O=0;O<this.g.length;O++)for(var C=0;C<k.g.length;C++){var I=this.i(O)>>>16,D=this.i(O)&65535,B=k.i(C)>>>16,X=k.i(C)&65535;T[2*O+2*C]+=D*X,_(T,2*O+2*C),T[2*O+2*C+1]+=I*X,_(T,2*O+2*C+1),T[2*O+2*C+1]+=D*B,_(T,2*O+2*C+1),T[2*O+2*C+2]+=I*B,_(T,2*O+2*C+2)}for(O=0;O<S;O++)T[O]=T[2*O+1]<<16|T[2*O];for(O=S;O<2*S;O++)T[O]=0;return new s(T,0)};function _(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function E(k,S){this.g=k,this.h=S}function A(k,S){if(v(S))throw Error("division by zero");if(v(k))return new E(d,d);if(y(k))return S=A(x(k),S),new E(x(S.g),x(S.h));if(y(S))return S=A(k,x(S)),new E(x(S.g),S.h);if(30<k.g.length){if(y(k)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var T=p,O=S;0>=O.l(k);)T=N(T),O=N(O);var C=j(T,1),I=j(O,1);for(O=j(O,2),T=j(T,2);!v(O);){var D=I.add(O);0>=D.l(k)&&(C=C.add(T),I=D),O=j(O,1),T=j(T,1)}return S=b(k,C.j(S)),new E(C,S)}for(C=d;0<=k.l(S);){for(T=Math.max(1,Math.floor(k.m()/S.m())),O=Math.ceil(Math.log(T)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),I=u(T),D=I.j(S);y(D)||0<D.l(k);)T-=O,I=u(T),D=I.j(S);v(I)&&(I=p),C=C.add(I),k=b(k,D)}return new E(C,k)}e.A=function(k){return A(this,k).h},e.and=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],O=0;O<S;O++)T[O]=this.i(O)&k.i(O);return new s(T,this.h&k.h)},e.or=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],O=0;O<S;O++)T[O]=this.i(O)|k.i(O);return new s(T,this.h|k.h)},e.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],O=0;O<S;O++)T[O]=this.i(O)^k.i(O);return new s(T,this.h^k.h)};function N(k){for(var S=k.g.length+1,T=[],O=0;O<S;O++)T[O]=k.i(O)<<1|k.i(O-1)>>>31;return new s(T,k.h)}function j(k,S){var T=S>>5;S%=32;for(var O=k.g.length-T,C=[],I=0;I<O;I++)C[I]=0<S?k.i(I+T)>>>S|k.i(I+T+1)<<32-S:k.i(I+T);return new s(C,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,WD=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,vo=s}).apply(typeof AT<"u"?AT:typeof self<"u"?self:typeof window<"u"?window:{});var kh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KD,Ic,HD,cp,Zx,qD,GD,YD;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,w,P){return f==Array.prototype||f==Object.prototype||(f[w]=P.value),f};function r(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof kh=="object"&&kh];for(var w=0;w<f.length;++w){var P=f[w];if(P&&P.Math==Math)return P}throw Error("Cannot find global object")}var n=r(this);function i(f,w){if(w)e:{var P=n;f=f.split(".");for(var R=0;R<f.length-1;R++){var $=f[R];if(!($ in P))break e;P=P[$]}f=f[f.length-1],R=P[f],w=w(R),w!=R&&w!=null&&t(P,f,{configurable:!0,writable:!0,value:w})}}function a(f,w){f instanceof String&&(f+="");var P=0,R=!1,$={next:function(){if(!R&&P<f.length){var U=P++;return{value:w(U,f[U]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(f){return f||function(){return a(this,function(w,P){return P})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(f){var w=typeof f;return w=w!="object"?w:f?Array.isArray(f)?"array":w:"null",w=="array"||w=="object"&&typeof f.length=="number"}function u(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,P){return f.call.apply(f.bind,arguments)}function d(f,w,P){if(!f)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),f.apply(w,$)}}return function(){return f.apply(w,arguments)}}function p(f,w,P){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:d,p.apply(null,arguments)}function m(f,w){var P=Array.prototype.slice.call(arguments,1);return function(){var R=P.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function v(f,w){function P(){}P.prototype=w.prototype,f.aa=w.prototype,f.prototype=new P,f.prototype.constructor=f,f.Qb=function(R,$,U){for(var J=Array(arguments.length-2),We=2;We<arguments.length;We++)J[We-2]=arguments[We];return w.prototype[$].apply(R,J)}}function y(f){const w=f.length;if(0<w){const P=Array(w);for(let R=0;R<w;R++)P[R]=f[R];return P}return[]}function x(f,w){for(let P=1;P<arguments.length;P++){const R=arguments[P];if(l(R)){const $=f.length||0,U=R.length||0;f.length=$+U;for(let J=0;J<U;J++)f[$+J]=R[J]}else f.push(R)}}class b{constructor(w,P){this.i=w,this.j=P,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(f){return/^[\s\xa0]*$/.test(f)}function E(){var f=o.navigator;return f&&(f=f.userAgent)?f:""}function A(f){return A[" "](f),f}A[" "]=function(){};var N=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function j(f,w,P){for(const R in f)w.call(P,f[R],R,f)}function k(f,w){for(const P in f)w.call(void 0,f[P],P,f)}function S(f){const w={};for(const P in f)w[P]=f[P];return w}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,w){let P,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(P in R)f[P]=R[P];for(let U=0;U<T.length;U++)P=T[U],Object.prototype.hasOwnProperty.call(R,P)&&(f[P]=R[P])}}function C(f){var w=1;f=f.split(":");const P=[];for(;0<w&&f.length;)P.push(f.shift()),w--;return f.length&&P.push(f.join(":")),P}function I(f){o.setTimeout(()=>{throw f},0)}function D(){var f=V;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class B{constructor(){this.h=this.g=null}add(w,P){const R=X.get();R.set(w,P),this.h?this.h.next=R:this.g=R,this.h=R}}var X=new b(()=>new L,f=>f.reset());class L{constructor(){this.next=this.g=this.h=null}set(w,P){this.h=w,this.g=P,this.next=null}reset(){this.next=this.g=this.h=null}}let H,M=!1,V=new B,Y=()=>{const f=o.Promise.resolve(void 0);H=()=>{f.then(Z)}};var Z=()=>{for(var f;f=D();){try{f.h.call(f.g)}catch(P){I(P)}var w=X;w.j(f),100>w.h&&(w.h++,f.next=w.g,w.g=f)}M=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ke=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const P=()=>{};o.addEventListener("test",P,w),o.removeEventListener("test",P,w)}catch{}return f}();function dt(f,w){if(ge.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var P=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget){if(N){e:{try{A(w.nodeName);var $=!0;break e}catch{}$=!1}$||(w=null)}}else P=="mouseover"?w=f.fromElement:P=="mouseout"&&(w=f.toElement);this.relatedTarget=w,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:it[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&dt.aa.h.call(this)}}v(dt,ge);var it={2:"touch",3:"pen",4:"mouse"};dt.prototype.h=function(){dt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Gr=0;function K(f,w,P,R,$){this.listener=f,this.proxy=null,this.src=w,this.type=P,this.capture=!!R,this.ha=$,this.key=++Gr,this.da=this.fa=!1}function he(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xe(f){this.src=f,this.g={},this.h=0}xe.prototype.add=function(f,w,P,R,$){var U=f.toString();f=this.g[U],f||(f=this.g[U]=[],this.h++);var J=at(f,w,R,$);return-1<J?(w=f[J],P||(w.fa=!1)):(w=new K(w,this.src,U,!!R,$),w.fa=P,f.push(w)),w};function q(f,w){var P=w.type;if(P in f.g){var R=f.g[P],$=Array.prototype.indexOf.call(R,w,void 0),U;(U=0<=$)&&Array.prototype.splice.call(R,$,1),U&&(he(w),f.g[P].length==0&&(delete f.g[P],f.h--))}}function at(f,w,P,R){for(var $=0;$<f.length;++$){var U=f[$];if(!U.da&&U.listener==w&&U.capture==!!P&&U.ha==R)return $}return-1}var ce="closure_lm_"+(1e6*Math.random()|0),Xe={};function Re(f,w,P,R,$){if(Array.isArray(w)){for(var U=0;U<w.length;U++)Re(f,w[U],P,R,$);return null}return P=ji(P),f&&f[Oe]?f.K(w,P,u(R)?!!R.capture:!1,$):jt(f,w,P,!1,R,$)}function jt(f,w,P,R,$,U){if(!w)throw Error("Invalid event type");var J=u($)?!!$.capture:!!$,We=Ra(f);if(We||(f[ce]=We=new xe(f)),P=We.add(w,P,R,J,U),P.proxy)return P;if(R=Ni(),P.proxy=R,R.src=f,R.listener=P,f.addEventListener)ke||($=J),$===void 0&&($=!1),f.addEventListener(w.toString(),R,$);else if(f.attachEvent)f.attachEvent(il(w.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return P}function Ni(){function f(P){return w.call(f.src,f.listener,P)}const w=Hu;return f}function Ws(f,w,P,R,$){if(Array.isArray(w))for(var U=0;U<w.length;U++)Ws(f,w[U],P,R,$);else R=u(R)?!!R.capture:!!R,P=ji(P),f&&f[Oe]?(f=f.i,w=String(w).toString(),w in f.g&&(U=f.g[w],P=at(U,P,R,$),-1<P&&(he(U[P]),Array.prototype.splice.call(U,P,1),U.length==0&&(delete f.g[w],f.h--)))):f&&(f=Ra(f))&&(w=f.g[w.toString()],f=-1,w&&(f=at(w,P,R,$)),(P=-1<f?w[f]:null)&&Ks(P))}function Ks(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[Oe])q(w.i,f);else{var P=f.type,R=f.proxy;w.removeEventListener?w.removeEventListener(P,R,f.capture):w.detachEvent?w.detachEvent(il(P),R):w.addListener&&w.removeListener&&w.removeListener(R),(P=Ra(w))?(q(P,f),P.h==0&&(P.src=null,w[ce]=null)):he(f)}}}function il(f){return f in Xe?Xe[f]:Xe[f]="on"+f}function Hu(f,w){if(f.da)f=!0;else{w=new dt(w,this);var P=f.listener,R=f.ha||f.src;f.fa&&Ks(f),f=P.call(R,w)}return f}function Ra(f){return f=f[ce],f instanceof xe?f:null}var Ma="__closure_events_fn_"+(1e9*Math.random()>>>0);function ji(f){return typeof f=="function"?f:(f[Ma]||(f[Ma]=function(w){return f.handleEvent(w)}),f[Ma])}function Dt(){re.call(this),this.i=new xe(this),this.M=this,this.F=null}v(Dt,re),Dt.prototype[Oe]=!0,Dt.prototype.removeEventListener=function(f,w,P,R){Ws(this,f,w,P,R)};function Bt(f,w){var P,R=f.F;if(R)for(P=[];R;R=R.F)P.push(R);if(f=f.M,R=w.type||w,typeof w=="string")w=new ge(w,f);else if(w instanceof ge)w.target=w.target||f;else{var $=w;w=new ge(R,f),O(w,$)}if($=!0,P)for(var U=P.length-1;0<=U;U--){var J=w.g=P[U];$=Wn(J,R,!0,w)&&$}if(J=w.g=f,$=Wn(J,R,!0,w)&&$,$=Wn(J,R,!1,w)&&$,P)for(U=0;U<P.length;U++)J=w.g=P[U],$=Wn(J,R,!1,w)&&$}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var f=this.i,w;for(w in f.g){for(var P=f.g[w],R=0;R<P.length;R++)he(P[R]);delete f.g[w],f.h--}}this.F=null},Dt.prototype.K=function(f,w,P,R){return this.i.add(String(f),w,!1,P,R)},Dt.prototype.L=function(f,w,P,R){return this.i.add(String(f),w,!0,P,R)};function Wn(f,w,P,R){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();for(var $=!0,U=0;U<w.length;++U){var J=w[U];if(J&&!J.da&&J.capture==P){var We=J.listener,dr=J.ha||J.src;J.fa&&q(f.i,J),$=We.call(dr,R)!==!1&&$}}return $&&!R.defaultPrevented}function La(f,w,P){if(typeof f=="function")P&&(f=p(f,P));else if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:o.setTimeout(f,w||0)}function Sn(f){f.g=La(()=>{f.g=null,f.i&&(f.i=!1,Sn(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class z extends re{constructor(w,P){super(),this.m=w,this.l=P,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Sn(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(f){re.call(this),this.h=f,this.g={}}v(ae,re);var le=[];function we(f){j(f.g,function(w,P){this.g.hasOwnProperty(P)&&Ks(w)},f),f.g={}}ae.prototype.N=function(){ae.aa.N.call(this),we(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _e=o.JSON.stringify,At=o.JSON.parse,Ve=class{stringify(f){return o.JSON.stringify(f,void 0)}parse(f){return o.JSON.parse(f,void 0)}};function Zt(){}Zt.prototype.h=null;function er(f){return f.h||(f.h=f.i())}function Lr(){}var un={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function li(){ge.call(this,"d")}v(li,ge);function ft(){ge.call(this,"c")}v(ft,ge);var _t={},Hs=null;function Ue(){return Hs=Hs||new Dt}_t.La="serverreachability";function cn(f){ge.call(this,_t.La,f)}v(cn,ge);function qs(f){const w=Ue();Bt(w,new cn(w))}_t.STAT_EVENT="statevent";function al(f,w){ge.call(this,_t.STAT_EVENT,f),this.stat=w}v(al,ge);function tr(f){const w=Ue();Bt(w,new al(w,f))}_t.Ma="timingevent";function qu(f,w){ge.call(this,_t.Ma,f),this.size=w}v(qu,ge);function Di(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){f()},w)}function ui(){this.g=!0}ui.prototype.xa=function(){this.g=!1};function Gu(f,w,P,R,$,U){f.info(function(){if(f.g)if(U)for(var J="",We=U.split("&"),dr=0;dr<We.length;dr++){var Ne=We[dr].split("=");if(1<Ne.length){var _r=Ne[0];Ne=Ne[1];var kr=_r.split("_");J=2<=kr.length&&kr[1]=="type"?J+(_r+"="+Ne+"&"):J+(_r+"=redacted&")}}else J=null;else J=U;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+w+`
`+P+`
`+J})}function Yu(f,w,P,R,$,U,J){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+w+`
`+P+`
`+U+" "+J})}function ci(f,w,P,R){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+Qu(f,P)+(R?" "+R:"")})}function x0(f,w){f.info(function(){return"TIMEOUT: "+w})}ui.prototype.info=function(){};function Qu(f,w){if(!f.g)return w;if(!w)return null;try{var P=JSON.parse(w);if(P){for(f=0;f<P.length;f++)if(Array.isArray(P[f])){var R=P[f];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var U=$[0];if(U!="noop"&&U!="stop"&&U!="close")for(var J=1;J<$.length;J++)$[J]=""}}}}return _e(P)}catch{return w}}var Gs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xu;function be(){}v(be,Zt),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},Xu=new be;function Me(f,w,P,R){this.j=f,this.i=w,this.l=P,this.R=R||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ht}function ht(){this.i=null,this.g="",this.h=!1}var Yr={},Vr={};function Ys(f,w,P){f.L=1,f.v=Yf(Ri(w)),f.m=P,f.P=!0,Wf(f,null)}function Wf(f,w){f.F=Date.now(),Hf(f),f.A=Ri(f.v);var P=f.A,R=f.R;Array.isArray(R)||(R=[String(R)]),fS(P.i,"t",R),f.C=0,P=f.j.J,f.h=new ht,f.g=CS(f.j,P?w:null,!f.m),0<f.O&&(f.M=new z(p(f.Y,f,f.g),f.O)),w=f.U,P=f.g,R=f.ca;var $="readystatechange";Array.isArray($)||($&&(le[0]=$.toString()),$=le);for(var U=0;U<$.length;U++){var J=Re(P,$[U],R||w.handleEvent,!1,w.h||w);if(!J)break;w.g[J.key]=J}w=f.H?S(f.H):{},f.m?(f.u||(f.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,w)):(f.u="GET",f.g.ea(f.A,f.u,null,w)),qs(),Gu(f.i,f.u,f.A,f.l,f.R,f.m)}Me.prototype.ca=function(f){f=f.target;const w=this.M;w&&Mi(f)==3?w.j():this.Y(f)},Me.prototype.Y=function(f){try{if(f==this.g)e:{const kr=Mi(this.g);var w=this.g.Ba();const ll=this.g.Z();if(!(3>kr)&&(kr!=3||this.g&&(this.h.h||this.g.oa()||xS(this.g)))){this.J||kr!=4||w==7||(w==8||0>=ll?qs(3):qs(2)),b0(this);var P=this.g.Z();this.X=P;t:if(Kf(this)){var R=xS(this.g);f="";var $=R.length,U=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qs(this),Ju(this);var J="";break t}this.h.i=new o.TextDecoder}for(w=0;w<$;w++)this.h.h=!0,f+=this.h.i.decode(R[w],{stream:!(U&&w==$-1)});R.length=0,this.h.g+=f,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=P==200,Yu(this.i,this.u,this.A,this.l,this.R,kr,P),this.o){if(this.T&&!this.K){t:{if(this.g){var We,dr=this.g;if((We=dr.g?dr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(We)){var Ne=We;break t}}Ne=null}if(P=Ne)ci(this.i,this.l,P,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,w0(this,P);else{this.o=!1,this.s=3,tr(12),Qs(this),Ju(this);break e}}if(this.P){P=!0;let Kn;for(;!this.J&&this.C<J.length;)if(Kn=P$(this,J),Kn==Vr){kr==4&&(this.s=4,tr(14),P=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==Yr){this.s=4,tr(15),ci(this.i,this.l,J,"[Invalid Chunk]"),P=!1;break}else ci(this.i,this.l,Kn,null),w0(this,Kn);if(Kf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kr!=4||J.length!=0||this.h.h||(this.s=1,tr(16),P=!1),this.o=this.o&&P,!P)ci(this.i,this.l,J,"[Invalid Chunked Response]"),Qs(this),Ju(this);else if(0<J.length&&!this.W){this.W=!0;var _r=this.j;_r.g==this&&_r.ba&&!_r.M&&(_r.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),T0(_r),_r.M=!0,tr(11))}}else ci(this.i,this.l,J,null),w0(this,J);kr==4&&Qs(this),this.o&&!this.J&&(kr==4?PS(this.j,this):(this.o=!1,Hf(this)))}else B$(this.g),P==400&&0<J.indexOf("Unknown SID")?(this.s=3,tr(12)):(this.s=0,tr(13)),Qs(this),Ju(this)}}}catch{}finally{}};function Kf(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function P$(f,w){var P=f.C,R=w.indexOf(`
`,P);return R==-1?Vr:(P=Number(w.substring(P,R)),isNaN(P)?Yr:(R+=1,R+P>w.length?Vr:(w=w.slice(R,R+P),f.C=R+P,w)))}Me.prototype.cancel=function(){this.J=!0,Qs(this)};function Hf(f){f.S=Date.now()+f.I,eS(f,f.I)}function eS(f,w){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Di(p(f.ba,f),w)}function b0(f){f.B&&(o.clearTimeout(f.B),f.B=null)}Me.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(x0(this.i,this.A),this.L!=2&&(qs(),tr(17)),Qs(this),this.s=2,Ju(this)):eS(this,this.S-f)};function Ju(f){f.j.G==0||f.J||PS(f.j,f)}function Qs(f){b0(f);var w=f.M;w&&typeof w.ma=="function"&&w.ma(),f.M=null,we(f.U),f.g&&(w=f.g,f.g=null,w.abort(),w.ma())}function w0(f,w){try{var P=f.j;if(P.G!=0&&(P.g==f||_0(P.h,f))){if(!f.K&&_0(P.h,f)&&P.G==3){try{var R=P.Da.g.parse(w)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!P.u){if(P.g)if(P.g.F+3e3<f.F)th(P),Zf(P);else break e;P0(P),tr(18)}}else P.za=$[1],0<P.za-P.T&&37500>$[2]&&P.F&&P.v==0&&!P.C&&(P.C=Di(p(P.Za,P),6e3));if(1>=nS(P.h)&&P.ca){try{P.ca()}catch{}P.ca=void 0}}else Js(P,11)}else if((f.K||P.g==f)&&th(P),!_(w))for($=P.Da.g.parse(w),w=0;w<$.length;w++){let Ne=$[w];if(P.T=Ne[0],Ne=Ne[1],P.G==2)if(Ne[0]=="c"){P.K=Ne[1],P.ia=Ne[2];const _r=Ne[3];_r!=null&&(P.la=_r,P.j.info("VER="+P.la));const kr=Ne[4];kr!=null&&(P.Aa=kr,P.j.info("SVER="+P.Aa));const ll=Ne[5];ll!=null&&typeof ll=="number"&&0<ll&&(R=1.5*ll,P.L=R,P.j.info("backChannelRequestTimeoutMs_="+R)),R=P;const Kn=f.g;if(Kn){const nh=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(nh){var U=R.h;U.g||nh.indexOf("spdy")==-1&&nh.indexOf("quic")==-1&&nh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(k0(U,U.h),U.h=null))}if(R.D){const A0=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;A0&&(R.ya=A0,Je(R.I,R.D,A0))}}P.G=3,P.l&&P.l.ua(),P.ba&&(P.R=Date.now()-f.F,P.j.info("Handshake RTT: "+P.R+"ms")),R=P;var J=f;if(R.qa=IS(R,R.J?R.ia:null,R.W),J.K){iS(R.h,J);var We=J,dr=R.L;dr&&(We.I=dr),We.B&&(b0(We),Hf(We)),R.g=J}else ES(R);0<P.i.length&&eh(P)}else Ne[0]!="stop"&&Ne[0]!="close"||Js(P,7);else P.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Js(P,7):S0(P):Ne[0]!="noop"&&P.l&&P.l.ta(Ne),P.v=0)}}qs(4)}catch{}}var T$=class{constructor(f,w){this.g=f,this.map=w}};function tS(f){this.l=f||10,o.PerformanceNavigationTiming?(f=o.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function rS(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function nS(f){return f.h?1:f.g?f.g.size:0}function _0(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function k0(f,w){f.g?f.g.add(w):f.h=w}function iS(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}tS.prototype.cancel=function(){if(this.i=aS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function aS(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const P of f.g.values())w=w.concat(P.D);return w}return y(f.i)}function A$(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var w=[],P=f.length,R=0;R<P;R++)w.push(f[R]);return w}w=[],P=0;for(R in f)w[P++]=f[R];return w}function I$(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var w=[];f=f.length;for(var P=0;P<f;P++)w.push(P);return w}w=[],P=0;for(const R in f)w[P++]=R;return w}}}function sS(f,w){if(f.forEach&&typeof f.forEach=="function")f.forEach(w,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,w,void 0);else for(var P=I$(f),R=A$(f),$=R.length,U=0;U<$;U++)w.call(void 0,R[U],P&&P[U],f)}var oS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C$(f,w){if(f){f=f.split("&");for(var P=0;P<f.length;P++){var R=f[P].indexOf("="),$=null;if(0<=R){var U=f[P].substring(0,R);$=f[P].substring(R+1)}else U=f[P];w(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Xs(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Xs){this.h=f.h,qf(this,f.j),this.o=f.o,this.g=f.g,Gf(this,f.s),this.l=f.l;var w=f.i,P=new tc;P.i=w.i,w.g&&(P.g=new Map(w.g),P.h=w.h),lS(this,P),this.m=f.m}else f&&(w=String(f).match(oS))?(this.h=!1,qf(this,w[1]||"",!0),this.o=Zu(w[2]||""),this.g=Zu(w[3]||"",!0),Gf(this,w[4]),this.l=Zu(w[5]||"",!0),lS(this,w[6]||"",!0),this.m=Zu(w[7]||"")):(this.h=!1,this.i=new tc(null,this.h))}Xs.prototype.toString=function(){var f=[],w=this.j;w&&f.push(ec(w,uS,!0),":");var P=this.g;return(P||w=="file")&&(f.push("//"),(w=this.o)&&f.push(ec(w,uS,!0),"@"),f.push(encodeURIComponent(String(P)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),P=this.s,P!=null&&f.push(":",String(P))),(P=this.l)&&(this.g&&P.charAt(0)!="/"&&f.push("/"),f.push(ec(P,P.charAt(0)=="/"?j$:N$,!0))),(P=this.i.toString())&&f.push("?",P),(P=this.m)&&f.push("#",ec(P,R$)),f.join("")};function Ri(f){return new Xs(f)}function qf(f,w,P){f.j=P?Zu(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Gf(f,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);f.s=w}else f.s=null}function lS(f,w,P){w instanceof tc?(f.i=w,M$(f.i,f.h)):(P||(w=ec(w,D$)),f.i=new tc(w,f.h))}function Je(f,w,P){f.i.set(w,P)}function Yf(f){return Je(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Zu(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function ec(f,w,P){return typeof f=="string"?(f=encodeURI(f).replace(w,O$),P&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function O$(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var uS=/[#\/\?@]/g,N$=/[#\?:]/g,j$=/[#\?]/g,D$=/[#\?@]/g,R$=/#/g;function tc(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function Va(f){f.g||(f.g=new Map,f.h=0,f.i&&C$(f.i,function(w,P){f.add(decodeURIComponent(w.replace(/\+/g," ")),P)}))}e=tc.prototype,e.add=function(f,w){Va(this),this.i=null,f=sl(this,f);var P=this.g.get(f);return P||this.g.set(f,P=[]),P.push(w),this.h+=1,this};function cS(f,w){Va(f),w=sl(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function dS(f,w){return Va(f),w=sl(f,w),f.g.has(w)}e.forEach=function(f,w){Va(this),this.g.forEach(function(P,R){P.forEach(function($){f.call(w,$,R,this)},this)},this)},e.na=function(){Va(this);const f=Array.from(this.g.values()),w=Array.from(this.g.keys()),P=[];for(let R=0;R<w.length;R++){const $=f[R];for(let U=0;U<$.length;U++)P.push(w[R])}return P},e.V=function(f){Va(this);let w=[];if(typeof f=="string")dS(this,f)&&(w=w.concat(this.g.get(sl(this,f))));else{f=Array.from(this.g.values());for(let P=0;P<f.length;P++)w=w.concat(f[P])}return w},e.set=function(f,w){return Va(this),this.i=null,f=sl(this,f),dS(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},e.get=function(f,w){return f?(f=this.V(f),0<f.length?String(f[0]):w):w};function fS(f,w,P){cS(f,w),0<P.length&&(f.i=null,f.g.set(sl(f,w),y(P)),f.h+=P.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(var P=0;P<w.length;P++){var R=w[P];const U=encodeURIComponent(String(R)),J=this.V(R);for(R=0;R<J.length;R++){var $=U;J[R]!==""&&($+="="+encodeURIComponent(String(J[R]))),f.push($)}}return this.i=f.join("&")};function sl(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function M$(f,w){w&&!f.j&&(Va(f),f.i=null,f.g.forEach(function(P,R){var $=R.toLowerCase();R!=$&&(cS(this,R),fS(this,$,P))},f)),f.j=w}function L$(f,w){const P=new ui;if(o.Image){const R=new Image;R.onload=m($a,P,"TestLoadImage: loaded",!0,w,R),R.onerror=m($a,P,"TestLoadImage: error",!1,w,R),R.onabort=m($a,P,"TestLoadImage: abort",!1,w,R),R.ontimeout=m($a,P,"TestLoadImage: timeout",!1,w,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else w(!1)}function V$(f,w){const P=new ui,R=new AbortController,$=setTimeout(()=>{R.abort(),$a(P,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:R.signal}).then(U=>{clearTimeout($),U.ok?$a(P,"TestPingServer: ok",!0,w):$a(P,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout($),$a(P,"TestPingServer: error",!1,w)})}function $a(f,w,P,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(P)}catch{}}function $$(){this.g=new Ve}function F$(f,w,P){const R=P||"";try{sS(f,function($,U){let J=$;u($)&&(J=_e($)),w.push(R+U+"="+encodeURIComponent(J))})}catch($){throw w.push(R+"type="+encodeURIComponent("_badmap")),$}}function Qf(f){this.l=f.Ub||null,this.j=f.eb||!1}v(Qf,Zt),Qf.prototype.g=function(){return new Xf(this.l,this.j)},Qf.prototype.i=function(f){return function(){return f}}({});function Xf(f,w){Dt.call(this),this.D=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Xf,Dt),e=Xf.prototype,e.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=w,this.readyState=1,nc(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(w.body=f),(this.D||o).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,rc(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,nc(this)),this.g&&(this.readyState=3,nc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hS(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function hS(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?rc(this):nc(this),this.readyState==3&&hS(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,rc(this))},e.Qa=function(f){this.g&&(this.response=f,rc(this))},e.ga=function(){this.g&&rc(this)};function rc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,nc(f)}e.setRequestHeader=function(f,w){this.u.append(f,w)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var P=w.next();!P.done;)P=P.value,f.push(P[0]+": "+P[1]),P=w.next();return f.join(`\r
`)};function nc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function pS(f){let w="";return j(f,function(P,R){w+=R,w+=":",w+=P,w+=`\r
`}),w}function E0(f,w,P){e:{for(R in P){var R=!1;break e}R=!0}R||(P=pS(P),typeof f=="string"?P!=null&&encodeURIComponent(String(P)):Je(f,w,P))}function kt(f){Dt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(kt,Dt);var z$=/^https?$/i,U$=["POST","PUT"];e=kt.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,w,P,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xu.g(),this.v=this.o?er(this.o):er(Xu),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(U){mS(this,U);return}if(f=P||"",P=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)P.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const U of R.keys())P.set(U,R.get(U));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(P.keys()).find(U=>U.toLowerCase()=="content-type"),$=o.FormData&&f instanceof o.FormData,!(0<=Array.prototype.indexOf.call(U$,w,void 0))||R||$||P.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,J]of P)this.g.setRequestHeader(U,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yS(this),this.u=!0,this.g.send(f),this.u=!1}catch(U){mS(this,U)}};function mS(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.m=5,gS(f),Jf(f)}function gS(f){f.A||(f.A=!0,Bt(f,"complete"),Bt(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Bt(this,"complete"),Bt(this,"abort"),Jf(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Jf(this,!0)),kt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?vS(this):this.bb())},e.bb=function(){vS(this)};function vS(f){if(f.h&&typeof s<"u"&&(!f.v[1]||Mi(f)!=4||f.Z()!=2)){if(f.u&&Mi(f)==4)La(f.Ea,0,f);else if(Bt(f,"readystatechange"),Mi(f)==4){f.h=!1;try{const J=f.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var P;if(!(P=w)){var R;if(R=J===0){var $=String(f.D).match(oS)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),R=!z$.test($?$.toLowerCase():"")}P=R}if(P)Bt(f,"complete"),Bt(f,"success");else{f.m=6;try{var U=2<Mi(f)?f.g.statusText:""}catch{U=""}f.l=U+" ["+f.Z()+"]",gS(f)}}finally{Jf(f)}}}}function Jf(f,w){if(f.g){yS(f);const P=f.g,R=f.v[0]?()=>{}:null;f.g=null,f.v=null,w||Bt(f,"ready");try{P.onreadystatechange=R}catch{}}}function yS(f){f.I&&(o.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Mi(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),At(w)}};function xS(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function B$(f){const w={};f=(f.g&&2<=Mi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(_(f[R]))continue;var P=C(f[R]);const $=P[0];if(P=P[1],typeof P!="string")continue;P=P.trim();const U=w[$]||[];w[$]=U,U.push(P)}k(w,function(R){return R.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ic(f,w,P){return P&&P.internalChannelParams&&P.internalChannelParams[f]||w}function bS(f){this.Aa=0,this.i=[],this.j=new ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ic("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ic("baseRetryDelayMs",5e3,f),this.cb=ic("retryDelaySeedMs",1e4,f),this.Wa=ic("forwardChannelMaxRetries",2,f),this.wa=ic("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new tS(f&&f.concurrentRequestLimit),this.Da=new $$,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=bS.prototype,e.la=8,e.G=1,e.connect=function(f,w,P,R){tr(0),this.W=f,this.H=w||{},P&&R!==void 0&&(this.H.OSID=P,this.H.OAID=R),this.F=this.X,this.I=IS(this,null,this.W),eh(this)};function S0(f){if(wS(f),f.G==3){var w=f.U++,P=Ri(f.I);if(Je(P,"SID",f.K),Je(P,"RID",w),Je(P,"TYPE","terminate"),ac(f,P),w=new Me(f,f.j,w),w.L=2,w.v=Yf(Ri(P)),P=!1,o.navigator&&o.navigator.sendBeacon)try{P=o.navigator.sendBeacon(w.v.toString(),"")}catch{}!P&&o.Image&&(new Image().src=w.v,P=!0),P||(w.g=CS(w.j,null),w.g.ea(w.v)),w.F=Date.now(),Hf(w)}AS(f)}function Zf(f){f.g&&(T0(f),f.g.cancel(),f.g=null)}function wS(f){Zf(f),f.u&&(o.clearTimeout(f.u),f.u=null),th(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&o.clearTimeout(f.s),f.s=null)}function eh(f){if(!rS(f.h)&&!f.s){f.s=!0;var w=f.Ga;H||Y(),M||(H(),M=!0),V.add(w,f),f.B=0}}function W$(f,w){return nS(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=w.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Di(p(f.Ga,f,w),TS(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new Me(this,this.j,f);let U=this.o;if(this.S&&(U?(U=S(U),O(U,this.S)):U=this.S),this.m!==null||this.O||($.H=U,U=null),this.P)e:{for(var w=0,P=0;P<this.i.length;P++){t:{var R=this.i[P];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(w+=R,4096<w){w=P;break e}if(w===4096||P===this.i.length-1){w=P+1;break e}}w=1e3}else w=1e3;w=kS(this,$,w),P=Ri(this.I),Je(P,"RID",f),Je(P,"CVER",22),this.D&&Je(P,"X-HTTP-Session-Id",this.D),ac(this,P),U&&(this.O?w="headers="+encodeURIComponent(String(pS(U)))+"&"+w:this.m&&E0(P,this.m,U)),k0(this.h,$),this.Ua&&Je(P,"TYPE","init"),this.P?(Je(P,"$req",w),Je(P,"SID","null"),$.T=!0,Ys($,P,null)):Ys($,P,w),this.G=2}}else this.G==3&&(f?_S(this,f):this.i.length==0||rS(this.h)||_S(this))};function _S(f,w){var P;w?P=w.l:P=f.U++;const R=Ri(f.I);Je(R,"SID",f.K),Je(R,"RID",P),Je(R,"AID",f.T),ac(f,R),f.m&&f.o&&E0(R,f.m,f.o),P=new Me(f,f.j,P,f.B+1),f.m===null&&(P.H=f.o),w&&(f.i=w.D.concat(f.i)),w=kS(f,P,1e3),P.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),k0(f.h,P),Ys(P,R,w)}function ac(f,w){f.H&&j(f.H,function(P,R){Je(w,R,P)}),f.l&&sS({},function(P,R){Je(w,R,P)})}function kS(f,w,P){P=Math.min(f.i.length,P);var R=f.l?p(f.l.Na,f.l,f):null;e:{var $=f.i;let U=-1;for(;;){const J=["count="+P];U==-1?0<P?(U=$[0].g,J.push("ofs="+U)):U=0:J.push("ofs="+U);let We=!0;for(let dr=0;dr<P;dr++){let Ne=$[dr].g;const _r=$[dr].map;if(Ne-=U,0>Ne)U=Math.max(0,$[dr].g-100),We=!1;else try{F$(_r,J,"req"+Ne+"_")}catch{R&&R(_r)}}if(We){R=J.join("&");break e}}}return f=f.i.splice(0,P),w.D=f,R}function ES(f){if(!f.g&&!f.u){f.Y=1;var w=f.Fa;H||Y(),M||(H(),M=!0),V.add(w,f),f.v=0}}function P0(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Di(p(f.Fa,f),TS(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,SS(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Di(p(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tr(10),Zf(this),SS(this))};function T0(f){f.A!=null&&(o.clearTimeout(f.A),f.A=null)}function SS(f){f.g=new Me(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var w=Ri(f.qa);Je(w,"RID","rpc"),Je(w,"SID",f.K),Je(w,"AID",f.T),Je(w,"CI",f.F?"0":"1"),!f.F&&f.ja&&Je(w,"TO",f.ja),Je(w,"TYPE","xmlhttp"),ac(f,w),f.m&&f.o&&E0(w,f.m,f.o),f.L&&(f.g.I=f.L);var P=f.g;f=f.ia,P.L=1,P.v=Yf(Ri(w)),P.m=null,P.P=!0,Wf(P,f)}e.Za=function(){this.C!=null&&(this.C=null,Zf(this),P0(this),tr(19))};function th(f){f.C!=null&&(o.clearTimeout(f.C),f.C=null)}function PS(f,w){var P=null;if(f.g==w){th(f),T0(f),f.g=null;var R=2}else if(_0(f.h,w))P=w.D,iS(f.h,w),R=1;else return;if(f.G!=0){if(w.o)if(R==1){P=w.m?w.m.length:0,w=Date.now()-w.F;var $=f.B;R=Ue(),Bt(R,new qu(R,P)),eh(f)}else ES(f);else if($=w.s,$==3||$==0&&0<w.X||!(R==1&&W$(f,w)||R==2&&P0(f)))switch(P&&0<P.length&&(w=f.h,w.i=w.i.concat(P)),$){case 1:Js(f,5);break;case 4:Js(f,10);break;case 3:Js(f,6);break;default:Js(f,2)}}}function TS(f,w){let P=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(P*=2),P*w}function Js(f,w){if(f.j.info("Error code "+w),w==2){var P=p(f.fb,f),R=f.Xa;const $=!R;R=new Xs(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||qf(R,"https"),Yf(R),$?L$(R.toString(),P):V$(R.toString(),P)}else tr(2);f.G=0,f.l&&f.l.sa(w),AS(f),wS(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),tr(2)):(this.j.info("Failed to ping google.com"),tr(1))};function AS(f){if(f.G=0,f.ka=[],f.l){const w=aS(f.h);(w.length!=0||f.i.length!=0)&&(x(f.ka,w),x(f.ka,f.i),f.h.i.length=0,y(f.i),f.i.length=0),f.l.ra()}}function IS(f,w,P){var R=P instanceof Xs?Ri(P):new Xs(P);if(R.g!="")w&&(R.g=w+"."+R.g),Gf(R,R.s);else{var $=o.location;R=$.protocol,w=w?w+"."+$.hostname:$.hostname,$=+$.port;var U=new Xs(null);R&&qf(U,R),w&&(U.g=w),$&&Gf(U,$),P&&(U.l=P),R=U}return P=f.D,w=f.ya,P&&w&&Je(R,P,w),Je(R,"VER",f.la),ac(f,R),R}function CS(f,w,P){if(w&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Ca&&!f.pa?new kt(new Qf({eb:P})):new kt(f.pa),w.Ha(f.J),w}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function OS(){}e=OS.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function rh(){}rh.prototype.g=function(f,w){return new dn(f,w)};function dn(f,w){Dt.call(this),this.g=new bS(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(f?f["X-WebChannel-Client-Profile"]=w.va:f={"X-WebChannel-Client-Profile":w.va}),this.g.S=f,(f=w&&w.Sb)&&!_(f)&&(this.g.m=f),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!_(w)&&(this.g.D=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new ol(this)}v(dn,Dt),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){S0(this.g)},dn.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var P={};P.__data__=f,f=P}else this.u&&(P={},P.__data__=_e(f),f=P);w.i.push(new T$(w.Ya++,f)),w.G==3&&eh(w)},dn.prototype.N=function(){this.g.l=null,delete this.j,S0(this.g),delete this.g,dn.aa.N.call(this)};function NS(f){li.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const P in w){f=P;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}v(NS,li);function jS(){ft.call(this),this.status=1}v(jS,ft);function ol(f){this.g=f}v(ol,OS),ol.prototype.ua=function(){Bt(this.g,"a")},ol.prototype.ta=function(f){Bt(this.g,new NS(f))},ol.prototype.sa=function(f){Bt(this.g,new jS)},ol.prototype.ra=function(){Bt(this.g,"b")},rh.prototype.createWebChannel=rh.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,YD=function(){return new rh},GD=function(){return Ue()},qD=_t,Zx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gs.NO_ERROR=0,Gs.TIMEOUT=8,Gs.HTTP_ERROR=6,cp=Gs,Bf.COMPLETE="complete",HD=Bf,Lr.EventType=un,un.OPEN="a",un.CLOSE="b",un.ERROR="c",un.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,Ic=Lr,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,KD=kt}).apply(typeof kh<"u"?kh:typeof self<"u"?self:typeof window<"u"?window:{});const IT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ar=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo=new N_("@firebase/firestore");function pc(){return jo.logLevel}function oe(e,...t){if(jo.logLevel<=Te.DEBUG){const r=t.map(W_);jo.debug(`Firestore (${Cu}): ${e}`,...r)}}function ua(e,...t){if(jo.logLevel<=Te.ERROR){const r=t.map(W_);jo.error(`Firestore (${Cu}): ${e}`,...r)}}function ou(e,...t){if(jo.logLevel<=Te.WARN){const r=t.map(W_);jo.warn(`Firestore (${Cu}): ${e}`,...r)}}function W_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e="Unexpected state"){const t=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+e;throw ua(t),new Error(t)}function ze(e,t){e||me()}function ye(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends ka{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ar.UNAUTHENTICATED))}shutdown(){}}class pW{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class mW{constructor(t){this.t=t,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){ze(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Zi,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Zi)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ze(typeof n.accessToken=="string"),new QD(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ze(t===null||typeof t=="string"),new Ar(t)}}class gW{constructor(t,r,n){this.l=t,this.h=r,this.P=n,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class vW{constructor(t,r,n){this.l=t,this.h=r,this.P=n}getToken(){return Promise.resolve(new gW(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yW{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xW{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){ze(this.o===void 0);const n=a=>{a.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.R;return this.R=a.token,oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(ze(typeof r.token=="string"),this.R=r.token,new yW(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bW(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const i=bW(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%t.length))}return n}}function je(e,t){return e<t?-1:e>t?1:0}function lu(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new te(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new te(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Gt.fromMillis(Date.now())}static fromDate(t){return Gt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*r));return new Gt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?je(this.nanoseconds,t.nanoseconds):je(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ve(t)}static min(){return new ve(new Gt(0,0))}static max(){return new ve(new Gt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(t,r,n){r===void 0?r=0:r>t.length&&me(),n===void 0?n=t.length-r:n>t.length-r&&me(),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return xd.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof xd?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=t.get(i),s=r.get(i);if(a<s)return-1;if(a>s)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class rt extends xd{construct(t,r,n){return new rt(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new te(W.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new rt(r)}static emptyPath(){return new rt([])}}const wW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends xd{construct(t,r,n){return new gr(t,r,n)}static isValidIdentifier(t){return wW.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new gr(["__name__"])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new te(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new te(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new gr(r)}static emptyPath(){return new gr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t){this.path=t}static fromPath(t){return new ue(rt.fromString(t))}static fromName(t){return new ue(rt.fromString(t).popFirst(5))}static empty(){return new ue(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&rt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return rt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ue(new rt(t.slice()))}}function _W(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=ve.fromTimestamp(n===1e9?new Gt(r+1,0):new Gt(r,n));return new ks(i,ue.empty(),t)}function kW(e){return new ks(e.readTime,e.key,-1)}class ks{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new ks(ve.min(),ue.empty(),-1)}static max(){return new ks(ve.max(),ue.empty(),-1)}}function EW(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=ue.comparator(e.documentKey,t.documentKey),r!==0?r:je(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PW{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(e){if(e.code!==W.FAILED_PRECONDITION||e.message!==SW)throw e;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new G((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof G?r:G.resolve(r)}catch(r){return G.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):G.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):G.reject(r)}static resolve(t){return new G((r,n)=>{r(t)})}static reject(t){return new G((r,n)=>{n(t)})}static waitFor(t){return new G((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=G.resolve(!1);for(const n of t)r=r.next(i=>i?G.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new G((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const u=l;r(t[u]).next(c=>{s[u]=c,++o,o===a&&n(s)},c=>i(c))}})}static doWhile(t,r){return new G((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function TW(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function of(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}K_.oe=-1;function $g(e){return e==null}function im(e){return e===0&&1/e==-1/0}function AW(e){return typeof e=="number"&&Number.isInteger(e)&&!im(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Qo(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function JD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t,r){this.comparator=t,this.root=r||mr.EMPTY}insert(t,r){return new bt(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(t){return new bt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,mr.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Eh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Eh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Eh(this.root,t,this.comparator,!0)}}class Eh{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class mr{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??mr.RED,this.left=i??mr.EMPTY,this.right=a??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new mr(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const t=this.left.check();if(t!==this.right.check())throw me();return t+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,r,n,i,a){return this}insert(t,r,n){return new mr(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.comparator=t,this.data=new bt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new OT(this.data.getIterator())}getIteratorFrom(t){return new OT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof xr)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new xr(this.comparator);return r.data=t,r}}class OT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.fields=t,t.sort(gr.comparator)}static empty(){return new vn([])}unionWith(t){let r=new xr(gr.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new vn(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return lu(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new ZD("Invalid base64 string: "+a):a}}(t);return new wr(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new wr(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const IW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(e){if(ze(!!e),typeof e=="string"){let t=0;const r=IW.exec(e);if(ze(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ct(e.seconds),nanos:Ct(e.nanos)}}function Ct(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Do(e){return typeof e=="string"?wr.fromBase64String(e):wr.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function q_(e){const t=e.mapValue.fields.__previous_value__;return H_(t)?q_(t):t}function bd(e){const t=Es(e.mapValue.fields.__local_write_time__.timestampValue);return new Gt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(t,r,n,i,a,s,o,l,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class wd{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new wd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof wd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh={mapValue:{}};function Ro(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?H_(e)?4:NW(e)?9007199254740991:OW(e)?10:11:me()}function Pi(e,t){if(e===t)return!0;const r=Ro(e);if(r!==Ro(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return bd(e).isEqual(bd(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Es(i.timestampValue),o=Es(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return Do(i.bytesValue).isEqual(Do(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return Ct(i.geoPointValue.latitude)===Ct(a.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Ct(i.integerValue)===Ct(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=Ct(i.doubleValue),o=Ct(a.doubleValue);return s===o?im(s)===im(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return lu(e.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(CT(s)!==CT(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Pi(s[l],o[l])))return!1;return!0}(e,t);default:return me()}}function _d(e,t){return(e.values||[]).find(r=>Pi(r,t))!==void 0}function uu(e,t){if(e===t)return 0;const r=Ro(e),n=Ro(t);if(r!==n)return je(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return je(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=Ct(a.integerValue||a.doubleValue),l=Ct(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return NT(e.timestampValue,t.timestampValue);case 4:return NT(bd(e),bd(t));case 5:return je(e.stringValue,t.stringValue);case 6:return function(a,s){const o=Do(a),l=Do(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=je(o[u],l[u]);if(c!==0)return c}return je(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=je(Ct(a.latitude),Ct(s.latitude));return o!==0?o:je(Ct(a.longitude),Ct(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return jT(e.arrayValue,t.arrayValue);case 10:return function(a,s){var o,l,u,c;const d=a.fields||{},p=s.fields||{},m=(o=d.value)===null||o===void 0?void 0:o.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,y=je(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:jT(m,v)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===Sh.mapValue&&s===Sh.mapValue)return 0;if(a===Sh.mapValue)return 1;if(s===Sh.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const p=je(l[d],c[d]);if(p!==0)return p;const m=uu(o[l[d]],u[c[d]]);if(m!==0)return m}return je(l.length,c.length)}(e.mapValue,t.mapValue);default:throw me()}}function NT(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return je(e,t);const r=Es(e),n=Es(t),i=je(r.seconds,n.seconds);return i!==0?i:je(r.nanos,n.nanos)}function jT(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=uu(r[i],n[i]);if(a)return a}return je(r.length,n.length)}function cu(e){return eb(e)}function eb(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Es(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Do(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return ue.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=eb(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${eb(r.fields[s])}`;return i+"}"}(e.mapValue):me()}function DT(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function tb(e){return!!e&&"integerValue"in e}function G_(e){return!!e&&"arrayValue"in e}function RT(e){return!!e&&"nullValue"in e}function MT(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dp(e){return!!e&&"mapValue"in e}function OW(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function Hc(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Qo(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Hc(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Hc(e.arrayValue.values[r]);return t}return Object.assign({},e)}function NW(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.value=t}static empty(){return new Xr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!dp(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Hc(r)}setAll(t){let r=gr.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Hc(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());dp(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];dp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Qo(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new Xr(Hc(this.value))}}function eR(e){const t=[];return Qo(e.fields,(r,n)=>{const i=new gr([r]);if(dp(n)){const a=eR(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new vn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Cr(t,0,ve.min(),ve.min(),ve.min(),Xr.empty(),0)}static newFoundDocument(t,r,n,i){return new Cr(t,1,r,ve.min(),n,i,0)}static newNoDocument(t,r){return new Cr(t,2,r,ve.min(),ve.min(),Xr.empty(),0)}static newUnknownDocument(t,r){return new Cr(t,3,r,ve.min(),ve.min(),Xr.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Cr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,r){this.position=t,this.inclusive=r}}function LT(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=ue.comparator(ue.fromName(s.referenceValue),r.key):n=uu(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function VT(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Pi(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t,r="asc"){this.field=t,this.dir=r}}function jW(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{}class Vt extends tR{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new RW(t,r,n):r==="array-contains"?new VW(t,n):r==="in"?new $W(t,n):r==="not-in"?new FW(t,n):r==="array-contains-any"?new zW(t,n):new Vt(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new MW(t,n):new LW(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(uu(r,this.value)):r!==null&&Ro(this.value)===Ro(r)&&this.matchesComparison(uu(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ii extends tR{constructor(t,r){super(),this.filters=t,this.op=r,this.ae=null}static create(t,r){return new ii(t,r)}matches(t){return rR(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rR(e){return e.op==="and"}function nR(e){return DW(e)&&rR(e)}function DW(e){for(const t of e.filters)if(t instanceof ii)return!1;return!0}function rb(e){if(e instanceof Vt)return e.field.canonicalString()+e.op.toString()+cu(e.value);if(nR(e))return e.filters.map(t=>rb(t)).join(",");{const t=e.filters.map(r=>rb(r)).join(",");return`${e.op}(${t})`}}function iR(e,t){return e instanceof Vt?function(n,i){return i instanceof Vt&&n.op===i.op&&n.field.isEqual(i.field)&&Pi(n.value,i.value)}(e,t):e instanceof ii?function(n,i){return i instanceof ii&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&iR(s,i.filters[o]),!0):!1}(e,t):void me()}function aR(e){return e instanceof Vt?function(r){return`${r.field.canonicalString()} ${r.op} ${cu(r.value)}`}(e):e instanceof ii?function(r){return r.op.toString()+" {"+r.getFilters().map(aR).join(" ,")+"}"}(e):"Filter"}class RW extends Vt{constructor(t,r,n){super(t,r,n),this.key=ue.fromName(n.referenceValue)}matches(t){const r=ue.comparator(t.key,this.key);return this.matchesComparison(r)}}class MW extends Vt{constructor(t,r){super(t,"in",r),this.keys=sR("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class LW extends Vt{constructor(t,r){super(t,"not-in",r),this.keys=sR("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function sR(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>ue.fromName(n.referenceValue))}class VW extends Vt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return G_(r)&&_d(r.arrayValue,this.value)}}class $W extends Vt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&_d(this.value.arrayValue,r)}}class FW extends Vt{constructor(t,r){super(t,"not-in",r)}matches(t){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!_d(this.value.arrayValue,r)}}class zW extends Vt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!G_(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>_d(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.ue=null}}function $T(e,t=null,r=[],n=[],i=null,a=null,s=null){return new UW(e,t,r,n,i,a,s)}function Y_(e){const t=ye(e);if(t.ue===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>rb(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),$g(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>cu(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>cu(n)).join(",")),t.ue=r}return t.ue}function Q_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!jW(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!iR(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!VT(e.startAt,t.startAt)&&VT(e.endAt,t.endAt)}function nb(e){return ue.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BW(e,t,r,n,i,a,s,o){return new Ou(e,t,r,n,i,a,s,o)}function Fg(e){return new Ou(e)}function FT(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oR(e){return e.collectionGroup!==null}function qc(e){const t=ye(e);if(t.ce===null){t.ce=[];const r=new Set;for(const a of t.explicitOrderBy)t.ce.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new xr(gr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.ce.push(new kd(a,n))}),r.has(gr.keyField().canonicalString())||t.ce.push(new kd(gr.keyField(),n))}return t.ce}function ki(e){const t=ye(e);return t.le||(t.le=WW(t,qc(e))),t.le}function WW(e,t){if(e.limitType==="F")return $T(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new kd(i.field,a)});const r=e.endAt?new am(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new am(e.startAt.position,e.startAt.inclusive):null;return $T(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function ib(e,t){const r=e.filters.concat([t]);return new Ou(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function sm(e,t,r){return new Ou(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function zg(e,t){return Q_(ki(e),ki(t))&&e.limitType===t.limitType}function lR(e){return`${Y_(ki(e))}|lt:${e.limitType}`}function pl(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>aR(i)).join(", ")}]`),$g(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>cu(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>cu(i)).join(",")),`Target(${n})`}(ki(e))}; limitType=${e.limitType})`}function Ug(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):ue.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of qc(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const u=LT(s,o,l);return s.inclusive?u<=0:u<0}(n.startAt,qc(n),i)||n.endAt&&!function(s,o,l){const u=LT(s,o,l);return s.inclusive?u>=0:u>0}(n.endAt,qc(n),i))}(e,t)}function KW(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function uR(e){return(t,r)=>{let n=!1;for(const i of qc(e)){const a=HW(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function HW(e,t,r){const n=e.field.isKeyField()?ue.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),u=o.data.field(a);return l!==null&&u!==null?uu(l,u):me()}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Qo(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return JD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qW=new bt(ue.comparator);function ca(){return qW}const cR=new bt(ue.comparator);function Cc(...e){let t=cR;for(const r of e)t=t.insert(r.key,r);return t}function dR(e){let t=cR;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function uo(){return Gc()}function fR(){return Gc()}function Gc(){return new Nu(e=>e.toString(),(e,t)=>e.isEqual(t))}const GW=new bt(ue.comparator),YW=new xr(ue.comparator);function Se(...e){let t=YW;for(const r of e)t=t.add(r);return t}const QW=new xr(je);function XW(){return QW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:im(t)?"-0":t}}function hR(e){return{integerValue:""+e}}function JW(e,t){return AW(t)?hR(t):X_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this._=void 0}}function ZW(e,t,r){return e instanceof Ed?function(i,a){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&H_(a)&&(a=q_(a)),a&&(s.fields.__previous_value__=a),{mapValue:s}}(r,t):e instanceof Sd?mR(e,t):e instanceof Pd?gR(e,t):function(i,a){const s=pR(i,a),o=zT(s)+zT(i.Pe);return tb(s)&&tb(i.Pe)?hR(o):X_(i.serializer,o)}(e,t)}function eK(e,t,r){return e instanceof Sd?mR(e,t):e instanceof Pd?gR(e,t):r}function pR(e,t){return e instanceof om?function(n){return tb(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Ed extends Bg{}class Sd extends Bg{constructor(t){super(),this.elements=t}}function mR(e,t){const r=vR(t);for(const n of e.elements)r.some(i=>Pi(i,n))||r.push(n);return{arrayValue:{values:r}}}class Pd extends Bg{constructor(t){super(),this.elements=t}}function gR(e,t){let r=vR(t);for(const n of e.elements)r=r.filter(i=>!Pi(i,n));return{arrayValue:{values:r}}}class om extends Bg{constructor(t,r){super(),this.serializer=t,this.Pe=r}}function zT(e){return Ct(e.integerValue||e.doubleValue)}function vR(e){return G_(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tK{constructor(t,r){this.field=t,this.transform=r}}function rK(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Sd&&i instanceof Sd||n instanceof Pd&&i instanceof Pd?lu(n.elements,i.elements,Pi):n instanceof om&&i instanceof om?Pi(n.Pe,i.Pe):n instanceof Ed&&i instanceof Ed}(e.transform,t.transform)}class nK{constructor(t,r){this.version=t,this.transformResults=r}}class Rn{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Rn}static exists(t){return new Rn(void 0,t)}static updateTime(t){return new Rn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function fp(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Wg{}function yR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new J_(e.key,Rn.none()):new lf(e.key,e.data,Rn.none());{const r=e.data,n=Xr.empty();let i=new xr(gr.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new $s(e.key,n,new vn(i.toArray()),Rn.none())}}function iK(e,t,r){e instanceof lf?function(i,a,s){const o=i.value.clone(),l=BT(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof $s?function(i,a,s){if(!fp(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=BT(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(xR(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Yc(e,t,r,n){return e instanceof lf?function(a,s,o,l){if(!fp(a.precondition,s))return o;const u=a.value.clone(),c=WT(a.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(e,t,r,n):e instanceof $s?function(a,s,o,l){if(!fp(a.precondition,s))return o;const u=WT(a.fieldTransforms,l,s),c=s.data;return c.setAll(xR(a)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(d=>d.field))}(e,t,r,n):function(a,s,o){return fp(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function aK(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=pR(n.transform,i||null);a!=null&&(r===null&&(r=Xr.empty()),r.set(n.field,a))}return r||null}function UT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&lu(n,i,(a,s)=>rK(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class lf extends Wg{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $s extends Wg{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function xR(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function BT(e,t,r){const n=new Map;ze(e.length===r.length);for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,eK(s,o,r[i]))}return n}function WT(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,ZW(a,s,t))}return n}class J_ extends Wg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sK extends Wg{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&iK(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Yc(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Yc(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=fR();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=yR(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ve.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Se())}isEqual(t){return this.batchId===t.batchId&&lu(this.mutations,t.mutations,(r,n)=>UT(r,n))&&lu(this.baseMutations,t.baseMutations,(r,n)=>UT(r,n))}}class Z_{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){ze(t.mutations.length===n.length);let i=function(){return GW}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new Z_(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Ie;function cK(e){switch(e){default:return me();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0}}function bR(e){if(e===void 0)return ua("GRPC error has no .code"),W.UNKNOWN;switch(e){case Rt.OK:return W.OK;case Rt.CANCELLED:return W.CANCELLED;case Rt.UNKNOWN:return W.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return W.INTERNAL;case Rt.UNAVAILABLE:return W.UNAVAILABLE;case Rt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Rt.NOT_FOUND:return W.NOT_FOUND;case Rt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Rt.ABORTED:return W.ABORTED;case Rt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Rt.DATA_LOSS:return W.DATA_LOSS;default:return me()}}(Ie=Rt||(Rt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=new vo([4294967295,4294967295],0);function KT(e){const t=dK().encode(e),r=new WD;return r.update(t),new Uint8Array(r.digest())}function HT(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new vo([r,n],0),new vo([i,a],0)]}class e1{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Oc(`Invalid padding: ${r}`);if(n<0)throw new Oc(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Oc(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Oc(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*t.length-r,this.Te=vo.fromNumber(this.Ie)}Ee(t,r,n){let i=t.add(r.multiply(vo.fromNumber(n)));return i.compare(fK)===1&&(i=new vo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;const r=KT(t),[n,i]=HT(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);if(!this.de(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new e1(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.Ie===0)return;const r=KT(t),[n,i]=HT(r);for(let a=0;a<this.hashCount;a++){const s=this.Ee(n,i,a);this.Ae(s)}}Ae(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,uf.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Kg(ve.min(),i,new bt(je),ca(),Se())}}class uf{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new uf(n,r,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,r,n,i){this.Re=t,this.removedTargetIds=r,this.key=n,this.Ve=i}}class wR{constructor(t,r){this.targetId=t,this.me=r}}class _R{constructor(t,r,n=wr.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class qT{constructor(){this.fe=0,this.ge=YT(),this.pe=wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=Se(),r=Se(),n=Se();return this.ge.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:me()}}),new uf(this.pe,this.ye,t,r,n)}Ce(){this.we=!1,this.ge=YT()}Fe(t,r){this.we=!0,this.ge=this.ge.insert(t,r)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hK{constructor(t){this.Le=t,this.Be=new Map,this.ke=ca(),this.qe=GT(),this.Qe=new bt(je)}Ke(t){for(const r of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(r,t.Ve):this.Ue(r,t.key,t.Ve);for(const r of t.removedTargetIds)this.Ue(r,t.key,t.Ve)}We(t){this.forEachTarget(t,r=>{const n=this.Ge(r);switch(t.state){case 0:this.ze(r)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(t.resumeToken));break;default:me()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(t){const r=t.targetId,n=t.me.count,i=this.Je(r);if(i){const a=i.target;if(nb(a))if(n===0){const s=new ue(a.path);this.Ue(r,s,Cr.newNoDocument(s,ve.min()))}else ze(n===1);else{const s=this.Ye(r);if(s!==n){const o=this.Ze(t),l=o?this.Xe(o,t,s):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(t){const r=t.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=Do(n).toUint8Array()}catch(l){if(l instanceof ZD)return ou("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new e1(s,i,a)}catch(l){return ou(l instanceof Oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(t,r,n){return r.me.count===n-this.nt(t,r.targetId)?0:2}nt(t,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Le.tt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.Ue(r,a,null),i++)}),i}rt(t){const r=new Map;this.Be.forEach((a,s)=>{const o=this.Je(s);if(o){if(a.current&&nb(o.target)){const l=new ue(o.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Cr.newNoDocument(l,t))}a.be&&(r.set(s,a.ve()),a.Ce())}});let n=Se();this.qe.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.ke.forEach((a,s)=>s.setReadTime(t));const i=new Kg(t,r,this.Qe,this.ke,n);return this.ke=ca(),this.qe=GT(),this.Qe=new bt(je),i}$e(t,r){if(!this.ze(t))return;const n=this.it(t,r.key)?2:0;this.Ge(t).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(t))}Ue(t,r,n){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(t)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const r=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let r=this.Be.get(t);return r||(r=new qT,this.Be.set(t,r)),r}st(t){let r=this.qe.get(t);return r||(r=new xr(je),this.qe=this.qe.insert(t,r)),r}ze(t){const r=this.Je(t)!==null;return r||oe("WatchChangeAggregator","Detected inactive target",t),r}Je(t){const r=this.Be.get(t);return r&&r.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new qT),this.Le.getRemoteKeysForTarget(t).forEach(r=>{this.Ue(t,r,null)})}it(t,r){return this.Le.getRemoteKeysForTarget(t).has(r)}}function GT(){return new bt(ue.comparator)}function YT(){return new bt(ue.comparator)}const pK={asc:"ASCENDING",desc:"DESCENDING"},mK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gK={and:"AND",or:"OR"};class vK{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function ab(e,t){return e.useProto3Json||$g(t)?t:{value:t}}function lm(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function yK(e,t){return lm(e,t.toTimestamp())}function Ei(e){return ze(!!e),ve.fromTimestamp(function(r){const n=Es(r);return new Gt(n.seconds,n.nanos)}(e))}function t1(e,t){return sb(e,t).canonicalString()}function sb(e,t){const r=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function ER(e){const t=rt.fromString(e);return ze(IR(t)),t}function ob(e,t){return t1(e.databaseId,t.path)}function cy(e,t){const r=ER(t);if(r.get(1)!==e.databaseId.projectId)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new te(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new ue(PR(r))}function SR(e,t){return t1(e.databaseId,t)}function xK(e){const t=ER(e);return t.length===4?rt.emptyPath():PR(t)}function lb(e){return new rt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function PR(e){return ze(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function QT(e,t,r){return{name:ob(e,t),fields:r.value.mapValue.fields}}function bK(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(u,c){return u.useProto3Json?(ze(c===void 0||typeof c=="string"),wr.fromBase64String(c||"")):(ze(c===void 0||c instanceof Buffer||c instanceof Uint8Array),wr.fromUint8Array(c||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(u){const c=u.code===void 0?W.UNKNOWN:bR(u.code);return new te(c,u.message||"")}(s);r=new _R(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=cy(e,n.document.name),a=Ei(n.document.updateTime),s=n.document.createTime?Ei(n.document.createTime):ve.min(),o=new Xr({mapValue:{fields:n.document.fields}}),l=Cr.newFoundDocument(i,a,s,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new hp(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=cy(e,n.document),a=n.readTime?Ei(n.readTime):ve.min(),s=Cr.newNoDocument(i,a),o=n.removedTargetIds||[];r=new hp([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=cy(e,n.document),a=n.removedTargetIds||[];r=new hp([],a,i,null)}else{if(!("filter"in t))return me();{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new uK(i,a),o=n.targetId;r=new wR(o,s)}}return r}function wK(e,t){let r;if(t instanceof lf)r={update:QT(e,t.key,t.value)};else if(t instanceof J_)r={delete:ob(e,t.key)};else if(t instanceof $s)r={update:QT(e,t.key,t.data),updateMask:CK(t.fieldMask)};else{if(!(t instanceof sK))return me();r={verify:ob(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Ed)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Sd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Pd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof om)return{fieldPath:s.field.canonicalString(),increment:o.Pe};throw me()}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:yK(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:me()}(e,t.precondition)),r}function _K(e,t){return e&&e.length>0?(ze(t!==void 0),e.map(r=>function(i,a){let s=i.updateTime?Ei(i.updateTime):Ei(a);return s.isEqual(ve.min())&&(s=Ei(a)),new nK(s,i.transformResults||[])}(r,t))):[]}function kK(e,t){return{documents:[SR(e,t.path)]}}function EK(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=SR(e,i);const a=function(u){if(u.length!==0)return AR(ii.create(u,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(u){if(u.length!==0)return u.map(c=>function(p){return{field:ml(p.field),direction:TK(p.dir)}}(c))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=ab(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(t.endAt)),{_t:r,parent:i}}function SK(e){let t=xK(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){ze(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let a=[];r.where&&(a=function(d){const p=TR(d);return p instanceof ii&&nR(p)?p.getFilters():[p]}(r.where));let s=[];r.orderBy&&(s=function(d){return d.map(p=>function(v){return new kd(gl(v.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(r.orderBy));let o=null;r.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,$g(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(d){const p=!!d.before,m=d.values||[];return new am(m,p)}(r.startAt));let u=null;return r.endAt&&(u=function(d){const p=!d.before,m=d.values||[];return new am(m,p)}(r.endAt)),BW(t,i,s,a,o,"F",l,u)}function PK(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function TR(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=gl(r.unaryFilter.field);return Vt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=gl(r.unaryFilter.field);return Vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=gl(r.unaryFilter.field);return Vt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gl(r.unaryFilter.field);return Vt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(e):e.fieldFilter!==void 0?function(r){return Vt.create(gl(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return ii.create(r.compositeFilter.filters.map(n=>TR(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(r.compositeFilter.op))}(e):me()}function TK(e){return pK[e]}function AK(e){return mK[e]}function IK(e){return gK[e]}function ml(e){return{fieldPath:e.canonicalString()}}function gl(e){return gr.fromServerFormat(e.fieldPath)}function AR(e){return e instanceof Vt?function(r){if(r.op==="=="){if(MT(r.value))return{unaryFilter:{field:ml(r.field),op:"IS_NAN"}};if(RT(r.value))return{unaryFilter:{field:ml(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(MT(r.value))return{unaryFilter:{field:ml(r.field),op:"IS_NOT_NAN"}};if(RT(r.value))return{unaryFilter:{field:ml(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ml(r.field),op:AK(r.op),value:r.value}}}(e):e instanceof ii?function(r){const n=r.getFilters().map(i=>AR(i));return n.length===1?n[0]:{compositeFilter:{op:IK(r.op),filters:n}}}(e):me()}function CK(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function IR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t,r,n,i,a=ve.min(),s=ve.min(),o=wr.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new ns(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(t){this.ct=t}}function NK(e){const t=SK({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?sm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jK{constructor(){this.un=new DK}addToCollectionParentIndex(t,r){return this.un.add(r),G.resolve()}getCollectionParents(t,r){return G.resolve(this.un.getEntries(r))}addFieldIndex(t,r){return G.resolve()}deleteFieldIndex(t,r){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,r){return G.resolve()}getDocumentsMatchingTarget(t,r){return G.resolve(null)}getIndexType(t,r){return G.resolve(0)}getFieldIndexes(t,r){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,r){return G.resolve(ks.min())}getMinOffsetFromCollectionGroup(t,r){return G.resolve(ks.min())}updateCollectionGroup(t,r,n){return G.resolve()}updateIndexEntries(t,r){return G.resolve()}}class DK{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new xr(rt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new xr(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new du(0)}static kn(){return new du(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(){this.changes=new Nu(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Cr.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?G.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MK{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Yc(n.mutation,i,vn.empty(),Gt.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Se()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Se()){const i=uo();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=Cc();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=uo();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Se()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=ca();const s=Gc(),o=function(){return Gc()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof $s)?a=a.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Yc(c.mutation,u,c.mutation.getFieldMask(),Gt.now())):s.set(u.key,vn.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((u,c)=>s.set(u,c)),r.forEach((u,c)=>{var d;return o.set(u,new MK(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Gc();let i=new bt((s,o)=>s-o),a=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||vn.empty();c=o.applyToLocalView(u,c),n.set(l,c);const d=(i.get(o.batchId)||Se()).add(l);i=i.insert(o.batchId,d)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,d=fR();c.forEach(p=>{if(!a.has(p)){const m=yR(r.get(p),n.get(p));m!==null&&d.set(p,m),a=a.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(t,u,d))}return G.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):oR(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):G.resolve(uo());let o=-1,l=a;return s.next(u=>G.forEach(u,(c,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),a.get(c)?G.resolve():this.remoteDocumentCache.getEntry(t,c).next(p=>{l=l.insert(c,p)}))).next(()=>this.populateOverlays(t,u,a)).next(()=>this.computeViews(t,l,u,Se())).next(c=>({batchId:o,changes:dR(c)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new ue(r)).next(n=>{let i=Cc();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=Cc();return this.indexManager.getCollectionParents(t,a).next(o=>G.forEach(o,l=>{const u=function(d,p){return new Ou(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,u,n,i).next(c=>{c.forEach((d,p)=>{s=s.insert(d,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Cr.newInvalidDocument(c)))});let o=Cc();return s.forEach((l,u)=>{const c=a.get(l);c!==void 0&&Yc(c.mutation,u,vn.empty(),Gt.now()),Ug(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VK{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,r){return G.resolve(this.hr.get(r))}saveBundleMetadata(t,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ei(i.createTime)}}(r)),G.resolve()}getNamedQuery(t,r){return G.resolve(this.Pr.get(r))}saveNamedQuery(t,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:NK(i.bundledQuery),readTime:Ei(i.readTime)}}(r)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(){this.overlays=new bt(ue.comparator),this.Ir=new Map}getOverlay(t,r){return G.resolve(this.overlays.get(r))}getOverlays(t,r){const n=uo();return G.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.ht(t,r,a)}),G.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ir.delete(n)),G.resolve()}getOverlaysForCollection(t,r,n){const i=uo(),a=r.length+1,s=new ue(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return G.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new bt((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=a.get(u.largestBatchId);c===null&&(c=uo(),a=a.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=uo(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return G.resolve(o)}ht(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new lK(r,n));let a=this.Ir.get(r);a===void 0&&(a=Se(),this.Ir.set(r,a)),this.Ir.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FK{constructor(){this.sessionToken=wr.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(){this.Tr=new xr(ir.Er),this.dr=new xr(ir.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,r){const n=new ir(t,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Vr(new ir(t,r))}mr(t,r){t.forEach(n=>this.removeReference(n,r))}gr(t){const r=new ue(new rt([])),n=new ir(r,t),i=new ir(r,t+1),a=[];return this.dr.forEachInRange([n,i],s=>{this.Vr(s),a.push(s.key)}),a}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const r=new ue(new rt([])),n=new ir(r,t),i=new ir(r,t+1);let a=Se();return this.dr.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new ir(t,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class ir{constructor(t,r){this.key=t,this.wr=r}static Er(t,r){return ue.comparator(t.key,r.key)||je(t.wr,r.wr)}static Ar(t,r){return je(t.wr,r.wr)||ue.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zK{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new xr(ir.Er)}checkEmpty(t){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new oK(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.br=this.br.add(new ir(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return G.resolve(s)}lookupMutationBatch(t,r){return G.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.vr(n),a=i<0?0:i;return G.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new ir(r,0),i=new ir(r,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,i],s=>{const o=this.Dr(s.wr);a.push(o)}),G.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new xr(je);return r.forEach(i=>{const a=new ir(i,0),s=new ir(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,s],o=>{n=n.add(o.wr)})}),G.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;ue.isDocumentKey(a)||(a=a.child(""));const s=new ir(new ue(a),0);let o=new xr(je);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},s),G.resolve(this.Cr(o))}Cr(t){const r=[];return t.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){ze(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return G.forEach(r.mutations,i=>{const a=new ir(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,r){const n=new ir(r,0),i=this.br.firstAfterOrEqual(n);return G.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,G.resolve()}Fr(t,r){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){const r=this.vr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UK{constructor(t){this.Mr=t,this.docs=function(){return new bt(ue.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return G.resolve(n?n.document.mutableCopy():Cr.newInvalidDocument(r))}getEntries(t,r){let n=ca();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():Cr.newInvalidDocument(i))}),G.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=ca();const s=r.path,o=new ue(s.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||EW(kW(c),n)<=0||(i.has(c.key)||Ug(r,c))&&(a=a.insert(c.key,c.mutableCopy()))}return G.resolve(a)}getAllFromCollectionGroup(t,r,n,i){me()}Or(t,r){return G.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new BK(this)}getSize(t){return G.resolve(this.size)}}class BK extends RK{constructor(t){super(),this.cr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(t,i)):this.cr.removeEntry(n)}),G.waitFor(r)}getFromCache(t,r){return this.cr.getEntry(t,r)}getAllFromCache(t,r){return this.cr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(t){this.persistence=t,this.Nr=new Nu(r=>Y_(r),Q_),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new r1,this.targetCount=0,this.kr=du.Bn()}forEachTarget(t,r){return this.Nr.forEach((n,i)=>r(i)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),G.resolve()}Kn(t){this.Nr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.kr=new du(r),this.highestTargetId=r),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,r){return this.Kn(r),this.targetCount+=1,G.resolve()}updateTargetData(t,r){return this.Kn(r),G.resolve()}removeTargetData(t,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.Nr.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),G.waitFor(a).next(()=>i)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,r){const n=this.Nr.get(r)||null;return G.resolve(n)}addMatchingKeys(t,r,n){return this.Br.Rr(r,n),G.resolve()}removeMatchingKeys(t,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),G.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this.Br.gr(r),G.resolve()}getMatchingKeysForTargetId(t,r){const n=this.Br.yr(r);return G.resolve(n)}containsKey(t,r){return G.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KK{constructor(t,r){this.qr={},this.overlays={},this.Qr=new K_(0),this.Kr=!1,this.Kr=!0,this.$r=new FK,this.referenceDelegate=t(this),this.Ur=new WK(this),this.indexManager=new jK,this.remoteDocumentCache=function(i){return new UK(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new OK(r),this.Gr=new VK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new $K,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.qr[t.toKey()];return n||(n=new zK(r,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,r,n){oe("MemoryPersistence","Starting transaction:",t);const i=new HK(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(a=>this.referenceDelegate.jr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Hr(t,r){return G.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,r)))}}class HK extends PW{constructor(t){super(),this.currentSequenceNumber=t}}class n1{constructor(t){this.persistence=t,this.Jr=new r1,this.Yr=null}static Zr(t){return new n1(t)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(t,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),G.resolve()}removeReference(t,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),G.resolve()}markPotentiallyOrphaned(t,r){return this.Xr.add(r.toString()),G.resolve()}removeTarget(t,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.Xr.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}zr(){this.Yr=new Set}jr(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,n=>{const i=ue.fromPath(n);return this.ei(t,i).next(a=>{a||r.removeEntry(i,ve.min())})}).next(()=>(this.Yr=null,r.apply(t)))}updateLimboDocument(t,r){return this.ei(t,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(t){return 0}ei(t,r){return G.or([()=>G.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Hr(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(t,r){let n=Se(),i=Se();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new i1(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return AB()?8:TW(Rr())>0?6:4}()}initialize(t,r){this.Ji=t,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.Yi(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Zi(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new qK;return this.Xi(t,r,s).next(o=>{if(a.result=o,this.zi)return this.es(t,r,s,o.size)})}).next(()=>a.result)}es(t,r,n,i){return n.documentReadCount<this.ji?(pc()<=Te.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",pl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(pc()<=Te.DEBUG&&oe("QueryEngine","Query:",pl(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(pc()<=Te.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",pl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(r))):G.resolve())}Yi(t,r){if(FT(r))return G.resolve(null);let n=ki(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=sm(r,null,"F"),n=ki(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=Se(...a);return this.Ji.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,s,l.readTime)?this.Yi(t,sm(r,null,"F")):this.rs(t,u,r,l)}))})))}Zi(t,r,n,i){return FT(r)||i.isEqual(ve.min())?G.resolve(null):this.Ji.getDocuments(t,n).next(a=>{const s=this.ts(r,a);return this.ns(r,s,n,i)?G.resolve(null):(pc()<=Te.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pl(r)),this.rs(t,s,r,_W(i,-1)).next(o=>o))})}ts(t,r){let n=new xr(uR(t));return r.forEach((i,a)=>{Ug(t,a)&&(n=n.add(a))}),n}ns(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Xi(t,r,n){return pc()<=Te.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",pl(r)),this.Ji.getDocumentsMatchingQuery(t,r,ks.min(),n)}rs(t,r,n,i){return this.Ji.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(t,r,n,i){this.persistence=t,this.ss=r,this.serializer=i,this.os=new bt(je),this._s=new Nu(a=>Y_(a),Q_),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LK(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.os))}}function QK(e,t,r,n){return new YK(e,t,r,n)}async function CR(e,t){const r=ye(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.ls(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=Se();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of a){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:o}))})})}function XK(e,t){const r=ye(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const d=u.batch,p=d.keys();let m=G.resolve();return p.forEach(v=>{m=m.next(()=>c.getEntry(l,v)).next(y=>{const x=u.docVersions.get(v);ze(x!==null),y.version.compareTo(x)<0&&(d.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,d))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function OR(e){const t=ye(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Ur.getLastRemoteSnapshotVersion(r))}function JK(e,t){const r=ye(e),n=t.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];t.targetChanges.forEach((c,d)=>{const p=i.get(d);if(!p)return;o.push(r.Ur.removeMatchingKeys(a,c.removedDocuments,d).next(()=>r.Ur.addMatchingKeys(a,c.addedDocuments,d)));let m=p.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(d)!==null?m=m.withResumeToken(wr.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),i=i.insert(d,m),function(y,x,b){return y.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(p,m,c)&&o.push(r.Ur.updateTargetData(a,m))});let l=ca(),u=Se();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,c))}),o.push(ZK(a,s,t.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(ve.min())){const c=r.Ur.getLastRemoteSnapshotVersion(a).next(d=>r.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(c)}return G.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,u)).next(()=>l)}).then(a=>(r.os=i,a))}function ZK(e,t,r){let n=Se(),i=Se();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=ca();return r.forEach((o,l)=>{const u=a.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ve.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):oe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function eH(e,t){const r=ye(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function tH(e,t){const r=ye(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,t).next(a=>a?(i=a,G.resolve(i)):r.Ur.allocateTargetId(n).next(s=>(i=new ns(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(t,n.targetId)),n})}async function ub(e,t,r){const n=ye(e),i=n.os.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!of(s))throw s;oe("LocalStore",`Failed to update sequence numbers for target ${t}: ${s}`)}n.os=n.os.remove(t),n._s.delete(i.target)}function XT(e,t,r){const n=ye(e);let i=ve.min(),a=Se();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=ye(l),p=d._s.get(c);return p!==void 0?G.resolve(d.os.get(p)):d.Ur.getTargetData(u,c)}(n,s,ki(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.ss.getDocumentsMatchingQuery(s,t,r?i:ve.min(),r?a:Se())).next(o=>(rH(n,KW(t),o),{documents:o,Ts:a})))}function rH(e,t,r){let n=e.us.get(t)||ve.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.us.set(t,n)}class JT{constructor(){this.activeTargetIds=XW()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nH{constructor(){this.so=new JT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,r,n){this.oo[t]=r}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new JT,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{_o(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ph=null;function dy(){return Ph===null?Ph=function(){return 268435456+Math.round(2147483648*Math.random())}():Ph++,"0x"+Ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="WebChannelConnection";class oH extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get Fo(){return!1}Mo(r,n,i,a,s){const o=dy(),l=this.xo(r,n.toUriEncodedString());oe("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,a,s),this.No(r,l,u,i).then(c=>(oe("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw ou("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,a,s,o){return this.Mo(r,n,i,a,s)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cu}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,s)=>r[s]=a),i&&i.headers.forEach((a,s)=>r[s]=a)}xo(r,n){const i=aH[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,r,n,i){const a=dy();return new Promise((s,o)=>{const l=new KD;l.setWithCredentials(!0),l.listenOnce(HD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cp.NO_ERROR:const c=l.getResponseJson();oe(Pr,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(c)),s(c);break;case cp.TIMEOUT:oe(Pr,`RPC '${t}' ${a} timed out`),o(new te(W.DEADLINE_EXCEEDED,"Request time out"));break;case cp.HTTP_ERROR:const d=l.getStatus();if(oe(Pr,`RPC '${t}' ${a} failed with status:`,d,"response text:",l.getResponseText()),d>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(x){const b=x.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(b)>=0?b:W.UNKNOWN}(m.status);o(new te(v,m.message))}else o(new te(W.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new te(W.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{oe(Pr,`RPC '${t}' ${a} completed.`)}});const u=JSON.stringify(i);oe(Pr,`RPC '${t}' ${a} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(t,r,n){const i=dy(),a=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=YD(),o=GD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=a.join("");oe(Pr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let p=!1,m=!1;const v=new sH({Io:x=>{m?oe(Pr,`Not sending because RPC '${t}' stream ${i} is closed:`,x):(p||(oe(Pr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),p=!0),oe(Pr,`RPC '${t}' stream ${i} sending:`,x),d.send(x))},To:()=>d.close()}),y=(x,b,_)=>{x.listen(b,E=>{try{_(E)}catch(A){setTimeout(()=>{throw A},0)}})};return y(d,Ic.EventType.OPEN,()=>{m||(oe(Pr,`RPC '${t}' stream ${i} transport opened.`),v.yo())}),y(d,Ic.EventType.CLOSE,()=>{m||(m=!0,oe(Pr,`RPC '${t}' stream ${i} transport closed`),v.So())}),y(d,Ic.EventType.ERROR,x=>{m||(m=!0,ou(Pr,`RPC '${t}' stream ${i} transport errored:`,x),v.So(new te(W.UNAVAILABLE,"The operation could not be completed")))}),y(d,Ic.EventType.MESSAGE,x=>{var b;if(!m){const _=x.data[0];ze(!!_);const E=_,A=E.error||((b=E[0])===null||b===void 0?void 0:b.error);if(A){oe(Pr,`RPC '${t}' stream ${i} received error:`,A);const N=A.status;let j=function(T){const O=Rt[T];if(O!==void 0)return bR(O)}(N),k=A.message;j===void 0&&(j=W.INTERNAL,k="Unknown error status: "+N+" with message "+A.message),m=!0,v.So(new te(j,k)),d.close()}else oe(Pr,`RPC '${t}' stream ${i} received:`,_),v.bo(_)}}),y(o,qD.STAT_EVENT,x=>{x.stat===Zx.PROXY?oe(Pr,`RPC '${t}' stream ${i} detected buffering proxy`):x.stat===Zx.NOPROXY&&oe(Pr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(e){return new vK(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,r,n=1e3,i=1.5,a=6e4){this.ui=t,this.timerId=r,this.ko=n,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,r,n,i,a,s,o,l){this.ui=t,this.Ho=n,this.Jo=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NR(t,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(t,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():r&&r.code===W.RESOURCE_EXHAUSTED?(ua(r.toString()),ua("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.mo(r)}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{t(()=>{const i=new te(W.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(t,r){const n=this.h_(this.Yo);this.stream=this.T_(t,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(t){return oe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return r=>{this.ui.enqueueAndForget(()=>this.Yo===t?r():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lH extends jR{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}T_(t,r){return this.connection.Bo("Listen",t,r)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const r=bK(this.serializer,t),n=function(a){if(!("targetChange"in a))return ve.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ve.min():s.readTime?Ei(s.readTime):ve.min()}(t);return this.listener.d_(r,n)}A_(t){const r={};r.database=lb(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=nb(l)?{documents:kK(a,l)}:{query:EK(a,l)._t},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=kR(a,s.resumeToken);const u=ab(a,s.expectedCount);u!==null&&(o.expectedCount=u)}else if(s.snapshotVersion.compareTo(ve.min())>0){o.readTime=lm(a,s.snapshotVersion.toTimestamp());const u=ab(a,s.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,t);const n=PK(this.serializer,t);n&&(r.labels=n),this.a_(r)}R_(t){const r={};r.database=lb(this.serializer),r.removeTarget=t,this.a_(r)}}class uH extends jR{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,r){return this.connection.Bo("Write",t,r)}E_(t){return ze(!!t.streamToken),this.lastStreamToken=t.streamToken,ze(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){ze(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const r=_K(t.writeResults,t.commitTime),n=Ei(t.commitTime);return this.listener.g_(n,r)}p_(){const t={};t.database=lb(this.serializer),this.a_(t)}m_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>wK(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH extends class{}{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Mo(t,sb(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new te(W.UNKNOWN,a.toString())})}Lo(t,r,n,i,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Lo(t,sb(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new te(W.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class dH{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ua(r),this.D_=!1):oe("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o(s=>{n.enqueueAndForget(async()=>{Xo(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ye(l);u.L_.add(4),await cf(u),u.q_.set("Unknown"),u.L_.delete(4),await qg(u)}(this))})}),this.q_=new dH(n,i)}}async function qg(e){if(Xo(e))for(const t of e.B_)await t(!0)}async function cf(e){for(const t of e.B_)await t(!1)}function DR(e,t){const r=ye(e);r.N_.has(t.targetId)||(r.N_.set(t.targetId,t),l1(r)?o1(r):ju(r).r_()&&s1(r,t))}function a1(e,t){const r=ye(e),n=ju(r);r.N_.delete(t),n.r_()&&RR(r,t),r.N_.size===0&&(n.r_()?n.o_():Xo(r)&&r.q_.set("Unknown"))}function s1(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ve.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}ju(e).A_(t)}function RR(e,t){e.Q_.xe(t),ju(e).R_(t)}function o1(e){e.Q_=new hK({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),ju(e).start(),e.q_.v_()}function l1(e){return Xo(e)&&!ju(e).n_()&&e.N_.size>0}function Xo(e){return ye(e).L_.size===0}function MR(e){e.Q_=void 0}async function hH(e){e.q_.set("Online")}async function pH(e){e.N_.forEach((t,r)=>{s1(e,t)})}async function mH(e,t){MR(e),l1(e)?(e.q_.M_(t),o1(e)):e.q_.set("Unknown")}async function gH(e,t,r){if(e.q_.set("Online"),t instanceof _R&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.N_.delete(o),i.Q_.removeTarget(o))}(e,t)}catch(n){oe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await um(e,n)}else if(t instanceof hp?e.Q_.Ke(t):t instanceof wR?e.Q_.He(t):e.Q_.We(t),!r.isEqual(ve.min()))try{const n=await OR(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Q_.rt(s);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=a.N_.get(u);c&&a.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,u)=>{const c=a.N_.get(l);if(!c)return;a.N_.set(l,c.withResumeToken(wr.EMPTY_BYTE_STRING,c.snapshotVersion)),RR(a,l);const d=new ns(c.target,l,u,c.sequenceNumber);s1(a,d)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){oe("RemoteStore","Failed to raise snapshot:",n),await um(e,n)}}async function um(e,t,r){if(!of(t))throw t;e.L_.add(1),await cf(e),e.q_.set("Offline"),r||(r=()=>OR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await r(),e.L_.delete(1),await qg(e)})}function LR(e,t){return t().catch(r=>um(e,r,t))}async function Gg(e){const t=ye(e),r=Ss(t);let n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;vH(t);)try{const i=await eH(t.localStore,n);if(i===null){t.O_.length===0&&r.o_();break}n=i.batchId,yH(t,i)}catch(i){await um(t,i)}VR(t)&&$R(t)}function vH(e){return Xo(e)&&e.O_.length<10}function yH(e,t){e.O_.push(t);const r=Ss(e);r.r_()&&r.V_&&r.m_(t.mutations)}function VR(e){return Xo(e)&&!Ss(e).n_()&&e.O_.length>0}function $R(e){Ss(e).start()}async function xH(e){Ss(e).p_()}async function bH(e){const t=Ss(e);for(const r of e.O_)t.m_(r.mutations)}async function wH(e,t,r){const n=e.O_.shift(),i=Z_.from(n,t,r);await LR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Gg(e)}async function _H(e,t){t&&Ss(e).V_&&await async function(n,i){if(function(s){return cK(s)&&s!==W.ABORTED}(i.code)){const a=n.O_.shift();Ss(n).s_(),await LR(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Gg(n)}}(e,t),VR(e)&&$R(e)}async function eA(e,t){const r=ye(e);r.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const n=Xo(r);r.L_.add(3),await cf(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.L_.delete(3),await qg(r)}async function kH(e,t){const r=ye(e);t?(r.L_.delete(2),await qg(r)):t||(r.L_.add(2),await cf(r),r.q_.set("Unknown"))}function ju(e){return e.K_||(e.K_=function(r,n,i){const a=ye(r);return a.w_(),new lH(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:hH.bind(null,e),Ro:pH.bind(null,e),mo:mH.bind(null,e),d_:gH.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),l1(e)?o1(e):e.q_.set("Unknown")):(await e.K_.stop(),MR(e))})),e.K_}function Ss(e){return e.U_||(e.U_=function(r,n,i){const a=ye(r);return a.w_(),new uH(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xH.bind(null,e),mo:_H.bind(null,e),f_:bH.bind(null,e),g_:wH.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await Gg(e)):(await e.U_.stop(),e.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))})),e.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new u1(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c1(e,t){if(ua("AsyncQueue",`${t}: ${e}`),of(e))return new te(W.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(t){this.comparator=t?(r,n)=>t(r,n)||ue.comparator(r.key,n.key):(r,n)=>ue.comparator(r.key,n.key),this.keyedMap=Cc(),this.sortedSet=new bt(this.comparator)}static emptySet(t){return new Kl(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof Kl)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new Kl;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.W_=new bt(ue.comparator)}track(t){const r=t.doc.key,n=this.W_.get(r);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(r,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(r):t.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:t.doc}):me():this.W_=this.W_.insert(r,t)}G_(){const t=[];return this.W_.inorderTraversal((r,n)=>{t.push(n)}),t}}class fu{constructor(t,r,n,i,a,s,o,l,u){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new fu(t,r,Kl.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class SH{constructor(){this.queries=rA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=ye(r),a=i.queries;i.queries=rA(),a.forEach((s,o)=>{for(const l of o.j_)l.onError(n)})})(this,new te(W.ABORTED,"Firestore shutting down"))}}function rA(){return new Nu(e=>lR(e),zg)}async function d1(e,t){const r=ye(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.H_()&&t.J_()&&(n=2):(a=new EH,n=t.J_()?0:1);try{switch(n){case 0:a.z_=await r.onListen(i,!0);break;case 1:a.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=c1(s,`Initialization of query '${pl(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.j_.push(t),t.Z_(r.onlineState),a.z_&&t.X_(a.z_)&&h1(r)}async function f1(e,t){const r=ye(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.j_.indexOf(t);s>=0&&(a.j_.splice(s,1),a.j_.length===0?i=t.J_()?0:1:!a.H_()&&t.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function PH(e,t){const r=ye(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.j_)o.X_(i)&&(n=!0);s.z_=i}}n&&h1(r)}function TH(e,t,r){const n=ye(e),i=n.queries.get(t);if(i)for(const a of i.j_)a.onError(r);n.queries.delete(t)}function h1(e){e.Y_.forEach(t=>{t.next()})}var cb,nA;(nA=cb||(cb={})).ea="default",nA.Cache="cache";class p1{constructor(t,r,n){this.query=t,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new fu(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.na?this.ia(t)&&(this.ta.next(t),r=!0):this.sa(t,this.onlineState)&&(this.oa(t),r=!0),this.ra=t,r}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),r=!0),r}sa(t,r){if(!t.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}ia(t){if(t.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(t){t=fu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==cb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.key=t}}class zR{constructor(t){this.key=t}}class AH{constructor(t,r){this.query=t,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=uR(t),this.Ra=new Kl(this.Aa)}get Va(){return this.Ta}ma(t,r){const n=r?r.fa:new tA,i=r?r.Ra:this.Ra;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const p=i.get(c),m=Ug(this.query,d)?d:null,v=!!p&&this.mutatedKeys.has(p.key),y=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?v!==y&&(n.track({type:3,doc:m}),x=!0):this.ga(p,m)||(n.track({type:2,doc:m}),x=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(o=!0)):!p&&m?(n.track({type:0,doc:m}),x=!0):p&&!m&&(n.track({type:1,doc:p}),x=!0,(l||u)&&(o=!0)),x&&(m?(s=s.add(m),a=y?a.add(c):a.delete(c)):(s=s.delete(c),a=a.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),a=a.delete(c.key),n.track({type:1,doc:c})}return{Ra:s,fa:n,ns:o,mutatedKeys:a}}ga(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const s=t.fa.G_();s.sort((c,d)=>function(m,v){const y=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return y(m)-y(v)}(c.type,d.type)||this.Aa(c.doc,d.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new fu(this.query,t.Ra,a,s,t.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new tA,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=Se(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return t.forEach(n=>{this.da.has(n)||r.push(new zR(n))}),this.da.forEach(n=>{t.has(n)||r.push(new FR(n))}),r}ba(t){this.Ta=t.Ts,this.da=Se();const r=this.ma(t.documents);return this.applyChanges(r,!0)}Da(){return fu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class IH{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class CH{constructor(t){this.key=t,this.va=!1}}class OH{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Nu(o=>lR(o),zg),this.Ma=new Map,this.xa=new Set,this.Oa=new bt(ue.comparator),this.Na=new Map,this.La=new r1,this.Ba={},this.ka=new Map,this.qa=du.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function NH(e,t,r=!0){const n=qR(e);let i;const a=n.Fa.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Da()):i=await UR(n,t,r,!0),i}async function jH(e,t){const r=qR(e);await UR(r,t,!0,!1)}async function UR(e,t,r,n){const i=await tH(e.localStore,ki(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await DH(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&DR(e.remoteStore,i),o}async function DH(e,t,r,n,i){e.Ka=(d,p,m)=>async function(y,x,b,_){let E=x.view.ma(b);E.ns&&(E=await XT(y.localStore,x.query,!1).then(({documents:k})=>x.view.ma(k,E)));const A=_&&_.targetChanges.get(x.targetId),N=_&&_.targetMismatches.get(x.targetId)!=null,j=x.view.applyChanges(E,y.isPrimaryClient,A,N);return aA(y,x.targetId,j.wa),j.snapshot}(e,d,p,m);const a=await XT(e.localStore,t,!0),s=new AH(t,a.Ts),o=s.ma(a.documents),l=uf.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),u=s.applyChanges(o,e.isPrimaryClient,l);aA(e,r,u.wa);const c=new IH(t,r,s);return e.Fa.set(t,c),e.Ma.has(r)?e.Ma.get(r).push(t):e.Ma.set(r,[t]),u.snapshot}async function RH(e,t,r){const n=ye(e),i=n.Fa.get(t),a=n.Ma.get(i.targetId);if(a.length>1)return n.Ma.set(i.targetId,a.filter(s=>!zg(s,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await ub(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&a1(n.remoteStore,i.targetId),db(n,i.targetId)}).catch(sf)):(db(n,i.targetId),await ub(n.localStore,i.targetId,!0))}async function MH(e,t){const r=ye(e),n=r.Fa.get(t),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),a1(r.remoteStore,n.targetId))}async function LH(e,t,r){const n=WH(e);try{const i=await function(s,o){const l=ye(s),u=Gt.now(),c=o.reduce((m,v)=>m.add(v.key),Se());let d,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=ca(),y=Se();return l.cs.getEntries(m,c).next(x=>{v=x,v.forEach((b,_)=>{_.isValidDocument()||(y=y.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,v)).next(x=>{d=x;const b=[];for(const _ of o){const E=aK(_,d.get(_.key).overlayedDocument);E!=null&&b.push(new $s(_.key,E,eR(E.value.mapValue),Rn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,b,o)}).next(x=>{p=x;const b=x.applyToLocalDocumentSet(d,y);return l.documentOverlayCache.saveOverlays(m,x.batchId,b)})}).then(()=>({batchId:p.batchId,changes:dR(d)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new bt(je)),u=u.insert(o,l),s.Ba[s.currentUser.toKey()]=u}(n,i.batchId,r),await df(n,i.changes),await Gg(n.remoteStore)}catch(i){const a=c1(i,"Failed to persist write");r.reject(a)}}async function BR(e,t){const r=ye(e);try{const n=await JK(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Na.get(a);s&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ze(s.va):i.removedDocuments.size>0&&(ze(s.va),s.va=!1))}),await df(r,n,t)}catch(n){await sf(n)}}function iA(e,t,r){const n=ye(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((a,s)=>{const o=s.view.Z_(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=ye(s);l.onlineState=o;let u=!1;l.queries.forEach((c,d)=>{for(const p of d.j_)p.Z_(o)&&(u=!0)}),u&&h1(l)}(n.eventManager,t),i.length&&n.Ca.d_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function VH(e,t,r){const n=ye(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Na.get(t),a=i&&i.key;if(a){let s=new bt(ue.comparator);s=s.insert(a,Cr.newNoDocument(a,ve.min()));const o=Se().add(a),l=new Kg(ve.min(),new Map,new bt(je),s,o);await BR(n,l),n.Oa=n.Oa.remove(a),n.Na.delete(t),m1(n)}else await ub(n.localStore,t,!1).then(()=>db(n,t,r)).catch(sf)}async function $H(e,t){const r=ye(e),n=t.batch.batchId;try{const i=await XK(r.localStore,t);KR(r,n,null),WR(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await df(r,i)}catch(i){await sf(i)}}async function FH(e,t,r){const n=ye(e);try{const i=await function(s,o){const l=ye(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(d=>(ze(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,t);KR(n,t,r),WR(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await df(n,i)}catch(i){await sf(i)}}function WR(e,t){(e.ka.get(t)||[]).forEach(r=>{r.resolve()}),e.ka.delete(t)}function KR(e,t,r){const n=ye(e);let i=n.Ba[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Ba[n.currentUser.toKey()]=i}}function db(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Ma.get(t))e.Fa.delete(n),r&&e.Ca.$a(n,r);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(n=>{e.La.containsKey(n)||HR(e,n)})}function HR(e,t){e.xa.delete(t.path.canonicalString());const r=e.Oa.get(t);r!==null&&(a1(e.remoteStore,r),e.Oa=e.Oa.remove(t),e.Na.delete(r),m1(e))}function aA(e,t,r){for(const n of r)n instanceof FR?(e.La.addReference(n.key,t),zH(e,n)):n instanceof zR?(oe("SyncEngine","Document no longer in limbo: "+n.key),e.La.removeReference(n.key,t),e.La.containsKey(n.key)||HR(e,n.key)):me()}function zH(e,t){const r=t.key,n=r.path.canonicalString();e.Oa.get(r)||e.xa.has(n)||(oe("SyncEngine","New document in limbo: "+r),e.xa.add(n),m1(e))}function m1(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const r=new ue(rt.fromString(t)),n=e.qa.next();e.Na.set(n,new CH(r)),e.Oa=e.Oa.insert(r,n),DR(e.remoteStore,new ns(ki(Fg(r.path)),n,"TargetPurposeLimboResolution",K_.oe))}}async function df(e,t,r){const n=ye(e),i=[],a=[],s=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{s.push(n.Ka(l,t,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const d=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=i1.Wi(l.targetId,u);a.push(d)}}))}),await Promise.all(s),n.Ca.d_(i),await async function(l,u){const c=ye(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>G.forEach(u,p=>G.forEach(p.$i,m=>c.persistence.referenceDelegate.addReference(d,p.targetId,m)).next(()=>G.forEach(p.Ui,m=>c.persistence.referenceDelegate.removeReference(d,p.targetId,m)))))}catch(d){if(!of(d))throw d;oe("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const m=c.os.get(p),v=m.snapshotVersion,y=m.withLastLimboFreeSnapshotVersion(v);c.os=c.os.insert(p,y)}}}(n.localStore,a))}async function UH(e,t){const r=ye(e);if(!r.currentUser.isEqual(t)){oe("SyncEngine","User change. New user:",t.toKey());const n=await CR(r.localStore,t);r.currentUser=t,function(a,s){a.ka.forEach(o=>{o.forEach(l=>{l.reject(new te(W.CANCELLED,s))})}),a.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await df(r,n.hs)}}function BH(e,t){const r=ye(e),n=r.Na.get(t);if(n&&n.va)return Se().add(n.key);{let i=Se();const a=r.Ma.get(t);if(!a)return i;for(const s of a){const o=r.Fa.get(s);i=i.unionWith(o.view.Va)}return i}}function qR(e){const t=ye(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BH.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VH.bind(null,t),t.Ca.d_=PH.bind(null,t.eventManager),t.Ca.$a=TH.bind(null,t.eventManager),t}function WH(e){const t=ye(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$H.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FH.bind(null,t),t}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),await this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)}ja(t,r){return null}Ha(t,r){return null}za(t){return QK(this.persistence,new GK,t.initialUser,this.serializer)}Ga(t){return new KK(n1.Zr,this.serializer)}Wa(t){return new nH}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class fb{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>iA(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=UH.bind(null,this.syncEngine),await kH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new SH}()}createDatastore(t){const r=Hg(t.databaseInfo.databaseId),n=function(a){return new oH(a)}(t.databaseInfo);return function(a,s,o,l){return new cH(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new fH(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>iA(this.syncEngine,r,0),function(){return ZT.D()?new ZT:new iH}())}createSyncEngine(t,r){return function(i,a,s,o,l,u,c){const d=new OH(i,a,s,o,l,u);return c&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=ye(i);oe("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await cf(a),a.k_.shutdown(),a.q_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}fb.provider={build:()=>new fb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):ua("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KH{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=XD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=c1(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function hy(e,t){e.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await CR(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function sA(e,t){e.asyncQueue.verifyOperationInProgress();const r=await HH(e);oe("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>eA(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>eA(t.remoteStore,i)),e._onlineComponents=t}async function HH(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await hy(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===W.FAILED_PRECONDITION||i.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;ou("Error using user provided cache. Falling back to memory cache: "+r),await hy(e,new cm)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await hy(e,new cm);return e._offlineComponents}async function GR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await sA(e,e._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await sA(e,new fb))),e._onlineComponents}function qH(e){return GR(e).then(t=>t.syncEngine)}async function dm(e){const t=await GR(e),r=t.eventManager;return r.onListen=NH.bind(null,t.syncEngine),r.onUnlisten=RH.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=jH.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=MH.bind(null,t.syncEngine),r}function GH(e,t,r={}){const n=new Zi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new g1({next:p=>{c.Za(),s.enqueueAndForget(()=>f1(a,d));const m=p.docs.has(o);!m&&p.fromCache?u.reject(new te(W.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?u.reject(new te(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new p1(Fg(o.path),c,{includeMetadataChanges:!0,_a:!0});return d1(a,d)}(await dm(e),e.asyncQueue,t,r,n)),n.promise}function YH(e,t,r={}){const n=new Zi;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,u){const c=new g1({next:p=>{c.Za(),s.enqueueAndForget(()=>f1(a,d)),p.fromCache&&l.source==="server"?u.reject(new te(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(p)},error:p=>u.reject(p)}),d=new p1(o,c,{includeMetadataChanges:!0,_a:!0});return d1(a,d)}(await dm(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(e,t,r){if(!r)throw new te(W.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function QH(e,t,r,n){if(t===!0&&n===!0)throw new te(W.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function lA(e){if(!ue.isDocumentKey(e))throw new te(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function uA(e){if(ue.isDocumentKey(e))throw new te(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Yg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":me()}function nn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new te(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Yg(e);throw new te(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new te(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new te(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YR((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new te(W.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qg{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cA({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new te(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cA(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new hW;switch(n.type){case"firstParty":return new vW(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new te(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=oA.get(r);n&&(oe("ComponentProvider","Removing Datastore"),oA.delete(r),n.terminate())}(this),Promise.resolve()}}function XH(e,t,r,n={}){var i;const a=(e=nn(e,Qg))._getSettings(),s=`${t}:${r}`;if(a.host!=="firestore.googleapis.com"&&a.host!==s&&ou("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:s,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=Ar.MOCK_USER;else{o=wB(n.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new te(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ar(u)}e._authCredentials=new pW(new QD(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Sa(this.firestore,t,this._query)}}class Nr{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Nr(this.firestore,t,this._key)}}class ys extends Sa{constructor(t,r,n){super(t,r,Fg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Nr(this.firestore,null,new ue(t))}withConverter(t){return new ys(this.firestore,t,this._path)}}function Tt(e,t,...r){if(e=xt(e),QR("collection","path",t),e instanceof Qg){const n=rt.fromString(t,...r);return uA(n),new ys(e,null,n)}{if(!(e instanceof Nr||e instanceof ys))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rt.fromString(t,...r));return uA(n),new ys(e.firestore,null,n)}}function Le(e,t,...r){if(e=xt(e),arguments.length===1&&(t=XD.newId()),QR("doc","path",t),e instanceof Qg){const n=rt.fromString(t,...r);return lA(n),new Nr(e,null,new ue(n))}{if(!(e instanceof Nr||e instanceof ys))throw new te(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(rt.fromString(t,...r));return lA(n),new Nr(e.firestore,e instanceof ys?e.converter:null,new ue(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NR(this,"async_queue_retry"),this.Vu=()=>{const n=fy();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;const r=fy();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const r=fy();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Zi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!of(t))throw t;oe("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const r=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(n);throw ua("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(t,r,n){this.fu(),this.Ru.indexOf(t)>-1&&(r=0);const i=u1.createAndSchedule(this,t,r,n,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&me()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const r of this.Tu)if(r.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const r=this.Tu.indexOf(t);this.Tu.splice(r,1)}}function fA(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1}(e,["next","error","complete"])}class da extends Qg{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new dA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new dA(t),this._firestoreClient=void 0,await t}}}function JH(e,t){const r=typeof e=="object"?e:nD(),n=typeof e=="string"?e:"(default)",i=D_(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=xB("firestore");a&&XH(i,...a)}return i}function Xg(e){if(e._terminated)throw new te(W.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||ZH(e),e._firestoreClient}function ZH(e){var t,r,n;const i=e._freezeSettings(),a=function(o,l,u,c){return new CW(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,YR(c.experimentalLongPollingOptions),c.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new KH(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hu(wr.fromBase64String(t))}catch(r){throw new te(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new hu(wr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new te(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new te(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new te(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return je(this._lat,t._lat)||je(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=/^__.*__$/;class tq{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new $s(t,this.data,this.fieldMask,r,this.fieldTransforms):new lf(t,this.data,r,this.fieldTransforms)}}class XR{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new $s(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function JR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class x1{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new x1(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.Ou(t),i}Nu(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return fm(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(JR(this.Cu)&&eq.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}}class rq{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Hg(t)}Qu(t,r,n,i=!1){return new x1({Cu:t,methodName:r,qu:n,path:gr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ev(e){const t=e._freezeSettings(),r=Hg(e._databaseId);return new rq(e._databaseId,!!t.ignoreUndefinedProperties,r)}function ZR(e,t,r,n,i,a={}){const s=e.Qu(a.merge||a.mergeFields?2:0,t,r,i);w1("Data must be an object, but it was:",s,n);const o=eM(n,s);let l,u;if(a.merge)l=new vn(s.fieldMask),u=s.fieldTransforms;else if(a.mergeFields){const c=[];for(const d of a.mergeFields){const p=hb(t,d,r);if(!s.contains(p))throw new te(W.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);rM(c,p)||c.push(p)}l=new vn(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new tq(new Xr(o),l,u)}class tv extends Zg{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof tv}}class b1 extends Zg{_toFieldTransform(t){return new tK(t.path,new Ed)}isEqual(t){return t instanceof b1}}function nq(e,t,r,n){const i=e.Qu(1,t,r);w1("Data must be an object, but it was:",i,n);const a=[],s=Xr.empty();Qo(n,(l,u)=>{const c=_1(t,l,r);u=xt(u);const d=i.Nu(c);if(u instanceof tv)a.push(c);else{const p=ff(u,d);p!=null&&(a.push(c),s.set(c,p))}});const o=new vn(a);return new XR(s,o,i.fieldTransforms)}function iq(e,t,r,n,i,a){const s=e.Qu(1,t,r),o=[hb(t,n,r)],l=[i];if(a.length%2!=0)throw new te(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<a.length;p+=2)o.push(hb(t,a[p])),l.push(a[p+1]);const u=[],c=Xr.empty();for(let p=o.length-1;p>=0;--p)if(!rM(u,o[p])){const m=o[p];let v=l[p];v=xt(v);const y=s.Nu(m);if(v instanceof tv)u.push(m);else{const x=ff(v,y);x!=null&&(u.push(m),c.set(m,x))}}const d=new vn(u);return new XR(c,d,s.fieldTransforms)}function aq(e,t,r,n=!1){return ff(r,e.Qu(n?4:3,t))}function ff(e,t){if(tM(e=xt(e)))return w1("Unsupported field value:",t,e),eM(e,t);if(e instanceof Zg)return function(n,i){if(!JR(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=ff(o,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=xt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return JW(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Gt.fromDate(n);return{timestampValue:lm(i.serializer,a)}}if(n instanceof Gt){const a=new Gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lm(i.serializer,a)}}if(n instanceof v1)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof hu)return{bytesValue:kR(i.serializer,n._byteString)};if(n instanceof Nr){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:t1(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof y1)return function(s,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return X_(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${Yg(n)}`)}(e,t)}function eM(e,t){const r={};return JD(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Qo(e,(n,i)=>{const a=ff(i,t.Mu(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function tM(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Gt||e instanceof v1||e instanceof hu||e instanceof Nr||e instanceof Zg||e instanceof y1)}function w1(e,t,r){if(!tM(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=Yg(r);throw n==="an object"?t.Bu(e+" a custom object"):t.Bu(e+" "+n)}}function hb(e,t,r){if((t=xt(t))instanceof Jg)return t._internalPath;if(typeof t=="string")return _1(e,t);throw fm("Field path arguments must be of type string or ",e,!1,void 0,r)}const sq=new RegExp("[~\\*/\\[\\]]");function _1(e,t,r){if(t.search(sq)>=0)throw fm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Jg(...t.split("."))._internalPath}catch{throw fm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function fm(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new te(W.INVALID_ARGUMENT,o+e+l)}function rM(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(rv("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class oq extends nM{data(){return super.data()}}function rv(e,t){return typeof t=="string"?_1(e,t):t instanceof Jg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new te(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k1{}class E1 extends k1{}function an(e,t,...r){let n=[];t instanceof k1&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof S1).length,o=a.filter(l=>l instanceof nv).length;if(s>1||s>0&&o>0)throw new te(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class nv extends E1{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new nv(t,r,n)}_apply(t){const r=this._parse(t);return aM(t._query,r),new Sa(t.firestore,t.converter,ib(t._query,r))}_parse(t){const r=ev(t.firestore);return function(a,s,o,l,u,c,d){let p;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new te(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){pA(d,c);const m=[];for(const v of d)m.push(hA(l,a,v));p={arrayValue:{values:m}}}else p=hA(l,a,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||pA(d,c),p=aq(o,s,d,c==="in"||c==="not-in");return Vt.create(u,c,p)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Ht(e,t,r){const n=t,i=rv("where",e);return nv._create(i,n,r)}class S1 extends k1{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new S1(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ii.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)aM(s,l),s=ib(s,l)}(t._query,r),new Sa(t.firestore,t.converter,ib(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P1 extends E1{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new P1(t,r)}_apply(t){const r=function(i,a,s){if(i.startAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new te(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kd(a,s)}(t._query,this._field,this._direction);return new Sa(t.firestore,t.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Ou(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function lq(e,t="asc"){const r=t,n=rv("orderBy",e);return P1._create(n,r)}class T1 extends E1{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new T1(t,r,n)}_apply(t){return new Sa(t.firestore,t.converter,sm(t._query,this._limit,this._limitType))}}function uq(e){return T1._create("limit",e,"F")}function hA(e,t,r){if(typeof(r=xt(r))=="string"){if(r==="")throw new te(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!oR(t)&&r.indexOf("/")!==-1)throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(rt.fromString(r));if(!ue.isDocumentKey(n))throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return DT(e,new ue(n))}if(r instanceof Nr)return DT(e,r._key);throw new te(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yg(r)}.`)}function pA(e,t){if(!Array.isArray(e)||e.length===0)throw new te(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aM(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new te(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class cq{convertValue(t,r="none"){switch(Ro(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ct(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Do(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw me()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Qo(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var r,n,i;const a=(i=(n=(r=t.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(s=>Ct(s.doubleValue));return new y1(a)}convertGeoPoint(t){return new v1(Ct(t.latitude),Ct(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=q_(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(bd(t));default:return null}}convertTimestamp(t){const r=Es(t);return new Gt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=rt.fromString(t);ze(IR(n));const i=new wd(n.get(1),n.get(3)),a=new ue(n.popFirst(5));return i.isEqual(r)||ua(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oM extends nM{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new pp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(rv("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class pp extends oM{data(t={}){return super.data(t)}}class lM{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new Nc(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new pp(this._firestore,this._userDataWriter,n.key,n,new Nc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new te(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new pp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new pp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:dq(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function dq(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(e){e=nn(e,Nr);const t=nn(e.firestore,da);return GH(Xg(t),e._key).then(r=>uM(t,e,r))}class A1 extends cq{constructor(t){super(),this.firestore=t}convertBytes(t){return new hu(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Nr(this.firestore,null,r)}}function pb(e){e=nn(e,Sa);const t=nn(e.firestore,da),r=Xg(t),n=new A1(t);return iM(e._query),YH(r,e._query).then(i=>new lM(t,n,e,i))}function is(e,t,r){e=nn(e,Nr);const n=nn(e.firestore,da),i=sM(e.converter,t,r);return av(n,[ZR(ev(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Rn.none())])}function fn(e,t,r,...n){e=nn(e,Nr);const i=nn(e.firestore,da),a=ev(i);let s;return s=typeof(t=xt(t))=="string"||t instanceof Jg?iq(a,"updateDoc",e._key,t,r,n):nq(a,"updateDoc",e._key,t),av(i,[s.toMutation(e._key,Rn.exists(!0))])}function iv(e){return av(nn(e.firestore,da),[new J_(e._key,Rn.none())])}function pu(e,t){const r=nn(e.firestore,da),n=Le(e),i=sM(e.converter,t);return av(r,[ZR(ev(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Rn.exists(!1))]).then(()=>n)}function zr(e,...t){var r,n,i;e=xt(e);let a={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||fA(t[s])||(a=t[s],s++);const o={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(fA(t[s])){const d=t[s];t[s]=(r=d.next)===null||r===void 0?void 0:r.bind(d),t[s+1]=(n=d.error)===null||n===void 0?void 0:n.bind(d),t[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof Nr)u=nn(e.firestore,da),c=Fg(e._key.path),l={next:d=>{t[s]&&t[s](uM(u,e,d))},error:t[s+1],complete:t[s+2]};else{const d=nn(e,Sa);u=nn(d.firestore,da),c=d._query;const p=new A1(u);l={next:m=>{t[s]&&t[s](new lM(u,p,d,m))},error:t[s+1],complete:t[s+2]},iM(e._query)}return function(p,m,v,y){const x=new g1(y),b=new p1(m,x,v);return p.asyncQueue.enqueueAndForget(async()=>d1(await dm(p),b)),()=>{x.Za(),p.asyncQueue.enqueueAndForget(async()=>f1(await dm(p),b))}}(Xg(u),c,o,l)}function av(e,t){return function(n,i){const a=new Zi;return n.asyncQueue.enqueueAndForget(async()=>LH(await qH(n),i,a)),a.promise}(Xg(e),t)}function uM(e,t,r){const n=r.docs.get(t._key),i=new A1(e);return new oM(e,i,t._key,n,new Nc(r.hasPendingWrites,r.fromCache),t.converter)}function Mo(){return new b1("serverTimestamp")}(function(t,r=!0){(function(i){Cu=i})(Iu),su(new Io("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new da(new mW(n.getProvider("auth-internal")),new xW(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new te(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wd(u.options.projectId,c)}(s,i),s);return a=Object.assign({useFetchStreams:r},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),vs(IT,"4.7.3",t),vs(IT,"4.7.3","esm2017")})();const hq={apiKey:"AIzaSyAausPXJhXSRr7Aa8Ob0s8AATtv2FbtM8o",authDomain:"spendwisewebapp.firebaseapp.com",projectId:"spendwisewebapp",storageBucket:"spendwisewebapp.firebasestorage.app",messagingSenderId:"391185653870",appId:"1:391185653870:web:2cf9119a304ca58f16467f"},cM=rD(hq),xs=uW(cM),fe=JH(cM);function pq(){const[e,t]=g.useState(!0),[r,n]=g.useState(!1),[i,a]=g.useState(""),[s,o]=g.useState(""),[l,u]=g.useState(""),[c,d]=g.useState(""),p=async v=>{v.preventDefault(),u(""),d("");try{if(e)await K8(xs,i,s);else{const y=await W8(xs,i,s);await ND(y.user)}}catch(y){u(y.message)}},m=async v=>{v.preventDefault(),u(""),d("");try{await B8(xs,i),d("ifre sfrlama balants e-posta adresinize gnderildi.")}catch(y){u(y.message)}};return h.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:h.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[h.jsx("h1",{className:"text-3xl font-bold text-center mb-2 bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent",children:"SpendWise"}),h.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-8",children:r?"ifrenizi sfrlayn":"Kiisel finans ynetiminizi basitletirin."}),l&&h.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 p-3 rounded-lg mb-4 text-sm",children:l}),c&&h.jsx("div",{className:"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 p-3 rounded-lg mb-4 text-sm",children:c}),r?h.jsxs("form",{onSubmit:m,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta"}),h.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:i,onChange:v=>a(v.target.value)})]}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-300",children:"Sfrlama Balants Gnder"}),h.jsx("button",{type:"button",onClick:()=>{n(!1),u(""),d("")},className:"w-full text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium transition-colors",children:"Giri'e Dn"})]}):h.jsxs("form",{onSubmit:p,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta"}),h.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:i,onChange:v=>a(v.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"ifre"}),h.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 text-slate-900 dark:text-white transition-all",value:s,onChange:v=>o(v.target.value)})]}),e&&h.jsx("div",{className:"text-right",children:h.jsx("button",{type:"button",onClick:()=>{n(!0),u(""),d("")},className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium transition-colors",children:"ifremi Unuttum?"})}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all duration-300",children:e?"Giri Yap":"Kayt Ol"})]}),!r&&h.jsx("div",{className:"mt-6 text-center",children:h.jsx("button",{onClick:()=>t(!e),className:"text-indigo-600 hover:text-indigo-800 dark:text-indigo-400 dark:hover:text-indigo-300 text-sm font-medium transition-colors",children:e?"Hesabn yok mu? Kayt Ol":"Zaten hesabn var m? Giri Yap"})})]})})}/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gq=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:l,...u},c)=>g.createElement("svg",{ref:c,...mq,width:i,height:i,stroke:n,strokeWidth:s?Number(a)*24/Number(i):a,className:["lucide",`lucide-${gq(e)}`,o].join(" "),...u},[...t.map(([d,p])=>g.createElement(d,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=de("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=de("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=de("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=de("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=de("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=de("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=de("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=de("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=de("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vq=de("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=de("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yq=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xq=de("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bq=de("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=de("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wq=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _q=de("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kq=de("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eq=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=de("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sq=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pq=de("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tq=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aq=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iq=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cq=de("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=de("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=de("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oq=de("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=de("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nq=de("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jq=de("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dq=de("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=de("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rq=de("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mq=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=de("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=de("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=de("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=de("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=de("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Lq({user:e,transactions:t}){const r=jg(),[n,i]=g.useState([]),[a,s]=g.useState(!0),[o,l]=g.useState(0);g.useEffect(()=>{if(!e||!t)return;(async()=>{const m=[],v=new Date,y=`${v.getFullYear()}-${String(v.getMonth()+1).padStart(2,"0")}`;try{const k=an(Tt(fe,"subscriptions"),Ht("uid","==",e.uid),Ht("status","==","active")),T=(await pb(k)).docs.map(C=>C.data()),O=T.reduce((C,I)=>C+I.price,0);T.length>=3&&m.push({id:"subs_overload",type:"warning",icon:h.jsx(Mn,{className:"text-amber-500",size:24}),title:"Abonelik Kontrol",message:`Toplam ${T.length} aktif aboneliin var ve aylk ${O.toLocaleString("tr-TR")} TL dyorsun. Kullanmadklarn iptal etmeyi dnebilirsin.`,actionLabel:"Abonelikleri ncele",actionLink:"/subscriptions"})}catch(k){console.error("Subs check error",k)}try{const k=an(Tt(fe,"budgets"),Ht("uid","==",e.uid)),T=(await pb(k)).docs.map(I=>I.data()),C=t.filter(I=>{var B;const D=I.date||((B=I.createdAt)!=null&&B.toDate?I.createdAt.toDate().toISOString().split("T")[0]:"");return I.type==="expense"&&D.startsWith(y)}).reduce((I,D)=>(I[D.category]=(I[D.category]||0)+D.amount,I),{});T.forEach(I=>{const D=C[I.category]||0;I.limit>0&&D>I.limit*.9&&m.push({id:`budget_${I.category}`,type:"danger",icon:h.jsx(I1,{className:"text-red-500",size:24}),title:`${I.category} Limiti`,message:`${I.category} btenin %${(D/I.limit*100).toFixed(0)}'ini tkettin. Dikkatli olmalsn.`,actionLabel:"Bteyi Gr",actionLink:"/budget"})})}catch(k){console.error("Budget check error",k)}const x={};t.forEach(k=>{var O;const S=k.date?new Date(k.date):(O=k.createdAt)!=null&&O.toDate?k.createdAt.toDate():new Date,T=`${S.getFullYear()}-${S.getMonth()}`;x[T]||(x[T]={income:0,expense:0}),k.type==="income"?x[T].income+=k.amount:x[T].expense+=k.amount}),`${v.getFullYear()}`,v.getMonth()-1;const b=t.filter(k=>k.type==="income").reduce((k,S)=>k+S.amount,0),_=t.filter(k=>k.type==="expense").reduce((k,S)=>k+S.amount,0);b-_>1e3&&m.push({id:"invest_opportunity",type:"success",icon:h.jsx(jq,{className:"text-emerald-500",size:24}),title:"Yatrm Frsat",message:"Gelirlerin giderlerinden fazla gidiyor. Artan paray deerlendirmek iin portfy oluturabilirsin.",actionLabel:"Yatrmlara Git",actionLink:"/investments"});const N=currentMonthExpenses.filter(k=>k.paymentMethod==="credit_card").reduce((k,S)=>k+S.amount,0),j=currentMonthExpenses.reduce((k,S)=>k+S.amount,0);j>0&&N/j>.7&&m.push({id:"cc_warning",type:"warning",icon:h.jsx(Mn,{className:"text-amber-600",size:24}),title:"Yksek Kredi Kart Kullanm",message:`Bu ay harcamalarnn %${(N/j*100).toFixed(0)}'sini kredi kartyla yaptn. Nakit akn kontrol etmelisin.`,actionLabel:"Analizi Gr",actionLink:"/reports"}),m.length===0&&m.push({id:"all_good",type:"info",icon:h.jsx(fa,{className:"text-indigo-500",size:24}),title:"Her ey Yolunda",message:"Finansal durumun dengeli grnyor. Harika gidiyorsun! ",actionLabel:"Raporlar ncele",actionLink:"/reports"}),i(m),s(!1)})()},[e,t]);const u=()=>{l(p=>(p+1)%n.length)},c=()=>{l(p=>(p-1+n.length)%n.length)};if(a)return null;const d=n[o];return h.jsxs("div",{className:"mb-8 bg-white dark:bg-slate-800 rounded-2xl p-1 shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 left-0 bg-indigo-600 text-white text-[10px] font-bold px-3 py-1 rounded-br-lg z-10",children:"Finansal Asistann"}),h.jsxs("div",{className:"flex items-center",children:[n.length>1&&h.jsx("button",{onClick:c,className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:h.jsx(yq,{size:20})}),h.jsxs("div",{className:"flex-1 p-4 pl-2 md:pl-6 flex flex-col md:flex-row items-start md:items-center gap-4 min-h-[100px]",children:[h.jsx("div",{className:`p-3 rounded-full shrink-0 ${d.type==="warning"?"bg-amber-50 dark:bg-amber-900/20":d.type==="danger"?"bg-red-50 dark:bg-red-900/20":d.type==="success"?"bg-emerald-50 dark:bg-emerald-900/20":"bg-indigo-50 dark:bg-indigo-900/20"}`,children:d.icon}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("h4",{className:"text-sm font-bold text-slate-800 dark:text-slate-100 mb-1 flex items-center gap-2",children:[d.title,h.jsxs("span",{className:"text-xs font-normal text-slate-400 bg-slate-100 dark:bg-slate-700 px-2 py-0.5 rounded-full",children:[o+1," / ",n.length]})]}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed",children:d.message})]}),d.actionLink&&h.jsxs("button",{onClick:()=>r(d.actionLink),className:"shrink-0 px-4 py-2 bg-slate-50 dark:bg-slate-700 hover:bg-slate-100 dark:hover:bg-slate-600 text-indigo-600 dark:text-indigo-400 text-xs font-bold rounded-lg transition-colors flex items-center gap-1 self-end md:self-center",children:[d.actionLabel," ",h.jsx(mA,{size:14})]})]}),n.length>1&&h.jsx("button",{onClick:u,className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",children:h.jsx(mA,{size:20})})]}),n.length>1&&h.jsx("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-1",children:n.map((p,m)=>h.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${m===o?"bg-indigo-500 w-3":"bg-slate-300 dark:bg-slate-600"}`},m))})]})}function xM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=xM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Pe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=xM(e))&&(n&&(n+=" "),n+=t);return n}var Vq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function N1(e){if(typeof e!="string")return!1;var t=Vq;return t.includes(e)}var $q=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Fq=new Set($q);function bM(e){return typeof e!="string"?!1:Fq.has(e)}function wM(e){return typeof e=="string"&&e.startsWith("data-")}function sn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bM(r)||wM(r))&&(t[r]=e[r]);return t}function Vo(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return sn(t)}return typeof e=="object"&&!Array.isArray(e)?sn(e):null}function Wr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(bM(r)||wM(r)||N1(r))&&(t[r]=e[r]);return t}function zq(e){return e==null?null:g.isValidElement(e)?Wr(e.props):typeof e=="object"&&!Array.isArray(e)?Wr(e):null}var Uq=["children","width","height","viewBox","className","style","title","desc"];function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(null,arguments)}function Bq(e,t){if(e==null)return{};var r,n,i=Wq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j1=g.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,c=Bq(e,Uq),d=a||{width:n,height:i,x:0,y:0},p=Pe("recharts-surface",s);return g.createElement("svg",xb({},Wr(c),{className:p,width:n,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),r)}),Kq=["children","className"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bb.apply(null,arguments)}function Hq(e,t){if(e==null)return{};var r,n,i=qq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nt=g.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Hq(e,Kq),a=Pe("recharts-layer",n);return g.createElement("g",bb({className:a},Wr(i),{ref:t}),r)}),_M=g.createContext(null),Gq=()=>g.useContext(_M);function Ge(e){return function(){return e}}const kM=Math.cos,mm=Math.sin,oi=Math.sqrt,gm=Math.PI,sv=2*gm,wb=Math.PI,_b=2*wb,no=1e-6,Yq=_b-no;function EM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Qq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return EM;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Xq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?EM:Qq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,u=i-r,c=s-t,d=o-r,p=c*c+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(p>no)if(!(Math.abs(d*l-u*c)>no)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,v=i-o,y=l*l+u*u,x=m*m+v*v,b=Math.sqrt(y),_=Math.sqrt(p),E=a*Math.tan((wb-Math.acos((y+p-x)/(2*b*_)))/2),A=E/_,N=E/b;Math.abs(A-1)>no&&this._append`L${t+A*c},${r+A*d}`,this._append`A${a},${a},0,0,${+(d*m>c*v)},${this._x1=t+N*l},${this._y1=r+N*u}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=t+o,c=r+l,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>no||Math.abs(this._y1-c)>no)&&this._append`L${u},${c}`,n&&(p<0&&(p=p%_b+_b),p>Yq?this._append`A${n},${n},0,1,${d},${t-o},${r-l}A${n},${n},0,1,${d},${this._x1=u},${this._y1=c}`:p>no&&this._append`A${n},${n},0,${+(p>=wb)},${d},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function D1(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Xq(t)}function R1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function SM(e){this._context=e}SM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ov(e){return new SM(e)}function PM(e){return e[0]}function TM(e){return e[1]}function AM(e,t){var r=Ge(!0),n=null,i=ov,a=null,s=D1(o);e=typeof e=="function"?e:e===void 0?PM:Ge(e),t=typeof t=="function"?t:t===void 0?TM:Ge(t);function o(l){var u,c=(l=R1(l)).length,d,p=!1,m;for(n==null&&(a=i(m=s())),u=0;u<=c;++u)!(u<c&&r(d=l[u],u,l))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,u,l),+t(d,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Ge(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Ge(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ge(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function Th(e,t,r){var n=null,i=Ge(!0),a=null,s=ov,o=null,l=D1(u);e=typeof e=="function"?e:e===void 0?PM:Ge(+e),t=typeof t=="function"?t:Ge(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?TM:Ge(+r);function u(d){var p,m,v,y=(d=R1(d)).length,x,b=!1,_,E=new Array(y),A=new Array(y);for(a==null&&(o=s(_=l())),p=0;p<=y;++p){if(!(p<y&&i(x=d[p],p,d))===b)if(b=!b)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=m;--v)o.point(E[v],A[v]);o.lineEnd(),o.areaEnd()}b&&(E[p]=+e(x,p,d),A[p]=+t(x,p,d),o.point(n?+n(x,p,d):E[p],r?+r(x,p,d):A[p]))}if(_)return o=null,_+""||null}function c(){return AM().defined(i).curve(s).context(a)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Ge(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Ge(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Ge(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Ge(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Ge(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Ge(+d),u):r},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(r)},u.lineX1=function(){return c().x(n).y(t)},u.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Ge(!!d),u):i},u.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),u):s},u.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),u):a},u}class IM{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Jq(e){return new IM(e,!0)}function Zq(e){return new IM(e,!1)}const M1={draw(e,t){const r=oi(t/gm);e.moveTo(r,0),e.arc(0,0,r,0,sv)}},eG={draw(e,t){const r=oi(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CM=oi(1/3),tG=CM*2,rG={draw(e,t){const r=oi(t/tG),n=r*CM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},nG={draw(e,t){const r=oi(t),n=-r/2;e.rect(n,n,r,r)}},iG=.8908130915292852,OM=mm(gm/10)/mm(7*gm/10),aG=mm(sv/10)*OM,sG=-kM(sv/10)*OM,oG={draw(e,t){const r=oi(t*iG),n=aG*r,i=sG*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=sv*a/5,o=kM(s),l=mm(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},my=oi(3),lG={draw(e,t){const r=-oi(t/(my*3));e.moveTo(0,r*2),e.lineTo(-my*r,-r),e.lineTo(my*r,-r),e.closePath()}},Pn=-.5,Tn=oi(3)/2,kb=1/oi(12),uG=(kb/2+1)*3,cG={draw(e,t){const r=oi(t/uG),n=r/2,i=r*kb,a=n,s=r*kb+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Pn*n-Tn*i,Tn*n+Pn*i),e.lineTo(Pn*a-Tn*s,Tn*a+Pn*s),e.lineTo(Pn*o-Tn*l,Tn*o+Pn*l),e.lineTo(Pn*n+Tn*i,Pn*i-Tn*n),e.lineTo(Pn*a+Tn*s,Pn*s-Tn*a),e.lineTo(Pn*o+Tn*l,Pn*l-Tn*o),e.closePath()}};function dG(e,t){let r=null,n=D1(i);e=typeof e=="function"?e:Ge(e||M1),t=typeof t=="function"?t:Ge(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ge(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ge(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function vm(){}function ym(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function NM(e){this._context=e}NM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ym(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ym(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fG(e){return new NM(e)}function jM(e){this._context=e}jM.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ym(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hG(e){return new jM(e)}function DM(e){this._context=e}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ym(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pG(e){return new DM(e)}function RM(e){this._context=e}RM.prototype={areaStart:vm,areaEnd:vm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function mG(e){return new RM(e)}function xA(e){return e<0?-1:1}function bA(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(xA(a)+xA(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function wA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function gy(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function xm(e){this._context=e}xm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:gy(this,this._t0,wA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,gy(this,wA(this,r=bA(this,e,t)),r);break;default:gy(this,this._t0,r=bA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function MM(e){this._context=new LM(e)}(MM.prototype=Object.create(xm.prototype)).point=function(e,t){xm.prototype.point.call(this,t,e)};function LM(e){this._context=e}LM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function gG(e){return new xm(e)}function vG(e){return new MM(e)}function VM(e){this._context=e}VM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=_A(e),i=_A(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function _A(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function yG(e){return new VM(e)}function lv(e,t){this._context=e,this._t=t}lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xG(e){return new lv(e,.5)}function bG(e){return new lv(e,0)}function wG(e){return new lv(e,1)}function $o(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Eb(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function _G(e,t){return e[t]}function kG(e){const t=[];return t.key=e,t}function EG(){var e=Ge([]),t=Eb,r=$o,n=_G;function i(a){var s=Array.from(e.apply(this,arguments),kG),o,l=s.length,u=-1,c;for(const d of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+n(d,s[o].key,u,a)]).data=d;for(o=0,c=R1(t(s));o<l;++o)s[c[o]].index=o;return r(s,c),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ge(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ge(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?Eb:typeof a=="function"?a:Ge(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??$o,i):r},i}function SG(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}$o(e,t)}}function PG(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}$o(e,t)}}function TG(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,u=0;o<s;++o){for(var c=e[t[o]],d=c[n][1]||0,p=c[n-1][1]||0,m=(d-p)/2,v=0;v<o;++v){var y=e[t[v]],x=y[n][1]||0,b=y[n-1][1]||0;m+=x-b}l+=d,u+=m*d}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,$o(e,t)}}var uv={},$M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})($M);var L1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(L1);var cv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(cv);var dv={},FM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(FM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM,r=cv;function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",c=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const d=i[o];u?d==="\\"&&o+1<s?(o++,l+=i[o]):d===u?u="":l+=d:c?d==='"'||d==="'"?u=d:d==="]"?(c=!1,a.push(l),l=""):l+=d:d==="["?(c=!0,l&&(a.push(l),l="")):d==="."?l&&(a.push(l),l=""):l+=d,o++}return l&&a.push(l),a}e.toPath=n})(dv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$M,r=L1,n=cv,i=dv;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?r.isDeepKey(l)?a(o,i.toPath(l),u):u:c}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const c=o[l];return c===void 0?u:c}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const c=o[l];return c===void 0?u:c}}}function s(o,l,u){if(l.length===0)return u;let c=o;for(let d=0;d<l.length;d++){if(c==null||t.isUnsafeProperty(l[d]))return u;c=c[l[d]]}return c===void 0?u:c}e.get=a})(uv);var AG=uv.get;const Fo=ba(AG);var IG=4;function as(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IG,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Et(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+as(o)+a:i+a},"")}var lr=e=>e===0?0:e>0?1:-1,$n=e=>typeof e=="number"&&e!=+e,ha=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ee=e=>(typeof e=="number"||e instanceof Number)&&!$n(e),Ti=e=>ee(e)||typeof e=="string",CG=0,Cd=e=>{var t=++CG;return"".concat(e||"").concat(t)},jr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ee(t)&&typeof t!="string")return n;var a;if(ha(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return $n(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},zM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function tt(e,t,r){return ee(e)&&ee(t)?as(e+r*(t-e)):t}function UM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Fo(n,t))===r)}var vt=e=>e===null||typeof e>"u",hf=e=>vt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function OG(e){return e!=null}function pf(){}var NG=["type","size","sizeType"];function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sb.apply(null,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){jG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MG(e,t){if(e==null)return{};var r,n,i=LG(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BM={symbolCircle:M1,symbolCross:eG,symbolDiamond:rG,symbolSquare:nG,symbolStar:oG,symbolTriangle:lG,symbolWye:cG},VG=Math.PI/180,$G=e=>{var t="symbol".concat(hf(e));return BM[t]||M1},FG=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*VG;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},zG=(e,t)=>{BM["symbol".concat(hf(e))]=t},V1=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=MG(e,NG),a=EA(EA({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var p=$G(s),m=dG().type(p).size(FG(r,n,s)),v=m();if(v!==null)return v},{className:l,cx:u,cy:c}=a,d=Wr(a);return ee(u)&&ee(c)&&ee(r)?g.createElement("path",Sb({},d,{className:Pe("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(c,")"),d:o()})):null};V1.registerSymbol=zG;var WM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,$1=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{N1(i)&&(n[i]=a=>r[i](r,a))}),n},UG=(e,t,r)=>n=>(e(t,r,n),null),mf=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];N1(i)&&typeof a=="function"&&(n||(n={}),n[i]=UG(a,t,r))}),n};function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function BG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){WG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WG(e,t,r){return(t=KG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=HG(e,"string");return typeof t=="symbol"?t:t+""}function HG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t){var r=BG({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(null,arguments)}function PA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PA(Object(r),!0).forEach(function(n){GG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GG(e,t,r){return(t=YG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YG(e){var t=QG(e,"string");return typeof t=="symbol"?t:t+""}function QG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var In=32,XG={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function JG(e){var{data:t,iconType:r,inactiveColor:n}=e,i=In/2,a=In/6,s=In/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:In,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(In,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(In/8,"h").concat(In,"v").concat(In*3/4,"h").concat(-In,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var c=qG({},t);return delete c.legendIcon,g.cloneElement(t.legendIcon,c)}return g.createElement(V1,{fill:o,cx:i,cy:i,size:In,sizeType:"diameter",type:l})}function ZG(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:In,height:In},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,d)=>{var p=c.formatter||i,m=Pe({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:c.inactive});if(c.type==="none")return null;var v=c.inactive?a:c.color,y=p?p(c.value,c,d):c.value;return g.createElement("li",bm({className:m,style:l,key:"legend-item-".concat(d)},mf(e,c,d)),g.createElement(j1,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(y," legend icon")},g.createElement(JG,{data:c,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},y))})}var eY=e=>{var t=Ut(e,XG),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(ZG,bm({},t,{payload:r})))},KM={},HM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(HM);var F1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(F1);var qM={},fv={},GM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(GM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(fv);var YM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(YM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fv,r=YM;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(qM);var QM={},XM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uv;function r(n){return function(i){return t.get(i,n)}}e.property=r})(XM);var JM={},z1={},ZM={},U1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(U1);var B1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(B1);var W1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(W1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U1,r=B1,n=W1;function i(c,d,p){return typeof p!="function"?i(c,d,()=>{}):a(c,d,function m(v,y,x,b,_,E){const A=p(v,y,x,b,_,E);return A!==void 0?!!A:a(v,y,m,E)},new Map)}function a(c,d,p,m){if(d===c)return!0;switch(typeof d){case"object":return s(c,d,p,m);case"function":return Object.keys(d).length>0?a(c,{...d},p,m):n.eq(c,d);default:return t.isObject(c)?typeof d=="string"?d==="":!0:n.eq(c,d)}}function s(c,d,p,m){if(d==null)return!0;if(Array.isArray(d))return l(c,d,p,m);if(d instanceof Map)return o(c,d,p,m);if(d instanceof Set)return u(c,d,p,m);const v=Object.keys(d);if(c==null||r.isPrimitive(c))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(d))return m.get(d)===c;m==null||m.set(d,c);try{for(let y=0;y<v.length;y++){const x=v[y];if(!r.isPrimitive(c)&&!(x in c)||d[x]===void 0&&c[x]!==void 0||d[x]===null&&c[x]!==null||!p(c[x],d[x],x,c,d,m))return!1}return!0}finally{m==null||m.delete(d)}}function o(c,d,p,m){if(d.size===0)return!0;if(!(c instanceof Map))return!1;for(const[v,y]of d.entries()){const x=c.get(v);if(p(x,y,v,c,d,m)===!1)return!1}return!0}function l(c,d,p,m){if(d.length===0)return!0;if(!Array.isArray(c))return!1;const v=new Set;for(let y=0;y<d.length;y++){const x=d[y];let b=!1;for(let _=0;_<c.length;_++){if(v.has(_))continue;const E=c[_];let A=!1;if(p(E,x,y,c,d,m)&&(A=!0),A){v.add(_),b=!0;break}}if(!b)return!1}return!0}function u(c,d,p,m){return d.size===0?!0:c instanceof Set?l([...c],[...d],p,m):!1}e.isMatchWith=i,e.isSetMatch=u})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZM;function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r})(z1);var eL={},K1={},tL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(tL);var H1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(H1);var q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",c="[object Array]",d="[object Function]",p="[object ArrayBuffer]",m="[object Object]",v="[object Error]",y="[object DataView]",x="[object Uint8Array]",b="[object Uint8ClampedArray]",_="[object Uint16Array]",E="[object Uint32Array]",A="[object BigUint64Array]",N="[object Int8Array]",j="[object Int16Array]",k="[object Int32Array]",S="[object BigInt64Array]",T="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=p,e.arrayTag=c,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=A,e.booleanTag=i,e.dataViewTag=y,e.dateTag=o,e.errorTag=v,e.float32ArrayTag=T,e.float64ArrayTag=O,e.functionTag=d,e.int16ArrayTag=j,e.int32ArrayTag=k,e.int8ArrayTag=N,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=E,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=b})(q1);var rL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(rL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tL,r=H1,n=q1,i=B1,a=rL;function s(c,d){return o(c,void 0,c,new Map,d)}function o(c,d,p,m=new Map,v=void 0){const y=v==null?void 0:v(c,d,p,m);if(y!==void 0)return y;if(i.isPrimitive(c))return c;if(m.has(c))return m.get(c);if(Array.isArray(c)){const x=new Array(c.length);m.set(c,x);for(let b=0;b<c.length;b++)x[b]=o(c[b],b,p,m,v);return Object.hasOwn(c,"index")&&(x.index=c.index),Object.hasOwn(c,"input")&&(x.input=c.input),x}if(c instanceof Date)return new Date(c.getTime());if(c instanceof RegExp){const x=new RegExp(c.source,c.flags);return x.lastIndex=c.lastIndex,x}if(c instanceof Map){const x=new Map;m.set(c,x);for(const[b,_]of c)x.set(b,o(_,b,p,m,v));return x}if(c instanceof Set){const x=new Set;m.set(c,x);for(const b of c)x.add(o(b,void 0,p,m,v));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(c))return c.subarray();if(a.isTypedArray(c)){const x=new(Object.getPrototypeOf(c)).constructor(c.length);m.set(c,x);for(let b=0;b<c.length;b++)x[b]=o(c[b],b,p,m,v);return x}if(c instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&c instanceof SharedArrayBuffer)return c.slice(0);if(c instanceof DataView){const x=new DataView(c.buffer.slice(0),c.byteOffset,c.byteLength);return m.set(c,x),l(x,c,p,m,v),x}if(typeof File<"u"&&c instanceof File){const x=new File([c],c.name,{type:c.type});return m.set(c,x),l(x,c,p,m,v),x}if(typeof Blob<"u"&&c instanceof Blob){const x=new Blob([c],{type:c.type});return m.set(c,x),l(x,c,p,m,v),x}if(c instanceof Error){const x=new c.constructor;return m.set(c,x),x.message=c.message,x.name=c.name,x.stack=c.stack,x.cause=c.cause,l(x,c,p,m,v),x}if(c instanceof Boolean){const x=new Boolean(c.valueOf());return m.set(c,x),l(x,c,p,m,v),x}if(c instanceof Number){const x=new Number(c.valueOf());return m.set(c,x),l(x,c,p,m,v),x}if(c instanceof String){const x=new String(c.valueOf());return m.set(c,x),l(x,c,p,m,v),x}if(typeof c=="object"&&u(c)){const x=Object.create(Object.getPrototypeOf(c));return m.set(c,x),l(x,c,p,m,v),x}return c}function l(c,d,p=c,m,v){const y=[...Object.keys(d),...t.getSymbols(d)];for(let x=0;x<y.length;x++){const b=y[x],_=Object.getOwnPropertyDescriptor(c,b);(_==null||_.writable)&&(c[b]=o(d[b],b,p,m,v))}}function u(c){switch(r.getTag(c)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(K1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(eL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,r=eL;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(JM);var nL={},iL={},aL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K1,r=q1;function n(i,a){return t.cloneDeepWith(i,(s,o,l,u)=>{const c=a==null?void 0:a(s,o,l,u);if(c!==void 0)return c;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(d,i),d}case r.argumentsTag:{const d={};return t.copyProperties(d,i),d.length=i.length,d[Symbol.iterator]=i[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(aL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aL;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(iL);var sL={},G1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(G1);var oL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H1;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(oL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L1,r=G1,n=oL,i=dv;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let c=0;c<l.length;c++){const d=l[c];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=a})(sL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=z1,r=cv,n=iL,i=uv,a=sL;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const c=i.get(u,o);return c===void 0?a.has(u,o):l===void 0?c===void 0:t.isMatch(c,l)}}e.matchesProperty=s})(nL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F1,r=XM,n=JM,i=nL;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(QM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HM,r=F1,n=qM,i=QM;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(KM);var tY=KM.uniqBy;const TA=ba(tY);function lL(e,t,r){return t===!0?TA(e,r):typeof t=="function"?TA(e,t):e}var uL={exports:{}},cL={},dL={exports:{}},fL={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=g;function rY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nY=typeof Object.is=="function"?Object.is:rY,iY=mu.useState,aY=mu.useEffect,sY=mu.useLayoutEffect,oY=mu.useDebugValue;function lY(e,t){var r=t(),n=iY({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return sY(function(){i.value=r,i.getSnapshot=t,vy(i)&&a({inst:i})},[e,r,t]),aY(function(){return vy(i)&&a({inst:i}),e(function(){vy(i)&&a({inst:i})})},[e]),oY(r),r}function vy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nY(e,r)}catch{return!0}}function uY(e,t){return t()}var cY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?uY:lY;fL.useSyncExternalStore=mu.useSyncExternalStore!==void 0?mu.useSyncExternalStore:cY;dL.exports=fL;var dY=dL.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv=g,fY=dY;function hY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pY=typeof Object.is=="function"?Object.is:hY,mY=fY.useSyncExternalStore,gY=hv.useRef,vY=hv.useEffect,yY=hv.useMemo,xY=hv.useDebugValue;cL.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=gY(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=yY(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var v=s.value;if(i(v,m))return d=v}return d=m}if(v=d,pY(c,m))return v;var y=n(m);return i!==void 0&&i(v,y)?(c=m,v):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=mY(e,a[0],a[1]);return vY(function(){s.hasValue=!0,s.value=o},[o]),xY(o),o};uL.exports=cL;var bY=uL.exports,Y1=g.createContext(null),wY=e=>e,Qe=()=>{var e=g.useContext(Y1);return e?e.store.dispatch:wY},gp=()=>{},_Y=()=>gp,kY=(e,t)=>e===t;function se(e){var t=g.useContext(Y1);return bY.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_Y,t?t.store.getState:gp,t?t.store.getState:gp,t?e:gp,kY)}function EY(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function SY(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function PY(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var AA=e=>Array.isArray(e)?e:[e];function TY(e){const t=Array.isArray(e[0])?e[0]:e;return PY(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function AY(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var IY=class{constructor(e){this.value=e}deref(){return this.value}},CY=typeof WeakRef<"u"?WeakRef:IY,OY=0,IA=1;function Ah(){return{s:OY,v:void 0,o:null,p:null}}function hL(e,t={}){let r=Ah();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var d;let o=r;const{length:l}=arguments;for(let p=0,m=l;p<m;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const x=y.get(v);x===void 0?(o=Ah(),y.set(v,o)):o=x}else{let y=o.p;y===null&&(o.p=y=new Map);const x=y.get(v);x===void 0?(o=Ah(),y.set(v,o)):o=x}}const u=o;let c;if(o.s===IA)c=o.v;else if(c=e.apply(null,arguments),a++,n){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&n(p,c)&&(c=p,a!==0&&a--),i=typeof c=="object"&&c!==null||typeof c=="function"?new CY(c):c}return u.s=IA,u.v=c,c}return s.clearCache=()=>{r=Ah(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function NY(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),EY(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...r,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:m=hL,argsMemoizeOptions:v=[]}=c,y=AA(p),x=AA(v),b=TY(i),_=d(function(){return a++,u.apply(null,arguments)},...y),E=m(function(){s++;const N=AY(b,arguments);return o=_.apply(null,N),o},...x);return Object.assign(E,{resultFunc:u,memoizedResultFunc:_,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var F=NY(hL),jY=Object.assign((e,t=F)=>{SY(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>jY}),pL={},mL={},gL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(gL);var vL={},Q1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Q1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(vL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gL,r=vL,n=dv;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,v)=>{let y=m;for(let x=0;x<v.length&&y!=null;++x)y=y[v[x]];return y},c=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,d=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return a.map(m=>({original:m,criteria:d.map(v=>c(v,m))})).slice().sort((m,v)=>{for(let y=0;y<d.length;y++){const x=t.compareValues(m.criteria[y],v.criteria[y],o[y]);if(x!==0)return x}return 0}).map(m=>m.original)}e.orderBy=i})(mL);var yL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let u=0;u<o.length;u++){const c=o[u];Array.isArray(c)&&l<a?s(c,l+1):i.push(c)}};return s(r,0),i}e.flatten=t})(yL);var X1={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G1,r=fv,n=U1,i=W1;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(X1);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mL,r=yL,n=X1;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(pL);var DY=pL.sortBy;const pv=ba(DY);var xL=e=>e.legend.settings,RY=e=>e.legend.size,MY=e=>e.legend.payload,LY=F([MY,xL],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?pv(n,r):n});function VY(){return se(LY)}var Ih=1;function bL(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Ih||Math.abs(s.left-t.left)>Ih||Math.abs(s.top-t.top)>Ih||Math.abs(s.width-t.width)>Ih)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function fr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $Y=typeof Symbol=="function"&&Symbol.observable||"@@observable",CA=$Y,yy=()=>Math.random().toString(36).substring(7).split("").join("."),FY={INIT:`@@redux/INIT${yy()}`,REPLACE:`@@redux/REPLACE${yy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${yy()}`},wm=FY;function J1(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function wL(e,t,r){if(typeof e!="function")throw new Error(fr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fr(1));return r(wL)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((x,b)=>{s.set(b,x)}))}function c(){if(l)throw new Error(fr(3));return i}function d(x){if(typeof x!="function")throw new Error(fr(4));if(l)throw new Error(fr(5));let b=!0;u();const _=o++;return s.set(_,x),function(){if(b){if(l)throw new Error(fr(6));b=!1,u(),s.delete(_),a=null}}}function p(x){if(!J1(x))throw new Error(fr(7));if(typeof x.type>"u")throw new Error(fr(8));if(typeof x.type!="string")throw new Error(fr(17));if(l)throw new Error(fr(9));try{l=!0,i=n(i,x)}finally{l=!1}return(a=s).forEach(_=>{_()}),x}function m(x){if(typeof x!="function")throw new Error(fr(10));n=x,p({type:wm.REPLACE})}function v(){const x=d;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(fr(11));function _(){const A=b;A.next&&A.next(c())}return _(),{unsubscribe:x(_)}},[CA](){return this}}}return p({type:wm.INIT}),{dispatch:p,subscribe:d,getState:c,replaceReducer:m,[CA]:v}}function zY(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:wm.INIT})>"u")throw new Error(fr(12));if(typeof r(void 0,{type:wm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fr(13))})}function _L(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{zY(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let c=0;c<n.length;c++){const d=n[c],p=r[d],m=s[d],v=p(m,o);if(typeof v>"u")throw o&&o.type,new Error(fr(14));u[d]=v,l=l||v!==m}return l=l||n.length!==Object.keys(s).length,l?u:s}}function _m(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function UY(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(fr(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=_m(...o)(i.dispatch),{...i,dispatch:a}}}function kL(e){return J1(e)&&"type"in e&&typeof e.type=="string"}var EL=Symbol.for("immer-nothing"),OA=Symbol.for("immer-draftable"),Kr=Symbol.for("immer-state");function Qn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yn=Object,gu=yn.getPrototypeOf,km="constructor",mv="prototype",Pb="configurable",Em="enumerable",vp="writable",Od="value",pa=e=>!!e&&!!e[Kr];function ai(e){var t;return e?SL(e)||gv(e)||!!e[OA]||!!((t=e[km])!=null&&t[OA])||vv(e)||yv(e):!1}var BY=yn[mv][km].toString(),NA=new WeakMap;function SL(e){if(!e||!Z1(e))return!1;const t=gu(e);if(t===null||t===yn[mv])return!0;const r=yn.hasOwnProperty.call(t,km)&&t[km];if(r===Object)return!0;if(!vl(r))return!1;let n=NA.get(r);return n===void 0&&(n=Function.toString.call(r),NA.set(r,n)),n===BY}function gf(e,t,r=!0){vf(e)===0?(r?Reflect.ownKeys(e):yn.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function vf(e){const t=e[Kr];return t?t.type_:gv(e)?1:vv(e)?2:yv(e)?3:0}var jA=(e,t,r=vf(e))=>r===2?e.has(t):yn[mv].hasOwnProperty.call(e,t),Tb=(e,t,r=vf(e))=>r===2?e.get(t):e[t],Sm=(e,t,r,n=vf(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function WY(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gv=Array.isArray,vv=e=>e instanceof Map,yv=e=>e instanceof Set,Z1=e=>typeof e=="object",vl=e=>typeof e=="function",xy=e=>typeof e=="boolean";function KY(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var zi=e=>e.copy_||e.base_,ek=e=>e.modified_?e.copy_:e.base_;function Ab(e,t){if(vv(e))return new Map(e);if(yv(e))return new Set(e);if(gv(e))return Array[mv].slice.call(e);const r=SL(e);if(t===!0||t==="class_only"&&!r){const n=yn.getOwnPropertyDescriptors(e);delete n[Kr];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[vp]===!1&&(o[vp]=!0,o[Pb]=!0),(o.get||o.set)&&(n[s]={[Pb]:!0,[vp]:!0,[Em]:o[Em],[Od]:e[s]})}return yn.create(gu(e),n)}else{const n=gu(e);if(n!==null&&r)return{...e};const i=yn.create(n);return yn.assign(i,e)}}function tk(e,t=!1){return xv(e)||pa(e)||!ai(e)||(vf(e)>1&&yn.defineProperties(e,{set:Ch,add:Ch,clear:Ch,delete:Ch}),yn.freeze(e),t&&gf(e,(r,n)=>{tk(n,!0)},!1)),e}function HY(){Qn(2)}var Ch={[Od]:HY};function xv(e){return e===null||!Z1(e)?!0:yn.isFrozen(e)}var Pm="MapSet",Ib="Patches",DA="ArrayMethods",PL={};function zo(e){const t=PL[e];return t||Qn(0,e),t}var RA=e=>!!PL[e],Nd,TL=()=>Nd,qY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RA(Pm)?zo(Pm):void 0,arrayMethodsPlugin_:RA(DA)?zo(DA):void 0});function MA(e,t){t&&(e.patchPlugin_=zo(Ib),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Cb(e){Ob(e),e.drafts_.forEach(GY),e.drafts_=null}function Ob(e){e===Nd&&(Nd=e.parent_)}var LA=e=>Nd=qY(Nd,e);function GY(e){const t=e[Kr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function VA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Kr].modified_&&(Cb(t),Qn(4)),ai(e)&&(e=$A(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(r[Kr].base_,e,t)}else e=$A(t,r);return YY(t,e,!0),Cb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==EL?e:void 0}function $A(e,t){if(xv(t))return t;const r=t[Kr];if(!r)return rk(t,e.handledSet_,e);if(!bv(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);CL(r,e)}return r.copy_}function YY(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&tk(t,r)}function AL(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var bv=(e,t)=>e.scope_===t,QY=[];function IL(e,t,r,n){const i=zi(e),a=e.type_;if(n!==void 0&&Tb(i,n,a)===t){Sm(i,n,r,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;gf(i,(l,u)=>{if(pa(u)){const c=o.get(u)||[];c.push(l),o.set(u,c)}})}const s=e.draftLocations_.get(t)??QY;for(const o of s)Sm(i,o,r,a)}function XY(e,t,r){e.callbacks_.push(function(i){var o;const a=t;if(!a||!bv(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=ek(a);IL(e,a.draft_??a,s,r),CL(a,i)})}function CL(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}AL(e)}}function JY(e,t,r){const{scope_:n}=e;if(pa(r)){const i=r[Kr];bv(i,n)&&i.callbacks_.push(function(){yp(e);const s=ek(i);IL(e,r,s,t)})}else ai(r)&&e.callbacks_.push(function(){const a=zi(e);Tb(a,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&rk(Tb(e.copy_,t,e.type_),n.handledSet_,n)})}function rk(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||pa(e)||t.has(e)||!ai(e)||xv(e)||(t.add(e),gf(e,(n,i)=>{if(pa(i)){const a=i[Kr];if(bv(a,r)){const s=ek(a);Sm(e,n,s,e.type_),AL(a)}}else ai(i)&&rk(i,t,r)})),e}function ZY(e,t){const r=gv(e),n={type_:r?1:0,scope_:t?t.scope_:TL(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=nk;r&&(i=[n],a=jd);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var nk={get(e,t){if(t===Kr)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=zi(e);if(!jA(i,t,e.type_))return eQ(e,i,t);const a=i[t];if(e.finalized_||!ai(a)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&KY(t))return a;if(a===by(e.base_,t)){yp(e);const s=e.type_===1?+t:t,o=jb(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in zi(e)},ownKeys(e){return Reflect.ownKeys(zi(e))},set(e,t,r){const n=OL(zi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=by(zi(e),t),a=i==null?void 0:i[Kr];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(WY(r,i)&&(r!==void 0||jA(e.base_,t,e.type_)))return!0;yp(e),Nb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),JY(e,t,r)),!0},deleteProperty(e,t){return yp(e),by(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Nb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=zi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[vp]:!0,[Pb]:e.type_!==1||t!=="length",[Em]:n[Em],[Od]:r[t]}},defineProperty(){Qn(11)},getPrototypeOf(e){return gu(e.base_)},setPrototypeOf(){Qn(12)}},jd={};gf(nk,(e,t)=>{jd[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});jd.deleteProperty=function(e,t){return jd.set.call(this,e,t,void 0)};jd.set=function(e,t,r){return nk.set.call(this,e[0],t,r,e[0])};function by(e,t){const r=e[Kr];return(r?zi(r):e)[t]}function eQ(e,t,r){var i;const n=OL(t,r);return n?Od in n?n[Od]:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function OL(e,t){if(!(t in e))return;let r=gu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=gu(r)}}function Nb(e){e.modified_||(e.modified_=!0,e.parent_&&Nb(e.parent_))}function yp(e){e.copy_||(e.assigned_=new Map,e.copy_=Ab(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var tQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(vl(r)&&!vl(n)){const s=n;n=r;const o=this;return function(u=s,...c){return o.produce(u,d=>n.call(this,d,...c))}}vl(n)||Qn(6),i!==void 0&&!vl(i)&&Qn(7);let a;if(ai(r)){const s=LA(this),o=jb(s,r,void 0);let l=!0;try{a=n(o),l=!1}finally{l?Cb(s):Ob(s)}return MA(s,i),VA(a,s)}else if(!r||!Z1(r)){if(a=n(r),a===void 0&&(a=r),a===EL&&(a=void 0),this.autoFreeze_&&tk(a,!0),i){const s=[],o=[];zo(Ib).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Qn(1,r)},this.produceWithPatches=(r,n)=>{if(vl(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,a;return[this.produce(r,n,(o,l)=>{i=o,a=l}),i,a]},xy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),xy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),xy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){ai(t)||Qn(8),pa(t)&&(t=ti(t));const r=LA(this),n=jb(r,t,void 0);return n[Kr].isManual_=!0,Ob(r),n}finishDraft(t,r){const n=t&&t[Kr];(!n||!n.isManual_)&&Qn(9);const{scope_:i}=n;return MA(i,r),VA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(r=r.slice(n+1));const i=zo(Ib).applyPatches_;return pa(t)?i(t,r):this.produce(t,a=>i(a,r))}};function jb(e,t,r,n){const[i,a]=vv(t)?zo(Pm).proxyMap_(t,r):yv(t)?zo(Pm).proxySet_(t,r):ZY(t,r);return((r==null?void 0:r.scope_)??TL()).drafts_.push(i),a.callbacks_=(r==null?void 0:r.callbacks_)??[],a.key_=n,r&&n!==void 0?XY(r,a,n):a.callbacks_.push(function(l){var c;(c=l.mapSetPlugin_)==null||c.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function ti(e){return pa(e)||Qn(10,e),NL(e)}function NL(e){if(!ai(e)||xv(e))return e;const t=e[Kr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Ab(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Ab(e,!0);return gf(r,(i,a)=>{Sm(r,i,NL(a))},n),t&&(t.finalized_=!1),r}var rQ=new tQ,jL=rQ.produce;function DL(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var nQ=DL(),iQ=DL,aQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_m:_m.apply(null,arguments)};function Fn(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(bn(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>kL(n)&&n.type===e,r}var RL=class jc extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,jc.prototype)}static get[Symbol.species](){return jc}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new jc(...t[0].concat(this)):new jc(...t.concat(this))}};function FA(e){return ai(e)?jL(e,()=>{}):e}function Oh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function sQ(e){return typeof e=="boolean"}var oQ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new RL;return r&&(sQ(r)?s.push(nQ):s.push(iQ(r.extraArgument))),s},ML="RTK_autoBatch",st=()=>e=>({payload:e,meta:{[ML]:!0}}),zA=e=>t=>{setTimeout(t,e)},LL=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zA(10):e.type==="callback"?e.queueNotification:zA(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(c=>c()))};return Object.assign({},n,{subscribe(c){const d=()=>i&&c(),p=n.subscribe(d);return o.add(c),()=>{p(),o.delete(c)}},dispatch(c){var d;try{return i=!((d=c==null?void 0:c.meta)!=null&&d[ML]),a=!i,a&&(s||(s=!0,l(u))),n.dispatch(c)}finally{i=!0}}})},lQ=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new RL(e);return n&&i.push(LL(typeof n=="object"?n:void 0)),i};function uQ(e){const t=oQ(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(J1(r))o=_L(r);else throw new Error(bn(1));let l;typeof n=="function"?l=n(t):l=t();let u=_m;i&&(u=aQ({trace:!1,...typeof i=="object"&&i}));const c=UY(...l),d=lQ(c);let p=typeof s=="function"?s(d):d();const m=u(...p);return wL(o,a,m)}function VL(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(bn(28));if(o in t)throw new Error(bn(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function cQ(e){return typeof e=="function"}function dQ(e,t){let[r,n,i]=VL(t),a;if(cQ(e))a=()=>FA(e());else{const o=FA(e);a=()=>o}function s(o=a(),l){let u=[r[l.type],...n.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,d)=>{if(d)if(pa(c)){const m=d(c,l);return m===void 0?c:m}else{if(ai(c))return jL(c,p=>d(p,l));{const p=d(c,l);if(p===void 0){if(c===null)return c;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return c},o)}return s.getInitialState=a,s}var fQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",hQ=(e=21)=>{let t="",r=e;for(;r--;)t+=fQ[Math.random()*64|0];return t},pQ=Symbol.for("rtk-slice-createasyncthunk");function mQ(e,t){return`${e}/${t}`}function gQ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[pQ];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(bn(11));const o=(typeof i.reducers=="function"?i.reducers(yQ()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(A,N){const j=typeof A=="string"?A:A.type;if(!j)throw new Error(bn(12));if(j in u.sliceCaseReducersByType)throw new Error(bn(13));return u.sliceCaseReducersByType[j]=N,c},addMatcher(A,N){return u.sliceMatchers.push({matcher:A,reducer:N}),c},exposeAction(A,N){return u.actionCreators[A]=N,c},exposeCaseReducer(A,N){return u.sliceCaseReducersByName[A]=N,c}};l.forEach(A=>{const N=o[A],j={reducerName:A,type:mQ(a,A),createNotation:typeof i.reducers=="function"};bQ(N)?_Q(j,N,c,t):xQ(j,N,c)});function d(){const[A={},N=[],j=void 0]=typeof i.extraReducers=="function"?VL(i.extraReducers):[i.extraReducers],k={...A,...u.sliceCaseReducersByType};return dQ(i.initialState,S=>{for(let T in k)S.addCase(T,k[T]);for(let T of u.sliceMatchers)S.addMatcher(T.matcher,T.reducer);for(let T of N)S.addMatcher(T.matcher,T.reducer);j&&S.addDefaultCase(j)})}const p=A=>A,m=new Map,v=new WeakMap;let y;function x(A,N){return y||(y=d()),y(A,N)}function b(){return y||(y=d()),y.getInitialState()}function _(A,N=!1){function j(S){let T=S[A];return typeof T>"u"&&N&&(T=Oh(v,j,b)),T}function k(S=p){const T=Oh(m,N,()=>new WeakMap);return Oh(T,S,()=>{const O={};for(const[C,I]of Object.entries(i.selectors??{}))O[C]=vQ(I,S,()=>Oh(v,S,b),N);return O})}return{reducerPath:A,getSelectors:k,get selectors(){return k(j)},selectSlice:j}}const E={name:a,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,..._(s),injectInto(A,{reducerPath:N,...j}={}){const k=N??s;return A.inject({reducerPath:k,reducer:x},j),{...E,..._(k,!0)}}};return E}}function vQ(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var on=gQ();function yQ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function xQ({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!wQ(n))throw new Error(bn(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Fn(e,s):Fn(e))}function bQ(e){return e._reducerDefinitionType==="asyncThunk"}function wQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _Q({type:e,reducerName:t},r,n,i){if(!i)throw new Error(bn(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:c}=r,d=i(e,a,c);n.exposeAction(t,d),s&&n.addCase(d.fulfilled,s),o&&n.addCase(d.pending,o),l&&n.addCase(d.rejected,l),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:s||Nh,pending:o||Nh,rejected:l||Nh,settled:u||Nh})}function Nh(){}var kQ="task",$L="listener",FL="completed",ik="cancelled",EQ=`task-${ik}`,SQ=`task-${FL}`,Db=`${$L}-${ik}`,PQ=`${$L}-${FL}`,wv=class{constructor(e){I0(this,"name","TaskAbortError");I0(this,"message");this.code=e,this.message=`${kQ} ${ik} (reason: ${e})`}},ak=(e,t)=>{if(typeof e!="function")throw new TypeError(bn(32))},Tm=()=>{},zL=(e,t=Tm)=>(e.catch(t),e),UL=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),xo=e=>{if(e.aborted)throw new wv(e.reason)};function BL(e,t){let r=Tm;return new Promise((n,i)=>{const a=()=>i(new wv(e.reason));if(e.aborted){a();return}r=UL(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Tm})}var TQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof wv?"cancelled":"rejected",error:r}}finally{t==null||t()}},Am=e=>t=>zL(BL(e,t).then(r=>(xo(e),r))),WL=e=>{const t=Am(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Hl}=Object,UA={},_v="listenerMiddleware",AQ=(e,t)=>{const r=n=>UL(e,()=>n.abort(e.reason));return(n,i)=>{ak(n);const a=new AbortController;r(a);const s=TQ(async()=>{xo(e),xo(a.signal);const o=await n({pause:Am(a.signal),delay:WL(a.signal),signal:a.signal});return xo(a.signal),o},()=>a.abort(SQ));return i!=null&&i.autoJoin&&t.push(s.catch(Tm)),{result:Am(e)(s),cancel(){a.abort(EQ)}}}},IQ=(e,t)=>{const r=async(n,i)=>{xo(t);let a=()=>{};const o=[new Promise((l,u)=>{let c=e({predicate:n,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});a=()=>{c(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await BL(t,Promise.race(o));return xo(t),l}finally{a()}};return(n,i)=>zL(r(n,i))},KL=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Fn(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(bn(21));return ak(a),{predicate:i,type:t,effect:a}},HL=Hl(e=>{const{type:t,predicate:r,effect:n}=KL(e);return{id:hQ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(bn(22))}}},{withTypes:()=>HL}),BA=(e,t)=>{const{type:r,effect:n,predicate:i}=KL(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},Rb=e=>{e.pending.forEach(t=>{t.abort(Db)})},CQ=(e,t)=>()=>{for(const r of t.keys())Rb(r);e.clear()},WA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},qL=Hl(Fn(`${_v}/add`),{withTypes:()=>qL}),OQ=Fn(`${_v}/removeAll`),GL=Hl(Fn(`${_v}/remove`),{withTypes:()=>GL}),NQ=(...e)=>{console.error(`${_v}/error`,...e)},yf=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},i=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:a,onError:s=NQ}=e;ak(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&Rb(m)}),l=m=>{const v=BA(t,m)??HL(m);return o(v)};Hl(l,{withTypes:()=>l});const u=m=>{const v=BA(t,m);return v&&(v.unsubscribe(),m.cancelActive&&Rb(v)),!!v};Hl(u,{withTypes:()=>u});const c=async(m,v,y,x)=>{const b=new AbortController,_=IQ(l,b.signal),E=[];try{m.pending.add(b),n(m),await Promise.resolve(m.effect(v,Hl({},y,{getOriginalState:x,condition:(A,N)=>_(A,N).then(Boolean),take:_,delay:WL(b.signal),pause:Am(b.signal),extra:a,signal:b.signal,fork:AQ(b.signal,E),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((A,N,j)=>{A!==b&&(A.abort(Db),j.delete(A))})},cancel:()=>{b.abort(Db),m.pending.delete(b)},throwIfCancelled:()=>{xo(b.signal)}})))}catch(A){A instanceof wv||WA(s,A,{raisedBy:"effect"})}finally{await Promise.all(E),b.abort(PQ),i(m),m.pending.delete(b)}},d=CQ(t,r);return{middleware:m=>v=>y=>{if(!kL(y))return v(y);if(qL.match(y))return l(y.payload);if(OQ.match(y)){d();return}if(GL.match(y))return u(y.payload);let x=m.getState();const b=()=>{if(x===UA)throw new Error(bn(23));return x};let _;try{if(_=v(y),t.size>0){const E=m.getState(),A=Array.from(t.values());for(const N of A){let j=!1;try{j=N.predicate(y,E,x)}catch(k){j=!1,WA(s,k,{raisedBy:"predicate"})}j&&c(N,y,m,b)}}}finally{x=UA}return _},startListening:l,stopListening:u,clearListeners:d}};function bn(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var jQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YL=on({name:"chartLayout",initialState:jQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:DQ,setLayout:RQ,setChartSize:MQ,setScale:LQ}=YL.actions,VQ=YL.reducer;function QL(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function He(e){return Number.isFinite(e)}function Ai(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function KA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(r),!0).forEach(function(n){$Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Q(e,t,r){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Be(e,t,r){return vt(e)||vt(t)?r:Ti(t)?Fo(e,t,r):typeof t=="function"?t(e):r}var UQ=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&ee(e[a]))return Ol(Ol({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&ee(e[s]))return Ol(Ol({},e),{},{[s]:e[s]+(i||0)})}return e},Pa=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",XL=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},JL=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:p,axisType:m}=e;if(!s)return null;var v=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,y=i==="category"&&s.bandwidth?s.bandwidth()/v:0;if(y=m==="angleAxis"&&a&&a.length>=2?lr(a[0]-a[1])*2*y:y,d||p){var x=(d||p||[]).map((b,_)=>{var E=n?n.indexOf(b):b;return{coordinate:s(E)+y,value:b,offset:y,index:_}});return x.filter(b=>!$n(b.coordinate))}return l&&u?u.map((b,_)=>({coordinate:s(b)+y,value:b,index:_,offset:y})):s.ticks&&c!=null?s.ticks(c).map((b,_)=>({coordinate:s(b)+y,value:b,offset:y,index:_})):s.domain().map((b,_)=>({coordinate:s(b)+y,value:n?n[b]:b,index:_,offset:y}))},HA=1e-4,BQ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-HA,a=Math.max(n[0],n[1])+HA,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},WQ=(e,t)=>{if(!t||t.length!==2||!ee(t[0])||!ee(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ee(e[0])||e[0]<r)&&(i[0]=r),(!ee(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},KQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var c=u[1],d=u[0],p=$n(c)?d:c;p>=0?(u[0]=a,u[1]=a+p,a=c):(u[0]=s,u[1]=s+p,s=c)}}}},HQ=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=$n(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},qQ={sign:KQ,expand:SG,none:$o,silhouette:PG,wiggle:TG,positive:HQ},GQ=(e,t,r)=>{var n,i=(n=qQ[r])!==null&&n!==void 0?n:$o,a=EG().keys(t).value((o,l)=>Number(Be(o,l,0))).order(Eb).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,c)=>{var d=Be(e[c],t[l],0);Array.isArray(d)&&d.length===2&&ee(d[0])&&ee(d[1])&&(u[0]=d[0],u[1]=d[1])})}),s};function ZL(e){return e==null?void 0:String(e)}function qA(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!vt(i[t.dataKey])){var o=UM(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Be(i,vt(s)?t.dataKey:s);return vt(l)?null:t.scale(l)}var GA=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Be(a,t.dataKey,t.scale.domain()[s]);return vt(o)?null:t.scale(o)-i/2+n},YQ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},QQ=e=>{var t=e.flat(2).filter(ee);return[Math.min(...t),Math.max(...t)]},XQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],JQ=(e,t,r)=>{if(e!=null)return XQ(Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((l,u)=>{var c=QL(u,t,r),d=QQ(c);return!He(d[0])||!He(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},YA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vu=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=pv(t,c=>c.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function XA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Ol(Ol({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Du(e,t){if(e)return String(e);if(typeof t=="string")return t}var ZQ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},eX=(e,t)=>t==="centric"?e.angle:e.radius,Ta=e=>e.layout.width,Aa=e=>e.layout.height,tX=e=>e.layout.scale,e4=e=>e.layout.margin,kv=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ev=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),t4="data-recharts-item-index",r4="data-recharts-item-id",xf=60;function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){rX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=iX(e,"string");return typeof t=="symbol"?t:t+""}function iX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aX=e=>e.brush.height;function sX(e){var t=Ev(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:xf;return r+i}return r},0)}function oX(e){var t=Ev(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:xf;return r+i}return r},0)}function lX(e){var t=kv(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function uX(e){var t=kv(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Yt=F([Ta,Aa,e4,aX,sX,oX,lX,uX,xL,RY],(e,t,r,n,i,a,s,o,l,u)=>{var c={left:(r.left||0)+i,right:(r.right||0)+a},d={top:(r.top||0)+s,bottom:(r.bottom||0)+o},p=jh(jh({},d),c),m=p.bottom;p.bottom+=n,p=UQ(p,l,u);var v=e-p.left-p.right,y=t-p.top-p.bottom;return jh(jh({brushBottom:m},p),{},{width:Math.max(v,0),height:Math.max(y,0)})}),cX=F(Yt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sk=F(Ta,Aa,(e,t)=>({x:0,y:0,width:e,height:t})),dX=g.createContext(null),Mr=()=>g.useContext(dX)!=null,Sv=e=>e.brush,Pv=F([Sv,Yt,e4],(e,t,r)=>({height:e.height,x:ee(e.x)?e.x:t.left,y:ee(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ee(e.width)?e.width:t.width})),n4={},i4={},a4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),c=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},d=()=>{u&&c(),y()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},n)},v=()=>{p!==null&&(clearTimeout(p),p=null)},y=()=>{v(),s=void 0,o=null},x=()=>{c()},b=function(..._){if(i!=null&&i.aborted)return;s=this,o=_;const E=p==null;m(),l&&E&&c()};return b.schedule=m,b.cancel=y,b.flush=x,i==null||i.addEventListener("abort",y,{once:!0}),b}e.debounce=t})(a4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a4;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let c,d=null;const p=t.debounce(function(...y){c=n.apply(this,y),d=null},i,{edges:u}),m=function(...y){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(c=n.apply(this,y),d=Date.now(),p.cancel(),p.schedule(),c):(p.apply(this,y),c)},v=()=>(p.flush(),c);return m.cancel=p.cancel,m.flush=v,m}e.debounce=r})(i4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(n4);var fX=n4.throttle;const hX=ba(fX);var Im=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},s4=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:s}=r,o=ha(n)?e:Number(n),l=ha(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},pX={width:0,height:0,overflow:"visible"},mX={width:0,overflowX:"visible"},gX={height:0,overflowY:"visible"},vX={},yX=e=>{var{width:t,height:r}=e,n=ha(t),i=ha(r);return n&&i?pX:n?mX:i?gX:vX};function xX(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=n&&n>0?void 0:"100%":a===void 0&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mb.apply(null,arguments)}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(r),!0).forEach(function(n){bX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bX(e,t,r){return(t=wX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o4=g.createContext({width:-1,height:-1});function kX(e){return Ai(e.width)&&Ai(e.height)}function l4(e){var{children:t,width:r,height:n}=e,i=g.useMemo(()=>({width:r,height:n}),[r,n]);return kX(i)?g.createElement(o4.Provider,{value:i},t):null}var ok=()=>g.useContext(o4),EX=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:c=0,id:d,className:p,onResize:m,style:v={}}=e,y=g.useRef(null),x=g.useRef();x.current=m,g.useImperativeHandle(t,()=>y.current);var[b,_]=g.useState({containerWidth:n.width,containerHeight:n.height}),E=g.useCallback((S,T)=>{_(O=>{var C=Math.round(S),I=Math.round(T);return O.containerWidth===C&&O.containerHeight===I?O:{containerWidth:C,containerHeight:I}})},[]);g.useEffect(()=>{if(y.current==null||typeof ResizeObserver>"u")return pf;var S=I=>{var D,{width:B,height:X}=I[0].contentRect;E(B,X),(D=x.current)===null||D===void 0||D.call(x,B,X)};c>0&&(S=hX(S,c,{trailing:!0,leading:!1}));var T=new ResizeObserver(S),{width:O,height:C}=y.current.getBoundingClientRect();return E(O,C),T.observe(y.current),()=>{T.disconnect()}},[E,c]);var{containerWidth:A,containerHeight:N}=b;Im(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:k}=s4(A,N,{width:i,height:a,aspect:r,maxHeight:l});return Im(j!=null&&j>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,k,i,a,s,o,r),g.createElement("div",{id:d?"".concat(d):void 0,className:Pe("recharts-responsive-container",p),style:eI(eI({},v),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:y},g.createElement("div",{style:yX({width:i,height:a})},g.createElement(l4,{width:j,height:k},u)))}),ql=g.forwardRef((e,t)=>{var r=ok();if(Ai(r.width)&&Ai(r.height))return e.children;var{width:n,height:i}=xX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=s4(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return ee(a)&&ee(s)?g.createElement(l4,{width:a,height:s},e.children):g.createElement(EX,Mb({},e,{width:n,height:i,ref:t}))});function u4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Tv=()=>{var e,t=Mr(),r=se(cX),n=se(Pv),i=(e=se(Sv))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},SX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},c4=()=>{var e;return(e=se(Yt))!==null&&e!==void 0?e:SX},lk=()=>se(Ta),uk=()=>se(Aa),PX=()=>se(e=>e.layout.margin),Ae=e=>e.layout.layoutType,Jo=()=>se(Ae),TX=()=>{var e=Jo();if(e==="horizontal"||e==="vertical")return e},AX=()=>{var e=Jo();return e!==void 0},Av=e=>{var t=Qe(),r=Mr(),{width:n,height:i}=e,a=ok(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),g.useEffect(()=>{!r&&Ai(s)&&Ai(o)&&t(MQ({width:s,height:o}))},[t,r,s,o]),null},d4=Symbol.for("immer-nothing"),tI=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Xn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Dd=Object.getPrototypeOf;function yu(e){return!!e&&!!e[_n]}function Uo(e){var t;return e?f4(e)||Array.isArray(e)||!!e[tI]||!!((t=e.constructor)!=null&&t[tI])||bf(e)||Cv(e):!1}var IX=Object.prototype.constructor.toString(),rI=new WeakMap;function f4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=rI.get(r);return n===void 0&&(n=Function.toString.call(r),rI.set(r,n)),n===IX}function Cm(e,t,r=!0){Iv(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((n,i)=>t(i,n,e))}function Iv(e){const t=e[_n];return t?t.type_:Array.isArray(e)?1:bf(e)?2:Cv(e)?3:0}function Lb(e,t){return Iv(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function h4(e,t,r){const n=Iv(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function CX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bf(e){return e instanceof Map}function Cv(e){return e instanceof Set}function io(e){return e.copy_||e.base_}function Vb(e,t){if(bf(e))return new Map(e);if(Cv(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=f4(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[_n];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Dd(e),n)}else{const n=Dd(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function ck(e,t=!1){return Ov(e)||yu(e)||!Uo(e)||(Iv(e)>1&&Object.defineProperties(e,{set:Dh,add:Dh,clear:Dh,delete:Dh}),Object.freeze(e),t&&Object.values(e).forEach(r=>ck(r,!0))),e}function OX(){Xn(2)}var Dh={value:OX};function Ov(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var NX={};function Bo(e){const t=NX[e];return t||Xn(0,e),t}var Rd;function p4(){return Rd}function jX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function nI(e,t){t&&(Bo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $b(e){Fb(e),e.drafts_.forEach(DX),e.drafts_=null}function Fb(e){e===Rd&&(Rd=e.parent_)}function iI(e){return Rd=jX(Rd,e)}function DX(e){const t=e[_n];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function aI(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[_n].modified_&&($b(t),Xn(4)),Uo(e)&&(e=Om(t,e),t.parent_||Nm(t,e)),t.patches_&&Bo("Patches").generateReplacementPatches_(r[_n].base_,e,t.patches_,t.inversePatches_)):e=Om(t,r,[]),$b(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==d4?e:void 0}function Om(e,t,r){if(Ov(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[_n];if(!i)return Cm(t,(a,s)=>sI(e,i,t,a,s,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return Nm(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Cm(s,(l,u)=>sI(e,i,a,l,u,r,o),n),Nm(e,a,!1),r&&e.patches_&&Bo("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function sI(e,t,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Ov(i);if(!(o&&!s)){if(yu(i)){const l=a&&t&&t.type_!==3&&!Lb(t.assigned_,n)?a.concat(n):void 0,u=Om(e,i,l);if(h4(r,n,u),yu(u))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Uo(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===i&&o)return;Om(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(bf(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Nm(e,i)}}}function Nm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ck(t,r)}function RX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:p4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=dk;r&&(i=[n],a=Md);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var dk={get(e,t){if(t===_n)return e;const r=io(e);if(!Lb(r,t))return MX(e,r,t);const n=r[t];return e.finalized_||!Uo(n)?n:n===wy(e.base_,t)?(_y(e),e.copy_[t]=Ub(n,e)):n},has(e,t){return t in io(e)},ownKeys(e){return Reflect.ownKeys(io(e))},set(e,t,r){const n=m4(io(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=wy(io(e),t),a=i==null?void 0:i[_n];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(CX(r,i)&&(r!==void 0||Lb(e.base_,t)))return!0;_y(e),zb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return wy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,_y(e),zb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=io(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Xn(11)},getPrototypeOf(e){return Dd(e.base_)},setPrototypeOf(){Xn(12)}},Md={};Cm(dk,(e,t)=>{Md[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Md.deleteProperty=function(e,t){return Md.set.call(this,e,t,void 0)};Md.set=function(e,t,r){return dk.set.call(this,e[0],t,r,e[0])};function wy(e,t){const r=e[_n];return(r?io(r):e)[t]}function MX(e,t,r){var i;const n=m4(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function m4(e,t){if(!(t in e))return;let r=Dd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Dd(r)}}function zb(e){e.modified_||(e.modified_=!0,e.parent_&&zb(e.parent_))}function _y(e){e.copy_||(e.copy_=Vb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var LX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...u){return s.produce(l,c=>r.call(this,c,...u))}}typeof r!="function"&&Xn(6),n!==void 0&&typeof n!="function"&&Xn(7);let i;if(Uo(t)){const a=iI(this),s=Ub(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?$b(a):Fb(a)}return nI(a,n),aI(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===d4&&(i=void 0),this.autoFreeze_&&ck(i,!0),n){const a=[],s=[];Bo("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else Xn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Uo(e)||Xn(8),yu(e)&&(e=VX(e));const t=iI(this),r=Ub(e,void 0);return r[_n].isManual_=!0,Fb(t),r}finishDraft(e,t){const r=e&&e[_n];(!r||!r.isManual_)&&Xn(9);const{scope_:n}=r;return nI(n,t),aI(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Bo("Patches").applyPatches_;return yu(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Ub(e,t){const r=bf(e)?Bo("MapSet").proxyMap_(e,t):Cv(e)?Bo("MapSet").proxySet_(e,t):RX(e,t);return(t?t.scope_:p4()).drafts_.push(r),r}function VX(e){return yu(e)||Xn(10,e),g4(e)}function g4(e){if(!Uo(e)||Ov(e))return e;const t=e[_n];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Vb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Vb(e,!0);return Cm(r,(i,a)=>{h4(r,i,g4(a))},n),t&&(t.finalized_=!1),r}var $X=new LX;$X.produce;var FX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},v4=on({name:"legend",initialState:FX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:st()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ti(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:st()},removeLegendPayload:{reducer(e,t){var r=ti(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:st()}}}),{setLegendSize:oI,setLegendSettings:zX,addLegendPayload:y4,replaceLegendPayload:x4,removeLegendPayload:b4}=v4.actions,UX=v4.reducer,BX=["contextPayload"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bb.apply(null,arguments)}function lI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(r),!0).forEach(function(n){WX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WX(e,t,r){return(t=KX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KX(e){var t=HX(e,"string");return typeof t=="symbol"?t:t+""}function HX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qX(e,t){if(e==null)return{};var r,n,i=GX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YX(e){return e.value}function QX(e){var{contextPayload:t}=e,r=qX(e,BX),n=lL(t,e.payloadUniqBy,YX),i=xu(xu({},r),{},{payload:n});return g.isValidElement(e.content)?g.cloneElement(e.content,i):typeof e.content=="function"?g.createElement(e.content,i):g.createElement(eY,i)}function XX(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-a.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?c={top:((i||0)-a.height)/2}:c=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),xu(xu({},u),c)}function JX(e){var t=Qe();return g.useEffect(()=>{t(zX(e))},[t,e]),null}function ZX(e){var t=Qe();return g.useEffect(()=>(t(oI(e)),()=>{t(oI({width:0,height:0}))}),[t,e]),null}function eJ(e,t,r,n){return e==="vertical"&&ee(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var tJ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function fk(e){var t=Ut(e,tJ),r=VY(),n=Gq(),i=PX(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,c]=bL([r]),d=lk(),p=uk();if(d==null||p==null)return null;var m=d-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),v=eJ(t.layout,s,a,m),y=l?o:xu(xu({position:"absolute",width:(v==null?void 0:v.width)||a||"auto",height:(v==null?void 0:v.height)||s||"auto"},XX(o,t,i,d,p,u)),o),x=l??n;if(x==null||r==null)return null;var b=g.createElement("div",{className:"recharts-legend-wrapper",style:y,ref:c},g.createElement(JX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(ZX,{width:u.width,height:u.height}),g.createElement(QX,Bb({},t,v,{margin:i,chartWidth:d,chartHeight:p,contextPayload:r})));return Ag.createPortal(b,x)}fk.displayName="Legend";function Wb(){return Wb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wb.apply(null,arguments)}function uI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ky(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(r),!0).forEach(function(n){rJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rJ(e,t,r){return(t=nJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nJ(e){var t=iJ(e,"string");return typeof t=="symbol"?t:t+""}function iJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aJ(e){return Array.isArray(e)&&Ti(e[0])&&Ti(e[1])?e.join(" ~ "):e}var sJ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:p=!1}=e,m=()=>{if(a&&a.length){var N={padding:0,margin:0},j=(o?pv(a,o):a).map((k,S)=>{if(k.type==="none")return null;var T=k.formatter||s||aJ,{value:O,name:C}=k,I=O,D=C;if(T){var B=T(O,C,k,S,a);if(Array.isArray(B))[I,D]=B;else if(B!=null)I=B;else return null}var X=ky({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:X},Ti(D)?g.createElement("span",{className:"recharts-tooltip-item-name"},D):null,Ti(D)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},I),g.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:N},j)}return null},v=ky({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=ky({margin:0},i),x=!vt(c),b=x?c:"",_=Pe("recharts-default-tooltip",l),E=Pe("recharts-tooltip-label",u);x&&d&&a!==void 0&&a!==null&&(b=d(c,a));var A=p?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Wb({className:_,style:v},A),g.createElement("p",{className:E,style:y},g.isValidElement(b)?b:"".concat(b)),m())},mc="recharts-tooltip-wrapper",oJ={visibility:"hidden"};function lJ(e){var{coordinate:t,translateX:r,translateY:n}=e;return Pe(mc,{["".concat(mc,"-right")]:ee(r)&&t&&ee(t.x)&&r>=t.x,["".concat(mc,"-left")]:ee(r)&&t&&ee(t.x)&&r<t.x,["".concat(mc,"-bottom")]:ee(n)&&t&&ee(t.y)&&n>=t.y,["".concat(mc,"-top")]:ee(n)&&t&&ee(t.y)&&n<t.y})}function cI(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&ee(a[n]))return a[n];var c=r[n]-o-(i>0?i:0),d=r[n]+i;if(t[n])return s[n]?c:d;var p=l[n];if(p==null)return 0;if(s[n]){var m=c,v=p;return m<v?Math.max(d,p):Math.max(c,p)}if(u==null)return 0;var y=d+o,x=p+u;return y>x?Math.max(c,p):Math.max(d,p)}function uJ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function cJ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,c,d;return s.height>0&&s.width>0&&r?(c=cI({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),d=cI({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=uJ({translateX:c,translateY:d,useTranslate3d:o})):u=oJ,{cssProperties:u,cssClasses:lJ({translateX:c,translateY:d,coordinate:r})}}function dI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(r),!0).forEach(function(n){Kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kb(e,t,r){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hJ extends g.PureComponent{constructor(){super(...arguments),Kb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Kb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:c,reverseDirection:d,useTranslate3d:p,viewBox:m,wrapperStyle:v,lastBoundingBox:y,innerRef:x,hasPortalFromProps:b}=this.props,{cssClasses:_,cssProperties:E}=cJ({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:c,reverseDirection:d,tooltipBox:{height:y.height,width:y.width},useTranslate3d:p,viewBox:m}),A=b?{}:Rh(Rh({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=Rh(Rh({},A),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},v);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:N,ref:x},a)}}var w4=()=>{var e;return(e=se(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Hb(){return Hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hb.apply(null,arguments)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){pJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pJ(e,t,r){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pI={curveBasisClosed:hG,curveBasisOpen:pG,curveBasis:fG,curveBumpX:Jq,curveBumpY:Zq,curveLinearClosed:mG,curveLinear:ov,curveMonotoneX:gG,curveMonotoneY:vG,curveNatural:yG,curveStep:xG,curveStepAfter:wG,curveStepBefore:bG},jm=e=>He(e.x)&&He(e.y),mI=e=>e.base!=null&&jm(e.base)&&jm(e),gc=e=>e.x,vc=e=>e.y,vJ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(hf(e));return(r==="curveMonotone"||r==="curveBump")&&t?pI["".concat(r).concat(t==="vertical"?"Y":"X")]:pI[r]||ov},yJ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=vJ(t,i),o=a?r.filter(jm):r,l;if(Array.isArray(n)){var u=r.map((m,v)=>hI(hI({},m),{},{base:n[v]}));i==="vertical"?l=Th().y(vc).x1(gc).x0(m=>m.base.x):l=Th().x(gc).y1(vc).y0(m=>m.base.y);var c=l.defined(mI).curve(s),d=a?u.filter(mI):u;return c(d)}i==="vertical"&&ee(n)?l=Th().y(vc).x1(gc).x0(n):ee(n)?l=Th().x(gc).y1(vc).y0(n):l=AM().x(gc).y(vc);var p=l.defined(jm).curve(s);return p(o)},Gl=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Jo();if((!r||!r.length)&&!n)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=r&&r.length?yJ(s):n;return g.createElement("path",Hb({},sn(e),$1(e),{className:Pe("recharts-curve",t),d:o===null?void 0:o,ref:i}))},xJ=["x","y","top","left","width","height","className"];function qb(){return qb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qb.apply(null,arguments)}function gI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return(t=_J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EJ(e,t){if(e==null)return{};var r,n,i=SJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PJ=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),TJ=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=EJ(e,xJ),u=bJ({x:t,y:r,top:n,left:i,width:a,height:s},l);return!ee(t)||!ee(r)||!ee(a)||!ee(s)||!ee(n)||!ee(i)?null:g.createElement("path",qb({},Wr(u),{className:Pe("recharts-cross",o),d:PJ(t,r,a,s,n,i)}))};function AJ(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function vI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(r),!0).forEach(function(n){IJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IJ(e,t,r){return(t=CJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CJ(e){var t=OJ(e,"string");return typeof t=="symbol"?t:t+""}function OJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),_4=(e,t,r)=>e.map(n=>"".concat(NJ(n)," ").concat(t,"ms ").concat(r)).join(","),jJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Ld=(e,t)=>Object.keys(t).reduce((r,n)=>yI(yI({},r),{},{[n]:e(n,t[n])}),{});function xI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xI(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=MJ(e,"string");return typeof t=="symbol"?t:t+""}function MJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dm=(e,t,r)=>e+(t-e)*r,Gb=e=>{var{from:t,to:r}=e;return t!==r},k4=(e,t,r)=>{var n=Ld((i,a)=>{if(Gb(a)){var[s,o]=e(a.from,a.to,a.velocity);return Kt(Kt({},a),{},{from:s,velocity:o})}return a},t);return r<1?Ld((i,a)=>Gb(a)&&n[i]!=null?Kt(Kt({},a),{},{velocity:Dm(a.velocity,n[i].velocity,r),from:Dm(a.from,n[i].from,r)}):a,t):k4(e,n,r-1)};function LJ(e,t,r,n,i,a){var s,o=n.reduce((p,m)=>Kt(Kt({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Ld((p,m)=>m.from,o),u=()=>!Object.values(o).filter(Gb).length,c=null,d=p=>{s||(s=p);var m=p-s,v=m/r.dt;o=k4(r,o,v),i(Kt(Kt(Kt({},e),t),l())),s=p,u()||(c=a.setTimeout(d))};return()=>(c=a.setTimeout(d),()=>{var p;(p=c)===null||p===void 0||p()})}function VJ(e,t,r,n,i,a,s){var o=null,l=i.reduce((d,p)=>{var m=e[p],v=t[p];return m==null||v==null?d:Kt(Kt({},d),{},{[p]:[m,v]})},{}),u,c=d=>{u||(u=d);var p=(d-u)/n,m=Ld((y,x)=>Dm(...x,r(p)),l);if(a(Kt(Kt(Kt({},e),t),m)),p<1)o=s.setTimeout(c);else{var v=Ld((y,x)=>Dm(...x,r(1)),l);a(Kt(Kt(Kt({},e),t),v))}};return()=>(o=s.setTimeout(c),()=>{var d;(d=o)===null||d===void 0||d()})}const $J=(e,t,r,n,i,a)=>{var s=jJ(e,t);return r==null?()=>(i(Kt(Kt({},e),t)),()=>{}):r.isStepper===!0?LJ(e,t,r,s,i,a):VJ(e,t,r,n,s,i,a)};var Rm=1e-4,E4=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],S4=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bI=(e,t)=>r=>{var n=E4(e,t);return S4(n,r)},FJ=(e,t)=>r=>{var n=E4(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return S4(i,r)},zJ=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},UJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=zJ(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},BJ=(e,t,r,n)=>{var i=bI(e,r),a=bI(t,n),s=FJ(e,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var c=u>1?1:u,d=c,p=0;p<8;++p){var m=i(d)-c,v=s(d);if(Math.abs(m-c)<Rm||v<Rm)return a(d);d=o(d-m/v)}return a(d)};return l.isStepper=!1,l},wI=function(){return BJ(...UJ(...arguments))},WJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*r,c=l*n,d=l+(u-c)*i/1e3,p=l*i/1e3+s;return Math.abs(p-o)<Rm&&Math.abs(d)<Rm?[o,0]:[p,d]};return a.isStepper=!0,a.dt=i,a},KJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return wI(e);case"spring":return WJ();default:if(e.split("(")[0]==="cubic-bezier")return wI(e)}return typeof e=="function"?e:null};function HJ(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class qJ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function GJ(){return HJ(new qJ)}var YJ=g.createContext(GJ);function QJ(e,t){var r=g.useContext(YJ);return g.useMemo(()=>t??r(e),[e,t,r])}var XJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wf={isSsr:XJ()},JJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_I={t:0},Ey={t:1};function _f(e){var t=Ut(e,JJ),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,c=r==="auto"?!wf.isSsr:r,d=QJ(t.animationId,t.animationManager),[p,m]=g.useState(c?_I:Ey),v=g.useRef(null);return g.useEffect(()=>{c||m(Ey)},[c]),g.useEffect(()=>{if(!c||!n)return pf;var y=$J(_I,Ey,KJ(a),i,m,d.getTimeoutController()),x=()=>{v.current=y()};return d.start([l,s,x,i,o]),()=>{d.stop(),v.current&&v.current(),o()}},[c,n,i,a,s,l,o,d]),u(p.t)}function kf(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(Cd(t)),n=g.useRef(e);return n.current!==e&&(r.current=Cd(t),n.current=e),r.current}var ZJ=["radius"],eZ=["radius"],kI,EI,SI,PI,TI,AI,II,CI,OI,NI;function jI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(r),!0).forEach(function(n){tZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tZ(e,t,r){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rZ(e){var t=nZ(e,"string");return typeof t=="symbol"?t:t+""}function nZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(null,arguments)}function RI(e,t){if(e==null)return{};var r,n,i=iZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MI=(e,t,r,n,i)=>{var a=as(r),s=as(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,c=s>=0&&a>=0||s<0&&a<0?1:0,d;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],m=0,v=4;m<v;m++)p[m]=i[m]>o?o:i[m];d=Et(kI||(kI=fi(["M",",",""])),e,t+l*p[0]),p[0]>0&&(d+=Et(EI||(EI=fi(["A ",",",",0,0,",",",",",""])),p[0],p[0],c,e+u*p[0],t)),d+=Et(SI||(SI=fi(["L ",",",""])),e+r-u*p[1],t),p[1]>0&&(d+=Et(PI||(PI=fi(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],c,e+r,t+l*p[1])),d+=Et(TI||(TI=fi(["L ",",",""])),e+r,t+n-l*p[2]),p[2]>0&&(d+=Et(AI||(AI=fi(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],c,e+r-u*p[2],t+n)),d+=Et(II||(II=fi(["L ",",",""])),e+u*p[3],t+n),p[3]>0&&(d+=Et(CI||(CI=fi(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],c,e,t+n-l*p[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var y=Math.min(o,i);d=Et(OI||(OI=fi(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*y,y,y,c,e+u*y,t,e+r-u*y,t,y,y,c,e+r,t+l*y,e+r,t+n-l*y,y,y,c,e+r-u*y,t+n,e+u*y,t+n,y,y,c,e,t+n-l*y)}else d=Et(NI||(NI=fi(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return d},LI={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},P4=e=>{var t=Ut(e,LI),r=g.useRef(null),[n,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&i(H)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:p,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:y}=t,x=g.useRef(o),b=g.useRef(l),_=g.useRef(a),E=g.useRef(s),A=g.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),N=kf(A,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var j=Pe("recharts-rectangle",c);if(!y){var k=Wr(t),{radius:S}=k,T=RI(k,ZJ);return g.createElement("path",Mm({},T,{x:as(a),y:as(s),width:as(o),height:as(l),radius:typeof u=="number"?u:void 0,className:j,d:MI(a,s,o,l,u)}))}var O=x.current,C=b.current,I=_.current,D=E.current,B="0px ".concat(n===-1?1:n,"px"),X="".concat(n,"px 0px"),L=_4(["strokeDasharray"],p,typeof d=="string"?d:LI.animationEasing);return g.createElement(_f,{animationId:N,key:N,canBegin:n>0,duration:p,easing:d,isActive:y,begin:m},H=>{var M=tt(O,o,H),V=tt(C,l,H),Y=tt(I,a,H),Z=tt(D,s,H);r.current&&(x.current=M,b.current=V,_.current=Y,E.current=Z);var re;v?H>0?re={transition:L,strokeDasharray:X}:re={strokeDasharray:B}:re={strokeDasharray:X};var ge=Wr(t),{radius:ke}=ge,dt=RI(ge,eZ);return g.createElement("path",Mm({},dt,{radius:typeof u=="number"?u:void 0,className:j,d:MI(Y,Z,M,V,u),ref:r,style:DI(DI({},re),t.style)}))})};function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=oZ(e,"string");return typeof t=="symbol"?t:t+""}function oZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lm=Math.PI/180,lZ=e=>e*180/Math.PI,$t=(e,t,r,n)=>({x:e+Math.cos(-Lm*n)*r,y:t+Math.sin(-Lm*n)*r}),T4=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uZ=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},cZ=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=uZ({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:lZ(l),angleInRadian:l}},dZ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},fZ=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},hZ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=cZ({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=dZ(t),c=a,d;if(l<=u){for(;c>u;)c-=360;for(;c<l;)c+=360;d=c>=l&&c<=u}else{for(;c>l;)c-=360;for(;c<u;)c+=360;d=c>=u&&c<=l}return d?$I($I({},t),{},{radius:i,angle:fZ(c,t)}):null};function A4(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=$t(t,r,n,i),o=$t(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}var FI,zI,UI,BI,WI,KI,HI;function Yb(){return Yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yb.apply(null,arguments)}function co(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pZ=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Mh=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+n,c=Math.asin(o/u)/Lm,d=l?i:i+a*c,p=$t(t,r,u,d),m=$t(t,r,n,d),v=l?i-a*c:i,y=$t(t,r,u*Math.cos(c*Lm),v);return{center:p,circleTangency:m,lineTangency:y,theta:c}},I4=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=pZ(a,s),l=a+o,u=$t(t,r,i,a),c=$t(t,r,i,l),d=Et(FI||(FI=co(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),c.x,c.y);if(n>0){var p=$t(t,r,n,a),m=$t(t,r,n,l);d+=Et(zI||(zI=co(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(o)>180),+(a<=l),p.x,p.y)}else d+=Et(UI||(UI=co(["L ",","," Z"])),t,r);return d},mZ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,c=lr(u-l),{circleTangency:d,lineTangency:p,theta:m}=Mh({cx:t,cy:r,radius:i,angle:l,sign:c,cornerRadius:a,cornerIsExternal:o}),{circleTangency:v,lineTangency:y,theta:x}=Mh({cx:t,cy:r,radius:i,angle:u,sign:-c,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(l-u):Math.abs(l-u)-m-x;if(b<0)return s?Et(BI||(BI=co(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,a,a,a*2,a,a,-a*2):I4({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var _=Et(WI||(WI=co(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,a,a,+(c<0),d.x,d.y,i,i,+(b>180),+(c<0),v.x,v.y,a,a,+(c<0),y.x,y.y);if(n>0){var{circleTangency:E,lineTangency:A,theta:N}=Mh({cx:t,cy:r,radius:n,angle:l,sign:c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:j,lineTangency:k,theta:S}=Mh({cx:t,cy:r,radius:n,angle:u,sign:-c,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),T=o?Math.abs(l-u):Math.abs(l-u)-N-S;if(T<0&&a===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+=Et(KI||(KI=co(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,a,a,+(c<0),j.x,j.y,n,n,+(T>180),+(c>0),E.x,E.y,a,a,+(c<0),A.x,A.y)}else _+=Et(HI||(HI=co(["L",",","Z"])),t,r);return _},gZ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},C4=e=>{var t=Ut(e,gZ),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(a<i||u===c)return null;var p=Pe("recharts-sector",d),m=a-i,v=jr(s,m,0,!0),y;return v>0&&Math.abs(u-c)<360?y=mZ({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(v,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:c}):y=I4({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c}),g.createElement("path",Yb({},Wr(t),{className:p,d:y}))};function vZ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(WM(t)){if(e==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=$t(n,i,a,o),u=$t(n,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return A4(t)}}var O4={},N4={},j4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q1;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(j4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j4;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(N4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X1,r=N4;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=n})(O4);var yZ=O4.range;const D4=ba(yZ);function bs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xZ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hk(e){let t,r,n;e.length!==2?(t=bs,r=(o,l)=>bs(e(o),l),n=(o,l)=>e(o)-l):(t=e===bs||e===xZ?e:bZ,r=e,n=e);function i(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<0?u=d+1:c=d}while(u<c)}return u}function a(o,l,u=0,c=o.length){if(u<c){if(t(l,l)!==0)return c;do{const d=u+c>>>1;r(o[d],l)<=0?u=d+1:c=d}while(u<c)}return u}function s(o,l,u=0,c=o.length){const d=i(o,l,u,c-1);return d>u&&n(o[d-1],l)>-n(o[d],l)?d-1:d}return{left:i,center:s,right:a}}function bZ(){return 0}function R4(e){return e===null?NaN:+e}function*wZ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const _Z=hk(bs),Ef=_Z.right;hk(R4).center;class qI extends Map{constructor(t,r=SZ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(GI(this,t))}has(t){return super.has(GI(this,t))}set(t,r){return super.set(kZ(this,t),r)}delete(t){return super.delete(EZ(this,t))}}function GI({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function EZ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function SZ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function PZ(e=bs){if(e===bs)return M4;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function M4(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const TZ=Math.sqrt(50),AZ=Math.sqrt(10),IZ=Math.sqrt(2);function Vm(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=TZ?10:a>=AZ?5:a>=IZ?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=r&&r<2?Vm(e,t,r*2):[o,l,u]}function Qb(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Vm(t,e,r):Vm(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Xb(e,t,r){return t=+t,e=+e,r=+r,Vm(e,t,r)[2]}function Jb(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Xb(t,e,r):Xb(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function YI(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function QI(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function L4(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?M4:PZ(i);n>r;){if(n-r>600){const l=n-r+1,u=t-r+1,c=Math.log(l),d=.5*Math.exp(2*c/3),p=.5*Math.sqrt(c*d*(l-d)/l)*(u-l/2<0?-1:1),m=Math.max(r,Math.floor(t-u*d/l+p)),v=Math.min(n,Math.floor(t+(l-u)*d/l+p));L4(e,t,m,v,i)}const a=e[t];let s=r,o=n;for(yc(e,r,t),i(e[n],a)>0&&yc(e,r,n);s<o;){for(yc(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?yc(e,r,o):(++o,yc(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function yc(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function CZ(e,t,r){if(e=Float64Array.from(wZ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return QI(e);if(t>=1)return YI(e);var n,i=(n-1)*t,a=Math.floor(i),s=YI(L4(e,a).subarray(0,a+1)),o=QI(e.subarray(a+1));return s+(o-s)*(i-a)}}function OZ(e,t,r=R4){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function NZ(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Un(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ia(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zb=Symbol("implicit");function pk(){var e=new qI,t=[],r=[],n=Zb;function i(a){let s=e.get(a);if(s===void 0){if(n!==Zb)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new qI;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pk(t,r).unknown(n)},Un.apply(i,arguments),i}function mk(){var e=pk().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,u=0,c=.5;delete e.unknown;function d(){var p=t().length,m=i<n,v=m?i:n,y=m?n:i;a=(y-v)/Math.max(1,p-l+u*2),o&&(a=Math.floor(a)),v+=(y-v-a*(p-l))*c,s=a*(1-l),o&&(v=Math.round(v),s=Math.round(s));var x=NZ(p).map(function(b){return v+a*b});return r(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),d()):t()},e.range=function(p){return arguments.length?([n,i]=p,n=+n,i=+i,d()):[n,i]},e.rangeRound=function(p){return[n,i]=p,n=+n,i=+i,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(p){return arguments.length?(o=!!p,d()):o},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),d()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,d()):u},e.align=function(p){return arguments.length?(c=Math.max(0,Math.min(1,p)),d()):c},e.copy=function(){return mk(t(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(c)},Un.apply(d(),arguments)}function V4(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return V4(t())},e}function jZ(){return V4(mk.apply(null,arguments).paddingInner(1))}function gk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $4(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Sf(){}var Vd=.7,$m=1/Vd,Yl="\\s*([+-]?\\d+)\\s*",$d="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Si="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",DZ=/^#([0-9a-f]{3,8})$/,RZ=new RegExp(`^rgb\\(${Yl},${Yl},${Yl}\\)$`),MZ=new RegExp(`^rgb\\(${Si},${Si},${Si}\\)$`),LZ=new RegExp(`^rgba\\(${Yl},${Yl},${Yl},${$d}\\)$`),VZ=new RegExp(`^rgba\\(${Si},${Si},${Si},${$d}\\)$`),$Z=new RegExp(`^hsl\\(${$d},${Si},${Si}\\)$`),FZ=new RegExp(`^hsla\\(${$d},${Si},${Si},${$d}\\)$`),XI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gk(Sf,Fd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JI,formatHex:JI,formatHex8:zZ,formatHsl:UZ,formatRgb:ZI,toString:ZI});function JI(){return this.rgb().formatHex()}function zZ(){return this.rgb().formatHex8()}function UZ(){return F4(this).formatHsl()}function ZI(){return this.rgb().formatRgb()}function Fd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=DZ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?eC(t):r===3?new Zr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Lh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Lh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RZ.exec(e))?new Zr(t[1],t[2],t[3],1):(t=MZ.exec(e))?new Zr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=LZ.exec(e))?Lh(t[1],t[2],t[3],t[4]):(t=VZ.exec(e))?Lh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$Z.exec(e))?nC(t[1],t[2]/100,t[3]/100,1):(t=FZ.exec(e))?nC(t[1],t[2]/100,t[3]/100,t[4]):XI.hasOwnProperty(e)?eC(XI[e]):e==="transparent"?new Zr(NaN,NaN,NaN,0):null}function eC(e){return new Zr(e>>16&255,e>>8&255,e&255,1)}function Lh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Zr(e,t,r,n)}function BZ(e){return e instanceof Sf||(e=Fd(e)),e?(e=e.rgb(),new Zr(e.r,e.g,e.b,e.opacity)):new Zr}function ew(e,t,r,n){return arguments.length===1?BZ(e):new Zr(e,t,r,n??1)}function Zr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gk(Zr,ew,$4(Sf,{brighter(e){return e=e==null?$m:Math.pow($m,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vd:Math.pow(Vd,e),new Zr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Zr(bo(this.r),bo(this.g),bo(this.b),Fm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tC,formatHex:tC,formatHex8:WZ,formatRgb:rC,toString:rC}));function tC(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}`}function WZ(){return`#${fo(this.r)}${fo(this.g)}${fo(this.b)}${fo((isNaN(this.opacity)?1:this.opacity)*255)}`}function rC(){const e=Fm(this.opacity);return`${e===1?"rgb(":"rgba("}${bo(this.r)}, ${bo(this.g)}, ${bo(this.b)}${e===1?")":`, ${e})`}`}function Fm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function bo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function fo(e){return e=bo(e),(e<16?"0":"")+e.toString(16)}function nC(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jn(e,t,r,n)}function F4(e){if(e instanceof Jn)return new Jn(e.h,e.s,e.l,e.opacity);if(e instanceof Sf||(e=Fd(e)),!e)return new Jn;if(e instanceof Jn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Jn(s,o,l,e.opacity)}function KZ(e,t,r,n){return arguments.length===1?F4(e):new Jn(e,t,r,n??1)}function Jn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gk(Jn,KZ,$4(Sf,{brighter(e){return e=e==null?$m:Math.pow($m,e),new Jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vd:Math.pow(Vd,e),new Jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Zr(Sy(e>=240?e-240:e+120,i,n),Sy(e,i,n),Sy(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Jn(iC(this.h),Vh(this.s),Vh(this.l),Fm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fm(this.opacity);return`${e===1?"hsl(":"hsla("}${iC(this.h)}, ${Vh(this.s)*100}%, ${Vh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function iC(e){return e=(e||0)%360,e<0?e+360:e}function Vh(e){return Math.max(0,Math.min(1,e||0))}function Sy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vk=e=>()=>e;function HZ(e,t){return function(r){return e+r*t}}function qZ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function GZ(e){return(e=+e)==1?z4:function(t,r){return r-t?qZ(t,r,e):vk(isNaN(t)?r:t)}}function z4(e,t){var r=t-e;return r?HZ(e,r):vk(isNaN(e)?t:e)}const aC=function e(t){var r=GZ(t);function n(i,a){var s=r((i=ew(i)).r,(a=ew(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),u=z4(i.opacity,a.opacity);return function(c){return i.r=s(c),i.g=o(c),i.b=l(c),i.opacity=u(c),i+""}}return n.gamma=e,n}(1);function YZ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function QZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XZ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Ru(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function JZ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function zm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ZZ(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Ru(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var tw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Py=new RegExp(tw.source,"g");function eee(e){return function(){return e}}function tee(e){return function(t){return e(t)+""}}function ree(e,t){var r=tw.lastIndex=Py.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=tw.exec(e))&&(i=Py.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:zm(n,i)})),r=Py.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?tee(l[0].x):eee(t):(t=l.length,function(u){for(var c=0,d;c<t;++c)o[(d=l[c]).i]=d.x(u);return o.join("")})}function Ru(e,t){var r=typeof t,n;return t==null||r==="boolean"?vk(t):(r==="number"?zm:r==="string"?(n=Fd(t))?(t=n,aC):ree:t instanceof Fd?aC:t instanceof Date?JZ:QZ(t)?YZ:Array.isArray(t)?XZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ZZ:zm)(e,t)}function yk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function nee(e,t){t===void 0&&(t=e,e=Ru);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function iee(e){return function(){return e}}function Um(e){return+e}var sC=[0,1];function Ur(e){return e}function rw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:iee(isNaN(t)?NaN:.5)}function aee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function see(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=rw(i,n),a=r(s,a)):(n=rw(n,i),a=r(a,s)),function(o){return a(n(o))}}function oee(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=rw(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Ef(e,o,1,n)-1;return a[l](i[l](o))}}function Pf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nv(){var e=sC,t=sC,r=Ru,n,i,a,s=Ur,o,l,u;function c(){var p=Math.min(e.length,t.length);return s!==Ur&&(s=aee(e[0],e[p-1])),o=p>2?oee:see,l=u=null,d}function d(p){return p==null||isNaN(p=+p)?a:(l||(l=o(e.map(n),t,r)))(n(s(p)))}return d.invert=function(p){return s(i((u||(u=o(t,e.map(n),zm)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,Um),c()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),c()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),r=yk,c()},d.clamp=function(p){return arguments.length?(s=p?!0:Ur,c()):s!==Ur},d.interpolate=function(p){return arguments.length?(r=p,c()):r},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return n=p,i=m,c()}}function xk(){return Nv()(Ur,Ur)}function lee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bu(e){return e=Bm(Math.abs(e)),e?e[1]:NaN}function uee(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function cee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var dee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zd(e){if(!(t=dee.exec(e)))throw new Error("invalid format: "+e);var t;return new bk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}zd.prototype=bk.prototype;function bk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fee(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var U4;function hee(e,t){var r=Bm(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(U4=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Bm(e,Math.max(0,t+a-1))[0]}function oC(e,t){var r=Bm(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const lC={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:lee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oC(e*100,t),r:oC,s:hee,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function uC(e){return e}var cC=Array.prototype.map,dC=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function pee(e){var t=e.grouping===void 0||e.thousands===void 0?uC:uee(cC.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?uC:cee(cC.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(d){d=zd(d);var p=d.fill,m=d.align,v=d.sign,y=d.symbol,x=d.zero,b=d.width,_=d.comma,E=d.precision,A=d.trim,N=d.type;N==="n"?(_=!0,N="g"):lC[N]||(E===void 0&&(E=12),A=!0,N="g"),(x||p==="0"&&m==="=")&&(x=!0,p="0",m="=");var j=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",k=y==="$"?n:/[%p]/.test(N)?s:"",S=lC[N],T=/[defgprs%]/.test(N);E=E===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function O(C){var I=j,D=k,B,X,L;if(N==="c")D=S(C)+D,C="";else{C=+C;var H=C<0||1/C<0;if(C=isNaN(C)?l:S(Math.abs(C),E),A&&(C=fee(C)),H&&+C==0&&v!=="+"&&(H=!1),I=(H?v==="("?v:o:v==="-"||v==="("?"":v)+I,D=(N==="s"?dC[8+U4/3]:"")+D+(H&&v==="("?")":""),T){for(B=-1,X=C.length;++B<X;)if(L=C.charCodeAt(B),48>L||L>57){D=(L===46?i+C.slice(B+1):C.slice(B))+D,C=C.slice(0,B);break}}}_&&!x&&(C=t(C,1/0));var M=I.length+C.length+D.length,V=M<b?new Array(b-M+1).join(p):"";switch(_&&x&&(C=t(V+C,V.length?b-D.length:1/0),V=""),m){case"<":C=I+C+D+V;break;case"=":C=I+V+C+D;break;case"^":C=V.slice(0,M=V.length>>1)+I+C+D+V.slice(M);break;default:C=V+I+C+D;break}return a(C)}return O.toString=function(){return d+""},O}function c(d,p){var m=u((d=zd(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(bu(p)/3)))*3,y=Math.pow(10,-v),x=dC[8+v/3];return function(b){return m(y*b)+x}}return{format:u,formatPrefix:c}}var $h,wk,B4;mee({thousands:",",grouping:[3],currency:["$",""]});function mee(e){return $h=pee(e),wk=$h.format,B4=$h.formatPrefix,$h}function gee(e){return Math.max(0,-bu(Math.abs(e)))}function vee(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bu(t)/3)))*3-bu(Math.abs(e)))}function yee(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bu(t)-bu(e))+1}function W4(e,t,r,n){var i=Jb(e,t,r),a;switch(n=zd(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=vee(i,s))&&(n.precision=a),B4(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=yee(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=gee(i))&&(n.precision=a-(n.type==="%")*2);break}}return wk(n)}function Fs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Qb(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return W4(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,u,c=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);c-- >0;){if(u=Xb(s,o,r),u===l)return n[i]=s,n[a]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function K4(){var e=xk();return e.copy=function(){return Pf(e,K4())},Un.apply(e,arguments),Fs(e)}function H4(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Um),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return H4(e).unknown(t)},e=arguments.length?Array.from(e,Um):[0,1],Fs(r)}function q4(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function fC(e){return Math.log(e)}function hC(e){return Math.exp(e)}function xee(e){return-Math.log(-e)}function bee(e){return-Math.exp(-e)}function wee(e){return isFinite(e)?+("1e"+e):e<0?0:e}function _ee(e){return e===10?wee:e===Math.E?Math.exp:t=>Math.pow(e,t)}function kee(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pC(e){return(t,r)=>-e(-t,r)}function _k(e){const t=e(fC,hC),r=t.domain;let n=10,i,a;function s(){return i=kee(n),a=_ee(n),r()[0]<0?(i=pC(i),a=pC(a),e(xee,bee)):e(fC,hC),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let u=l[0],c=l[l.length-1];const d=c<u;d&&([u,c]=[c,u]);let p=i(u),m=i(c),v,y;const x=o==null?10:+o;let b=[];if(!(n%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(v=1;v<n;++v)if(y=p<0?v/a(-p):v*a(p),!(y<u)){if(y>c)break;b.push(y)}}else for(;p<=m;++p)for(v=n-1;v>=1;--v)if(y=p>0?v/a(-p):v*a(p),!(y<u)){if(y>c)break;b.push(y)}b.length*2<x&&(b=Qb(u,c,x))}else b=Qb(p,m,Math.min(m-p,x)).map(a);return d?b.reverse():b},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=zd(l)).precision==null&&(l.trim=!0),l=wk(l)),o===1/0)return l;const u=Math.max(1,n*o/t.ticks().length);return c=>{let d=c/a(Math.round(i(c)));return d*n<n-.5&&(d*=n),d<=u?l(c):""}},t.nice=()=>r(q4(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function G4(){const e=_k(Nv()).domain([1,10]);return e.copy=()=>Pf(e,G4()).base(e.base()),Un.apply(e,arguments),e}function mC(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gC(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kk(e){var t=1,r=e(mC(t),gC(t));return r.constant=function(n){return arguments.length?e(mC(t=+n),gC(t)):t},Fs(r)}function Y4(){var e=kk(Nv());return e.copy=function(){return Pf(e,Y4()).constant(e.constant())},Un.apply(e,arguments)}function vC(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Eee(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function See(e){return e<0?-e*e:e*e}function Ek(e){var t=e(Ur,Ur),r=1;function n(){return r===1?e(Ur,Ur):r===.5?e(Eee,See):e(vC(r),vC(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Fs(t)}function Sk(){var e=Ek(Nv());return e.copy=function(){return Pf(e,Sk()).exponent(e.exponent())},Un.apply(e,arguments),e}function Pee(){return Sk.apply(null,arguments).exponent(.5)}function yC(e){return Math.sign(e)*e*e}function Tee(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Q4(){var e=xk(),t=[0,1],r=!1,n;function i(a){var s=Tee(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(yC(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Um)).map(yC)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Q4(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Un.apply(i,arguments),Fs(i)}function X4(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=OZ(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Ef(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(bs),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return X4().domain(e).range(t).unknown(n)},Un.apply(a,arguments)}function J4(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Ef(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return J4().domain([e,t]).range(i).unknown(a)},Un.apply(Fs(s),arguments)}function Z4(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Ef(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Z4().domain(e).range(t).unknown(r)},Un.apply(i,arguments)}const Ty=new Date,Ay=new Date;function Qt(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>Qt(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Ty.setTime(+a),Ay.setTime(+s),e(Ty),e(Ay),Math.floor(r(Ty,Ay))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Wm=Qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wm);Wm.range;const Yi=1e3,jn=Yi*60,Qi=jn*60,ma=Qi*24,Pk=ma*7,xC=ma*30,Iy=ma*365,ho=Qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yi)},(e,t)=>(t-e)/Yi,e=>e.getUTCSeconds());ho.range;const Tk=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getMinutes());Tk.range;const Ak=Qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*jn)},(e,t)=>(t-e)/jn,e=>e.getUTCMinutes());Ak.range;const Ik=Qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yi-e.getMinutes()*jn)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getHours());Ik.range;const Ck=Qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qi)},(e,t)=>(t-e)/Qi,e=>e.getUTCHours());Ck.range;const Tf=Qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*jn)/ma,e=>e.getDate()-1);Tf.range;const jv=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ma,e=>e.getUTCDate()-1);jv.range;const e3=Qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ma,e=>Math.floor(e/ma));e3.range;function Zo(e){return Qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*jn)/Pk)}const Dv=Zo(0),Km=Zo(1),Aee=Zo(2),Iee=Zo(3),wu=Zo(4),Cee=Zo(5),Oee=Zo(6);Dv.range;Km.range;Aee.range;Iee.range;wu.range;Cee.range;Oee.range;function el(e){return Qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Pk)}const Rv=el(0),Hm=el(1),Nee=el(2),jee=el(3),_u=el(4),Dee=el(5),Ree=el(6);Rv.range;Hm.range;Nee.range;jee.range;_u.range;Dee.range;Ree.range;const Ok=Qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ok.range;const Nk=Qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Nk.range;const ga=Qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ga.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ga.range;const va=Qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());va.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});va.range;function t3(e,t,r,n,i,a){const s=[[ho,1,Yi],[ho,5,5*Yi],[ho,15,15*Yi],[ho,30,30*Yi],[a,1,jn],[a,5,5*jn],[a,15,15*jn],[a,30,30*jn],[i,1,Qi],[i,3,3*Qi],[i,6,6*Qi],[i,12,12*Qi],[n,1,ma],[n,2,2*ma],[r,1,Pk],[t,1,xC],[t,3,3*xC],[e,1,Iy]];function o(u,c,d){const p=c<u;p&&([u,c]=[c,u]);const m=d&&typeof d.range=="function"?d:l(u,c,d),v=m?m.range(u,+c+1):[];return p?v.reverse():v}function l(u,c,d){const p=Math.abs(c-u)/d,m=hk(([,,x])=>x).right(s,p);if(m===s.length)return e.every(Jb(u/Iy,c/Iy,d));if(m===0)return Wm.every(Math.max(Jb(u,c,d),1));const[v,y]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return v.every(y)}return[o,l]}const[Mee,Lee]=t3(va,Nk,Rv,e3,Ck,Ak),[Vee,$ee]=t3(ga,Ok,Dv,Tf,Ik,Tk);function Cy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Oy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xc(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Fee(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=bc(i),c=wc(i),d=bc(a),p=wc(a),m=bc(s),v=wc(s),y=bc(o),x=wc(o),b=bc(l),_=wc(l),E={a:H,A:M,b:V,B:Y,c:null,d:SC,e:SC,f:ute,g:xte,G:wte,H:ste,I:ote,j:lte,L:r3,m:cte,M:dte,p:Z,q:re,Q:AC,s:IC,S:fte,u:hte,U:pte,V:mte,w:gte,W:vte,x:null,X:null,y:yte,Y:bte,Z:_te,"%":TC},A={a:ge,A:ke,b:dt,B:it,c:null,d:PC,e:PC,f:Pte,g:Mte,G:Vte,H:kte,I:Ete,j:Ste,L:i3,m:Tte,M:Ate,p:Oe,q:Gr,Q:AC,s:IC,S:Ite,u:Cte,U:Ote,V:Nte,w:jte,W:Dte,x:null,X:null,y:Rte,Y:Lte,Z:$te,"%":TC},N={a:O,A:C,b:I,B:D,c:B,d:kC,e:kC,f:rte,g:_C,G:wC,H:EC,I:EC,j:Jee,L:tte,m:Xee,M:Zee,p:T,q:Qee,Q:ite,s:ate,S:ete,u:Kee,U:Hee,V:qee,w:Wee,W:Gee,x:X,X:L,y:_C,Y:wC,Z:Yee,"%":nte};E.x=j(r,E),E.X=j(n,E),E.c=j(t,E),A.x=j(r,A),A.X=j(n,A),A.c=j(t,A);function j(K,he){return function(xe){var q=[],at=-1,ce=0,Xe=K.length,Re,jt,Ni;for(xe instanceof Date||(xe=new Date(+xe));++at<Xe;)K.charCodeAt(at)===37&&(q.push(K.slice(ce,at)),(jt=bC[Re=K.charAt(++at)])!=null?Re=K.charAt(++at):jt=Re==="e"?" ":"0",(Ni=he[Re])&&(Re=Ni(xe,jt)),q.push(Re),ce=at+1);return q.push(K.slice(ce,at)),q.join("")}}function k(K,he){return function(xe){var q=xc(1900,void 0,1),at=S(q,K,xe+="",0),ce,Xe;if(at!=xe.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(he&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ce=Oy(xc(q.y,0,1)),Xe=ce.getUTCDay(),ce=Xe>4||Xe===0?Hm.ceil(ce):Hm(ce),ce=jv.offset(ce,(q.V-1)*7),q.y=ce.getUTCFullYear(),q.m=ce.getUTCMonth(),q.d=ce.getUTCDate()+(q.w+6)%7):(ce=Cy(xc(q.y,0,1)),Xe=ce.getDay(),ce=Xe>4||Xe===0?Km.ceil(ce):Km(ce),ce=Tf.offset(ce,(q.V-1)*7),q.y=ce.getFullYear(),q.m=ce.getMonth(),q.d=ce.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Xe="Z"in q?Oy(xc(q.y,0,1)).getUTCDay():Cy(xc(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Xe+5)%7:q.w+q.U*7-(Xe+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Oy(q)):Cy(q)}}function S(K,he,xe,q){for(var at=0,ce=he.length,Xe=xe.length,Re,jt;at<ce;){if(q>=Xe)return-1;if(Re=he.charCodeAt(at++),Re===37){if(Re=he.charAt(at++),jt=N[Re in bC?he.charAt(at++):Re],!jt||(q=jt(K,xe,q))<0)return-1}else if(Re!=xe.charCodeAt(q++))return-1}return q}function T(K,he,xe){var q=u.exec(he.slice(xe));return q?(K.p=c.get(q[0].toLowerCase()),xe+q[0].length):-1}function O(K,he,xe){var q=m.exec(he.slice(xe));return q?(K.w=v.get(q[0].toLowerCase()),xe+q[0].length):-1}function C(K,he,xe){var q=d.exec(he.slice(xe));return q?(K.w=p.get(q[0].toLowerCase()),xe+q[0].length):-1}function I(K,he,xe){var q=b.exec(he.slice(xe));return q?(K.m=_.get(q[0].toLowerCase()),xe+q[0].length):-1}function D(K,he,xe){var q=y.exec(he.slice(xe));return q?(K.m=x.get(q[0].toLowerCase()),xe+q[0].length):-1}function B(K,he,xe){return S(K,t,he,xe)}function X(K,he,xe){return S(K,r,he,xe)}function L(K,he,xe){return S(K,n,he,xe)}function H(K){return s[K.getDay()]}function M(K){return a[K.getDay()]}function V(K){return l[K.getMonth()]}function Y(K){return o[K.getMonth()]}function Z(K){return i[+(K.getHours()>=12)]}function re(K){return 1+~~(K.getMonth()/3)}function ge(K){return s[K.getUTCDay()]}function ke(K){return a[K.getUTCDay()]}function dt(K){return l[K.getUTCMonth()]}function it(K){return o[K.getUTCMonth()]}function Oe(K){return i[+(K.getUTCHours()>=12)]}function Gr(K){return 1+~~(K.getUTCMonth()/3)}return{format:function(K){var he=j(K+="",E);return he.toString=function(){return K},he},parse:function(K){var he=k(K+="",!1);return he.toString=function(){return K},he},utcFormat:function(K){var he=j(K+="",A);return he.toString=function(){return K},he},utcParse:function(K){var he=k(K+="",!0);return he.toString=function(){return K},he}}}var bC={"-":"",_:" ",0:"0"},cr=/^\s*\d+/,zee=/^%/,Uee=/[\\^$*+?|[\]().{}]/g;function De(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Bee(e){return e.replace(Uee,"\\$&")}function bc(e){return new RegExp("^(?:"+e.map(Bee).join("|")+")","i")}function wc(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Wee(e,t,r){var n=cr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Kee(e,t,r){var n=cr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Hee(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function qee(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Gee(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wC(e,t,r){var n=cr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _C(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Yee(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Qee(e,t,r){var n=cr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Xee(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function kC(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Jee(e,t,r){var n=cr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function EC(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Zee(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ete(e,t,r){var n=cr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function tte(e,t,r){var n=cr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function rte(e,t,r){var n=cr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function nte(e,t,r){var n=zee.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ite(e,t,r){var n=cr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function ate(e,t,r){var n=cr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function SC(e,t){return De(e.getDate(),t,2)}function ste(e,t){return De(e.getHours(),t,2)}function ote(e,t){return De(e.getHours()%12||12,t,2)}function lte(e,t){return De(1+Tf.count(ga(e),e),t,3)}function r3(e,t){return De(e.getMilliseconds(),t,3)}function ute(e,t){return r3(e,t)+"000"}function cte(e,t){return De(e.getMonth()+1,t,2)}function dte(e,t){return De(e.getMinutes(),t,2)}function fte(e,t){return De(e.getSeconds(),t,2)}function hte(e){var t=e.getDay();return t===0?7:t}function pte(e,t){return De(Dv.count(ga(e)-1,e),t,2)}function n3(e){var t=e.getDay();return t>=4||t===0?wu(e):wu.ceil(e)}function mte(e,t){return e=n3(e),De(wu.count(ga(e),e)+(ga(e).getDay()===4),t,2)}function gte(e){return e.getDay()}function vte(e,t){return De(Km.count(ga(e)-1,e),t,2)}function yte(e,t){return De(e.getFullYear()%100,t,2)}function xte(e,t){return e=n3(e),De(e.getFullYear()%100,t,2)}function bte(e,t){return De(e.getFullYear()%1e4,t,4)}function wte(e,t){var r=e.getDay();return e=r>=4||r===0?wu(e):wu.ceil(e),De(e.getFullYear()%1e4,t,4)}function _te(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+De(t/60|0,"0",2)+De(t%60,"0",2)}function PC(e,t){return De(e.getUTCDate(),t,2)}function kte(e,t){return De(e.getUTCHours(),t,2)}function Ete(e,t){return De(e.getUTCHours()%12||12,t,2)}function Ste(e,t){return De(1+jv.count(va(e),e),t,3)}function i3(e,t){return De(e.getUTCMilliseconds(),t,3)}function Pte(e,t){return i3(e,t)+"000"}function Tte(e,t){return De(e.getUTCMonth()+1,t,2)}function Ate(e,t){return De(e.getUTCMinutes(),t,2)}function Ite(e,t){return De(e.getUTCSeconds(),t,2)}function Cte(e){var t=e.getUTCDay();return t===0?7:t}function Ote(e,t){return De(Rv.count(va(e)-1,e),t,2)}function a3(e){var t=e.getUTCDay();return t>=4||t===0?_u(e):_u.ceil(e)}function Nte(e,t){return e=a3(e),De(_u.count(va(e),e)+(va(e).getUTCDay()===4),t,2)}function jte(e){return e.getUTCDay()}function Dte(e,t){return De(Hm.count(va(e)-1,e),t,2)}function Rte(e,t){return De(e.getUTCFullYear()%100,t,2)}function Mte(e,t){return e=a3(e),De(e.getUTCFullYear()%100,t,2)}function Lte(e,t){return De(e.getUTCFullYear()%1e4,t,4)}function Vte(e,t){var r=e.getUTCDay();return e=r>=4||r===0?_u(e):_u.ceil(e),De(e.getUTCFullYear()%1e4,t,4)}function $te(){return"+0000"}function TC(){return"%"}function AC(e){return+e}function IC(e){return Math.floor(+e/1e3)}var cl,s3,o3;Fte({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fte(e){return cl=Fee(e),s3=cl.format,cl.parse,o3=cl.utcFormat,cl.utcParse,cl}function zte(e){return new Date(e)}function Ute(e){return e instanceof Date?+e:+new Date(+e)}function jk(e,t,r,n,i,a,s,o,l,u){var c=xk(),d=c.invert,p=c.domain,m=u(".%L"),v=u(":%S"),y=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),_=u("%b %d"),E=u("%B"),A=u("%Y");function N(j){return(l(j)<j?m:o(j)<j?v:s(j)<j?y:a(j)<j?x:n(j)<j?i(j)<j?b:_:r(j)<j?E:A)(j)}return c.invert=function(j){return new Date(d(j))},c.domain=function(j){return arguments.length?p(Array.from(j,Ute)):p().map(zte)},c.ticks=function(j){var k=p();return e(k[0],k[k.length-1],j??10)},c.tickFormat=function(j,k){return k==null?N:u(k)},c.nice=function(j){var k=p();return(!j||typeof j.range!="function")&&(j=t(k[0],k[k.length-1],j??10)),j?p(q4(k,j)):c},c.copy=function(){return Pf(c,jk(e,t,r,n,i,a,s,o,l,u))},c}function Bte(){return Un.apply(jk(Vee,$ee,ga,Ok,Dv,Tf,Ik,Tk,ho,s3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Wte(){return Un.apply(jk(Mee,Lee,va,Nk,Rv,jv,Ck,Ak,ho,o3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mv(){var e=0,t=1,r,n,i,a,s=Ur,o=!1,l;function u(d){return d==null||isNaN(d=+d)?l:s(i===0?.5:(d=(a(d)-r)*i,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function c(d){return function(p){var m,v;return arguments.length?([m,v]=p,s=d(m,v),u):[s(0),s(1)]}}return u.range=c(Ru),u.rangeRound=c(yk),u.unknown=function(d){return arguments.length?(l=d,u):l},function(d){return a=d,r=d(e),n=d(t),i=r===n?0:1/(n-r),u}}function zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function l3(){var e=Fs(Mv()(Ur));return e.copy=function(){return zs(e,l3())},Ia.apply(e,arguments)}function u3(){var e=_k(Mv()).domain([1,10]);return e.copy=function(){return zs(e,u3()).base(e.base())},Ia.apply(e,arguments)}function c3(){var e=kk(Mv());return e.copy=function(){return zs(e,c3()).constant(e.constant())},Ia.apply(e,arguments)}function Dk(){var e=Ek(Mv());return e.copy=function(){return zs(e,Dk()).exponent(e.exponent())},Ia.apply(e,arguments)}function Kte(){return Dk.apply(null,arguments).exponent(.5)}function d3(){var e=[],t=Ur;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ef(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(bs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>CZ(e,a/n))},r.copy=function(){return d3(t).domain(e)},Ia.apply(r,arguments)}function Lv(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,u=Ur,c,d=!1,p;function m(y){return isNaN(y=+y)?p:(y=.5+((y=+c(y))-a)*(n*y<n*a?o:l),u(d?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=c(e=+e),a=c(t=+t),s=c(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(d=!!y,m):d},m.interpolator=function(y){return arguments.length?(u=y,m):u};function v(y){return function(x){var b,_,E;return arguments.length?([b,_,E]=x,u=nee(y,[b,_,E]),m):[u(0),u(.5),u(1)]}}return m.range=v(Ru),m.rangeRound=v(yk),m.unknown=function(y){return arguments.length?(p=y,m):p},function(y){return c=y,i=y(e),a=y(t),s=y(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,m}}function f3(){var e=Fs(Lv()(Ur));return e.copy=function(){return zs(e,f3())},Ia.apply(e,arguments)}function h3(){var e=_k(Lv()).domain([.1,1,10]);return e.copy=function(){return zs(e,h3()).base(e.base())},Ia.apply(e,arguments)}function p3(){var e=kk(Lv());return e.copy=function(){return zs(e,p3()).constant(e.constant())},Ia.apply(e,arguments)}function Rk(){var e=Ek(Lv());return e.copy=function(){return zs(e,Rk()).exponent(e.exponent())},Ia.apply(e,arguments)}function Hte(){return Rk.apply(null,arguments).exponent(.5)}const Dc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mk,scaleDiverging:f3,scaleDivergingLog:h3,scaleDivergingPow:Rk,scaleDivergingSqrt:Hte,scaleDivergingSymlog:p3,scaleIdentity:H4,scaleImplicit:Zb,scaleLinear:K4,scaleLog:G4,scaleOrdinal:pk,scalePoint:jZ,scalePow:Sk,scaleQuantile:X4,scaleQuantize:J4,scaleRadial:Q4,scaleSequential:l3,scaleSequentialLog:u3,scaleSequentialPow:Dk,scaleSequentialQuantile:d3,scaleSequentialSqrt:Kte,scaleSequentialSymlog:c3,scaleSqrt:Pee,scaleSymlog:Y4,scaleThreshold:Z4,scaleTime:Bte,scaleUtc:Wte,tickFormat:W4},Symbol.toStringTag,{value:"Module"}));var Ca=e=>e.chartData,Vv=F([Ca],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),m3=(e,t,r,n)=>n?Vv(e):Ca(e),g3=(e,t,r)=>r?Vv(e):Ca(e);function Ts(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(He(t)&&He(r))return!0}return!1}function CC(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function v3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(He(r))i=r;else if(typeof r=="function")return;if(He(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Ts(s))return s}}function qte(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ts(n))return CC(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(ee(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&YA.test(i)){var l=YA.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(ee(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&QA.test(a)){var c=QA.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var d=+c[1];o=t[1]+d}}else o=t==null?void 0:t[1];var p=[s,o];if(Ts(p))return t==null?p:CC(p,t,r)}}}var Mu=1e9,Gte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Lk,lt=!0,zn="[DecimalError] ",wo=zn+"Invalid argument: ",Mk=zn+"Exponent out of range: ",Lu=Math.floor,ao=Math.pow,Yte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mn,ar=1e7,et=7,y3=9007199254740991,qm=Lu(y3/et),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(e){return ea(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,r=t.constructor;return Ke(ea(t,new r(e),0,1),r.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return zt(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(mn))throw Error(zn+"NaN");if(r.s<1)throw Error(zn+(r.s?"NaN":"-Infinity"));return r.eq(mn)?new n(0):(lt=!1,t=ea(Ud(r,a),Ud(e,a),a),lt=!0,Ke(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?w3(t,e):x3(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(zn+"NaN");return r.s?(lt=!1,t=ea(r,e,0,1).times(e),lt=!0,r.minus(t)):Ke(new n(r),i)};ie.naturalExponential=ie.exp=function(){return b3(this)};ie.naturalLogarithm=ie.ln=function(){return Ud(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?x3(t,e):w3(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(wo+e);if(t=zt(i)+1,n=i.d.length-1,r=n*et+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ie.squareRoot=ie.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(zn+"NaN")}for(e=zt(o),lt=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=yi(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Lu((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ea(o,a,s+2)).times(.5),yi(a.d).slice(0,s)===(t=yi(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Ke(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return lt=!0,Ke(n,r)};ie.times=ie.mul=function(e){var t,r,n,i,a,s,o,l,u,c=this,d=c.constructor,p=c.d,m=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,r=c.e+e.e,l=p.length,u=m.length,l<u&&(a=p,p=m,m=a,s=l,l=u,u=s),a=[],s=l+u,n=s;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+m[n]*p[i-n-1]+t,a[i--]=o%ar|0,t=o/ar|0;a[i]=(a[i]+t)%ar|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,lt?Ke(e,d.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ii(e,0,Mu),t===void 0?t=n.rounding:Ii(t,0,8),Ke(r,e+zt(r)+1,t))};ie.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Wo(n,!0):(Ii(e,0,Mu),t===void 0?t=i.rounding:Ii(t,0,8),n=Ke(new i(n),e+1,t),r=Wo(n,!0,e+1)),r};ie.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?Wo(i):(Ii(e,0,Mu),t===void 0?t=a.rounding:Ii(t,0,8),n=Ke(new a(i),e+zt(i)+1,t),r=Wo(n.abs(),!1,e+zt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return Ke(new t(e),zt(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,u=12,c=+(e=new l(e));if(!e.s)return new l(mn);if(o=new l(o),!o.s){if(e.s<1)throw Error(zn+"Infinity");return o}if(o.eq(mn))return o;if(n=l.precision,e.eq(mn))return Ke(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=c<0?-c:c)<=y3){for(i=new l(mn),t=Math.ceil(n/et+4),lt=!1;r%2&&(i=i.times(o),NC(i.d,t)),r=Lu(r/2),r!==0;)o=o.times(o),NC(o.d,t);return lt=!0,e.s<0?new l(mn).div(i):Ke(i,n)}}else if(a<0)throw Error(zn+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,lt=!1,i=e.times(Ud(o,n+u)),lt=!0,i=b3(i),i.s=a,i};ie.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=zt(i),n=Wo(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ii(e,1,Mu),t===void 0?t=a.rounding:Ii(t,0,8),i=Ke(new a(i),e,t),r=zt(i),n=Wo(i,e<=r||r<=a.toExpNeg,e)),n};ie.toSignificantDigits=ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ii(e,1,Mu),t===void 0?t=n.rounding:Ii(t,0,8)),Ke(new n(r),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=zt(e),r=e.constructor;return Wo(e,t<=r.toExpNeg||t>=r.toExpPos)};function x3(e,t){var r,n,i,a,s,o,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),lt?Ke(t,d):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=u.length):(n=u,i=s,o=l.length),s=Math.ceil(d/et),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,n=u,u=l,l=n),r=0;a;)r=(l[--a]=l[a]+u[a]+r)/ar|0,l[a]%=ar;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,lt?Ke(t,d):t}function Ii(e,t,r){if(e!==~~e||e<t||e>r)throw Error(wo+e)}function yi(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=et-n.length,r&&(a+=Wa(r)),a+=n;s=e[t],n=s+"",r=et-n.length,r&&(a+=Wa(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ea=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%ar|0,s=a/ar|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*ar+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,u,c,d,p,m,v,y,x,b,_,E,A,N,j,k,S,T=n.constructor,O=n.s==i.s?1:-1,C=n.d,I=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(zn+"Division by zero");for(l=n.e-i.e,k=I.length,N=C.length,m=new T(O),v=m.d=[],u=0;I[u]==(C[u]||0);)++u;if(I[u]>(C[u]||0)&&--l,a==null?_=a=T.precision:s?_=a+(zt(n)-zt(i))+1:_=a,_<0)return new T(0);if(_=_/et+2|0,u=0,k==1)for(c=0,I=I[0],_++;(u<N||c)&&_--;u++)E=c*ar+(C[u]||0),v[u]=E/I|0,c=E%I|0;else{for(c=ar/(I[0]+1)|0,c>1&&(I=e(I,c),C=e(C,c),k=I.length,N=C.length),A=k,y=C.slice(0,k),x=y.length;x<k;)y[x++]=0;S=I.slice(),S.unshift(0),j=I[0],I[1]>=ar/2&&++j;do c=0,o=t(I,y,k,x),o<0?(b=y[0],k!=x&&(b=b*ar+(y[1]||0)),c=b/j|0,c>1?(c>=ar&&(c=ar-1),d=e(I,c),p=d.length,x=y.length,o=t(d,y,p,x),o==1&&(c--,r(d,k<p?S:I,p))):(c==0&&(o=c=1),d=I.slice()),p=d.length,p<x&&d.unshift(0),r(y,d,x),o==-1&&(x=y.length,o=t(I,y,k,x),o<1&&(c++,r(y,k<x?S:I,x))),x=y.length):o===0&&(c++,y=[0]),v[u++]=c,o&&y[0]?y[x++]=C[A]||0:(y=[C[A]],x=1);while((A++<N||y[0]!==void 0)&&_--)}return v[0]||v.shift(),m.e=l,Ke(m,s?a+zt(m)+1:a)}}();function b3(e,t){var r,n,i,a,s,o,l=0,u=0,c=e.constructor,d=c.precision;if(zt(e)>16)throw Error(Mk+zt(e));if(!e.s)return new c(mn);for(lt=!1,o=d,s=new c(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(ao(2,u))/Math.LN10*2+5|0,o+=n,r=i=a=new c(mn),c.precision=o;;){if(i=Ke(i.times(e),o),r=r.times(++l),s=a.plus(ea(i,r,o)),yi(s.d).slice(0,o)===yi(a.d).slice(0,o)){for(;u--;)a=Ke(a.times(a),o);return c.precision=d,t==null?(lt=!0,Ke(a,d)):a}a=s}}function zt(e){for(var t=e.e*et,r=e.d[0];r>=10;r/=10)t++;return t}function Ny(e,t,r){if(t>e.LN10.sd())throw lt=!0,r&&(e.precision=r),Error(zn+"LN10 precision limit exceeded");return Ke(new e(e.LN10),t)}function Wa(e){for(var t="";e--;)t+="0";return t}function Ud(e,t){var r,n,i,a,s,o,l,u,c,d=1,p=10,m=e,v=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(zn+(m.s?"NaN":"-Infinity"));if(m.eq(mn))return new y(0);if(t==null?(lt=!1,u=x):u=t,m.eq(10))return t==null&&(lt=!0),Ny(y,u);if(u+=p,y.precision=u,r=yi(v),n=r.charAt(0),a=zt(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=yi(m.d),n=r.charAt(0),d++;a=zt(m),n>1?(m=new y("0."+r),a++):m=new y(n+"."+r.slice(1))}else return l=Ny(y,u+2,x).times(a+""),m=Ud(new y(n+"."+r.slice(1)),u-p).plus(l),y.precision=x,t==null?(lt=!0,Ke(m,x)):m;for(o=s=m=ea(m.minus(mn),m.plus(mn),u),c=Ke(m.times(m),u),i=3;;){if(s=Ke(s.times(c),u),l=o.plus(ea(s,new y(i),u)),yi(l.d).slice(0,u)===yi(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Ny(y,u+2,x).times(a+""))),o=ea(o,new y(d),u),y.precision=x,t==null?(lt=!0,Ke(o,x)):o;o=l,i+=2}}function OC(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Lu(r/et),e.d=[],n=(r+1)%et,r<0&&(n+=et),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=et;n<i;)e.d.push(+t.slice(n,n+=et));t=t.slice(n),n=et-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),lt&&(e.e>qm||e.e<-qm))throw Error(Mk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ke(e,t,r){var n,i,a,s,o,l,u,c,d=e.d;for(s=1,a=d[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=et,i=t,u=d[c=0];else{if(c=Math.ceil((n+1)/et),a=d.length,c>=a)return e;for(u=a=d[c],s=1;a>=10;a/=10)s++;n%=et,i=n-et+s}if(r!==void 0&&(a=ao(10,s-i-1),o=u/a%10|0,l=t<0||d[c+1]!==void 0||u%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/ao(10,s-i):0:d[c-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=zt(e),d.length=1,t=t-a-1,d[0]=ao(10,(et-t%et)%et),e.e=Lu(-t/et)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=c,a=1,c--):(d.length=c+1,a=ao(10,et-n),d[c]=i>0?(u/ao(10,s-i)%ao(10,i)|0)*a:0),l)for(;;)if(c==0){(d[0]+=a)==ar&&(d[0]=1,++e.e);break}else{if(d[c]+=a,d[c]!=ar)break;d[c--]=0,a=1}for(n=d.length;d[--n]===0;)d.pop();if(lt&&(e.e>qm||e.e<-qm))throw Error(Mk+zt(e));return e}function w3(e,t){var r,n,i,a,s,o,l,u,c,d,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),lt?Ke(t,m):t;if(l=e.d,d=t.d,n=t.e,u=e.e,l=l.slice(),s=u-n,s){for(c=s<0,c?(r=l,s=-s,o=d.length):(r=d,n=u,o=l.length),i=Math.max(Math.ceil(m/et),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=d.length,c=i<o,c&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}s=0}for(c&&(r=l,l=d,d=r,t.s=-t.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>s;){if(l[--i]<d[i]){for(a=i;a&&l[--a]===0;)l[a]=ar-1;--l[a],l[i]+=ar}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,lt?Ke(t,m):t):new p(0)}function Wo(e,t,r){var n,i=zt(e),a=yi(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Wa(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Wa(-i-1)+a,r&&(n=r-s)>0&&(a+=Wa(n))):i>=s?(a+=Wa(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Wa(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Wa(n))),e.s<0?"-"+a:a}function NC(e,t){if(e.length>t)return e.length=t,!0}function _3(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(wo+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return OC(s,a.toString())}else if(typeof a!="string")throw Error(wo+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,Yte.test(a))OC(s,a);else throw Error(wo+a)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_3,i.config=i.set=Qte,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function Qte(e){if(!e||typeof e!="object")throw Error(zn+"Object expected");var t,r,n,i=["precision",1,Mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Lu(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(wo+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(wo+r+": "+n);return this}var Lk=_3(Gte);mn=new Lk(1);const $e=Lk;var Xte=e=>e,k3={},E3=e=>e===k3,jC=e=>function t(){return arguments.length===0||arguments.length===1&&E3(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},S3=(e,t)=>e===1?t:jC(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==k3).length;return a>=e?t(...n):S3(e-a,jC(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=n.map(c=>E3(c)?o.shift():c);return t(...u,...o)}))}),Jte=e=>S3(e.length,e),nw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Zte=Jte((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),ere=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Xte;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function P3(e){var t;return e===0?t=1:t=Math.floor(new $e(e).abs().log(10).toNumber())+1,t}function T3(e,t,r){for(var n=new $e(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var A3=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},I3=(e,t,r)=>{if(e.lte(0))return new $e(0);var n=P3(e.toNumber()),i=new $e(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new $e(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new $e(l.toNumber()):new $e(Math.ceil(l.toNumber()))},tre=(e,t,r)=>{var n=new $e(1),i=new $e(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new $e(10).pow(P3(e)-1),i=new $e(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new $e(Math.floor(e)))}else e===0?i=new $e(Math.floor((t-1)/2)):r||(i=new $e(Math.floor(e)));var s=Math.floor((t-1)/2),o=ere(Zte(l=>i.add(new $e(l-s).mul(n)).toNumber()),nw);return o(0,t)},C3=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new $e(0),tickMin:new $e(0),tickMax:new $e(0)};var s=I3(new $e(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new $e(0):(o=new $e(t).add(r).div(2),o=o.sub(new $e(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new $e(r).sub(o).div(s).toNumber()),c=l+u+1;return c>n?C3(t,r,n,i,a+1):(c<n&&(u=r>0?u+(n-c):u,l=r>0?l:l+(n-c)),{step:s,tickMin:o.sub(new $e(l).mul(s)),tickMax:o.add(new $e(u).mul(s))})},rre=function(t){var[r,n]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=A3([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...nw(0,i-1).map(()=>1/0)]:[...nw(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(o===l)return tre(o,i,a);var{step:c,tickMin:d,tickMax:p}=C3(o,l,s,a,0),m=T3(d,p.add(new $e(.1).mul(c)),c);return r>n?m.reverse():m},nre=function(t,r){var[n,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=A3([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var l=Math.max(r,2),u=I3(new $e(o).sub(s).div(l-1),a,0),c=[...T3(new $e(s),new $e(o),u),o];return a===!1&&(c=c.map(d=>Math.round(d))),n>i?c.reverse():c},O3=e=>e.rootProps.maxBarSize,ire=e=>e.rootProps.barGap,N3=e=>e.rootProps.barCategoryGap,are=e=>e.rootProps.barSize,Af=e=>e.rootProps.stackOffset,j3=e=>e.rootProps.reverseStackOrder,Vk=e=>e.options.chartName,$k=e=>e.rootProps.syncId,D3=e=>e.rootProps.syncMethod,Fk=e=>e.options.eventEmitter,sre=e=>e.rootProps.baseValue,Ft={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ui={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},pn={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},$v=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},ore={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:Ui.reversed,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:Ui.type,unit:void 0},lre={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:pn.type,unit:void 0},ure={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ui.scale,tick:Ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cre={allowDataOverflow:pn.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:pn.tickCount,ticks:void 0,type:"category",unit:void 0},zk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?ure:ore,Uk=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?cre:lre,Fv=e=>e.polarOptions,Bk=F([Ta,Aa,Yt],T4),R3=F([Fv,Bk],(e,t)=>{if(e!=null)return jr(e.innerRadius,t,0)}),M3=F([Fv,Bk],(e,t)=>{if(e!=null)return jr(e.outerRadius,t,t*.8)}),dre=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},L3=F([Fv],dre);F([zk,L3],$v);var V3=F([Bk,R3,M3],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});F([Uk,V3],$v);var $3=F([Ae,Fv,R3,M3,Ta,Aa],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:jr(s,i,i/2),cy:jr(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),ut=(e,t)=>t,If=(e,t,r)=>r;function zv(e){return e==null?void 0:e.id}function F3(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var c=zv(o);u.forEach((d,p)=>{var m=a==null||i?p:String(Be(d,a,null)),v=Be(d,o.dataKey,0),y;s.has(m)?y=s.get(m):y={},Object.assign(y,{[c]:v}),s.set(m,y)})}}),Array.from(s.values())}function Uv(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Bv=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Wv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function fre(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Xt=e=>{var t=Ae(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vu=e=>e.tooltip.settings.axisId;function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){hre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hre(e,t,r){return(t=pre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pre(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iw=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},z3=(e,t)=>e.cartesianAxis.xAxis[t],Oa=(e,t)=>{var r=z3(e,t);return r??rr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:iw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xf},U3=(e,t)=>e.cartesianAxis.yAxis[t],Na=(e,t)=>{var r=U3(e,t);return r??nr},gre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Wk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??gre},wt=(e,t,r)=>{switch(t){case"xAxis":return Oa(e,r);case"yAxis":return Na(e,r);case"zAxis":return Wk(e,r);case"angleAxis":return zk(e,r);case"radiusAxis":return Uk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vre=(e,t,r)=>{switch(t){case"xAxis":return Oa(e,r);case"yAxis":return Na(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Cf=(e,t,r)=>{switch(t){case"xAxis":return Oa(e,r);case"yAxis":return Na(e,r);case"angleAxis":return zk(e,r);case"radiusAxis":return Uk(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},B3=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Kk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Kv=e=>e.graphicalItems.cartesianItems,yre=F([ut,If],Kk),Hk=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Of=F([Kv,wt,yre],Hk,{memoizeOptions:{resultEqualityCheck:Wv}}),W3=F([Of],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uv)),K3=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),xre=F([Of],K3),qk=e=>e.map(t=>t.data).filter(Boolean).flat(1),bre=F([Of],qk,{memoizeOptions:{resultEqualityCheck:Wv}}),Gk=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Yk=F([bre,m3],Gk),Qk=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Be(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Be(i,n)}))):e.map(n=>({value:n})),Hv=F([Yk,wt,Of],Qk);function H3(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function xp(e){if(Ti(e)||e instanceof Date){var t=Number(e);if(He(t))return t}}function RC(e){if(Array.isArray(e)){var t=[xp(e[0]),xp(e[1])];return Ts(t)?t:void 0}var r=xp(e);if(r!=null)return[r,r]}function ya(e){return e.map(xp).filter(OG)}function wre(e,t,r){return!r||typeof t!="number"||$n(t)?[]:r.length?ya(r.flatMap(n=>{var i=Be(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!He(a)||!He(s)))return[t-a,t+s]})):[]}var Jt=e=>{var t=Xt(e),r=Vu(e);return Cf(e,t,r)},Nf=F([Jt],e=>e==null?void 0:e.dataKey),_re=F([W3,m3,Jt],F3),q3=(e,t,r,n)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=n?[...l].reverse():l,c=u.map(zv);return[o,{stackedData:GQ(e,c,r),graphicalItems:u}]}))},Ym=F([_re,W3,Af,j3],q3),G3=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(n==null&&r!=="zAxis"){var s=JQ(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},kre=F([wt],e=>e.allowDataOverflow),Xk=e=>{var t;if(e==null||!("domain"in e))return iw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=ya(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:iw},Jk=F([wt],Xk),Zk=F([Jk,kre],v3),Ere=F([Ym,Ca,ut,Zk],G3,{memoizeOptions:{resultEqualityCheck:Bv}}),qv=e=>e.errorBars,Sre=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>H3(r,n)),Qm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},eE=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var u,c,d=(u=n[l.id])===null||u===void 0?void 0:u.filter(b=>H3(i,b)),p=Be(o,(c=t.dataKey)!==null&&c!==void 0?c:l.dataKey),m=wre(o,p,d);if(m.length>=2){var v=Math.min(...m),y=Math.max(...m);(a==null||v<a)&&(a=v),(s==null||y>s)&&(s=y)}var x=RC(p);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=RC(Be(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),He(a)&&He(s))return[a,s]},Pre=F([Yk,wt,xre,qv,ut],eE,{memoizeOptions:{resultEqualityCheck:Bv}});function Tre(e){var{value:t}=e;if(Ti(t)||t instanceof Date)return t}var Are=(e,t,r)=>{var n=e.map(Tre).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&zM(n))?D4(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Y3=e=>e.referenceElements.dots,$u=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Ire=F([Y3,ut,If],$u),Q3=e=>e.referenceElements.areas,Cre=F([Q3,ut,If],$u),X3=e=>e.referenceElements.lines,Ore=F([X3,ut,If],$u),J3=(e,t)=>{if(e!=null){var r=ya(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Nre=F(Ire,ut,J3),Z3=(e,t)=>{if(e!=null){var r=ya(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},jre=F([Cre,ut],Z3);function Dre(e){var t;if(e.x!=null)return ya([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ya(r)}function Rre(e){var t;if(e.y!=null)return ya([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ya(r)}var e5=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?Dre(n):Rre(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Mre=F([Ore,ut],e5),Lre=F(Nre,Mre,jre,(e,t,r)=>Qm(e,r,t)),tE=(e,t,r,n,i,a,s,o)=>{if(r!=null)return r;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?Qm(n,a,i):Qm(a,i);return qte(t,u,e.allowDataOverflow)},Vre=F([wt,Jk,Zk,Ere,Pre,Lre,Ae,ut],tE,{memoizeOptions:{resultEqualityCheck:Bv}}),$re=[0,1],rE=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=Pa(t,a);if(u&&o==null){var c;return D4(0,(c=r==null?void 0:r.length)!==null&&c!==void 0?c:0)}return l==="category"?Are(n,e,u):i==="expand"?$re:s}},nE=F([wt,Ae,Yk,Hv,Af,ut,Vre],rE),t5=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(hf(a));return o in Dc?o:"point"}}},Fu=F([wt,Ae,B3,Vk,ut],t5);function Fre(e){if(e!=null){if(e in Dc)return Dc[e]();var t="scale".concat(hf(e));if(t in Dc)return Dc[t]()}}function iE(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=Fre(t);if(i!=null){var a=i.domain(r).range(n);return BQ(a),a}}}var aE=(e,t,r)=>{var n=Xk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ts(e))return rre(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ts(e))return nre(e,t.tickCount,t.allowDecimals)}},sE=F([nE,Cf,Fu],aE),oE=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ts(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},zre=F([wt,nE,sE,ut],oE),Ure=F(Hv,wt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ya(e.map(d=>d.value))).sort((d,p)=>d-p),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var c=u-l;r=Math.min(r,c)}}return r/s}}),r5=F(Ure,Ae,N3,Yt,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!He(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=jr(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),Bre=(e,t,r)=>{var n=Oa(e,t);return n==null||typeof n.padding!="string"?0:r5(e,"xAxis",t,r,n.padding)},Wre=(e,t,r)=>{var n=Na(e,t);return n==null||typeof n.padding!="string"?0:r5(e,"yAxis",t,r,n.padding)},Kre=F(Oa,Bre,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),Hre=F(Na,Wre,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),qre=F([Yt,Kre,Pv,Sv,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),Gre=F([Yt,Ae,Hre,Pv,Sv,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),jf=(e,t,r,n)=>{var i;switch(t){case"xAxis":return qre(e,r,n);case"yAxis":return Gre(e,r,n);case"zAxis":return(i=Wk(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return L3(e);case"radiusAxis":return V3(e,r);default:return}},n5=F([wt,jf],$v),Gv=F([wt,Fu,zre,n5],iE);F([Of,qv,ut],Sre);function i5(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Yv=(e,t)=>t,Qv=(e,t,r)=>r,Yre=F(kv,Yv,Qv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(i5)),Qre=F(Ev,Yv,Qv,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(i5)),a5=(e,t)=>({width:e.width,height:t.height}),Xre=(e,t)=>{var r=typeof t.width=="number"?t.width:xf;return{width:r,height:e.height}},s5=F(Yt,Oa,a5),Jre=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Zre=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ene=F(Aa,Yt,Yre,Yv,Qv,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=a5(t,o);s==null&&(s=Jre(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),tne=F(Ta,Yt,Qre,Yv,Qv,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=Xre(t,o);s==null&&(s=Zre(t,n,e));var u=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),rne=(e,t)=>{var r=Oa(e,t);if(r!=null)return ene(e,r.orientation,r.mirror)},nne=F([Yt,Oa,rne,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),ine=(e,t)=>{var r=Na(e,t);if(r!=null)return tne(e,r.orientation,r.mirror)},ane=F([Yt,Na,ine,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),o5=F(Yt,Na,(e,t)=>{var r=typeof t.width=="number"?t.width:xf;return{width:r,height:e.height}}),MC=(e,t,r)=>{switch(t){case"xAxis":return s5(e,r).width;case"yAxis":return o5(e,r).height;default:return}},l5=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Pa(e,n),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&zM(l))return l}},lE=F([Ae,Hv,wt,ut],l5),u5=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Pa(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},uE=F([Ae,Hv,Cf,ut],u5),LC=F([Ae,vre,Fu,Gv,lE,uE,jf,sE,ut],(e,t,r,n,i,a,s,o,l)=>{if(t!=null){var u=Pa(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}}),sne=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var u=Pa(e,l),{type:c,ticks:d,tickCount:p}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=c==="category"&&n.bandwidth?n.bandwidth()/m:0;v=l==="angleAxis"&&a!=null&&a.length>=2?lr(a[0]-a[1])*2*v:v;var y=d||i;if(y){var x=y.map((b,_)=>{var E=s?s.indexOf(b):b;return{index:_,coordinate:n(E)+v,value:b,offset:v}});return x.filter(b=>He(b.coordinate))}return u&&o?o.map((b,_)=>({coordinate:n(b)+v,value:b,index:_,offset:v})).filter(b=>He(b.coordinate)):n.ticks?n.ticks(p).map(b=>({coordinate:n(b)+v,value:b,offset:v})):n.domain().map((b,_)=>({coordinate:n(b)+v,value:s?s[b]:b,index:_,offset:v}))}},c5=F([Ae,Cf,Fu,Gv,sE,jf,lE,uE,ut],sne),one=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Pa(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?lr(n[0]-n[1])*2*u:u,o&&a?a.map((c,d)=>({coordinate:r(c)+u,value:c,index:d,offset:u})):r.ticks?r.ticks(l).map(c=>({coordinate:r(c)+u,value:c,offset:u})):r.domain().map((c,d)=>({coordinate:r(c)+u,value:i?i[c]:c,index:d,offset:u}))}},As=F([Ae,Cf,Gv,jf,lE,uE,ut],one),Is=F(wt,Gv,(e,t)=>{if(!(e==null||t==null))return Gm(Gm({},e),{},{scale:t})}),lne=F([wt,Fu,nE,n5],iE);F((e,t,r)=>Wk(e,r),lne,(e,t)=>{if(!(e==null||t==null))return Gm(Gm({},e),{},{scale:t})});var une=F([Ae,kv,Ev],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),d5=e=>e.options.defaultTooltipEventType,f5=e=>e.options.validateTooltipEventTypes;function h5(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function cE(e,t){var r=d5(e),n=f5(e);return h5(t,r,n)}function cne(e){return se(t=>cE(t,e))}var p5=(e,t)=>{var r,n=Number(t);if(!($n(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},dne=e=>e.tooltip.settings,Za={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fne={itemInteraction:{click:Za,hover:Za},axisInteraction:{click:Za,hover:Za},keyboardInteraction:Za,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},m5=on({name:"tooltip",initialState:fne,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:st()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ti(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:st()},removeTooltipEntrySettings:{reducer(e,t){var r=ti(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:st()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:hne,replaceTooltipEntrySettings:pne,removeTooltipEntrySettings:mne,setTooltipSettingsState:gne,setActiveMouseOverItemIndex:g5,mouseLeaveItem:vne,mouseLeaveChart:v5,setActiveClickItemIndex:yne,setMouseOverAxisIndex:y5,setMouseClickAxisIndex:xne,setSyncInteraction:aw,setKeyboardInteraction:sw}=m5.actions,bne=m5.reducer;function VC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VC(Object(r),!0).forEach(function(n){wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wne(e,t,r){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=kne(e,"string");return typeof t=="symbol"?t:t+""}function kne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ene(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Sne(e){return e.index!=null}var x5=(e,t,r,n)=>{if(t==null)return Za;var i=Ene(e,t,r);if(i==null)return Za;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Sne(i)){if(a)return Fh(Fh({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return Fh(Fh({},Za),{},{coordinate:i.coordinate})};function Pne(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Tne(e,t){var r=Pne(e),n=t[0],i=t[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function Ane(e,t,r){if(r==null||t==null)return!0;var n=Be(e,t);return n==null||!Ts(r)?!0:Tne(n,r)}var dE=(e,t,r,n)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!He(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||Ane(u,r,n)?String(l):null},b5=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var c=i==null?void 0:i[Number(a)];if(c)switch(r){case"horizontal":return{x:c.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:c.coordinate}}}},w5=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Df=e=>e.options.tooltipPayloadSearcher,zu=e=>e.tooltip;function $C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$C(Object(r),!0).forEach(function(n){Ine(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$C(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ine(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=One(e,"string");return typeof t=="symbol"?t:t+""}function One(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e,t){return e??t}var _5=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:c}=r,d=[];return e.reduce((p,m)=>{var v,{dataDefinedOnItem:y,settings:x}=m,b=Nne(y,o),_=Array.isArray(b)?QL(b,u,c):b,E=(v=x==null?void 0:x.dataKey)!==null&&v!==void 0?v:n,A=x==null?void 0:x.nameKey,N;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?N=UM(_,n,i):N=a(_,t,l,A),Array.isArray(N))N.forEach(k=>{var S=FC(FC({},x),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});p.push(XA({tooltipEntrySettings:S,dataKey:k.dataKey,payload:k.payload,value:Be(k.payload,k.dataKey),name:k.name}))});else{var j;p.push(XA({tooltipEntrySettings:x,dataKey:E,payload:N,value:Be(N,E),name:(j=Be(N,A))!==null&&j!==void 0?j:x==null?void 0:x.name}))}return p},d)}},fE=F([Jt,Ae,B3,Vk,Xt],t5),jne=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Dne=F([Xt,Vu],Kk),Uu=F([jne,Jt,Dne],Hk,{memoizeOptions:{resultEqualityCheck:Wv}}),Rne=F([Uu],e=>e.filter(Uv)),Mne=F([Uu],qk,{memoizeOptions:{resultEqualityCheck:Wv}}),Bu=F([Mne,Ca],Gk),Lne=F([Rne,Ca,Jt],F3),hE=F([Bu,Jt,Uu],Qk),k5=F([Jt],Xk),Vne=F([Jt],e=>e.allowDataOverflow),E5=F([k5,Vne],v3),$ne=F([Uu],e=>e.filter(Uv)),Fne=F([Lne,$ne,Af,j3],q3),zne=F([Fne,Ca,Xt,E5],G3),Une=F([Uu],K3),Bne=F([Bu,Jt,Une,qv,Xt],eE,{memoizeOptions:{resultEqualityCheck:Bv}}),Wne=F([Y3,Xt,Vu],$u),Kne=F([Wne,Xt],J3),Hne=F([Q3,Xt,Vu],$u),qne=F([Hne,Xt],Z3),Gne=F([X3,Xt,Vu],$u),Yne=F([Gne,Xt],e5),Qne=F([Kne,Yne,qne],Qm),Xne=F([Jt,k5,E5,zne,Bne,Qne,Ae,Xt],tE),Rf=F([Jt,Ae,Bu,hE,Af,Xt,Xne],rE),Jne=F([Rf,Jt,fE],aE),Zne=F([Jt,Rf,Jne,Xt],oE),S5=e=>{var t=Xt(e),r=Vu(e),n=!1;return jf(e,t,r,n)},P5=F([Jt,S5],$v),T5=F([Jt,fE,Zne,P5],iE),eie=F([Ae,hE,Jt,Xt],l5),tie=F([Ae,hE,Jt,Xt],u5),rie=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,u=Pa(e,o);if(n){var c=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=l==="category"&&n.bandwidth?n.bandwidth()/c:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?lr(i[0]-i[1])*2*d:d,u&&s?s.map((p,m)=>({coordinate:n(p)+d,value:p,index:m,offset:d})):n.domain().map((p,m)=>({coordinate:n(p)+d,value:a?a[p]:p,index:m,offset:d}))}}},ja=F([Ae,Jt,fE,T5,S5,eie,tie,Xt],rie),pE=F([d5,f5,dne],(e,t,r)=>h5(r.shared,e,t)),A5=e=>e.tooltip.settings.trigger,mE=e=>e.tooltip.settings.defaultIndex,Mf=F([zu,pE,A5,mE],x5),Cs=F([Mf,Bu,Nf,Rf],dE),I5=F([ja,Cs],p5),gE=F([Mf],e=>{if(e)return e.dataKey}),nie=F([Mf],e=>{if(e)return e.graphicalItemId}),C5=F([zu,pE,A5,mE],w5),iie=F([Ta,Aa,Ae,Yt,ja,mE,C5,Df],b5),aie=F([Mf,iie],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),sie=F([Mf],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),oie=F([C5,Cs,Ca,Nf,I5,Df,pE],_5),lie=F([oie],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function zC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zC(Object(r),!0).forEach(function(n){uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uie(e,t,r){return(t=cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fie=()=>se(Jt),hie=()=>{var e=fie(),t=se(ja),r=se(T5);return vu(!e||!r?void 0:UC(UC({},e),{},{scale:r}),t)};function BC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BC(Object(r),!0).forEach(function(n){pie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pie(e,t,r){return(t=mie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mie(e){var t=gie(e,"string");return typeof t=="symbol"?t:t+""}function gie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vie=(e,t,r,n)=>{var i=t.find(a=>a&&a.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},yie=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=n;return dl(dl(dl({},n),$t(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return dl(dl(dl({},n),$t(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xie(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var O5=(e,t,r,n,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,c,d,p,m=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[s-1])===null||u===void 0?void 0:u.coordinate,v=(c=r[o])===null||c===void 0?void 0:c.coordinate,y=o>=s-1?(d=r[0])===null||d===void 0?void 0:d.coordinate:(p=r[o+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||v==null||y==null))if(lr(v-m)!==lr(y-v)){var b=[];if(lr(y-v)===lr(i[1]-i[0])){x=y;var _=v+i[1]-i[0];b[0]=Math.min(_,(_+m)/2),b[1]=Math.max(_,(_+m)/2)}else{x=m;var E=y+i[1]-i[0];b[0]=Math.min(v,(E+v)/2),b[1]=Math.max(v,(E+v)/2)}var A=[Math.min(v,(x+v)/2),Math.max(v,(x+v)/2)];if(e>A[0]&&e<=A[1]||e>=b[0]&&e<=b[1]){var N;return(N=r[o])===null||N===void 0?void 0:N.index}}else{var j=Math.min(m,y),k=Math.max(m,y);if(e>(j+v)/2&&e<=(k+v)/2){var S;return(S=r[o])===null||S===void 0?void 0:S.index}}}else if(t)for(var T=0;T<s;T++){var O=t[T];if(O!=null){var C=t[T+1],I=t[T-1];if(T===0&&C!=null&&e<=(O.coordinate+C.coordinate)/2||T===s-1&&I!=null&&e>(O.coordinate+I.coordinate)/2||T>0&&T<s-1&&I!=null&&C!=null&&e>(O.coordinate+I.coordinate)/2&&e<=(O.coordinate+C.coordinate)/2)return O.index}}return-1},N5=()=>se(Vk),vE=(e,t)=>t,j5=(e,t,r)=>r,yE=(e,t,r,n)=>n,bie=F(ja,e=>pv(e,t=>t.coordinate)),xE=F([zu,vE,j5,yE],x5),bE=F([xE,Bu,Nf,Rf],dE),wie=(e,t,r)=>{if(t!=null){var n=zu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},D5=F([zu,vE,j5,yE],w5),Xm=F([Ta,Aa,Ae,Yt,ja,yE,D5,Df],b5),_ie=F([xE,Xm],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),R5=F([ja,bE],p5),kie=F([D5,bE,Ca,Nf,R5,Df,vE],_5),Eie=F([xE,bE],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Sie=(e,t,r,n,i,a,s)=>{if(!(!e||!r||!n||!i)&&xie(e,s)){var o=ZQ(e,t),l=O5(o,a,i,r,n),u=vie(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},Pie=(e,t,r,n,i,a,s)=>{if(!(!e||!n||!i||!a||!r)){var o=hZ(e,r);if(o){var l=eX(o,t),u=O5(l,s,a,n,i),c=yie(t,a,u,o);return{activeIndex:String(u),activeCoordinate:c}}}},Tie=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a))return t==="horizontal"||t==="vertical"?Sie(e,t,n,i,a,s,o):Pie(e,t,r,n,i,a,s)},Aie=F(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),Iie=F(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ft)),r=Array.from(new Set(t));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:fre}});function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Nie(e,"string");return typeof t=="symbol"?t:t+""}function Nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jie={},Die={zIndexMap:Object.values(Ft).reduce((e,t)=>KC(KC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),jie)},Rie=new Set(Object.values(Ft));function Mie(e){return Rie.has(e)}var M5=on({name:"zIndex",initialState:Die,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:st()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Mie(r)&&delete e.zIndexMap[r])},prepare:st()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:st()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:st()}}}),{registerZIndexPortal:Lie,unregisterZIndexPortal:Vie,registerZIndexPortalElement:$ie,unregisterZIndexPortalElement:Fie}=M5.actions,zie=M5.reducer;function ln(e){var{zIndex:t,children:r}=e,n=AX(),i=n&&t!==void 0&&t!==0,a=Mr(),s=Qe();g.useLayoutEffect(()=>i?(s(Lie({zIndex:t})),()=>{s(Vie({zIndex:t}))}):pf,[s,t,i]);var o=se(l=>Aie(l,t,a));return i?o?Ag.createPortal(r,o):null:r}function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(r),!0).forEach(function(n){Uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uie(e,t,r){return(t=Bie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bie(e){var t=Wie(e,"string");return typeof t=="symbol"?t:t+""}function Wie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kie(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return g.isValidElement(t)?g.cloneElement(t,n):g.createElement(r,n)}function Hie(e){var t,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:c}=e,d=r,p=n,m=i;if(!l||!d||c!=="ScatterChart"&&u!=="axis")return null;var v,y,x;if(c==="ScatterChart")v=d,y=TJ,x=Ft.cursorLine;else if(c==="BarChart")v=AJ(o,d,a,s),y=P4,x=Ft.cursorRectangle;else if(o==="radial"&&WM(d)){var{cx:b,cy:_,radius:E,startAngle:A,endAngle:N}=A4(d);v={cx:b,cy:_,startAngle:A,endAngle:N,innerRadius:E,outerRadius:E},y=C4,x=Ft.cursorLine}else v={points:vZ(o,d,a)},y=Gl,x=Ft.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,k=zh(zh(zh(zh({stroke:"#ccc",pointerEvents:"none"},a),v),Vo(l)),{},{payload:p,payloadIndex:m,className:Pe("recharts-tooltip-cursor",j)});return g.createElement(ln,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},g.createElement(Kie,{cursor:l,cursorComp:y,cursorProps:k}))}function qie(e){var t=hie(),r=c4(),n=Jo(),i=N5();return t==null||r==null||n==null||i==null?null:g.createElement(Hie,ow({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var L5=g.createContext(null),Gie=()=>g.useContext(L5),V5={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,d,p){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,d||l,p),v=r?r+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],m]:l._events[v].push(m):(l._events[v]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)t.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},o.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,v=new Array(m);p<m;p++)v[p]=d[p].fn;return v},o.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,c,d,p,m,v){var y=r?r+u:u;if(!this._events[y])return!1;var x=this._events[y],b=arguments.length,_,E;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,p),!0;case 5:return x.fn.call(x.context,c,d,p,m),!0;case 6:return x.fn.call(x.context,c,d,p,m,v),!0}for(E=1,_=new Array(b-1);E<b;E++)_[E-1]=arguments[E];x.fn.apply(x.context,_)}else{var A=x.length,N;for(E=0;E<A;E++)switch(x[E].once&&this.removeListener(u,x[E].fn,void 0,!0),b){case 1:x[E].fn.call(x[E].context);break;case 2:x[E].fn.call(x[E].context,c);break;case 3:x[E].fn.call(x[E].context,c,d);break;case 4:x[E].fn.call(x[E].context,c,d,p);break;default:if(!_)for(N=1,_=new Array(b-1);N<b;N++)_[N-1]=arguments[N];x[E].fn.apply(x[E].context,_)}}return!0},o.prototype.on=function(u,c,d){return a(this,u,c,d,!1)},o.prototype.once=function(u,c,d){return a(this,u,c,d,!0)},o.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return s(this,m),this;var v=this._events[m];if(v.fn)v.fn===c&&(!p||v.once)&&(!d||v.context===d)&&s(this,m);else{for(var y=0,x=[],b=v.length;y<b;y++)(v[y].fn!==c||p&&!v[y].once||d&&v[y].context!==d)&&x.push(v[y]);x.length?this._events[m]=x.length===1?x[0]:x:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&s(this,c)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(V5);var Yie=V5.exports;const Qie=ba(Yie);var Bd=new Qie,lw="recharts.syncEvent.tooltip",qC="recharts.syncEvent.brush";function wE(e,t){if(t){var r=Number.parseInt(t,10);if(!$n(r))return e==null?void 0:e[r]}}var Xie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$5=on({name:"options",initialState:Xie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Jie=$5.reducer,{createEventEmitter:Zie}=$5.actions;function eae(e){return e.tooltip.syncInteraction}var tae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},F5=on({name:"chartData",initialState:tae,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:GC,setDataStartEndIndexes:rae,setComputedData:Lpe}=F5.actions,nae=F5.reducer,iae=["x","y"];function YC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(r),!0).forEach(function(n){aae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aae(e,t,r){return(t=sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=oae(e,"string");return typeof t=="symbol"?t:t+""}function oae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lae(e,t){if(e==null)return{};var r,n,i=uae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cae(){var e=se($k),t=se(Fk),r=Qe(),n=se(D3),i=se(ja),a=Jo(),s=Tv(),o=se(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return pf;var l=(u,c,d)=>{if(t!==d&&e===u){if(n==="index"){var p;if(s&&c!==null&&c!==void 0&&(p=c.payload)!==null&&p!==void 0&&p.coordinate&&c.payload.sourceViewBox){var m=c.payload.coordinate,{x:v,y}=m,x=lae(m,iae),{x:b,y:_,width:E,height:A}=c.payload.sourceViewBox,N=fl(fl({},x),{},{x:s.x+(E?(v-b)/E:0)*s.width,y:s.y+(A?(y-_)/A:0)*s.height});r(fl(fl({},c),{},{payload:fl(fl({},c.payload),{},{coordinate:N})}))}else r(c);return}if(i!=null){var j;if(typeof n=="function"){var k={activeTooltipIndex:c.payload.index==null?void 0:Number(c.payload.index),isTooltipActive:c.payload.active,activeIndex:c.payload.index==null?void 0:Number(c.payload.index),activeLabel:c.payload.label,activeDataKey:c.payload.dataKey,activeCoordinate:c.payload.coordinate},S=n(i,k);j=i[S]}else n==="value"&&(j=i.find(L=>String(L.value)===c.payload.label));var{coordinate:T}=c.payload;if(j==null||c.payload.active===!1||T==null||s==null){r(aw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:O,y:C}=T,I=Math.min(O,s.x+s.width),D=Math.min(C,s.y+s.height),B={x:a==="horizontal"?j.coordinate:I,y:a==="horizontal"?D:j.coordinate},X=aw({active:c.payload.active,coordinate:B,dataKey:c.payload.dataKey,index:String(j.index),label:c.payload.label,sourceViewBox:c.payload.sourceViewBox,graphicalItemId:c.payload.graphicalItemId});r(X)}}};return Bd.on(lw,l),()=>{Bd.off(lw,l)}},[o,r,t,e,n,i,a,s])}function dae(){var e=se($k),t=se(Fk),r=Qe();g.useEffect(()=>{if(e==null)return pf;var n=(i,a,s)=>{t!==s&&e===i&&r(rae(a))};return Bd.on(qC,n),()=>{Bd.off(qC,n)}},[r,t,e])}function fae(){var e=Qe();g.useEffect(()=>{e(Zie())},[e]),cae(),dae()}function hae(e,t,r,n,i,a){var s=se(m=>wie(m,e,t)),o=se(Fk),l=se($k),u=se(D3),c=se(eae),d=c==null?void 0:c.active,p=Tv();g.useEffect(()=>{if(!d&&l!=null&&o!=null){var m=aw({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:p,graphicalItemId:void 0});Bd.emit(lw,l,m,o)}},[d,r,s,i,n,o,l,u,a,p])}function QC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(r),!0).forEach(function(n){pae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pae(e,t,r){return(t=mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mae(e){var t=gae(e,"string");return typeof t=="symbol"?t:t+""}function gae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vae(e){return e.dataKey}function yae(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(sJ,t)}var JC=[],xae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ql(e){var t,r,n=Ut(e,xae),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:p,position:m,reverseDirection:v,useTranslate3d:y,wrapperStyle:x,cursor:b,shared:_,trigger:E,defaultIndex:A,portal:N,axisId:j}=n,k=Qe(),S=typeof A=="number"?String(A):A;g.useEffect(()=>{k(gne({shared:_,trigger:E,axisId:j,active:i,defaultIndex:S}))},[k,_,E,j,i,S]);var T=Tv(),O=w4(),C=cne(_),{activeIndex:I,isActive:D}=(t=se(Oe=>Eie(Oe,C,E,S)))!==null&&t!==void 0?t:{},B=se(Oe=>kie(Oe,C,E,S)),X=se(Oe=>R5(Oe,C,E,S)),L=se(Oe=>_ie(Oe,C,E,S)),H=B,M=Gie(),V=(r=i??D)!==null&&r!==void 0?r:!1,[Y,Z]=bL([H,V]),re=C==="axis"?X:void 0;hae(C,E,L,re,I,V);var ge=N??M;if(ge==null||T==null||C==null)return null;var ke=H??JC;V||(ke=JC),u&&ke.length&&(ke=lL(ke.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||n.includeHidden)),p,vae));var dt=ke.length>0,it=g.createElement(hJ,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:c,active:V,coordinate:L,hasPayload:dt,offset:d,position:m,reverseDirection:v,useTranslate3d:y,viewBox:T,wrapperStyle:x,lastBoundingBox:Y,innerRef:Z,hasPortalFromProps:!!N},yae(l,XC(XC({},n),{},{payload:ke,label:re,active:V,activeIndex:I,coordinate:L,accessibilityLayer:O})));return g.createElement(g.Fragment,null,Ag.createPortal(it,ge),V&&g.createElement(qie,{cursor:b,tooltipEventType:C,coordinate:L,payload:ke,index:I}))}var tl=e=>null;tl.displayName="Cell";function bae(e,t,r){return(t=wae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wae(e){var t=_ae(e,"string");return typeof t=="symbol"?t:t+""}function _ae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kae{constructor(t){bae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){Sae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sae(e,t,r){return(t=Pae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pae(e){var t=Tae(e,"string");return typeof t=="symbol"?t:t+""}function Tae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aae={cacheSize:2e3,enableCache:!0},z5=Eae({},Aae),eO=new kae(z5.cacheSize),Iae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tO="recharts_measurement_span";function Cae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var rO=(e,t)=>{try{var r=document.getElementById(tO);r||(r=document.createElement("span"),r.setAttribute("id",tO),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Iae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wf.isSsr)return{width:0,height:0};if(!z5.enableCache)return rO(t,r);var n=Cae(t,r),i=eO.get(n);if(i)return i;var a=rO(t,r);return eO.set(n,a),a},U5;function Oae(e,t,r){return(t=Nae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nae(e){var t=jae(e,"string");return typeof t=="symbol"?t:t+""}function jae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Mae={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lae=["cm","mm","pt","pc","in","Q","px"];function Vae(e){return Lae.includes(e)}var Nl="NaN";function $ae(e,t){return e*Mae[t]}class pr{static parse(t){var r,[,n,i]=(r=Rae.exec(t))!==null&&r!==void 0?r:[];return n==null?pr.NaN:new pr(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,$n(t)&&(this.unit=""),r!==""&&!Dae.test(r)&&(this.num=NaN,this.unit=""),Vae(r)&&(this.num=$ae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new pr(NaN,""):new pr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new pr(NaN,""):new pr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return $n(this.num)}}U5=pr;Oae(pr,"NaN",new U5(NaN,""));function B5(e){if(e==null||e.includes(Nl))return Nl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=nO.exec(t))!==null&&r!==void 0?r:[],s=pr.parse(n??""),o=pr.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Nl;t=t.replace(nO,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,p]=(u=iO.exec(t))!==null&&u!==void 0?u:[],m=pr.parse(c??""),v=pr.parse(p??""),y=d==="+"?m.add(v):m.subtract(v);if(y.isNaN())return Nl;t=t.replace(iO,y.toString())}return t}var aO=/\(([^()]*)\)/;function Fae(e){for(var t=e,r;(r=aO.exec(t))!=null;){var[,n]=r;t=t.replace(aO,B5(n))}return t}function zae(e){var t=e.replace(/\s+/g,"");return t=Fae(t),t=B5(t),t}function Uae(e){try{return zae(e)}catch{return Nl}}function jy(e){var t=Uae(e.slice(5,-1));return t===Nl?"":t}var Bae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Wae=["dx","dy","angle","className","breakAll"];function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(null,arguments)}function sO(e,t){if(e==null)return{};var r,n,i=Kae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var W5=/[ \f\n\r\t\v\u2028\u2029]+/,K5=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];vt(t)||(r?i=t.toString().split(""):i=t.toString().split(W5));var a=i.map(o=>({word:o,width:Xc(o,n).width})),s=r?0:Xc("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Hae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var H5=(e,t,r,n)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(s),l.width+=o+r;else{var u={words:[s],width:o};i.push(u)}return i},[]),q5=e=>e.reduce((t,r)=>t.width>r.width?t:r),qae="",oO=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),u=K5({breakAll:r,style:n,children:l+qae});if(!u)return[!1,[]];var c=H5(u.wordsWithComputedWidth,a,s,o),d=c.length>i||q5(c).width>Number(a);return[d,c]},Gae=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=ee(a),c=String(s),d=H5(t,n,r,i);if(!u||i)return d;var p=d.length>a||q5(d).width>Number(n);if(!p)return d;for(var m=0,v=c.length-1,y=0,x;m<=v&&y<=c.length-1;){var b=Math.floor((m+v)/2),_=b-1,[E,A]=oO(c,_,l,o,a,n,r,i),[N]=oO(c,b,l,o,a,n,r,i);if(!E&&!N&&(m=b+1),E&&N&&(v=b-1),!E&&N){x=A;break}y++}return x||d},lO=e=>{var t=vt(e)?[]:e.toString().split(W5);return[{words:t,width:void 0}]},Yae=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!wf.isSsr){var o,l,u=K5({breakAll:a,children:n,style:i});if(u){var{wordsWithComputedWidth:c,spaceWidth:d}=u;o=c,l=d}else return lO(n);return Gae({breakAll:a,children:n,maxLines:s,style:i},o,l,t,!!r)}return lO(n)},G5="#808080",Qae={angle:0,breakAll:!1,capHeight:"0.71em",fill:G5,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Xv=g.forwardRef((e,t)=>{var r=Ut(e,Qae),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:c}=r,d=sO(r,Bae),p=g.useMemo(()=>Yae({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:m,dy:v,angle:y,className:x,breakAll:b}=d,_=sO(d,Wae);if(!Ti(n)||!Ti(i)||p.length===0)return null;var E=Number(n)+(ee(m)?m:0),A=Number(i)+(ee(v)?v:0);if(!He(E)||!He(A))return null;var N;switch(c){case"start":N=jy("calc(".concat(s,")"));break;case"middle":N=jy("calc(".concat((p.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:N=jy("calc(".concat(p.length-1," * -").concat(a,")"));break}var j=[];if(l){var k=p[0].width,{width:S}=d;j.push("scale(".concat(ee(S)&&ee(k)?S/k:1,")"))}return y&&j.push("rotate(".concat(y,", ").concat(E,", ").concat(A,")")),j.length&&(_.transform=j.join(" ")),g.createElement("text",uw({},Wr(_),{ref:t,x:E,y:A,className:Pe("recharts-text",x),textAnchor:u,fill:o.includes("url")?G5:o}),p.map((T,O)=>{var C=T.words.join(b?"":" ");return g.createElement("tspan",{x:E,dy:O===0?N:a,key:"".concat(C,"-").concat(O)},C)}))});Xv.displayName="Text";var Xae=["labelRef"],Jae=["content"];function uO(e,t){if(e==null)return{};var r,n,i=Zae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cO(Object(r),!0).forEach(function(n){ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ese(e,t,r){return(t=tse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tse(e){var t=rse(e,"string");return typeof t=="symbol"?t:t+""}function rse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bi.apply(null,arguments)}var Y5=g.createContext(null),nse=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=e,l=g.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[t,r,n,i,a,s]);return g.createElement(Y5.Provider,{value:l},o)},Q5=()=>{var e=g.useContext(Y5),t=Tv();return e||u4(t)},ise=g.createContext(null),ase=()=>{var e=g.useContext(ise),t=se($3);return e||t},sse=e=>{var{value:t,formatter:r}=e,n=vt(e.children)?t:e.children;return typeof r=="function"?r(n):n},_E=e=>e!=null&&typeof e=="function",ose=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},lse=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:c,startAngle:d,endAngle:p,clockWise:m}=i,v=(u+c)/2,y=ose(d,p),x=y>=0?1:-1,b,_;switch(t){case"insideStart":b=d+x*a,_=m;break;case"insideEnd":b=p-x*a,_=!m;break;case"end":b=p+x*a,_=m;break;default:throw new Error("Unsupported position ".concat(t))}_=y<=0?_:!_;var E=$t(o,l,v,b),A=$t(o,l,v,b+(_?1:-1)*359),N="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(A.x,",").concat(A.y),j=vt(e.id)?Cd("recharts-radial-line-"):e.id;return g.createElement("text",Bi({},n,{dominantBaseline:"central",className:Pe("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:j,d:N})),g.createElement("textPath",{xlinkHref:"#".concat(j)},r))},use=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(r==="outside"){var{x:c,y:d}=$t(n,i,s+t,u);return{x:c,y:d,textAnchor:c>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(a+s)/2,{x:m,y:v}=$t(n,i,p,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},cw=e=>"cx"in e&&ee(e.cx),cse=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!cw(r)&&(a=r);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:c}=t,d=s,p=s+(l-u)/2,m=(d+p)/2,v=(l+u)/2,y=d+l/2,x=c>=0?1:-1,b=x*n,_=x>0?"end":"start",E=x>0?"start":"end",A=l>=0?1:-1,N=A*n,j=A>0?"end":"start",k=A>0?"start":"end";if(i==="top"){var S={x:d+l/2,y:o-b,textAnchor:"middle",verticalAnchor:_};return It(It({},S),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var T={x:p+u/2,y:o+c+b,textAnchor:"middle",verticalAnchor:E};return It(It({},T),a?{height:Math.max(a.y+a.height-(o+c),0),width:u}:{})}if(i==="left"){var O={x:m-N,y:o+c/2,textAnchor:j,verticalAnchor:"middle"};return It(It({},O),a?{width:Math.max(O.x-a.x,0),height:c}:{})}if(i==="right"){var C={x:m+v+N,y:o+c/2,textAnchor:k,verticalAnchor:"middle"};return It(It({},C),a?{width:Math.max(a.x+a.width-C.x,0),height:c}:{})}var I=a?{width:v,height:c}:{};return i==="insideLeft"?It({x:m+N,y:o+c/2,textAnchor:k,verticalAnchor:"middle"},I):i==="insideRight"?It({x:m+v-N,y:o+c/2,textAnchor:j,verticalAnchor:"middle"},I):i==="insideTop"?It({x:d+l/2,y:o+b,textAnchor:"middle",verticalAnchor:E},I):i==="insideBottom"?It({x:p+u/2,y:o+c-b,textAnchor:"middle",verticalAnchor:_},I):i==="insideTopLeft"?It({x:d+N,y:o+b,textAnchor:k,verticalAnchor:E},I):i==="insideTopRight"?It({x:d+l-N,y:o+b,textAnchor:j,verticalAnchor:E},I):i==="insideBottomLeft"?It({x:p+N,y:o+c-b,textAnchor:k,verticalAnchor:_},I):i==="insideBottomRight"?It({x:p+u-N,y:o+c-b,textAnchor:j,verticalAnchor:_},I):i&&typeof i=="object"&&(ee(i.x)||ha(i.x))&&(ee(i.y)||ha(i.y))?It({x:s+jr(i.x,v),y:o+jr(i.y,c),textAnchor:"end",verticalAnchor:"end"},I):It({x:y,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},dse={angle:0,offset:5,zIndex:Ft.label,position:"middle",textBreakAll:!1};function Ka(e){var t=Ut(e,dse),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,c=ase(),d=Q5(),p=n==="center"?d:c??d,m,v,y;if(r==null?m=p:cw(r)?m=r:m=u4(r),!m||vt(i)&&vt(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var x=It(It({},t),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:b}=x,_=uO(x,Xae);return g.cloneElement(s,_)}if(typeof s=="function"){var{content:E}=x,A=uO(x,Jae);if(v=g.createElement(s,A),g.isValidElement(v))return v}else v=sse(t);var N=Wr(t);if(cw(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return lse(t,n,v,N,m);y=use(m,t.offset,t.position)}else y=cse(t,m);return g.createElement(ln,{zIndex:t.zIndex},g.createElement(Xv,Bi({ref:u,className:Pe("recharts-label",o)},N,y,{textAnchor:Hae(N.textAnchor)?N.textAnchor:y.textAnchor,breakAll:l}),v))}Ka.displayName="Label";var fse=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Ka,Bi({key:"label-implicit"},n)):Ti(e)?g.createElement(Ka,Bi({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Ka?g.cloneElement(e,It({key:"label-implicit"},n)):g.createElement(Ka,Bi({key:"label-implicit",content:e},n)):_E(e)?g.createElement(Ka,Bi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Ka,Bi({},e,{key:"label-implicit"},n)):null};function hse(e){var{label:t,labelRef:r}=e,n=Q5();return fse(t,n,r)||null}var X5={},J5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(J5);var Z5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Z5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5,r=Z5,n=fv;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(X5);var pse=X5.last;const mse=ba(pse);var gse=["valueAccessor"],vse=["dataKey","clockWise","id","textBreakAll","zIndex"];function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jm.apply(null,arguments)}function dO(e,t){if(e==null)return{};var r,n,i=yse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xse=e=>Array.isArray(e.value)?mse(e.value):e.value,eV=g.createContext(void 0),tV=eV.Provider,rV=g.createContext(void 0),bse=rV.Provider;function wse(){return g.useContext(eV)}function _se(){return g.useContext(rV)}function bp(e){var{valueAccessor:t=xse}=e,r=dO(e,gse),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,l=dO(r,vse),u=wse(),c=_se(),d=u||c;return!d||!d.length?null:g.createElement(ln,{zIndex:o??Ft.label},g.createElement(Nt,{className:"recharts-label-list"},d.map((p,m)=>{var v,y=vt(n)?t(p,m):Be(p&&p.payload,n),x=vt(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Ka,Jm({key:"label-".concat(m)},Wr(p),l,x,{fill:(v=r.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:y,textBreakAll:s,viewBox:p.viewBox,index:m,zIndex:0}))})))}bp.displayName="LabelList";function kE(e){var{label:t}=e;return t?t===!0?g.createElement(bp,{key:"labelList-implicit"}):g.isValidElement(t)||_E(t)?g.createElement(bp,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(bp,Jm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(null,arguments)}var nV=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Pe("recharts-dot",i);return ee(t)&&ee(r)&&ee(n)?g.createElement("circle",dw({},sn(e),$1(e),{className:a,cx:t,cy:r,r:n})):null},iV=e=>e.graphicalItems.polarItems,kse=F([ut,If],Kk),Jv=F([iV,wt,kse],Hk),Ese=F([Jv],qk),Zv=F([Ese,Vv],Gk),Sse=F([Zv,wt,Jv],Qk);F([Zv,wt,Jv],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Be(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Be(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var fO=()=>{},Pse=F([Zv,wt,Jv,qv,ut],eE),Tse=F([wt,Jk,Zk,fO,Pse,fO,Ae,ut],tE),aV=F([wt,Ae,Zv,Sse,Af,ut,Tse],rE),Ase=F([aV,wt,Fu],aE);F([wt,aV,Ase,ut],oE);var Ise={radiusAxis:{},angleAxis:{}},sV=on({name:"polarAxis",initialState:Ise,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Vpe,removeRadiusAxis:$pe,addAngleAxis:Fpe,removeAngleAxis:zpe}=sV.actions,Cse=sV.reducer;function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){Ose(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ose(e,t,r){return(t=Nse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nse(e){var t=jse(e,"string");return typeof t=="symbol"?t:t+""}function jse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dse=(e,t)=>t,EE=F([iV,Dse],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Rse=[],SE=(e,t,r)=>(r==null?void 0:r.length)===0?Rse:r,oV=F([Vv,EE,SE],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>pO(pO({},t.presentationProps),a.props))),i!=null)return i}}),Mse=F([oV,EE,SE],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Be(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Du(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Lse=F([oV,EE,SE,Yt],(e,t,r,n)=>{if(!(t==null||e==null))return Loe({offset:n,pieSettings:t,displayedData:e,cells:r})}),lV={exports:{}},qe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE=Symbol.for("react.transitional.element"),TE=Symbol.for("react.portal"),e0=Symbol.for("react.fragment"),t0=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),n0=Symbol.for("react.consumer"),i0=Symbol.for("react.context"),a0=Symbol.for("react.forward_ref"),s0=Symbol.for("react.suspense"),o0=Symbol.for("react.suspense_list"),l0=Symbol.for("react.memo"),u0=Symbol.for("react.lazy"),Vse=Symbol.for("react.view_transition"),$se=Symbol.for("react.client.reference");function Bn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case PE:switch(e=e.type,e){case e0:case r0:case t0:case s0:case o0:case Vse:return e;default:switch(e=e&&e.$$typeof,e){case i0:case a0:case u0:case l0:return e;case n0:return e;default:return t}}case TE:return t}}}qe.ContextConsumer=n0;qe.ContextProvider=i0;qe.Element=PE;qe.ForwardRef=a0;qe.Fragment=e0;qe.Lazy=u0;qe.Memo=l0;qe.Portal=TE;qe.Profiler=r0;qe.StrictMode=t0;qe.Suspense=s0;qe.SuspenseList=o0;qe.isContextConsumer=function(e){return Bn(e)===n0};qe.isContextProvider=function(e){return Bn(e)===i0};qe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===PE};qe.isForwardRef=function(e){return Bn(e)===a0};qe.isFragment=function(e){return Bn(e)===e0};qe.isLazy=function(e){return Bn(e)===u0};qe.isMemo=function(e){return Bn(e)===l0};qe.isPortal=function(e){return Bn(e)===TE};qe.isProfiler=function(e){return Bn(e)===r0};qe.isStrictMode=function(e){return Bn(e)===t0};qe.isSuspense=function(e){return Bn(e)===s0};qe.isSuspenseList=function(e){return Bn(e)===o0};qe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===e0||e===r0||e===t0||e===s0||e===o0||typeof e=="object"&&e!==null&&(e.$$typeof===u0||e.$$typeof===l0||e.$$typeof===i0||e.$$typeof===n0||e.$$typeof===a0||e.$$typeof===$se||e.getModuleId!==void 0)};qe.typeOf=Bn;lV.exports=qe;var Fse=lV.exports,mO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",gO=null,Dy=null,uV=e=>{if(e===gO&&Array.isArray(Dy))return Dy;var t=[];return g.Children.forEach(e,r=>{vt(r)||(Fse.isFragment(r)?t=t.concat(uV(r.props.children)):t.push(r))}),Dy=t,gO=e,t};function AE(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>mO(i)):n=[mO(t)],uV(e).forEach(i=>{var a=Fo(i,"type.displayName")||Fo(i,"type.name");a&&n.indexOf(a)!==-1&&r.push(i)}),r}var cV=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,dV={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(dV);var zse=dV.isPlainObject;const Use=ba(zse);var vO,yO,xO,bO,wO;function _O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_O(Object(r),!0).forEach(function(n){Bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_O(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bse(e,t,r){return(t=Wse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=Kse(e,"string");return typeof t=="symbol"?t:t+""}function Kse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zm.apply(null,arguments)}function _c(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var EO=(e,t,r,n,i)=>{var a=r-n,s;return s=Et(vO||(vO=_c(["M ",",",""])),e,t),s+=Et(yO||(yO=_c(["L ",",",""])),e+r,t),s+=Et(xO||(xO=_c(["L ",",",""])),e+r-a/2,t+i),s+=Et(bO||(bO=_c(["L ",",",""])),e+r-a/2-n,t+i),s+=Et(wO||(wO=_c(["L ",","," Z"])),e,t),s},Hse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qse=e=>{var t=Ut(e,Hse),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,p=g.useRef(null),[m,v]=g.useState(-1),y=g.useRef(i),x=g.useRef(a),b=g.useRef(s),_=g.useRef(r),E=g.useRef(n),A=kf(e,"trapezoid-");if(g.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var B=p.current.getTotalLength();B&&v(B)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var N=Pe("recharts-trapezoid",o);if(!d)return g.createElement("g",null,g.createElement("path",Zm({},Wr(t),{className:N,d:EO(r,n,i,a,s)})));var j=y.current,k=x.current,S=b.current,T=_.current,O=E.current,C="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),D=_4(["strokeDasharray"],u,l);return g.createElement(_f,{animationId:A,key:A,canBegin:m>0,duration:u,easing:l,isActive:d,begin:c},B=>{var X=tt(j,i,B),L=tt(k,a,B),H=tt(S,s,B),M=tt(T,r,B),V=tt(O,n,B);p.current&&(y.current=X,x.current=L,b.current=H,_.current=M,E.current=V);var Y=B>0?{transition:D,strokeDasharray:I}:{strokeDasharray:C};return g.createElement("path",Zm({},Wr(t),{className:N,d:EO(M,V,X,L,H),ref:p,style:kO(kO({},Y),t.style)}))})},Gse=["option","shapeType","activeClassName"];function Yse(e,t){if(e==null)return{};var r,n,i=Qse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Qse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SO(Object(r),!0).forEach(function(n){Xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xse(e,t,r){return(t=Jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jse(e){var t=Zse(e,"string");return typeof t=="symbol"?t:t+""}function Zse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eoe(e,t){return eg(eg({},t),e)}function toe(e,t){return e==="symbols"}function PO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(P4,r);case"trapezoid":return g.createElement(qse,r);case"sector":return g.createElement(C4,r);case"symbols":if(toe(t))return g.createElement(V1,r);break;case"curve":return g.createElement(Gl,r);default:return null}}function roe(e){return g.isValidElement(e)?e.props:e}function fV(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,i=Yse(e,Gse),a;if(g.isValidElement(t))a=g.cloneElement(t,eg(eg({},i),roe(t)));else if(typeof t=="function")a=t(i,i.index);else if(Use(t)&&typeof t!="boolean"){var s=eoe(t,i);a=g.createElement(PO,{shapeType:r,elementProps:s})}else{var o=i;a=g.createElement(PO,{shapeType:r,elementProps:o})}return i.isActive?g.createElement(Nt,{className:n},a):a}var IE=(e,t,r)=>{var n=Qe();return(i,a)=>s=>{e==null||e(i,a,s),n(g5({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},CE=e=>{var t=Qe();return(r,n)=>i=>{e==null||e(r,n,i),t(vne())}},OE=(e,t,r)=>{var n=Qe();return(i,a)=>s=>{e==null||e(i,a,s),n(yne({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function NE(e){var{tooltipEntrySettings:t}=e,r=Qe(),n=Mr(),i=g.useRef(null);return g.useLayoutEffect(()=>{n||(i.current===null?r(hne(t)):i.current!==t&&r(pne({prev:i.current,next:t})),i.current=t)},[t,r,n]),g.useLayoutEffect(()=>()=>{i.current&&(r(mne(i.current)),i.current=null)},[r]),null}function hV(e){var{legendPayload:t}=e,r=Qe(),n=Mr(),i=g.useRef(null);return g.useLayoutEffect(()=>{n||(i.current===null?r(y4(t)):i.current!==t&&r(x4({prev:i.current,next:t})),i.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{i.current&&(r(b4(i.current)),i.current=null)},[r]),null}function noe(e){var{legendPayload:t}=e,r=Qe(),n=se(Ae),i=g.useRef(null);return g.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(y4(t)):i.current!==t&&r(x4({prev:i.current,next:t})),i.current=t)},[r,n,t]),g.useLayoutEffect(()=>()=>{i.current&&(r(b4(i.current)),i.current=null)},[r]),null}var Ry,ioe=()=>{var[e]=g.useState(()=>Cd("uid-"));return e},aoe=(Ry=A2.useId)!==null&&Ry!==void 0?Ry:ioe;function soe(e,t){var r=aoe();return t||(e?"".concat(e,"-").concat(r):r)}var ooe=g.createContext(void 0),jE=e=>{var{id:t,type:r,children:n}=e,i=soe("recharts-".concat(r),t);return g.createElement(ooe.Provider,{value:i},n(i))},loe={cartesianItems:[],polarItems:[]},pV=on({name:"graphicalItems",initialState:loe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:st()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=ti(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:st()},removeCartesianGraphicalItem:{reducer(e,t){var r=ti(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:st()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:st()},removePolarGraphicalItem:{reducer(e,t){var r=ti(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:st()}}}),{addCartesianGraphicalItem:uoe,replaceCartesianGraphicalItem:coe,removeCartesianGraphicalItem:doe,addPolarGraphicalItem:foe,removePolarGraphicalItem:hoe}=pV.actions,poe=pV.reducer,moe=e=>{var t=Qe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(uoe(e)):r.current!==e&&t(coe({prev:r.current,next:e})),r.current=e},[t,e]),g.useLayoutEffect(()=>()=>{r.current&&(t(doe(r.current)),r.current=null)},[t]),null},mV=g.memo(moe);function goe(e){var t=Qe();return g.useLayoutEffect(()=>(t(foe(e)),()=>{t(hoe(e))}),[t,e]),null}var voe=["key"],yoe=["onMouseEnter","onClick","onMouseLeave"],xoe=["id"],boe=["id"];function TO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TO(Object(r),!0).forEach(function(n){woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function woe(e,t,r){return(t=_oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _oe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(null,arguments)}function c0(e,t){if(e==null)return{};var r,n,i=Eoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Soe(e){var t=g.useMemo(()=>AE(e.children,tl),[e.children]),r=se(n=>Mse(n,e.id,t));return r==null?null:g.createElement(noe,{legendPayload:r})}var Poe=g.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:n.map(p=>p.tooltipPayload),positions:n.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Du(o,t),hide:l,type:u,color:s,unit:"",graphicalItemId:c}};return g.createElement(NE,{tooltipEntrySettings:d})}),Toe=(e,t)=>e>t?"start":e<t?"end":"middle",Aoe=(e,t,r)=>jr(typeof t=="function"?t(e):t,r,r*.8),Ioe=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=T4(a,s),l=i+jr(e.cx,a,a/2),u=n+jr(e.cy,s,s/2),c=jr(e.innerRadius,o,0),d=Aoe(r,e.outerRadius,o),p=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:p}},Coe=(e,t)=>{var r=lr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Ooe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Noe=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Pe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,i=c0(t,voe);return g.createElement(Gl,Os({},i,{type:"linear",className:r}))},joe=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var i=Pe("recharts-pie-label-text",Ooe(e));return g.createElement(Xv,Os({},t,{alignmentBaseline:"middle",className:i}),n)};function Doe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=sn(r),l=Vo(i),u=Vo(a),c=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,d=t.map((p,m)=>{var v=(p.startAngle+p.endAngle)/2,y=$t(p.cx,p.cy,p.outerRadius+c,v),x=Pt(Pt(Pt(Pt({},o),p),{},{stroke:"none"},l),{},{index:m,textAnchor:Toe(y.x,p.cx)},y),b=Pt(Pt(Pt(Pt({},o),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[$t(p.cx,p.cy,p.outerRadius,v),y],key:"line"});return g.createElement(ln,{zIndex:Ft.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},g.createElement(Nt,null,a&&Noe(a,b),joe(i,x,Be(p,s))))});return g.createElement(Nt,{className:"recharts-pie-labels"},d)}function Roe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(kE,{label:i}):g.createElement(Doe,{sectors:t,props:r,showLabels:n})}function Moe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:a,id:s}=e,o=se(Cs),l=se(gE),u=se(nie),{onMouseEnter:c,onClick:d,onMouseLeave:p}=i,m=c0(i,yoe),v=IE(c,i.dataKey,s),y=CE(p),x=OE(d,i.dataKey,s);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((b,_)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&t.length!==1)return null;var E=u==null||u===s,A=String(_)===o&&(l==null||i.dataKey===l)&&E,N=o?n:null,j=r&&A?r:N,k=Pt(Pt({},b),{},{stroke:b.stroke,tabIndex:-1,[t4]:_,[r4]:s});return g.createElement(Nt,Os({key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(_),tabIndex:-1,className:"recharts-pie-sector"},mf(m,b,_),{onMouseEnter:v(b,_),onMouseLeave:y(b,_),onClick:x(b,_)}),g.createElement(fV,Os({option:a??j,index:_,shapeType:"sector",isActive:A},k)))}))}function Loe(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:c,tooltipType:d}=r,p=Math.abs(r.minAngle),m=Coe(o,l),v=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(j=>Be(j,u,0)!==0).length,b=(v>=360?x:x-1)*y,_=v-x*p-b,E=n.reduce((j,k)=>{var S=Be(k,u,0);return j+(ee(S)?S:0)},0),A;if(E>0){var N;A=n.map((j,k)=>{var S=Be(j,u,0),T=Be(j,c,k),O=Ioe(r,a,j),C=(ee(S)?S:0)/E,I,D=Pt(Pt({},j),i&&i[k]&&i[k].props);k?I=N.endAngle+lr(m)*y*(S!==0?1:0):I=o;var B=I+lr(m)*((S!==0?p:0)+C*_),X=(I+B)/2,L=(O.innerRadius+O.outerRadius)/2,H=[{name:T,value:S,payload:D,dataKey:u,type:d,graphicalItemId:r.id}],M=$t(O.cx,O.cy,L,X);return N=Pt(Pt(Pt(Pt({},r.presentationProps),{},{percent:C,cornerRadius:typeof s=="string"?parseFloat(s):s,name:T,tooltipPayload:H,midAngle:X,middleRadius:L,tooltipPosition:M},D),O),{},{value:S,dataKey:u,startAngle:I,endAngle:B,payload:D,paddingAngle:lr(m)*y}),N})}return A}function Voe(e){var{showLabels:t,sectors:r,children:n}=e,i=g.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return g.createElement(bse,{value:t?i:void 0},n)}function $oe(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:p}=t,m=kf(t,"recharts-pie-"),v=r.current,[y,x]=g.useState(!1),b=g.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),_=g.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return g.createElement(Voe,{showLabels:!y,sectors:i},g.createElement(_f,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:_,onAnimationEnd:b,key:m},E=>{var A=[],N=i&&i[0],j=N==null?void 0:N.startAngle;return i==null||i.forEach((k,S)=>{var T=v&&v[S],O=S>0?Fo(k,"paddingAngle",0):0;if(T){var C=tt(T.endAngle-T.startAngle,k.endAngle-k.startAngle,E),I=Pt(Pt({},k),{},{startAngle:j+O,endAngle:j+C+O});A.push(I),j=I.endAngle}else{var{endAngle:D,startAngle:B}=k,X=tt(0,D-B,E),L=Pt(Pt({},k),{},{startAngle:j+O,endAngle:j+X+O});A.push(L),j=L.endAngle}}),r.current=A,g.createElement(Nt,null,g.createElement(Moe,{sectors:A,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:n}))}),g.createElement(Roe,{showLabels:!y,sectors:i,props:t}),t.children)}var Foe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ft.area};function zoe(e){var{id:t}=e,r=c0(e,xoe),{hide:n,className:i,rootTabIndex:a}=e,s=g.useMemo(()=>AE(e.children,tl),[e.children]),o=se(c=>Lse(c,t,s)),l=g.useRef(null),u=Pe("recharts-pie",i);return n||o==null?(l.current=null,g.createElement(Nt,{tabIndex:a,className:u})):g.createElement(ln,{zIndex:e.zIndex},g.createElement(Poe,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Nt,{tabIndex:a,className:u},g.createElement($oe,{props:Pt(Pt({},r),{},{sectors:o}),previousSectorsRef:l,id:t})))}function d0(e){var t=Ut(e,Foe),{id:r}=t,n=c0(t,boe),i=sn(n);return g.createElement(jE,{id:r,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(goe,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),g.createElement(Soe,Os({},n,{id:a})),g.createElement(zoe,Os({},n,{id:a}))))}d0.displayName="Pie";var Uoe=["points"];function AO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function My(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AO(Object(r),!0).forEach(function(n){Boe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Boe(e,t,r){return(t=Woe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Woe(e){var t=Koe(e,"string");return typeof t=="symbol"?t:t+""}function Koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tg(){return tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tg.apply(null,arguments)}function Hoe(e,t){if(e==null)return{};var r,n,i=qoe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Goe(e){var{option:t,dotProps:r,className:n}=e;if(g.isValidElement(t))return g.cloneElement(t,r);if(typeof t=="function")return t(r);var i=Pe(n,typeof t!="boolean"?t.className:""),a=r??{},{points:s}=a,o=Hoe(a,Uoe);return g.createElement(nV,tg({},o,{className:i}))}function Yoe(e,t){return e==null?!1:t?!0:e.length===1}function Qoe(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=Ft.scatter}=e;if(!Yoe(t,r))return null;var c=cV(r),d=zq(r),p=t.map((v,y)=>{var x,b,_=My(My(My({r:3},s),d),{},{index:y,cx:(x=v.x)!==null&&x!==void 0?x:void 0,cy:(b=v.y)!==null&&b!==void 0?b:void 0,dataKey:a,value:v.value,payload:v.payload,points:t});return g.createElement(Goe,{key:"dot-".concat(y),option:r,dotProps:_,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(c?"":"dots-").concat(l,")")),g.createElement(ln,{zIndex:u},g.createElement(Nt,tg({className:n},m),p))}function IO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IO(Object(r),!0).forEach(function(n){Xoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xoe(e,t,r){return(t=Joe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Joe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gV=0,ele={xAxis:{},yAxis:{},zAxis:{}},vV=on({name:"cartesianAxis",initialState:ele,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:st()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:st()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:st()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:st()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:st()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:st()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:st()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:st()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:st()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var s=[...a,n].slice(-3);e.yAxis[r]=CO(CO({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:tle,replaceXAxis:rle,removeXAxis:nle,addYAxis:ile,replaceYAxis:ale,removeYAxis:sle,addZAxis:Upe,replaceZAxis:Bpe,removeZAxis:Wpe,updateYAxisWidth:ole}=vV.actions,lle=vV.reducer,ule=F([Yt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),cle=F([ule,Ta,Aa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),DE=()=>se(cle),dle=()=>se(lie);function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ly(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){fle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fle(e,t,r){return(t=hle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hle(e){var t=ple(e,"string");return typeof t=="symbol"?t:t+""}function ple(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mle=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Ly(Ly(Ly({},o),Vo(i)),$1(i)),u;return g.isValidElement(i)?u=g.cloneElement(i,l):typeof i=="function"?u=i(l):u=g.createElement(nV,l),g.createElement(Nt,{className:"recharts-active-dot",clipPath:s},u)};function NO(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=Ft.activeDot}=e,o=se(Cs),l=dle();if(t==null||l==null)return null;var u=t.find(c=>l.includes(c.payload));return vt(u)?null:g.createElement(ln,{zIndex:s},g.createElement(mle,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var jO=(e,t,r)=>{var n=r??e;if(!vt(n))return jr(n,t,0)},gle=(e,t,r)=>{var n={},i=e.filter(Uv),a=e.filter(u=>u.stackId==null),s=i.reduce((u,c)=>(u[c.stackId]||(u[c.stackId]=[]),u[c.stackId].push(c),u),n),o=Object.entries(s).map(u=>{var[c,d]=u,p=d.map(v=>v.dataKey),m=jO(t,r,d[0].barSize);return{stackId:c,dataKeys:p,barSize:m}}),l=a.map(u=>{var c=[u.dataKey].filter(p=>p!=null),d=jO(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:d}});return[...o,...l]};function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){vle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vle(e,t,r){return(t=yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yle(e){var t=xle(e,"string");return typeof t=="symbol"?t:t+""}function xle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ble(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=jr(e,r,0,!0),o,l=[];if(He(n[0].barSize)){var u=!1,c=r/a,d=n.reduce((b,_)=>b+(_.barSize||0),0);d+=(a-1)*s,d>=r&&(d-=(a-1)*s,s=0),d>=r&&c>0&&(u=!0,c*=.9,d=a*c);var p=(r-d)/2>>0,m={offset:p-s,size:0};o=n.reduce((b,_)=>{var E,A={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:m.offset+m.size+s,size:u?c:(E=_.barSize)!==null&&E!==void 0?E:0}},N=[...b,A];return m=N[N.length-1].position,N},l)}else{var v=jr(t,r,0,!0);r-2*v-(a-1)*s<=0&&(s=0);var y=(r-2*v-(a-1)*s)/a;y>1&&(y>>=0);var x=He(i)?Math.min(y,i):y;o=n.reduce((b,_,E)=>[...b,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:v+(y+s)*E+(y-x)/2,size:x}}],l)}return o}}var wle=(e,t,r,n,i,a,s)=>{var o=vt(s)?t:s,l=ble(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(u=>Uh(Uh({},u),{},{position:Uh(Uh({},u.position),{},{offset:u.position.offset-i/2})}))),l},_le=(e,t)=>{var r=zv(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}};function kle(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&He(e.zIndex)?e.zIndex:t}var yV=e=>{var{chartData:t}=e,r=Qe(),n=Mr();return g.useEffect(()=>n?()=>{}:(r(GC(t)),()=>{r(GC(void 0))}),[t,r,n]),null},RO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xV=on({name:"brush",initialState:RO,reducers:{setBrushSettings(e,t){return t.payload==null?RO:t.payload}}}),{setBrushSettings:Kpe}=xV.actions,Ele=xV.reducer;function Sle(e,t,r){return(t=Ple(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ple(e){var t=Tle(e,"string");return typeof t=="symbol"?t:t+""}function Tle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RE{static create(t){return new RE(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}Sle(RE,"EPS",1e-4);function Ale(e){return(e%180+180)%180}var Ile=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Ale(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Cle={dots:[],areas:[],lines:[]},bV=on({name:"referenceElements",initialState:Cle,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ti(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ti(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ti(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Hpe,removeDot:qpe,addArea:Gpe,removeArea:Ype,addLine:Qpe,removeLine:Xpe}=bV.actions,Ole=bV.reducer,Nle=g.createContext(void 0),jle=e=>{var{children:t}=e,[r]=g.useState("".concat(Cd("recharts"),"-clip")),n=DE();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return g.createElement(Nle.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function wV(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];i!==void 0&&r.push(i)}return r}function Dle(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Ile(n,r)}function Rle(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Wd(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Mle(e,t){return wV(e,t+1)}function Lle(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,u=1,c=s,d=function(){var v=n==null?void 0:n[l];if(v===void 0)return{v:wV(n,u)};var y=l,x,b=()=>(x===void 0&&(x=r(v,y)),x),_=v.coordinate,E=l===0||Wd(e,_,b,c,o);E||(l=0,c=s,u+=1),E&&(c=_+e*(b()/2+i),l+=u)},p;u<=a.length;)if(p=d(),p)return p.v;return[]}function Vle(e,t,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var c=(s-1)%u,d=o,p=!0,m=function(){var _=n[v],E=v,A,N=()=>(A===void 0&&(A=r(_,E)),A),j=_.coordinate,k=v===c||Wd(e,j,N,d,l);if(!k)return p=!1,1;k&&(d=j+e*(N()/2+i))},v=c;v<s&&!m();v+=u);if(p){for(var y=[],x=c;x<s;x+=u)y.push(n[x]);return y}}return[]}function MO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MO(Object(r),!0).forEach(function(n){$le(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $le(e,t,r){return(t=Fle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fle(e){var t=zle(e,"string");return typeof t=="symbol"?t:t+""}function zle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ule(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(p){var m=a[p],v,y=()=>(v===void 0&&(v=r(m,p)),v);if(p===s-1){var x=e*(m.coordinate+e*y()/2-l);a[p]=m=Tr(Tr({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else a[p]=m=Tr(Tr({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=Wd(e,m.tickCoord,y,o,l);b&&(l=m.tickCoord-e*(y()/2+i),a[p]=Tr(Tr({},m),{},{isShow:!0}))}},c=s-1;c>=0;c--)u(c);return a}function Ble(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var c=n[o-1],d=r(c,o-1),p=e*(c.coordinate+e*d/2-u);if(s[o-1]=c=Tr(Tr({},c),{},{tickCoord:p>0?c.coordinate-p*e:c.coordinate}),c.tickCoord!=null){var m=Wd(e,c.tickCoord,()=>d,l,u);m&&(u=c.tickCoord-e*(d/2+i),s[o-1]=Tr(Tr({},c),{},{isShow:!0}))}}for(var v=a?o-1:o,y=function(_){var E=s[_],A,N=()=>(A===void 0&&(A=r(E,_)),A);if(_===0){var j=e*(E.coordinate-e*N()/2-l);s[_]=E=Tr(Tr({},E),{},{tickCoord:j<0?E.coordinate-j*e:E.coordinate})}else s[_]=E=Tr(Tr({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var k=Wd(e,E.tickCoord,N,l,u);k&&(l=E.tickCoord+e*(N()/2+i),s[_]=Tr(Tr({},E),{},{isShow:!0}))}},x=0;x<v;x++)y(x);return s}function ME(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:c,angle:d}=e;if(!i||!i.length||!n)return[];if(ee(l)||wf.isSsr){var p;return(p=Mle(i,ee(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],v=o==="top"||o==="bottom"?"width":"height",y=c&&v==="width"?Xc(c,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(E,A)=>{var N=typeof u=="function"?u(E.value,A):E.value;return v==="width"?Dle(Xc(N,{fontSize:t,letterSpacing:r}),y,d):Xc(N,{fontSize:t,letterSpacing:r})[v]},b=i.length>=2?lr(i[1].coordinate-i[0].coordinate):1,_=Rle(a,b,v);return l==="equidistantPreserveStart"?Lle(b,_,x,i,s):l==="equidistantPreserveEnd"?Vle(b,_,x,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=Ble(b,_,x,i,s,l==="preserveStartEnd"):m=Ule(b,_,x,i,s),m.filter(E=>E.isShow))}var Wle=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(c=>{if(c){var d=c.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(r?n:0);return Math.round(u)}return 0},Kle=["axisLine","width","height","className","hide","ticks","axisType"];function Hle(e,t){if(e==null)return{};var r,n,i=qle(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ko(){return Ko=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ko.apply(null,arguments)}function LO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LO(Object(r),!0).forEach(function(n){Gle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gle(e,t,r){return(t=Yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Qle(e,"string");return typeof t=="symbol"?t:t+""}function Qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ft.axis};function Xle(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Mt(Mt(Mt({},l),sn(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var c=+(a==="top"&&!s||a==="bottom"&&s);u=Mt(Mt({},u),{},{x1:t,y1:r+c*i,x2:t+n,y2:r+c*i})}else{var d=+(a==="left"&&!s||a==="right"&&s);u=Mt(Mt({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return g.createElement("line",Ko({},u,{className:Pe("recharts-cartesian-axis-line",Fo(o,"className"))}))}function Jle(e,t,r,n,i,a,s,o,l){var u,c,d,p,m,v,y=o?-1:1,x=e.tickSize||s,b=ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=c=e.coordinate,p=r+ +!o*i,d=p-y*x,v=d-y*l,m=b;break;case"left":d=p=e.coordinate,c=t+ +!o*n,u=c-y*x,m=u-y*l,v=b;break;case"right":d=p=e.coordinate,c=t+ +o*n,u=c+y*x,m=u+y*l,v=b;break;default:u=c=e.coordinate,p=r+ +o*i,d=p+y*x,v=d+y*l,m=b;break}return{line:{x1:u,y1:d,x2:c,y2:p},tick:{x:m,y:v}}}function Zle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function eue(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function tue(e){var{option:t,tickProps:r,value:n}=e,i,a=Pe(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,Mt(Mt({},r),{},{className:a}));else if(typeof t=="function")i=t(Mt(Mt({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Pe(s,t==null?void 0:t.className)),i=g.createElement(Xv,Ko({},r,{className:s}),n)}return i}var rue=g.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:c,mirror:d,x:p,y:m,width:v,height:y,tickSize:x,tickMargin:b,fontSize:_,letterSpacing:E,getTicksConfig:A,events:N,axisType:j}=e,k=ME(Mt(Mt({},A),{},{ticks:r}),_,E),S=Zle(c,d),T=eue(c,d),O=sn(A),C=Vo(n),I={};typeof i=="object"&&(I=i);var D=Mt(Mt({},O),{},{fill:"none"},I),B=k.map(H=>Mt({entry:H},Jle(H,p,m,v,y,c,x,d,b))),X=B.map(H=>{var{entry:M,line:V}=H;return g.createElement(Nt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},i&&g.createElement("line",Ko({},D,V,{className:Pe("recharts-cartesian-axis-tick-line",Fo(i,"className"))})))}),L=B.map((H,M)=>{var{entry:V,tick:Y}=H,Z=Mt(Mt(Mt(Mt({textAnchor:S,verticalAnchor:T},O),{},{stroke:"none",fill:a},C),Y),{},{index:M,payload:V,visibleTicksCount:k.length,tickFormatter:s,padding:l},u);return g.createElement(Nt,Ko({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},mf(N,V,M)),n&&g.createElement(tue,{option:n,tickProps:Z,value:"".concat(typeof s=="function"?s(V.value,M):V.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},L.length>0&&g.createElement(ln,{zIndex:Ft.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},L)),X.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},X))}),nue=g.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Hle(e,Kle),[c,d]=g.useState(""),[p,m]=g.useState(""),v=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Wle({ticks:v.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var y=g.useCallback(x=>{if(x){var b=x.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=b;var _=b[0];if(_){var E=window.getComputedStyle(_),A=E.fontSize,N=E.letterSpacing;(A!==c||N!==p)&&(d(A),m(N))}}},[c,p]);return s||n!=null&&n<=0||i!=null&&i<=0?null:g.createElement(ln,{zIndex:e.zIndex},g.createElement(Nt,{className:Pe("recharts-cartesian-axis",a)},g.createElement(Xle,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:sn(e)}),g.createElement(rue,{ref:y,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(nse,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(hse,{label:e.label,labelRef:e.labelRef}),e.children)))}),LE=g.forwardRef((e,t)=>{var r=Ut(e,ta);return g.createElement(nue,Ko({},r,{ref:t}))});LE.displayName="CartesianAxis";var iue=["x1","y1","x2","y2","key"],aue=["offset"],sue=["xAxisId","yAxisId"],oue=["xAxisId","yAxisId"];function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){lue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lue(e,t,r){return(t=uue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uue(e){var t=cue(e,"string");return typeof t=="symbol"?t:t+""}function cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},po.apply(null,arguments)}function rg(e,t){if(e==null)return{};var r,n,i=due(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function due(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fue=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return g.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function _V(e){var{option:t,lineItemProps:r}=e,n;if(g.isValidElement(t))n=g.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=r,c=rg(r,iue),d=(i=sn(c))!==null&&i!==void 0?i:{},{offset:p}=d,m=rg(d,aue);n=g.createElement("line",po({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return n}function hue(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=rg(e,sue),l=i.map((u,c)=>{var d=Or(Or({},o),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(c),index:c});return g.createElement(_V,{key:"line-".concat(c),option:n,lineItemProps:d})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function pue(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=rg(e,oue),l=i.map((u,c)=>{var d=Or(Or({},o),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(c),index:c});return g.createElement(_V,{option:n,lineItemProps:d,key:"line-".concat(c)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function mue(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],v=m?i+s-d:u[p+1]-d;if(v<=0)return null;var y=p%t.length;return g.createElement("rect",{key:"react-".concat(p),y:d,x:n,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function gue(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var u=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==u[0]&&u.unshift(0);var c=u.map((d,p)=>{var m=!u[p+1],v=m?i+s-d:u[p+1]-d;if(v<=0)return null;var y=p%r.length;return g.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:v,height:o,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var vue=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return XL(ME(Or(Or(Or({},ta),r),{},{ticks:JL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},yue=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return XL(ME(Or(Or(Or({},ta),r),{},{ticks:JL(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},xue={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ft.grid};function ng(e){var t=lk(),r=uk(),n=c4(),i=Or(Or({},Ut(e,xue)),{},{x:ee(e.x)?e.x:n.left,y:ee(e.y)?e.y:n.top,width:ee(e.width)?e.width:n.width,height:ee(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:p,verticalValues:m}=i,v=Mr(),y=se(T=>LC(T,"xAxis",a,v)),x=se(T=>LC(T,"yAxis",s,v));if(!Ai(u)||!Ai(c)||!ee(o)||!ee(l))return null;var b=i.verticalCoordinatesGenerator||vue,_=i.horizontalCoordinatesGenerator||yue,{horizontalPoints:E,verticalPoints:A}=i;if((!E||!E.length)&&typeof _=="function"){var N=p&&p.length,j=_({yAxis:x?Or(Or({},x),{},{ticks:N?p:x.ticks}):void 0,width:t??u,height:r??c,offset:n},N?!0:d);Im(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(E=j)}if((!A||!A.length)&&typeof b=="function"){var k=m&&m.length,S=b({xAxis:y?Or(Or({},y),{},{ticks:k?m:y.ticks}):void 0,width:t??u,height:r??c,offset:n},k?!0:d);Im(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(A=S)}return g.createElement(ln,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(fue,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(mue,po({},i,{horizontalPoints:E})),g.createElement(gue,po({},i,{verticalPoints:A})),g.createElement(hue,po({},i,{offset:n,horizontalPoints:E,xAxis:y,yAxis:x})),g.createElement(pue,po({},i,{offset:n,verticalPoints:A,xAxis:y,yAxis:x}))))}ng.displayName="CartesianGrid";var bue={},kV=on({name:"errorBars",initialState:bue,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Jpe,replaceErrorBar:Zpe,removeErrorBar:eme}=kV.actions,wue=kV.reducer,_ue=["children"];function kue(e,t){if(e==null)return{};var r,n,i=Eue(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Eue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pue=g.createContext(Sue);function Tue(e){var{children:t}=e,r=kue(e,_ue);return g.createElement(Pue.Provider,{value:r},t)}function VE(e,t){var r,n,i=se(u=>Oa(u,e)),a=se(u=>Na(u,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function EV(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=DE(),{needClipX:a,needClipY:s,needClip:o}=VE(t,r);if(!o||!i)return null;var{x:l,y:u,width:c,height:d}=i;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:a?l:l-c/2,y:s?u:u-d/2,width:a?c:c*2,height:s?d:d*2}))}function Aue(e){var t=Vo(e),r=3,n=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var Iue={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lf=g;function Cue(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Oue=typeof Object.is=="function"?Object.is:Cue,Nue=Lf.useSyncExternalStore,jue=Lf.useRef,Due=Lf.useEffect,Rue=Lf.useMemo,Mue=Lf.useDebugValue;Iue.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=jue(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Rue(function(){function l(m){if(!u){if(u=!0,c=m,m=n(m),i!==void 0&&s.hasValue){var v=s.value;if(i(v,m))return d=v}return d=m}if(v=d,Oue(c,m))return v;var y=n(m);return i!==void 0&&i(v,y)?(c=m,v):(c=m,d=y)}var u=!1,c,d,p=r===void 0?null:r;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,r,n,i]);var o=Nue(e,a[0],a[1]);return Due(function(){s.hasValue=!0,s.value=o},[o]),Mue(o),o};function Lue(e){e()}function Vue(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Lue(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var $O={notify(){},get:()=>[]};function $ue(e,t){let r,n=$O,i=0,a=!1;function s(y){c();const x=n.subscribe(y);let b=!1;return()=>{b||(b=!0,x(),d())}}function o(){n.notify()}function l(){v.onStateChange&&v.onStateChange()}function u(){return a}function c(){i++,r||(r=e.subscribe(l),n=Vue())}function d(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=$O)}function p(){a||(a=!0,c())}function m(){a&&(a=!1,d())}const v={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>n};return v}var Fue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zue=Fue(),Uue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Bue=Uue(),Wue=()=>zue||Bue?g.useLayoutEffect:g.useEffect,Kue=Wue();function FO(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Hue(e,t){if(FO(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!FO(e[r[i]],t[r[i]]))return!1;return!0}var Vy=Symbol.for("react-redux-context"),$y=typeof globalThis<"u"?globalThis:{};function que(){if(!g.createContext)return{};const e=$y[Vy]??($y[Vy]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Gue=que();function Yue(e){const{children:t,context:r,serverState:n,store:i}=e,a=g.useMemo(()=>{const l=$ue(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=g.useMemo(()=>i.getState(),[i]);Kue(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||Gue;return g.createElement(o.Provider,{value:a},t)}var Que=Yue,Xue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Jue(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function f0(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Xue.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Hue(e[n],t[n]))return!1}else if(!Jue(e[n],t[n]))return!1;return!0}function Ci(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:gV}function Oi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:gV}var SV=(e,t,r)=>Is(e,"xAxis",Ci(e,t),r),PV=(e,t,r)=>As(e,"xAxis",Ci(e,t),r),TV=(e,t,r)=>Is(e,"yAxis",Oi(e,t),r),AV=(e,t,r)=>As(e,"yAxis",Oi(e,t),r),Zue=F([Ae,SV,TV,PV,AV],(e,t,r,n,i)=>Pa(e,"xAxis")?vu(t,n,!1):vu(r,i,!1)),ece=(e,t)=>t,IV=F([Kv,ece],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),CV=e=>{var t=Ae(e),r=Pa(t,"xAxis");return r?"yAxis":"xAxis"},tce=(e,t)=>{var r=CV(e);return r==="yAxis"?Oi(e,t):Ci(e,t)},rce=(e,t,r)=>Ym(e,CV(e),tce(e,t),r),nce=F([IV,rce],(e,t)=>{var r;if(!(e==null||t==null)){var{stackId:n}=e,i=zv(e);if(!(n==null||i==null)){var a=(r=t[n])===null||r===void 0?void 0:r.stackedData,s=a==null?void 0:a.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),ice=F([Ae,SV,TV,PV,AV,nce,g3,Zue,IV,sre],(e,t,r,n,i,a,s,o,l,u)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:p}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:m}=l,v;if(m&&m.length>0?v=m:v=c==null?void 0:c.slice(d,p+1),v!=null)return kce({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:a,displayedData:v,chartBaseValue:u,bandSize:o})}}),ace=["id"],sce=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function _o(){return _o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_o.apply(null,arguments)}function OV(e,t){if(e==null)return{};var r,n,i=oce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function zO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zO(Object(r),!0).forEach(function(n){lce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lce(e,t,r){return(t=uce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uce(e){var t=cce(e,"string");return typeof t=="symbol"?t:t+""}function cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ig(e,t){return e&&e!=="none"?e:t}var dce=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:ig(n,i),value:Du(r,t),payload:e}]},fce=g.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Du(s,t),hide:o,type:u,color:ig(n,a),unit:l,graphicalItemId:c}};return g.createElement(NE,{tooltipEntrySettings:d})});function hce(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n,o=sn(n);return g.createElement(Qoe,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:t})}function pce(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return jl(jl({},l),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return g.createElement(tV,{value:t?i:void 0},r)}function UO(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:l,connectNulls:u,isRange:c}=a,{id:d}=a,p=OV(a,ace),m=sn(p),v=Wr(p);return g.createElement(g.Fragment,null,(t==null?void 0:t.length)>1&&g.createElement(Nt,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},g.createElement(Gl,_o({},v,{id:d,points:t,connectNulls:u,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&g.createElement(Gl,_o({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:t})),l!=="none"&&c&&g.createElement(Gl,_o({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:u,fill:"none",points:r}))),g.createElement(hce,{points:t,props:p,clipPathId:i}))}function mce(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.y,l=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!He(o)||!He(l))return null;var u=n*Math.abs(o-l),c=Math.max(...a.map(d=>d.x||0));return ee(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.x||0),c)),ee(c)?g.createElement("rect",{x:0,y:o<l?o:o-u,width:c+(s?parseInt("".concat(s),10):1),height:Math.floor(u)}):null}function gce(e){var t,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=e,o=(t=a[0])===null||t===void 0?void 0:t.x,l=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!He(o)||!He(l))return null;var u=n*Math.abs(o-l),c=Math.max(...a.map(d=>d.y||0));return ee(i)?c=Math.max(i,c):i&&Array.isArray(i)&&i.length&&(c=Math.max(...i.map(d=>d.y||0),c)),ee(c)?g.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(c+(s?parseInt("".concat(s),10):1))}):null}function vce(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?g.createElement(mce,{alpha:t,points:n,baseLine:i,strokeWidth:a}):g.createElement(gce,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function yce(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:c,animationEasing:d,onAnimationStart:p,onAnimationEnd:m}=n,v=g.useMemo(()=>({points:s,baseLine:o}),[s,o]),y=kf(v,"recharts-area-"),x=TX(),[b,_]=g.useState(!1),E=!b,A=g.useCallback(()=>{typeof m=="function"&&m(),_(!1)},[m]),N=g.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);if(x==null)return null;var j=i.current,k=a.current;return g.createElement(pce,{showLabels:E,points:s},n.children,g.createElement(_f,{animationId:y,begin:u,duration:c,isActive:l,easing:d,onAnimationEnd:A,onAnimationStart:N,key:y},S=>{if(j){var T=j.length/s.length,O=S===1?s:s.map((I,D)=>{var B=Math.floor(D*T);if(j[B]){var X=j[B];return jl(jl({},I),{},{x:tt(X.x,I.x,S),y:tt(X.y,I.y,S)})}return I}),C;return ee(o)?C=tt(k,o,S):vt(o)||$n(o)?C=tt(k,0,S):C=o.map((I,D)=>{var B=Math.floor(D*T);if(Array.isArray(k)&&k[B]){var X=k[B];return jl(jl({},I),{},{x:tt(X.x,I.x,S),y:tt(X.y,I.y,S)})}return I}),S>0&&(i.current=O,a.current=C),g.createElement(UO,{points:O,baseLine:C,needClip:t,clipPathId:r,props:n})}return S>0&&(i.current=s,a.current=o),g.createElement(Nt,null,l&&g.createElement("defs",null,g.createElement("clipPath",{id:"animationClipPath-".concat(r)},g.createElement(vce,{alpha:S,points:s,baseLine:o,layout:x,strokeWidth:n.strokeWidth}))),g.createElement(Nt,{clipPath:"url(#animationClipPath-".concat(r,")")},g.createElement(UO,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),g.createElement(kE,{label:n.label}))}function xce(e){var{needClip:t,clipPathId:r,props:n}=e,i=g.useRef(null),a=g.useRef();return g.createElement(yce,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class bce extends g.PureComponent{render(){var{hide:t,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:l,yAxisId:u,width:c,height:d,id:p,baseLine:m,zIndex:v}=this.props;if(t)return null;var y=Pe("recharts-area",i),x=p,{r:b,strokeWidth:_}=Aue(r),E=cV(r),A=b*2+_,N=o?"url(#clipPath-".concat(E?"":"dots-").concat(x,")"):void 0;return g.createElement(ln,{zIndex:v},g.createElement(Nt,{className:y},o&&g.createElement("defs",null,g.createElement(EV,{clipPathId:x,xAxisId:l,yAxisId:u}),!E&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:s-A/2,y:a-A/2,width:c+A,height:d+A}))),g.createElement(xce,{needClip:o,clipPathId:x,props:this.props})),g.createElement(NO,{points:n,mainColor:ig(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}),this.props.isRange&&Array.isArray(m)&&g.createElement(NO,{points:m,mainColor:ig(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:N}))}}var NV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ft.area};function wce(e){var t,r=Ut(e,NV),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:u,fillOpacity:c,hide:d,isAnimationActive:p,legendType:m,stroke:v,xAxisId:y,yAxisId:x}=r,b=OV(r,sce),_=Jo(),E=N5(),{needClip:A}=VE(y,x),N=Mr(),{points:j,isRange:k,baseLine:S}=(t=se(B=>ice(B,e.id,N)))!==null&&t!==void 0?t:{},T=DE();if(_!=="horizontal"&&_!=="vertical"||T==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:O,width:C,x:I,y:D}=T;return!j||!j.length?null:g.createElement(bce,_o({},b,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:u,fillOpacity:c,height:O,hide:d,layout:_,isAnimationActive:p==="auto"?!wf.isSsr:p,isRange:k,legendType:m,needClip:A,points:j,stroke:v,width:C,left:I,top:D,xAxisId:y,yAxisId:x}))}var _ce=(e,t,r,n,i)=>{var a=r??t;if(ee(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return a==="dataMin"?u:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function kce(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:c,xAxisTicks:d,yAxisTicks:p,bandSize:m}=e,v=i&&i.length,y=_ce(a,s,r,o,l),x=a==="horizontal",b=!1,_=u.map((A,N)=>{var j,k,S;if(v)S=i[c+N];else{var T=Be(A,n);Array.isArray(T)?(S=T,b=!0):S=[y,T]}var O=(j=(k=S)===null||k===void 0?void 0:k[1])!==null&&j!==void 0?j:null,C=O==null||v&&!t&&Be(A,n)==null;return x?{x:qA({axis:o,ticks:d,bandSize:m,entry:A,index:N}),y:C?null:l.scale(O),value:S,payload:A}:{x:C?null:o.scale(O),y:qA({axis:l,ticks:p,bandSize:m,entry:A,index:N}),value:S,payload:A}}),E;return v||b?E=_.map(A=>{var N=Array.isArray(A.value)?A.value[0]:null;return x?{x:A.x,y:N!=null&&A.y!=null?l.scale(N):null,payload:A.payload}:{x:N!=null?o.scale(N):null,y:A.y,payload:A.payload}}):E=x?l.scale(y):o.scale(y),{points:_,baseLine:E,isRange:b}}function Ece(e){var t=Ut(e,NV),r=Mr();return g.createElement(jE,{id:t.id,type:"area"},n=>g.createElement(g.Fragment,null,g.createElement(hV,{legendPayload:dce(t)}),g.createElement(fce,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),g.createElement(mV,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:ZL(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),g.createElement(wce,_o({},t,{id:n}))))}var fw=g.memo(Ece,f0);fw.displayName="Area";var Sce="Invariant failed";function Pce(e,t){throw new Error(Sce)}function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(null,arguments)}function ag(e){return g.createElement(fV,hw({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Tce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ee(t))return t;var a=ee(n)||vt(n);return a?t(n,i):(a||Pce(),r)}},Ace=(e,t,r)=>r,Ice=(e,t)=>t,Vf=F([Kv,Ice],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Cce=F([Vf],e=>e==null?void 0:e.maxBarSize),Oce=(e,t,r,n)=>n,Nce=F([Ae,Kv,Ci,Oi,Ace],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),jce=(e,t,r)=>{var n=Ae(e),i=Ci(e,t),a=Oi(e,t);if(!(i==null||a==null))return n==="horizontal"?Ym(e,"yAxis",a,r):Ym(e,"xAxis",i,r)},Dce=(e,t)=>{var r=Ae(e),n=Ci(e,t),i=Oi(e,t);if(!(n==null||i==null))return r==="horizontal"?MC(e,"xAxis",n):MC(e,"yAxis",i)},Rce=F([Nce,are,Dce],gle),Mce=(e,t,r)=>{var n,i,a=Vf(e,t);if(a!=null){var s=Ci(e,t),o=Oi(e,t);if(!(s==null||o==null)){var l=Ae(e),u=O3(e),{maxBarSize:c}=a,d=vt(c)?u:c,p,m;return l==="horizontal"?(p=Is(e,"xAxis",s,r),m=As(e,"xAxis",s,r)):(p=Is(e,"yAxis",o,r),m=As(e,"yAxis",o,r)),(n=(i=vu(p,m,!0))!==null&&i!==void 0?i:d)!==null&&n!==void 0?n:0}}},jV=(e,t,r)=>{var n=Ae(e),i=Ci(e,t),a=Oi(e,t);if(!(i==null||a==null)){var s,o;return n==="horizontal"?(s=Is(e,"xAxis",i,r),o=As(e,"xAxis",i,r)):(s=Is(e,"yAxis",a,r),o=As(e,"yAxis",a,r)),vu(s,o)}},Lce=F([Rce,O3,ire,N3,Mce,jV,Cce],wle),Vce=(e,t,r)=>{var n=Ci(e,t);if(n!=null)return Is(e,"xAxis",n,r)},$ce=(e,t,r)=>{var n=Oi(e,t);if(n!=null)return Is(e,"yAxis",n,r)},Fce=(e,t,r)=>{var n=Ci(e,t);if(n!=null)return As(e,"xAxis",n,r)},zce=(e,t,r)=>{var n=Oi(e,t);if(n!=null)return As(e,"yAxis",n,r)},Uce=F([Lce,Vf],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Bce=F([jce,Vf],_le),Wce=F([Yt,sk,Vce,$ce,Fce,zce,Uce,Ae,g3,jV,Bce,Vf,Oce],(e,t,r,n,i,a,s,o,l,u,c,d,p)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:y}=l;if(!(d==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||u==null)){var{data:x}=d,b;if(x!=null&&x.length>0?b=x:b=m==null?void 0:m.slice(v,y+1),b!=null)return xde({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:c,displayedData:b,offset:e,cells:p,dataStartIndex:v})}}),Kce=["index"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(null,arguments)}function Hce(e,t){if(e==null)return{};var r,n,i=qce(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DV=g.createContext(void 0),Gce=e=>{var t=g.useContext(DV);if(t!=null)return t.stackId;if(e!=null)return ZL(e)},Yce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Qce=e=>{var t=g.useContext(DV);if(t!=null){var{stackId:r}=t;return"url(#".concat(Yce(r,e),")")}},Xce=e=>{var{index:t}=e,r=Hce(e,Kce),n=Qce(t);return g.createElement(Nt,pw({className:"recharts-bar-stack-layer",clipPath:n},r))},Jce=["onMouseEnter","onMouseLeave","onClick"],Zce=["value","background","tooltipPosition"],ede=["id"],tde=["onMouseEnter","onClick","onMouseLeave"];function xa(){return xa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xa.apply(null,arguments)}function BO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(r),!0).forEach(function(n){rde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rde(e,t,r){return(t=nde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nde(e){var t=ide(e,"string");return typeof t=="symbol"?t:t+""}function ide(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sg(e,t){if(e==null)return{};var r,n,i=ade(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ade(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sde=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Du(r,t),payload:e}]},ode=g.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Du(a,t),hide:s,type:l,color:i,unit:o,graphicalItemId:u}};return g.createElement(NE,{tooltipEntrySettings:c})});function lde(e){var t=se(Cs),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,u=sg(a,Jce),c=IE(s,n,a.id),d=CE(o),p=OE(l,n,a.id);if(!i||r==null)return null;var m=Vo(i);return g.createElement(ln,{zIndex:kle(i,Ft.barBackground)},r.map((v,y)=>{var{value:x,background:b,tooltipPosition:_}=v,E=sg(v,Zce);if(!b)return null;var A=c(v,y),N=d(v,y),j=p(v,y),k=Fr(Fr(Fr(Fr(Fr({option:i,isActive:String(y)===t},E),{},{fill:"#eee"},b),m),mf(u,v,y)),{},{onMouseEnter:A,onMouseLeave:N,onClick:j,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return g.createElement(ag,xa({key:"background-bar-".concat(y)},k))}))}function ude(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Fr(Fr({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return g.createElement(tV,{value:t?i:void 0},r)}function cde(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=se(Cs),l=se(gE),u=r&&String(a)===o&&(l==null||s===l),c=u?r:t;return u?g.createElement(ln,{zIndex:Ft.activeBar},g.createElement(ag,xa({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))):g.createElement(ag,xa({},n,{name:String(n.name)},i,{isActive:u,option:c,index:a,dataKey:s}))}function dde(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return g.createElement(ag,xa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:i,dataKey:a}))}function fde(e){var t,{data:r,props:n}=e,i=(t=sn(n))!==null&&t!==void 0?t:{},{id:a}=i,s=sg(i,ede),{shape:o,dataKey:l,activeBar:u}=n,{onMouseEnter:c,onClick:d,onMouseLeave:p}=n,m=sg(n,tde),v=IE(c,l,a),y=CE(p),x=OE(d,l,a);return r?g.createElement(g.Fragment,null,r.map((b,_)=>g.createElement(Xce,xa({index:_,key:"rectangle-".concat(b==null?void 0:b.x,"-").concat(b==null?void 0:b.y,"-").concat(b==null?void 0:b.value,"-").concat(_),className:"recharts-bar-rectangle"},mf(m,b,_),{onMouseEnter:v(b,_),onMouseLeave:y(b,_),onClick:x(b,_)}),u?g.createElement(cde,{shape:o,activeBar:u,baseProps:s,entry:b,index:_,dataKey:l}):g.createElement(dde,{shape:o,baseProps:s,entry:b,index:_,dataKey:l})))):null}function hde(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=r.current,p=kf(t,"recharts-bar-"),[m,v]=g.useState(!1),y=!m,x=g.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),b=g.useCallback(()=>{typeof c=="function"&&c(),v(!0)},[c]);return g.createElement(ude,{showLabels:y,rects:n},g.createElement(_f,{animationId:p,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:x,onAnimationStart:b,key:p},_=>{var E=_===1?n:n==null?void 0:n.map((A,N)=>{var j=d&&d[N];if(j)return Fr(Fr({},A),{},{x:tt(j.x,A.x,_),y:tt(j.y,A.y,_),width:tt(j.width,A.width,_),height:tt(j.height,A.height,_)});if(i==="horizontal"){var k=tt(0,A.height,_),S=tt(A.stackedBarStart,A.y,_);return Fr(Fr({},A),{},{y:S,height:k})}var T=tt(0,A.width,_),O=tt(A.stackedBarStart,A.x,_);return Fr(Fr({},A),{},{width:T,x:O})});return _>0&&(r.current=E??null),E==null?null:g.createElement(Nt,null,g.createElement(fde,{props:t,data:E}))}),g.createElement(kE,{label:t.label}),t.children)}function pde(e){var t=g.useRef(null);return g.createElement(hde,{previousRectanglesRef:t,props:e})}var RV=0,mde=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Be(e,t)}};class gde extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:u}=this.props;if(t||r==null)return null;var c=Pe("recharts-bar",i),d=u;return g.createElement(Nt,{className:c,id:u},o&&g.createElement("defs",null,g.createElement(EV,{clipPathId:d,xAxisId:a,yAxisId:s})),g.createElement(Nt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},g.createElement(lde,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),g.createElement(pde,this.props)))}}var vde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:RV,xAxisId:0,yAxisId:0,zIndex:Ft.bar};function yde(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c}=e,{needClip:d}=VE(t,r),p=Jo(),m=Mr(),v=AE(e.children,tl),y=se(_=>Wce(_,e.id,m,v));if(p!=="vertical"&&p!=="horizontal")return null;var x,b=y==null?void 0:y[0];return b==null||b.height==null||b.width==null?x=0:x=p==="vertical"?b.height/2:b.width/2,g.createElement(Tue,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:mde,errorBarOffset:x},g.createElement(gde,xa({},e,{layout:p,needClip:d,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:u,isAnimationActive:c})))}function xde(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:p,cells:m,parentViewBox:v,dataStartIndex:y}=e,x=t==="horizontal"?o:s,b=c?x.scale.domain():null,_=YQ({numericAxis:x}),E=x.scale(_);return d.map((A,N)=>{var j,k,S,T,O,C;if(c){var I=c[N+y];if(I==null)return null;j=WQ(I,b)}else j=Be(A,r),Array.isArray(j)||(j=[_,j]);var D=Tce(n,RV)(j[1],N);if(t==="horizontal"){var B,[X,L]=[o.scale(j[0]),o.scale(j[1])];k=GA({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:A,index:N}),S=(B=L??X)!==null&&B!==void 0?B:void 0,T=i.size;var H=X-L;if(O=$n(H)?0:H,C={x:k,y:p.top,width:T,height:p.height},Math.abs(D)>0&&Math.abs(O)<Math.abs(D)){var M=lr(O||D)*(Math.abs(D)-Math.abs(O));S-=M,O+=M}}else{var[V,Y]=[s.scale(j[0]),s.scale(j[1])];if(k=V,S=GA({axis:o,ticks:u,bandSize:a,offset:i.offset,entry:A,index:N}),T=Y-V,O=i.size,C={x:p.left,y:S,width:p.width,height:O},Math.abs(D)>0&&Math.abs(T)<Math.abs(D)){var Z=lr(T||D)*(Math.abs(D)-Math.abs(T));T+=Z}}if(k==null||S==null||T==null||O==null)return null;var re=Fr(Fr({},A),{},{stackedBarStart:E,x:k,y:S,width:T,height:O,value:c?j:j[1],payload:A,background:C,tooltipPosition:{x:k+T/2,y:S+O/2},parentViewBox:v},m&&m[N]&&m[N].props);return re}).filter(Boolean)}function bde(e){var t=Ut(e,vde),r=Gce(t.stackId),n=Mr();return g.createElement(jE,{id:t.id,type:"bar"},i=>g.createElement(g.Fragment,null,g.createElement(hV,{legendPayload:sde(t)}),g.createElement(ode,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),g.createElement(mV,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(ln,{zIndex:t.zIndex},g.createElement(yde,xa({},t,{id:i})))))}var Xl=g.memo(bde,f0);Xl.displayName="Bar";var wde=["domain","range"],_de=["domain","range"];function WO(e,t){if(e==null)return{};var r,n,i=kde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KO(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function MV(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=WO(e,wde),{domain:a,range:s}=t,o=WO(t,_de);return!KO(r,a)||!KO(n,s)?!1:f0(i,o)}var Ede=["dangerouslySetInnerHTML","ticks","scale"],Sde=["id","scale"];function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(null,arguments)}function HO(e,t){if(e==null)return{};var r,n,i=Pde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Tde(e){var t=Qe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(tle(e)):r.current!==e&&t(rle({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(nle(r.current)),r.current=null)},[t]),null}var Ade=e=>{var{xAxisId:t,className:r}=e,n=se(sk),i=Mr(),a="xAxis",s=se(b=>c5(b,a,t,i)),o=se(b=>s5(b,t)),l=se(b=>nne(b,t)),u=se(b=>z3(b,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:p}=e,m=HO(e,Ede),{id:v,scale:y}=u,x=HO(u,Sde);return g.createElement(LE,mw({},m,x,{x:l.x,y:l.y,width:o.width,height:o.height,className:Pe("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},Ide={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:ta.axisLine,height:rr.height,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:ta.tickLine,tickSize:ta.tickSize,type:rr.type,xAxisId:0},Cde=e=>{var t=Ut(e,Ide);return g.createElement(g.Fragment,null,g.createElement(Tde,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(Ade,t))},og=g.memo(Cde,MV);og.displayName="XAxis";var Ode=["dangerouslySetInnerHTML","ticks","scale"],Nde=["id","scale"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(null,arguments)}function qO(e,t){if(e==null)return{};var r,n,i=jde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dde(e){var t=Qe(),r=g.useRef(null);return g.useLayoutEffect(()=>{r.current===null?t(ile(e)):r.current!==e&&t(ale({prev:r.current,next:e})),r.current=e},[e,t]),g.useLayoutEffect(()=>()=>{r.current&&(t(sle(r.current)),r.current=null)},[t]),null}var Rde=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=g.useRef(null),s=g.useRef(null),o=se(sk),l=Mr(),u=Qe(),c="yAxis",d=se(j=>o5(j,t)),p=se(j=>ane(j,t)),m=se(j=>c5(j,c,t,l)),v=se(j=>U3(j,t));if(g.useLayoutEffect(()=>{if(!(n!=="auto"||!d||_E(i)||g.isValidElement(i)||v==null)){var j=a.current;if(j){var k=j.getCalculatedWidth();Math.round(d.width)!==Math.round(k)&&u(ole({id:t,width:k}))}}},[m,d,u,i,t,n,v]),d==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:y,ticks:x,scale:b}=e,_=qO(e,Ode),{id:E,scale:A}=v,N=qO(v,Nde);return g.createElement(LE,gw({},_,N,{ref:a,labelRef:s,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:Pe("recharts-".concat(c," ").concat(c),r),viewBox:o,ticks:m,axisType:c}))},Mde={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,angle:nr.angle,axisLine:ta.axisLine,hide:!1,includeHidden:nr.includeHidden,interval:nr.interval,minTickGap:nr.minTickGap,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tick:nr.tick,tickCount:nr.tickCount,tickLine:ta.tickLine,tickSize:ta.tickSize,type:nr.type,width:nr.width,yAxisId:0},Lde=e=>{var t=Ut(e,Mde);return g.createElement(g.Fragment,null,g.createElement(Dde,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(Rde,t))},lg=g.memo(Lde,MV);lg.displayName="YAxis";var Vde=(e,t)=>t,$E=F([Vde,Ae,$3,Xt,P5,ja,bie,Yt],Tie),FE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},LV=Fn("mouseClick"),VV=yf();VV.startListening({actionCreator:LV,effect:(e,t)=>{var r=e.payload,n=$E(t.getState(),FE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(xne({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var vw=Fn("mouseMove"),$V=yf(),Bh=null;$V.startListening({actionCreator:vw,effect:(e,t)=>{var r=e.payload;Bh!==null&&cancelAnimationFrame(Bh);var n=FE(r);Bh=requestAnimationFrame(()=>{var i=t.getState(),a=cE(i,i.tooltip.settings.shared);if(a==="axis"){var s=$E(i,n);(s==null?void 0:s.activeIndex)!=null?t.dispatch(y5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(v5())}Bh=null})}});function $de(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var GO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},FV=on({name:"rootProps",initialState:GO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:GO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Fde=FV.reducer,{updateOptions:zde}=FV.actions,zV=on({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ude}=zV.actions,Bde=zV.reducer,UV=Fn("keyDown"),BV=Fn("focus"),zE=yf();zE.startListening({actionCreator:UV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=dE(i,Bu(r),Nf(r),Rf(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=ja(r);if(a==="Enter"){var u=Xm(r,"axis","hover",String(i.index));t.dispatch(sw({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var c=une(r),d=c==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,m=o+p*d;if(!(l==null||m>=l.length||m<0)){var v=Xm(r,"axis","hover",String(m));t.dispatch(sw({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});zE.startListening({actionCreator:BV,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=Xm(r,"axis","hover",String(a));t.dispatch(sw({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var An=Fn("externalEvent"),WV=yf(),Fy=new Map;WV.startListening({actionCreator:An,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var i=n.type,a=Fy.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:aie(o),activeDataKey:gE(o),activeIndex:Cs(o),activeLabel:I5(o),activeTooltipIndex:Cs(o),isTooltipActive:sie(o)};r(l,n)}finally{Fy.delete(i)}});Fy.set(i,s)}}});var Wde=F([zu],e=>e.tooltipItemPayloads),Kde=F([Wde,Df,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),KV=Fn("touchMove"),HV=yf();HV.startListening({actionCreator:KV,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),i=cE(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=$E(n,FE({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(y5({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(t4),d=(o=u.getAttribute(r4))!==null&&o!==void 0?o:void 0,p=Uu(n).find(y=>y.id===d);if(c==null||p==null||d==null)return;var{dataKey:m}=p,v=Kde(n,c,d);t.dispatch(g5({activeDataKey:m,activeIndex:c,activeCoordinate:v,activeGraphicalItemId:d}))}}}});var Hde=_L({brush:Ele,cartesianAxis:lle,chartData:nae,errorBars:wue,graphicalItems:poe,layout:VQ,legend:UX,options:Jie,polarAxis:Cse,polarOptions:Bde,referenceElements:Ole,rootProps:Fde,tooltip:bne,zIndex:zie}),qde=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return uQ({reducer:Hde,preloadedState:t,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([VV.middleware,$V.middleware,zE.middleware,WV.middleware,HV.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(LL({type:"raf"}))},devTools:{serialize:{replacer:$de},name:"recharts-".concat(r)}})};function qV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Mr(),a=g.useRef(null);if(i)return r;a.current==null&&(a.current=qde(t,n));var s=Y1;return g.createElement(Que,{context:s,store:a.current},r)}function Gde(e){var{layout:t,margin:r}=e,n=Qe(),i=Mr();return g.useEffect(()=>{i||(n(RQ(t)),n(DQ(r)))},[n,i,t,r]),null}var GV=g.memo(Gde,f0);function YV(e){var t=Qe();return g.useEffect(()=>{t(zde(e))},[t,e]),null}function YO(e){var{zIndex:t,isPanorama:r}=e,n=g.useRef(null),i=Qe();return g.useLayoutEffect(()=>(n.current&&i($ie({zIndex:t,element:n.current,isPanorama:r})),()=>{i(Fie({zIndex:t,isPanorama:r}))}),[i,t,r]),g.createElement("g",{tabIndex:-1,ref:n})}function QO(e){var{children:t,isPanorama:r}=e,n=se(Iie);if(!n||n.length===0)return t;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(YO,{key:s,zIndex:s,isPanorama:r})),t,a.map(s=>g.createElement(YO,{key:s,zIndex:s,isPanorama:r})))}var Yde=["children"];function Qde(e,t){if(e==null)return{};var r,n,i=Xde(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(null,arguments)}var Jde={width:"100%",height:"100%",display:"block"},Zde=g.forwardRef((e,t)=>{var r=lk(),n=uk(),i=w4();if(!Ai(r)||!Ai(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,c;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?c=s.role:c=i?"application":void 0),g.createElement(j1,ug({},s,{title:o,desc:l,role:c,tabIndex:u,width:r,height:n,style:Jde,ref:t}),a)}),efe=e=>{var{children:t}=e,r=se(Pv);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return g.createElement(j1,{width:n,height:i,x:s,y:a},t)},XO=g.forwardRef((e,t)=>{var{children:r}=e,n=Qde(e,Yde),i=Mr();return i?g.createElement(efe,null,g.createElement(QO,{isPanorama:!0},r)):g.createElement(Zde,ug({ref:t},n),g.createElement(QO,{isPanorama:!1},r))});function tfe(){var e=Qe(),[t,r]=g.useState(null),n=se(tX);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;He(a)&&a!==n&&e(LQ(a))}},[t,e,n]),r}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nfe(e,t,r){return(t=ife(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ife(e){var t=afe(e,"string");return typeof t=="symbol"?t:t+""}function afe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ho(){return Ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ho.apply(null,arguments)}var sfe=()=>(fae(),null);function cg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ofe=g.forwardRef((e,t)=>{var r,n,i=g.useRef(null),[a,s]=g.useState({containerWidth:cg((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:cg((n=e.style)===null||n===void 0?void 0:n.height)}),o=g.useCallback((u,c)=>{s(d=>{var p=Math.round(u),m=Math.round(c);return d.containerWidth===p&&d.containerHeight===m?d:{containerWidth:p,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:c,height:d}=u.getBoundingClientRect();o(c,d);var p=v=>{var{width:y,height:x}=v[0].contentRect;o(y,x)},m=new ResizeObserver(p);m.observe(u),i.current=m}},[t,o]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(Av,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",Ho({ref:l},e)))}),lfe=g.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=g.useState({containerWidth:cg(r),containerHeight:cg(n)}),s=g.useCallback((l,u)=>{a(c=>{var d=Math.round(l),p=Math.round(u);return c.containerWidth===d&&c.containerHeight===p?c:{containerWidth:d,containerHeight:p}})},[]),o=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:c}=l.getBoundingClientRect();s(u,c)}},[t,s]);return g.createElement(g.Fragment,null,g.createElement(Av,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",Ho({ref:o},e)))}),ufe=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return g.createElement(g.Fragment,null,g.createElement(Av,{width:r,height:n}),g.createElement("div",Ho({ref:t},e)))}),cfe=g.forwardRef((e,t)=>{var{width:r,height:n}=e;return ha(r)||ha(n)?g.createElement(lfe,Ho({},e,{ref:t})):g.createElement(ufe,Ho({},e,{ref:t}))});function dfe(e){return e===!0?ofe:cfe}var ffe=g.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:p,onTouchEnd:m,onTouchMove:v,onTouchStart:y,style:x,width:b,responsive:_,dispatchTouchEvents:E=!0}=e,A=g.useRef(null),N=Qe(),[j,k]=g.useState(null),[S,T]=g.useState(null),O=tfe(),C=ok(),I=(C==null?void 0:C.width)>0?C.width:b,D=(C==null?void 0:C.height)>0?C.height:i,B=g.useCallback(K=>{O(K),typeof t=="function"&&t(K),k(K),T(K),K!=null&&(A.current=K)},[O,t,k,T]),X=g.useCallback(K=>{N(LV(K)),N(An({handler:a,reactEvent:K}))},[N,a]),L=g.useCallback(K=>{N(vw(K)),N(An({handler:u,reactEvent:K}))},[N,u]),H=g.useCallback(K=>{N(v5()),N(An({handler:c,reactEvent:K}))},[N,c]),M=g.useCallback(K=>{N(vw(K)),N(An({handler:d,reactEvent:K}))},[N,d]),V=g.useCallback(()=>{N(BV())},[N]),Y=g.useCallback(K=>{N(UV(K.key))},[N]),Z=g.useCallback(K=>{N(An({handler:s,reactEvent:K}))},[N,s]),re=g.useCallback(K=>{N(An({handler:o,reactEvent:K}))},[N,o]),ge=g.useCallback(K=>{N(An({handler:l,reactEvent:K}))},[N,l]),ke=g.useCallback(K=>{N(An({handler:p,reactEvent:K}))},[N,p]),dt=g.useCallback(K=>{N(An({handler:y,reactEvent:K}))},[N,y]),it=g.useCallback(K=>{E&&N(KV(K)),N(An({handler:v,reactEvent:K}))},[N,E,v]),Oe=g.useCallback(K=>{N(An({handler:m,reactEvent:K}))},[N,m]),Gr=dfe(_);return g.createElement(L5.Provider,{value:j},g.createElement(_M.Provider,{value:S},g.createElement(Gr,{width:I??(x==null?void 0:x.width),height:D??(x==null?void 0:x.height),className:Pe("recharts-wrapper",n),style:rfe({position:"relative",cursor:"default",width:I,height:D},x),onClick:X,onContextMenu:Z,onDoubleClick:re,onFocus:V,onKeyDown:Y,onMouseDown:ge,onMouseEnter:L,onMouseLeave:H,onMouseMove:M,onMouseUp:ke,onTouchEnd:Oe,onTouchMove:it,onTouchStart:dt,ref:B},g.createElement(sfe,null),r)))}),hfe=["width","height","responsive","children","className","style","compact","title","desc"];function pfe(e,t){if(e==null)return{};var r,n,i=mfe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QV=g.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:c}=e,d=pfe(e,hfe),p=sn(d);return l?g.createElement(g.Fragment,null,g.createElement(Av,{width:r,height:n}),g.createElement(XO,{otherAttributes:p,title:u,desc:c},a)):g.createElement(ffe,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(XO,{otherAttributes:p,title:u,desc:c,ref:t},g.createElement(jle,null,a)))});function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(null,arguments)}var gfe={top:5,right:5,bottom:5,left:5},vfe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:gfe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},XV=g.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,vfe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(qV,{preloadedState:{options:c},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:a},g.createElement(yV,{chartData:u.data}),g.createElement(GV,{layout:i.layout,margin:i.margin}),g.createElement(YV,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(QV,yw({},i,{ref:r})))}),yfe=["axis","item"],JV=g.forwardRef((e,t)=>g.createElement(XV,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yfe,tooltipPayloadSearcher:wE,categoricalChartProps:e,ref:t}));function xfe(e){var t=Qe();return g.useEffect(()=>{t(Ude(e))},[t,e]),null}var bfe=["layout"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(null,arguments)}function wfe(e,t){if(e==null)return{};var r,n,i=_fe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _fe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kfe={top:5,right:5,bottom:5,left:5},ZV={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kfe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Efe=g.forwardRef(function(t,r){var n,i=Ut(t.categoricalChartProps,ZV),{layout:a}=i,s=wfe(i,bfe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c}=t,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(qV,{preloadedState:{options:d},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},g.createElement(yV,{chartData:i.data}),g.createElement(GV,{layout:a,margin:i.margin}),g.createElement(YV,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(xfe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(QV,xw({},s,{ref:r})))});function ZO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function e2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZO(Object(r),!0).forEach(function(n){Sfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sfe(e,t,r){return(t=Pfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pfe(e){var t=Tfe(e,"string");return typeof t=="symbol"?t:t+""}function Tfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Afe=["item"],Ife=e2(e2({},ZV),{},{layout:"centric",startAngle:0,endAngle:360}),UE=g.forwardRef((e,t)=>{var r=Ut(e,Ife);return g.createElement(Efe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Afe,tooltipPayloadSearcher:wE,categoricalChartProps:r,ref:t})}),Cfe=["axis"],Ofe=g.forwardRef((e,t)=>g.createElement(XV,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cfe,tooltipPayloadSearcher:wE,categoricalChartProps:e,ref:t}));function Nfe({transactions:e,onClose:t,darkMode:r}){const[n,i]=g.useState(new Date().getFullYear()),[a,s]=g.useState(6),o=(()=>{const l=["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],u=new Date,d=n===u.getFullYear()?u.getMonth():11;let p=[];for(let m=a-1;m>=0;m--){const v=d-m;if(v<0)continue;const y=`${n}-${String(v+1).padStart(2,"0")}`;p.push({key:y,name:l[v],income:0,expenseCash:0,expenseCard:0})}return e.forEach(m=>{var b;let v=m.date;if(!v&&((b=m.createdAt)!=null&&b.toDate)){const _=m.createdAt.toDate();v=`${_.getFullYear()}-${String(_.getMonth()+1).padStart(2,"0")}-${String(_.getDate()).padStart(2,"0")}`}if(!v)return;const y=v.slice(0,7),x=p.find(_=>_.key===y);x&&(m.type==="income"?x.income+=m.amount:m.type==="expense"&&(m.paymentMethod==="credit_card"?x.expenseCard+=m.amount:x.expenseCash+=m.amount))}),p})();return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-opacity",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-4xl rounded-2xl shadow-2xl overflow-hidden border border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[h.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[h.jsx(C1,{className:"text-indigo-600 dark:text-indigo-400",size:24}),"Gelir - Gider Trend Analizi"]}),h.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:h.jsx(O1,{size:24})})]}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Yl"}),h.jsxs("select",{value:n,onChange:l=>i(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:2024,children:"2024"}),h.jsx("option",{value:2025,children:"2025"}),h.jsx("option",{value:2026,children:"2026"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Ay Says"}),h.jsxs("select",{value:a,onChange:l=>s(parseInt(l.target.value)),className:"px-3 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:3,children:"Son 3 Ay"}),h.jsx("option",{value:6,children:"Son 6 Ay"}),h.jsx("option",{value:9,children:"Son 9 Ay"}),h.jsx("option",{value:12,children:"Tm Yl"})]})]})]}),h.jsx("div",{className:"h-80 w-full min-w-[300px]",children:h.jsx(ql,{width:"100%",height:"100%",children:h.jsxs(JV,{data:o,margin:{top:20,right:30,left:20,bottom:5},children:[h.jsx(ng,{strokeDasharray:"3 3",vertical:!1,stroke:r?"#334155":"#e2e8f0"}),h.jsx(og,{dataKey:"name",stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"}}),h.jsx(lg,{stroke:r?"#94a3b8":"#64748b",tick:{fill:r?"#94a3b8":"#64748b"},tickFormatter:l=>`${l}`}),h.jsx(Ql,{formatter:l=>l.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:r?"#1e293b":"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)",color:r?"#f1f5f9":"#1e293b"}}),h.jsx(fk,{wrapperStyle:{paddingTop:"20px"}}),h.jsx(Xl,{name:"Gelir",dataKey:"income",fill:"#10b981",radius:[4,4,0,0],barSize:32}),h.jsx(Xl,{name:"Gider (Nakit)",dataKey:"expenseCash",stackId:"expense",fill:"#ef4444",radius:[0,0,4,4],barSize:32}),h.jsx(Xl,{name:"Gider (K. Kart)",dataKey:"expenseCard",stackId:"expense",fill:"#f59e0b",radius:[4,4,0,0],barSize:32})]})})})]})]})})}function ku({isOpen:e,onClose:t,title:r,children:n}){return g.useEffect(()=>{const i=a=>{a.key==="Escape"&&t()};return e&&(document.addEventListener("keydown",i),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",i),document.body.style.overflow="unset"}},[e,t]),e?h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm transition-all animate-in fade-in duration-200",children:[h.jsx("div",{className:"absolute inset-0",onClick:t}),h.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-slate-800 rounded-2xl shadow-2xl scale-100 animate-in zoom-in-95 duration-200 border border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100",children:r}),h.jsx("button",{onClick:t,className:"p-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",children:h.jsx(O1,{size:20})})]}),h.jsx("div",{className:"p-4",children:n})]})]}):null}const e$="/SpendWise/assets/logo-CCwMLY72.png",hl=["#6366f1","#ec4899","#8b5cf6","#14b8a6","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function jfe({user:e,filterDate:t,setFilterDate:r}){const n=jg(),[i,a]=g.useState([]),[s,o]=g.useState([]),[l,u]=g.useState(!1),[c,d]=g.useState(!1),[p,m]=g.useState(null),[v,y]=g.useState(""),[x,b]=g.useState(""),[_,E]=g.useState("expense"),[A,N]=g.useState(""),[j,k]=g.useState(new Date().toISOString().split("T")[0]),[S,T]=g.useState("cash"),[O,C]=g.useState([]),[I,D]=g.useState(!1),[B,X]=g.useState(!1),[L,H]=g.useState(["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"]),[M,V]=g.useState(["Maa","Freelance","Yatrm","Ek Gelir","Dier"]),[Y,Z]=g.useState([]),[re,ge]=g.useState(""),[ke,dt]=g.useState("TRY"),[it,Oe]=g.useState(1),[Gr,K]=g.useState("cash"),[he,xe]=g.useState(e.photoURL);g.useEffect(()=>{const z=zr(Le(fe,"user_settings",e.uid),ae=>{if(ae.exists()){const le=ae.data();le.expenseCategories&&H(le.expenseCategories),le.incomeCategories&&V(le.incomeCategories),le.creditCards&&Z(le.creditCards),le.currency&&dt(le.currency),le.fiscalStartDay&&Oe(le.fiscalStartDay),le.defaultPaymentMethod&&(K(le.defaultPaymentMethod),T(le.defaultPaymentMethod)),xe(le.photoURL||e.photoURL||null)}});return()=>z()},[e.uid]),g.useEffect(()=>{const z=an(Tt(fe,"planned_transactions"),Ht("uid","==",e.uid),Ht("isCompleted","==",!1)),ae=zr(z,le=>{const we=le.docs.map(_e=>({id:_e.id,..._e.data()}));we.sort((_e,At)=>new Date(_e.date)-new Date(At.date)),C(we)});return()=>ae()},[e.uid]);const[q,at]=g.useState([]);g.useEffect(()=>{const z=an(Tt(fe,"subscriptions"),Ht("uid","==",e.uid),Ht("status","==","active")),ae=zr(z,le=>{const we=le.docs.map(Ve=>Ve.data()),_e=new Date;_e.setHours(0,0,0,0);const At=we.filter(Ve=>{const Zt=Ve.billingDay,er=_e.getMonth(),Lr=_e.getFullYear();let un=new Date(Lr,er,Zt);_e.getDate()>Zt&&un.setMonth(er+1);const li=un-_e,ft=Math.ceil(li/(1e3*60*60*24));return ft>=0&&ft<=3}).map(Ve=>{const Zt=Ve.billingDay,er=_e.getMonth(),Lr=_e.getFullYear();let un=new Date(Lr,er,Zt);_e.getDate()>Zt&&un.setMonth(er+1);const li=un-_e,ft=Math.ceil(li/(1e3*60*60*24));return{...Ve,daysLeft:ft}});at(At)});return()=>ae()},[e.uid]);const ce=async z=>{confirm(`${z.title} demesini tamamland olarak iaretlemek istiyor musunuz?`)&&(await pu(Tt(fe,"transactions"),{uid:e.uid,title:z.title,amount:z.amount,type:"expense",category:z.category,paymentMethod:z.paymentMethod||Gr,date:z.date,createdAt:Mo()}),await fn(Le(fe,"planned_transactions",z.id),{isCompleted:!0}))},Xe=z=>{const ae=new Date;ae.setHours(0,0,0,0);const le=new Date(z);le.setHours(0,0,0,0);const we=Math.ceil((le-ae)/(1e3*60*60*24));return we<0?h.jsxs("span",{className:"text-red-500 font-bold",children:[Math.abs(we)," gn gecikti"]}):we===0?h.jsx("span",{className:"text-amber-500 font-bold",children:"Bugn"}):we===1?h.jsx("span",{className:"text-amber-500 font-medium",children:"Yarn"}):h.jsxs("span",{className:"text-indigo-500 font-medium",children:[we," gn kald"]})},Re=z=>{switch(z){case"Market":return h.jsx(Mq,{size:14});case"Ulam":return h.jsx(vq,{size:14});case"Konut":return h.jsx(Sq,{size:14});case"Fatura":return h.jsx(Id,{size:14});case"Elence":return h.jsx(_q,{size:14});case"Salk":return h.jsx(Eq,{size:14});case"Eitim":return h.jsx(kq,{size:14});case"Giyim":return h.jsx(Rq,{size:14});default:return h.jsx(pm,{size:14})}},[jt,Ni]=g.useState(()=>{const z=localStorage.getItem("theme");return z?z==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});g.useEffect(()=>{jt?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[jt]),g.useEffect(()=>{const z=an(Tt(fe,"transactions"),Ht("uid","==",e.uid)),ae=zr(z,le=>{const we=le.docs.map(_e=>({id:_e.id,..._e.data()}));we.sort((_e,At)=>{var er,Lr;const Ve=new Date(_e.date||((er=_e.createdAt)==null?void 0:er.toDate()));return new Date(At.date||((Lr=At.createdAt)==null?void 0:Lr.toDate()))-Ve}),a(we)},le=>{console.error("Veri ekme hatas:",le)});return()=>ae()},[e.uid]),g.useEffect(()=>{const z=i.filter(ae=>{var er;let le=ae.date;if(!le&&((er=ae.createdAt)!=null&&er.toDate)&&(le=ae.createdAt.toDate().toISOString().split("T")[0]),!le)return!1;const we=new Date(le),[_e,At]=t.split("-").map(Number);let Ve=new Date(_e,At-1,it),Zt=new Date(_e,At,it);return we>=Ve&&we<Zt});o(z)},[i,t,it]),g.useEffect(()=>{N(_==="expense"?L[0]:M[0])},[_,L,M]);const Ws=async z=>{z.preventDefault(),!(!v||!x)&&(await pu(Tt(fe,"transactions"),{uid:e.uid,title:x,amount:parseFloat(v),type:_,category:A,paymentMethod:_==="expense"?S:"cash",cardName:_==="expense"&&S==="credit_card"?re:null,date:j,createdAt:Mo()}),y(""),b(""),T(Gr),ge(""))},Ks=async z=>{confirm("Bu ilemi silmek istediinize emin misiniz?")&&await iv(Le(fe,"transactions",z))},il=z=>{var ae;m({...z,date:z.date||((ae=z.createdAt)!=null&&ae.toDate?z.createdAt.toDate().toISOString().split("T")[0]:new Date().toISOString().split("T")[0])}),d(!0)},Hu=async z=>{if(z.preventDefault(),!!p)try{await fn(Le(fe,"transactions",p.id),{title:p.title,amount:parseFloat(p.amount),type:p.type,category:p.category,date:p.date,paymentMethod:p.paymentMethod||"cash",cardName:p.paymentMethod==="credit_card"?p.cardName:null}),d(!1),m(null)}catch(ae){console.error("Error updating document: ",ae),alert("Gncelleme srasnda bir hata olutu.")}},Ra=()=>{if(s.length===0){alert("Da aktarlacak veri bulunamad.");return}let z="data:text/csv;charset=utf-8,\uFEFF";z+=`Tarih,Balk,Kategori,Tutar,Tr
`,s.forEach(we=>{var Ve;let _e=we.date||((Ve=we.createdAt)!=null&&Ve.toDate?we.createdAt.toDate().toLocaleDateString("tr-TR"):"-");if(we.date){const[Zt,er,Lr]=we.date.split("-");_e=`${Lr}.${er}.${Zt}`}const At=[_e,`"${we.title.replace(/"/g,'""')}"`,we.category,we.amount,we.type==="income"?"Gelir":"Gider"].join(",");z+=At+`\r
`});const ae=encodeURI(z),le=document.createElement("a");le.setAttribute("href",ae),le.setAttribute("download",`SpendWise_Islemler_${t}.csv`),document.body.appendChild(le),le.click(),document.body.removeChild(le)},Ma=s.filter(z=>z.type==="income").reduce((z,ae)=>z+ae.amount,0),ji=s.filter(z=>z.type==="expense").reduce((z,ae)=>z+ae.amount,0),Dt=Ma-ji,Bt=s.filter(z=>z.type==="expense").reduce((z,ae)=>{const le=ae.category||"Dier";return z[le]=(z[le]||0)+ae.amount,z},{}),Wn=Object.entries(Bt).sort(([,z],[,ae])=>ae-z).map(([z,ae])=>({name:z,value:ae,percentage:ji>0?ae/ji*100:0})),La=i.reduce((z,ae)=>ae.type==="income"?z+ae.amount:z-ae.amount,0),Sn=O.filter(z=>{const ae=new Date(z.date);ae.setHours(0,0,0,0);const le=new Date;return le.setHours(0,0,0,0),Math.ceil((ae-le)/(1e3*60*60*24))<=15});return h.jsxs("div",{className:"max-w-5xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[h.jsxs("header",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[h.jsx("img",{src:e$,alt:"SpendWise",className:"w-8 h-8 rounded-lg shadow-lg shadow-indigo-500/30"}),h.jsx("h1",{className:"text-xl font-bold text-indigo-700 dark:text-indigo-400",children:"SpendWise"})]}),h.jsx("h2",{className:"hidden lg:block text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Genel Bak"}),h.jsxs("div",{className:"grid grid-cols-5 gap-2 w-full md:flex md:w-auto md:items-center",children:[h.jsxs("button",{onClick:Ra,className:"col-span-1 p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 group md:order-1",title:"CSV Olarak ndir",children:[h.jsx(wq,{size:20}),h.jsx("span",{className:"hidden lg:inline font-medium text-sm group-hover:text-indigo-700 dark:group-hover:text-indigo-300",children:"ndir"})]}),h.jsxs("button",{onClick:()=>u(!0),className:"col-span-1 p-2 bg-indigo-50 dark:bg-slate-700 text-indigo-600 dark:text-indigo-400 rounded-lg hover:bg-indigo-100 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 group md:order-2",title:"Trendler",children:[h.jsx(C1,{size:20}),h.jsx("span",{className:"hidden lg:inline font-medium text-sm group-hover:text-indigo-700 dark:group-hover:text-indigo-300",children:"Trendler"})]}),h.jsxs("div",{className:"col-span-5 order-first md:order-3 relative md:mx-2 md:w-auto",children:[h.jsx("input",{type:"month",className:"w-full bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-3 py-2 pr-8 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 text-sm shadow-sm transition-colors",value:t,onChange:z=>r(z.target.value)}),h.jsx(yo,{className:"absolute right-2.5 top-2.5 text-slate-400 pointer-events-none",size:16})]}),h.jsxs("div",{className:"col-span-1 relative flex justify-center md:block md:order-4",children:[h.jsxs("button",{onClick:()=>D(!I),className:"relative p-2 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 border border-slate-200 dark:border-slate-700 transition-all shadow-sm w-full flex justify-center",children:[h.jsx(hm,{size:20}),Sn.length+q.length>0&&h.jsx("span",{className:"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-bold text-white shadow-sm animate-pulse",children:Sn.length+q.length})]}),I&&h.jsxs("div",{className:"absolute right-0 sm:-right-12 md:right-0 top-full mt-2 w-72 sm:w-96 bg-white dark:bg-slate-800 rounded-xl shadow-2xl border border-slate-100 dark:border-slate-700 overflow-hidden z-50",children:[h.jsxs("div",{className:"p-3 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center bg-slate-50/50 dark:bg-slate-900/20",children:[h.jsx("h3",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:"Finansal Asistan"}),h.jsx("button",{onClick:()=>n("/calendar"),className:"text-xs text-indigo-600 dark:text-indigo-400 font-medium hover:underline",children:"Takvime Git"})]}),h.jsx("div",{className:"max-h-[360px] overflow-y-auto p-2 space-y-4",children:Sn.length===0&&q.length===0?h.jsxs("div",{className:"p-8 text-center text-slate-400 text-sm",children:[h.jsx(hm,{className:"mx-auto mb-2 opacity-50",size:24}),h.jsx("p",{children:"Harika! Planlanm demeniz veya yaklaan aboneliiniz yok."})]}):h.jsxs(h.Fragment,{children:[q.length>0&&h.jsxs("div",{className:"space-y-2 mb-2",children:[h.jsxs("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider pl-1",children:["Yaklaan Abonelikler (",q.length,")"]}),q.map(z=>h.jsxs("div",{className:"p-3 rounded-lg bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800/50 flex justify-between items-center group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",style:{backgroundColor:z.color||"#6366f1"},children:z.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm",children:z.name}),h.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 flex items-center gap-1",children:[h.jsx(yo,{size:10}),z.daysLeft===0?"Bugn!":z.daysLeft===1?"Yarn":`${z.daysLeft} gn kald`]})]})]}),h.jsx("div",{className:"text-right",children:h.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-sm",children:z.price.toLocaleString("tr-TR",{style:"currency",currency:ke,maximumFractionDigits:0})})})]},z.id)),h.jsx("div",{className:"border-b border-slate-100 dark:border-slate-700 my-2"})]}),(()=>{const z=new Date;z.setHours(0,0,0,0);const ae=Sn.reduce((we,_e)=>{const At=new Date(_e.date);At.setHours(0,0,0,0);const Ve=Math.ceil((At-z)/(1e3*60*60*24));return Ve<0?we.overdue.push(_e):Ve<=1?we.upcoming.push(_e):we.future.push(_e),we},{overdue:[],upcoming:[],future:[]}),le=(we,_e,At)=>_e.length>0&&h.jsxs("div",{className:"space-y-1",children:[h.jsx("h4",{className:`text-[10px] uppercase font-bold tracking-wider px-2 ${At}`,children:we}),_e.map(Ve=>h.jsxs("div",{className:"p-3 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 border-b border-slate-50 dark:border-slate-700/50 last:border-0 transition-colors flex justify-between items-center group",children:[h.jsxs("div",{className:"min-w-0 flex-1 pr-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"p-1 rounded-md bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400",children:Re(Ve.category)}),h.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200 text-sm truncate",children:Ve.title})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1 pl-7",children:[h.jsx("span",{children:new Date(Ve.date).toLocaleDateString("tr-TR",{day:"numeric",month:"short"})}),h.jsx("span",{className:"text-[10px] bg-slate-100 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-600 dark:text-slate-400",children:Xe(Ve.date)})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300 text-sm",children:Ve.amount.toLocaleString("tr-TR",{style:"currency",currency:ke})}),h.jsx("button",{onClick:()=>ce(Ve),className:"p-1.5 text-slate-400 hover:text-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/30 rounded-full transition-all",title:"dendi Olarak aretle",children:h.jsx(Td,{size:18})})]})]},Ve.id))]});return h.jsxs(h.Fragment,{children:[le("Gecikenler",ae.overdue,"text-red-500"),le("Yaklaanlar",ae.upcoming,"text-amber-500"),le("Gelecek Planlar",ae.future,"text-emerald-500")]})})()]})}),Sn.length>0&&h.jsxs("div",{className:"p-3 bg-slate-50 dark:bg-slate-900/40 border-t border-slate-100 dark:border-slate-700 flex justify-between items-center text-xs font-medium",children:[h.jsx("span",{className:"text-slate-500",children:"Toplam Bekleyen (15 Gn)"}),h.jsx("span",{className:"text-slate-800 dark:text-slate-200 text-sm",children:Sn.reduce((z,ae)=>z+ae.amount,0).toLocaleString("tr-TR",{style:"currency",currency:ke})})]})]})]}),h.jsx("button",{onClick:()=>Ni(!jt),className:"col-span-1 p-2 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors flex justify-center w-full md:order-5",children:jt?h.jsx(yM,{size:20}):h.jsx(gM,{size:20})}),h.jsxs("div",{className:"col-span-1 relative flex justify-center md:block md:order-6",children:[h.jsx("button",{onClick:()=>X(!B),className:"p-1 bg-white dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-700 transition-all flex items-center justify-center w-full md:w-auto overflow-hidden",children:he?h.jsx("img",{src:he,alt:"Profil",className:"w-8 h-8 rounded-md object-cover"}):h.jsx("div",{className:"w-8 h-8 rounded-md bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center text-indigo-600 dark:text-indigo-400",children:h.jsx(yb,{size:20})})}),B&&h.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl border border-slate-100 dark:border-slate-700 overflow-hidden z-50",children:[h.jsxs("div",{onClick:()=>n("/settings",{state:{initialTab:"profile"}}),className:"p-3 border-b border-slate-100 dark:border-slate-700 bg-slate-50/50 dark:bg-slate-900/20 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:[h.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 text-sm truncate",children:e.displayName||"Kullanc"}),h.jsx("p",{className:"text-xs text-slate-500 truncate",children:e.email})]}),h.jsxs("div",{className:"p-1",children:[h.jsxs("button",{onClick:()=>n("/settings",{state:{initialTab:"profile"}}),className:"w-full text-left px-3 py-2 text-sm text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 rounded-lg flex items-center gap-2 transition-colors",children:[h.jsx(vM,{size:16}),"Ayarlar"]}),h.jsxs("button",{onClick:()=>jD(xs),className:"w-full text-left px-3 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg flex items-center gap-2 transition-colors",children:[h.jsx(mM,{size:16}),"k Yap"]})]})]})]})]})]}),l&&h.jsx(Nfe,{transactions:i,onClose:()=>u(!1),darkMode:jt}),h.jsx(Lq,{user:e,transactions:i}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-600 p-6 rounded-2xl text-white shadow-xl shadow-indigo-500/20",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-indigo-100 font-medium mb-1",children:"Dnem Bakiyesi"}),h.jsx("h2",{className:"text-3xl font-bold",children:Dt.toLocaleString("tr-TR",{style:"currency",currency:ke})})]}),h.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:h.jsx(Qc,{size:24,className:"text-white"})})]}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-indigo-100 bg-white/10 p-2 rounded-lg backdrop-blur-sm inline-flex",children:[h.jsx(Qc,{size:14}),h.jsxs("span",{children:["Toplam Varlk: ",La.toLocaleString("tr-TR",{style:"currency",currency:ke})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Gelirler"}),h.jsxs("h2",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:["+",Ma.toLocaleString("tr-TR",{style:"currency",currency:ke})]})]}),h.jsx("div",{className:"p-3 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 rounded-full",children:h.jsx(fa,{size:24})})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-between transition-colors duration-300",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mb-1",children:"Giderler"}),h.jsxs("h2",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:["-",ji.toLocaleString("tr-TR",{style:"currency",currency:ke})]})]}),h.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-full",children:h.jsx(py,{size:24})})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(Ps,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"lem Ekle"]}),h.jsxs("form",{onSubmit:Ws,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx("button",{type:"button",onClick:()=>E("expense"),className:`py-2 px-4 rounded-lg font-medium transition-all ${_==="expense"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 border ring-1 ring-red-200 dark:ring-red-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gider"}),h.jsx("button",{type:"button",onClick:()=>E("income"),className:`py-2 px-4 rounded-lg font-medium transition-all ${_==="income"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 border ring-1 ring-emerald-200 dark:ring-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent hover:bg-slate-100 dark:hover:bg-slate-600"}`,children:"Gelir"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tarih"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"date",required:!0,className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:j,onChange:z=>k(z.target.value)}),h.jsx(yo,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori"}),h.jsxs("div",{className:"relative",children:[h.jsx("select",{className:"w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all appearance-none",value:A,onChange:z=>N(z.target.value),children:(_==="expense"?L:M).map(z=>h.jsx("option",{value:z,children:z},z))}),h.jsx(pm,{className:"absolute left-3 top-2.5 text-slate-400",size:18})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aklama"}),h.jsx("input",{type:"text",placeholder:_==="expense"?"rn: Market Fii":"rn: Mart Ay Maa",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:x,onChange:z=>b(z.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar"}),h.jsx("input",{type:"number",placeholder:"0.00",required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all",value:v,onChange:z=>y(z.target.value)})]}),_==="expense"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Yntemi"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{type:"button",onClick:()=>T("cash"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${S==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[h.jsx(mb,{size:16})," Nakit"]}),h.jsxs("button",{type:"button",onClick:()=>T("credit_card"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${S==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-400 border border-amber-200 dark:border-amber-800":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400 border border-transparent"}`,children:[h.jsx(Mn,{size:16})," Kredi Kart"]})]}),S==="credit_card"&&Y.length>0&&h.jsxs("div",{className:"mt-3 bg-amber-50/50 p-2 rounded-lg border border-amber-100",children:[h.jsx("label",{className:"block text-xs font-medium text-amber-800 mb-2",children:"Hangi Kart?"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(z=>h.jsxs("button",{type:"button",onClick:()=>ge(z),className:`px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ${re===z?"bg-amber-100 border border-amber-300 text-amber-800 shadow-sm":"bg-white border border-amber-200 text-amber-600 hover:bg-white hover:border-amber-300"}`,children:[h.jsx(Mn,{size:12}),z]},z))})]})]}),h.jsxs("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2 mt-4",children:[h.jsx(Ps,{size:18}),"Ekle"]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(py,{className:"text-indigo-600 dark:text-indigo-400",size:20}),"Harcama Analizi"]}),Wn.length>0?h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"h-48 w-full min-w-[200px]",children:h.jsx(ql,{width:"100%",height:"100%",children:h.jsxs(UE,{children:[h.jsx(d0,{data:Wn,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:Wn.map((z,ae)=>h.jsx(tl,{fill:hl[ae%hl.length]},`cell-${ae}`))}),h.jsx(Ql,{formatter:z=>z.toLocaleString("tr-TR",{style:"currency",currency:"TRY"}),contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},itemStyle:{color:"#1e293b"}})]})})}),h.jsx("div",{className:"space-y-4",children:Wn.map((z,ae)=>h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:hl[ae%hl.length]}}),h.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:z.name})]}),h.jsx("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:z.value.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),h.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 rounded-full h-2",children:h.jsx("div",{className:"h-2 rounded-full transition-all duration-500",style:{width:`${z.percentage}%`,backgroundColor:hl[ae%hl.length]}})})]},z.name))})]}):h.jsx("p",{className:"text-slate-400 text-center text-sm py-4",children:"Bu dnem iin harcama kayd yok."})]})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 transition-colors duration-300",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4",children:["lemler (",s.length,")"]}),s.length===0?h.jsxs("div",{className:"text-center py-10 text-slate-400 flex flex-col items-center gap-3",children:[h.jsx("div",{className:"p-4 bg-slate-50 dark:bg-slate-700/50 rounded-full",children:h.jsx(Qc,{size:32,className:"opacity-50"})}),h.jsx("p",{children:"Bu dnem iin kayt bulunamad."})]}):h.jsx("div",{className:"space-y-3",children:s.map(z=>{var ae;return h.jsxs("div",{className:"group flex items-center justify-between p-4 rounded-xl border border-slate-100 dark:border-slate-700 hover:border-indigo-100 dark:hover:border-indigo-900 hover:shadow-md transition-all bg-slate-50/50 dark:bg-slate-700/30 hover:bg-white dark:hover:bg-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[h.jsx("div",{className:"flex-shrink-0 p-3 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",children:z.type==="income"?h.jsx(fa,{size:20,className:"text-emerald-500"}):h.jsx(py,{size:20,className:"text-red-500"})}),h.jsxs("div",{className:"min-w-0 flex-1",children:[h.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200 truncate pr-2",children:z.title}),h.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-1 text-xs text-slate-500 dark:text-slate-400 mt-1",children:[h.jsx("span",{className:"bg-slate-200 dark:bg-slate-600 px-2 py-0.5 rounded text-slate-600 dark:text-slate-300 font-medium whitespace-nowrap",children:z.category||(z.type==="income"?"Gelir":"Gider")}),h.jsx("span",{className:"hidden sm:inline",children:""}),h.jsx("span",{className:"whitespace-nowrap",children:new Date(z.date||((ae=z.createdAt)==null?void 0:ae.toDate())).toLocaleDateString("tr-TR")}),z.type==="expense"&&h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"hidden sm:inline",children:""}),h.jsxs("span",{className:`flex items-center gap-1 ${z.paymentMethod==="credit_card"?"text-amber-600 dark:text-amber-400":"text-emerald-600 dark:text-emerald-400"}`,children:[z.paymentMethod==="credit_card"?h.jsx(Mn,{size:12}):h.jsx(mb,{size:12}),h.jsx("span",{className:"hidden sm:inline",children:z.paymentMethod==="credit_card"?"Kredi Kart":"Nakit"})]})]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 ml-2",children:[h.jsxs("span",{className:`font-bold text-sm sm:text-lg whitespace-nowrap ${z.type==="income"?"text-emerald-600 dark:text-emerald-400":"text-slate-800 dark:text-slate-200"}`,children:[z.type==="income"?"+":"-",Math.abs(z.amount).toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),h.jsxs("div",{className:"flex gap-1",children:[h.jsx("button",{onClick:()=>il(z),className:"p-2 text-slate-300 dark:text-slate-600 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 rounded-lg transition-all opacity-100 sm:opacity-0 sm:group-hover:opacity-100",title:"Dzenle",children:h.jsx(Ad,{size:18})}),h.jsx("button",{onClick:()=>Ks(z.id),className:"p-2 text-slate-300 dark:text-slate-600 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-all opacity-100 sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:h.jsx(Lo,{size:18})})]})]})]},z.id)})})]})})]}),p&&h.jsx(ku,{isOpen:c,onClose:()=>d(!1),title:"lemi Dzenle",children:h.jsxs("form",{onSubmit:Hu,className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx("button",{type:"button",onClick:()=>m({...p,type:"expense"}),className:`py-2 px-4 rounded-lg font-medium transition-all ${p.type==="expense"?"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 border-red-200 dark:border-red-800 border":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:"Gider"}),h.jsx("button",{type:"button",onClick:()=>m({...p,type:"income"}),className:`py-2 px-4 rounded-lg font-medium transition-all ${p.type==="income"?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 border-emerald-200 dark:border-emerald-800 border":"bg-slate-50 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:"Gelir"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tarih"}),h.jsx("input",{type:"date",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:p.date,onChange:z=>m({...p,date:z.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Kategori"}),h.jsx("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:p.category,onChange:z=>m({...p,category:z.target.value}),children:(p.type==="expense"?L:M).map(z=>h.jsx("option",{value:z,children:z},z))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aklama"}),h.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:p.title,onChange:z=>m({...p,title:z.target.value})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar"}),h.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",value:p.amount,onChange:z=>m({...p,amount:z.target.value})})]}),p.type==="expense"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Yntemi"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[h.jsx("button",{type:"button",onClick:()=>m({...p,paymentMethod:"cash",cardName:null}),className:`py-2 text-sm rounded-lg border ${p.paymentMethod==="cash"?"bg-emerald-50 dark:bg-emerald-900/30 border-emerald-200 text-emerald-600":"border-slate-200 dark:border-slate-700"}`,children:"Nakit"}),h.jsx("button",{type:"button",onClick:()=>m({...p,paymentMethod:"credit_card",cardName:Y[0]||""}),className:`py-2 text-sm rounded-lg border ${p.paymentMethod==="credit_card"?"bg-amber-50 dark:bg-amber-900/30 border-amber-200 text-amber-600":"border-slate-200 dark:border-slate-700"}`,children:"Kredi Kart"})]}),p.paymentMethod==="credit_card"&&h.jsxs("select",{className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200",value:p.cardName||"",onChange:z=>m({...p,cardName:z.target.value}),children:[h.jsx("option",{value:"",disabled:!0,children:"Kart Sein"}),Y.map(z=>h.jsx("option",{value:z,children:z},z))]})]}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg shadow-lg transition-all",children:"Gncelle"})]})})]})}const Dfe=(e,t,r,n)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;const i=Object.getOwnPropertyDescriptor(e,r),a=Object.getOwnPropertyDescriptor(t,r);!Rfe(i,a)&&n||Object.defineProperty(e,r,a)},Rfe=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},Mfe=(e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)},Lfe=(e,t)=>`/* Wrapped ${e}*/
${t}`,Vfe=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),$fe=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Ffe=(e,t,r)=>{const n=r===""?"":`with ${r.trim()}() `,i=Lfe.bind(null,n,t.toString());Object.defineProperty(i,"name",$fe);const{writable:a,enumerable:s,configurable:o}=Vfe;Object.defineProperty(e,"toString",{value:i,writable:a,enumerable:s,configurable:o})};function zfe(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:n}=e;for(const i of Reflect.ownKeys(t))Dfe(e,t,i,r);return Mfe(e,t),Ffe(e,t,n),e}const Wh=2147483647,Ufe=new WeakMap,zy=new WeakMap,Bfe=new WeakMap;function Wfe(e,t){const r=e.get(t);if(r){if(r.maxAge<=Date.now()){e.delete(t);return}return r}}function t$(e,{cacheKey:t,cache:r=new Map,maxAge:n}={}){if(n===0)return e;if(typeof n=="number"&&Number.isFinite(n)){if(n>Wh)throw new TypeError(`The \`maxAge\` option cannot exceed ${Wh}.`);if(n<0)throw new TypeError("The `maxAge` option should not be a negative number.")}const i=function(...a){var c;const s=t?t(a):a[0],o=Wfe(r,s);if(o)return o.data;const l=e.apply(this,a),u=typeof n=="function"?n(...a):n;if(u!==void 0&&u!==Number.POSITIVE_INFINITY){if(!Number.isFinite(u))throw new TypeError("The `maxAge` function must return a finite number, `0`, or `Infinity`.");if(u<=0)return l;if(u>Wh)throw new TypeError(`The \`maxAge\` function result cannot exceed ${Wh}.`)}if(r.set(s,{data:l,maxAge:u===void 0||u===Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Date.now()+u}),u!==void 0&&u!==Number.POSITIVE_INFINITY){const d=setTimeout(()=>{var m;r.delete(s),(m=zy.get(i))==null||m.delete(d)},u);(c=d.unref)==null||c.call(d);const p=zy.get(i)??new Set;p.add(d),zy.set(i,p)}return l};return zfe(i,e,{ignoreNonConfigurable:!0}),Ufe.set(i,r),Bfe.set(i,t??(a=>a[0])),i}function Kfe(e){return typeof e=="string"}function Hfe(e,t,r){return r.indexOf(e)===t}function qfe(e){return e.toLowerCase()===e}function t2(e){return e.indexOf(",")===-1?e:e.split(",")}function bw(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],r=t===void 0?"":t;return bw(r)}if(e.indexOf("@")!==-1){var n=e.split("@")[0],r=n===void 0?"":n;return bw(r)}if(e.indexOf("-")===-1||!qfe(e))return e;var i=e.split("-"),a=i[0],s=i[1],o=s===void 0?"":s;return"".concat(a,"-").concat(o.toUpperCase())}function Gfe(e){var t=e===void 0?{}:e,r=t.useFallbackLocale,n=r===void 0?!0:r,i=t.fallbackLocale,a=i===void 0?"en-US":i,s=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],l=[],u=0,c=o;u<c.length;u++){var d=c[u];l=l.concat(t2(d))}var p=navigator.language,m=p&&t2(p);s=s.concat(l,m)}return n&&s.push(a),s.filter(Kfe).map(bw).filter(Hfe)}var Yfe=t$(Gfe,{cacheKey:JSON.stringify});function Qfe(e){return Yfe(e)[0]||null}var r$=t$(Qfe,{cacheKey:JSON.stringify});function Da(e,t,r){return function(i,a=r){const s=e(i)+a;return t(s)}}function $f(e){return function(r){return new Date(e(r).getTime()-1)}}function Ff(e,t){return function(n){return[e(n),t(n)]}}function ct(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;const t=Number.parseInt(e,10);if(typeof e=="string"&&!Number.isNaN(t))return t;throw new Error(`Failed to get year from date: ${e}.`)}function Us(e){if(e instanceof Date)return e.getMonth();throw new Error(`Failed to get month from date: ${e}.`)}function h0(e){if(e instanceof Date)return e.getDate();throw new Error(`Failed to get year from date: ${e}.`)}function Wu(e){const t=ct(e),r=t+(-t+1)%100,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const Xfe=Da(ct,Wu,-100),n$=Da(ct,Wu,100),BE=$f(n$),Jfe=Da(ct,BE,-100),i$=Ff(Wu,BE);function Bs(e){const t=ct(e),r=t+(-t+1)%10,n=new Date;return n.setFullYear(r,0,1),n.setHours(0,0,0,0),n}const a$=Da(ct,Bs,-10),WE=Da(ct,Bs,10),p0=$f(WE),s$=Da(ct,p0,-10),o$=Ff(Bs,p0);function Ku(e){const t=ct(e),r=new Date;return r.setFullYear(t,0,1),r.setHours(0,0,0,0),r}const l$=Da(ct,Ku,-1),KE=Da(ct,Ku,1),m0=$f(KE),u$=Da(ct,m0,-1),Zfe=Ff(Ku,m0);function HE(e,t){return function(n,i=t){const a=ct(n),s=Us(n)+i,o=new Date;return o.setFullYear(a,s,1),o.setHours(0,0,0,0),e(o)}}function rl(e){const t=ct(e),r=Us(e),n=new Date;return n.setFullYear(t,r,1),n.setHours(0,0,0,0),n}const c$=HE(rl,-1),qE=HE(rl,1),zf=$f(qE),d$=HE(zf,-1),ehe=Ff(rl,zf);function the(e,t){return function(n,i=t){const a=ct(n),s=Us(n),o=h0(n)+i,l=new Date;return l.setFullYear(a,s,o),l.setHours(0,0,0,0),e(l)}}function Uf(e){const t=ct(e),r=Us(e),n=h0(e),i=new Date;return i.setFullYear(t,r,n),i.setHours(0,0,0,0),i}const rhe=the(Uf,1),GE=$f(rhe),nhe=Ff(Uf,GE);function f$(e){return h0(zf(e))}var vr={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},ihe={gregory:["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],hebrew:["he","he-IL"],islamic:["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"]},YE=[0,1,2,3,4,5,6],Uy=new Map;function ahe(e){return function(r,n){var i=r||r$();Uy.has(i)||Uy.set(i,new Map);var a=Uy.get(i);return a.has(e)||a.set(e,new Intl.DateTimeFormat(i||void 0,e).format),a.get(e)(n)}}function she(e){var t=new Date(e);return new Date(t.setHours(12))}function nl(e){return function(t,r){return ahe(e)(t,she(r))}}var ohe={day:"numeric"},lhe={day:"numeric",month:"long",year:"numeric"},uhe={month:"long"},che={month:"long",year:"numeric"},dhe={weekday:"short"},fhe={weekday:"long"},hhe={year:"numeric"},phe=nl(ohe),mhe=nl(lhe),ghe=nl(uhe),h$=nl(che),vhe=nl(dhe),yhe=nl(fhe),g0=nl(hhe),xhe=YE[0],bhe=YE[5],r2=YE[6];function Kd(e,t){t===void 0&&(t=vr.ISO_8601);var r=e.getDay();switch(t){case vr.ISO_8601:return(r+6)%7;case vr.ISLAMIC:return(r+1)%7;case vr.HEBREW:case vr.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function whe(e){var t=Wu(e);return ct(t)}function _he(e){var t=Bs(e);return ct(t)}function ww(e,t){t===void 0&&(t=vr.ISO_8601);var r=ct(e),n=Us(e),i=e.getDate()-Kd(e,t);return new Date(r,n,i)}function khe(e,t){t===void 0&&(t=vr.ISO_8601);var r=t===vr.GREGORY?vr.GREGORY:vr.ISO_8601,n=ww(e,t),i=ct(e)+1,a,s;do a=new Date(i,0,r===vr.ISO_8601?4:1),s=ww(a,t),i-=1;while(e<s);return Math.round((n.getTime()-s.getTime())/(864e5*7))+1}function ko(e,t){switch(e){case"century":return Wu(t);case"decade":return Bs(t);case"year":return Ku(t);case"month":return rl(t);case"day":return Uf(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ehe(e,t){switch(e){case"century":return Xfe(t);case"decade":return a$(t);case"year":return l$(t);case"month":return c$(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function p$(e,t){switch(e){case"century":return n$(t);case"decade":return WE(t);case"year":return KE(t);case"month":return qE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function She(e,t){switch(e){case"decade":return a$(t,-100);case"year":return l$(t,-10);case"month":return c$(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Phe(e,t){switch(e){case"decade":return WE(t,100);case"year":return KE(t,10);case"month":return qE(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function m$(e,t){switch(e){case"century":return BE(t);case"decade":return p0(t);case"year":return m0(t);case"month":return zf(t);case"day":return GE(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function The(e,t){switch(e){case"century":return Jfe(t);case"decade":return s$(t);case"year":return u$(t);case"month":return d$(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ahe(e,t){switch(e){case"decade":return s$(t,-100);case"year":return u$(t,-10);case"month":return d$(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function n2(e,t){switch(e){case"century":return i$(t);case"decade":return o$(t);case"year":return Zfe(t);case"month":return ehe(t);case"day":return nhe(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function Ihe(e,t,r){var n=[t,r].sort(function(i,a){return i.getTime()-a.getTime()});return[ko(e,n[0]),m$(e,n[1])]}function g$(e,t,r){return r.map(function(n){return(t||g0)(e,n)}).join("  ")}function Che(e,t,r){return g$(e,t,i$(r))}function v$(e,t,r){return g$(e,t,o$(r))}function Ohe(e){return e.getDay()===new Date().getDay()}function y$(e,t){t===void 0&&(t=vr.ISO_8601);var r=e.getDay();switch(t){case vr.ISLAMIC:case vr.HEBREW:return r===bhe||r===r2;case vr.ISO_8601:case vr.GREGORY:return r===r2||r===xhe;default:throw new Error("Unsupported calendar type.")}}var hi="react-calendar__navigation";function Nhe(e){var t=e.activeStartDate,r=e.drillUp,n=e.formatMonthYear,i=n===void 0?h$:n,a=e.formatYear,s=a===void 0?g0:a,o=e.locale,l=e.maxDate,u=e.minDate,c=e.navigationAriaLabel,d=c===void 0?"":c,p=e.navigationAriaLive,m=e.navigationLabel,v=e.next2AriaLabel,y=v===void 0?"":v,x=e.next2Label,b=x===void 0?"":x,_=e.nextAriaLabel,E=_===void 0?"":_,A=e.nextLabel,N=A===void 0?"":A,j=e.prev2AriaLabel,k=j===void 0?"":j,S=e.prev2Label,T=S===void 0?"":S,O=e.prevAriaLabel,C=O===void 0?"":O,I=e.prevLabel,D=I===void 0?"":I,B=e.setActiveStartDate,X=e.showDoubleView,L=e.view,H=e.views,M=H.indexOf(L)>0,V=L!=="century",Y=Ehe(L,t),Z=V?She(L,t):void 0,re=p$(L,t),ge=V?Phe(L,t):void 0,ke=function(){if(Y.getFullYear()<0)return!0;var ce=The(L,t);return u&&u>=ce}(),dt=V&&function(){if(Z.getFullYear()<0)return!0;var ce=Ahe(L,t);return u&&u>=ce}(),it=l&&l<re,Oe=V&&l&&l<ge;function Gr(){B(Y,"prev")}function K(){B(Z,"prev2")}function he(){B(re,"next")}function xe(){B(ge,"next2")}function q(ce){var Xe=function(){switch(L){case"century":return Che(o,s,ce);case"decade":return v$(o,s,ce);case"year":return s(o,ce);case"month":return i(o,ce);default:throw new Error("Invalid view: ".concat(L,"."))}}();return m?m({date:ce,label:Xe,locale:o||r$()||void 0,view:L}):Xe}function at(){var ce="".concat(hi,"__label");return h.jsxs("button",{"aria-label":d,"aria-live":p,className:ce,disabled:!M,onClick:r,style:{flexGrow:1},type:"button",children:[h.jsx("span",{className:"".concat(ce,"__labelText ").concat(ce,"__labelText--from"),children:q(t)}),X?h.jsxs(h.Fragment,{children:[h.jsx("span",{className:"".concat(ce,"__divider"),children:"  "}),h.jsx("span",{className:"".concat(ce,"__labelText ").concat(ce,"__labelText--to"),children:q(re)})]}):null]})}return h.jsxs("div",{className:hi,children:[T!==null&&V?h.jsx("button",{"aria-label":k,className:"".concat(hi,"__arrow ").concat(hi,"__prev2-button"),disabled:dt,onClick:K,type:"button",children:T}):null,D!==null&&h.jsx("button",{"aria-label":C,className:"".concat(hi,"__arrow ").concat(hi,"__prev-button"),disabled:ke,onClick:Gr,type:"button",children:D}),at(),N!==null&&h.jsx("button",{"aria-label":E,className:"".concat(hi,"__arrow ").concat(hi,"__next-button"),disabled:it,onClick:he,type:"button",children:N}),b!==null&&V?h.jsx("button",{"aria-label":y,className:"".concat(hi,"__arrow ").concat(hi,"__next2-button"),disabled:Oe,onClick:xe,type:"button",children:b}):null]})}var Dl=function(){return Dl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Dl.apply(this,arguments)},jhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function i2(e){return"".concat(e,"%")}function QE(e){var t=e.children,r=e.className,n=e.count,i=e.direction,a=e.offset,s=e.style,o=e.wrap,l=jhe(e,["children","className","count","direction","offset","style","wrap"]);return h.jsx("div",Dl({className:r,style:Dl({display:"flex",flexDirection:i,flexWrap:o?"wrap":"nowrap"},s)},l,{children:g.Children.map(t,function(u,c){var d=a&&c===0?i2(100*a/n):null;return g.cloneElement(u,Dl(Dl({},u.props),{style:{flexBasis:i2(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:d,marginInlineStart:d,marginInlineEnd:0}}))})}))}function Dhe(e,t,r){return t&&t>e?t:r&&r<e?r:e}function Hd(e,t){return t[0]<=e&&t[1]>=e}function Rhe(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function x$(e,t){return Hd(e[0],t)||Hd(e[1],t)}function a2(e,t,r){var n=x$(t,e),i=[];if(n){i.push(r);var a=Hd(e[0],t),s=Hd(e[1],t);a&&i.push("".concat(r,"Start")),s&&i.push("".concat(r,"End")),a&&s&&i.push("".concat(r,"BothEnds"))}return i}function Mhe(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function Lhe(e){if(!e)throw new Error("args is required");var t=e.value,r=e.date,n=e.hover,i="react-calendar__tile",a=[i];if(!r)return a;var s=new Date,o=function(){if(Array.isArray(r))return r;var m=e.dateType;if(!m)throw new Error("dateType is required when date is not an array of two dates");return n2(m,r)}();if(Hd(s,o)&&a.push("".concat(i,"--now")),!t||!Mhe(t))return a;var l=function(){if(Array.isArray(t))return t;var m=e.valueType;if(!m)throw new Error("valueType is required when value is not an array of two dates");return n2(m,t)}();Rhe(l,o)?a.push("".concat(i,"--active")):x$(l,o)&&a.push("".concat(i,"--hasActive"));var u=a2(l,o,"".concat(i,"--range"));a.push.apply(a,u);var c=Array.isArray(t)?t:[t];if(n&&c.length===1){var d=n>l[0]?[l[0],n]:[n,l[0]],p=a2(d,o,"".concat(i,"--hover"));a.push.apply(a,p)}return a}function v0(e){for(var t=e.className,r=e.count,n=r===void 0?3:r,i=e.dateTransform,a=e.dateType,s=e.end,o=e.hover,l=e.offset,u=e.renderTile,c=e.start,d=e.step,p=d===void 0?1:d,m=e.value,v=e.valueType,y=[],x=c;x<=s;x+=p){var b=i(x);y.push(u({classes:Lhe({date:b,dateType:a,hover:o,value:m,valueType:v}),date:b}))}return h.jsx(QE,{className:t,count:n,offset:l,wrap:!0,children:y})}function y0(e){var t=e.activeStartDate,r=e.children,n=e.classes,i=e.date,a=e.formatAbbr,s=e.locale,o=e.maxDate,l=e.maxDateTransform,u=e.minDate,c=e.minDateTransform,d=e.onClick,p=e.onMouseOver,m=e.style,v=e.tileClassName,y=e.tileContent,x=e.tileDisabled,b=e.view,_=g.useMemo(function(){var A={activeStartDate:t,date:i,view:b};return typeof v=="function"?v(A):v},[t,i,v,b]),E=g.useMemo(function(){var A={activeStartDate:t,date:i,view:b};return typeof y=="function"?y(A):y},[t,i,y,b]);return h.jsxs("button",{className:Pe(n,_),disabled:u&&c(u)>i||o&&l(o)<i||(x==null?void 0:x({activeStartDate:t,date:i,view:b})),onClick:d?function(A){return d(i,A)}:void 0,onFocus:p?function(){return p(i)}:void 0,onMouseOver:p?function(){return p(i)}:void 0,style:m,type:"button",children:[a?h.jsx("abbr",{"aria-label":a(s,i),children:r}):r,E]})}var _w=function(){return _w=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_w.apply(this,arguments)},Vhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},s2="react-calendar__century-view__decades__decade";function $he(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentCentury,i=e.formatYear,a=i===void 0?g0:i,s=Vhe(e,["classes","currentCentury","formatYear"]),o=s.date,l=s.locale,u=[];return r&&u.push.apply(u,r),u.push(s2),Wu(o).getFullYear()!==n&&u.push("".concat(s2,"--neighboringCentury")),h.jsx(y0,_w({},s,{classes:u,maxDateTransform:p0,minDateTransform:Bs,view:"century",children:v$(l,a,o)}))}var kw=function(){return kw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},kw.apply(this,arguments)},o2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Fhe(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringCentury,i=e.value,a=e.valueType,s=o2(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=whe(t),l=o+(n?119:99);return h.jsx(v0,{className:"react-calendar__century-view__decades",dateTransform:Bs,dateType:"decade",end:l,hover:r,renderTile:function(u){var c=u.date,d=o2(u,["date"]);return h.jsx($he,kw({},s,d,{activeStartDate:t,currentCentury:o,date:c}),c.getTime())},start:o,step:10,value:i,valueType:a})}var Ew=function(){return Ew=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ew.apply(this,arguments)};function zhe(e){function t(){return h.jsx(Fhe,Ew({},e))}return h.jsx("div",{className:"react-calendar__century-view",children:t()})}var Sw=function(){return Sw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sw.apply(this,arguments)},Uhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},l2="react-calendar__decade-view__years__year";function Bhe(e){var t=e.classes,r=t===void 0?[]:t,n=e.currentDecade,i=e.formatYear,a=i===void 0?g0:i,s=Uhe(e,["classes","currentDecade","formatYear"]),o=s.date,l=s.locale,u=[];return r&&u.push.apply(u,r),u.push(l2),Bs(o).getFullYear()!==n&&u.push("".concat(l2,"--neighboringDecade")),h.jsx(y0,Sw({},s,{classes:u,maxDateTransform:m0,minDateTransform:Ku,view:"decade",children:a(l,o)}))}var Pw=function(){return Pw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Pw.apply(this,arguments)},u2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Whe(e){var t=e.activeStartDate,r=e.hover,n=e.showNeighboringDecade,i=e.value,a=e.valueType,s=u2(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=_he(t),l=o+(n?11:9);return h.jsx(v0,{className:"react-calendar__decade-view__years",dateTransform:Ku,dateType:"year",end:l,hover:r,renderTile:function(u){var c=u.date,d=u2(u,["date"]);return h.jsx(Bhe,Pw({},s,d,{activeStartDate:t,currentDecade:o,date:c}),c.getTime())},start:o,value:i,valueType:a})}var Tw=function(){return Tw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Tw.apply(this,arguments)};function Khe(e){function t(){return h.jsx(Whe,Tw({},e))}return h.jsx("div",{className:"react-calendar__decade-view",children:t()})}var Aw=function(){return Aw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Aw.apply(this,arguments)},Hhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},c2=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},qhe="react-calendar__year-view__months__month";function Ghe(e){var t=e.classes,r=t===void 0?[]:t,n=e.formatMonth,i=n===void 0?ghe:n,a=e.formatMonthYear,s=a===void 0?h$:a,o=Hhe(e,["classes","formatMonth","formatMonthYear"]),l=o.date,u=o.locale;return h.jsx(y0,Aw({},o,{classes:c2(c2([],r,!0),[qhe],!1),formatAbbr:s,maxDateTransform:zf,minDateTransform:rl,view:"year",children:i(u,l)}))}var Iw=function(){return Iw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Iw.apply(this,arguments)},d2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Yhe(e){var t=e.activeStartDate,r=e.hover,n=e.value,i=e.valueType,a=d2(e,["activeStartDate","hover","value","valueType"]),s=0,o=11,l=ct(t);return h.jsx(v0,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(l,u,1),rl(c)},dateType:"month",end:o,hover:r,renderTile:function(u){var c=u.date,d=d2(u,["date"]);return h.jsx(Ghe,Iw({},a,d,{activeStartDate:t,date:c}),c.getTime())},start:s,value:n,valueType:i})}var Cw=function(){return Cw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Cw.apply(this,arguments)};function Qhe(e){function t(){return h.jsx(Yhe,Cw({},e))}return h.jsx("div",{className:"react-calendar__year-view",children:t()})}var Ow=function(){return Ow=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ow.apply(this,arguments)},Xhe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},By="react-calendar__month-view__days__day";function Jhe(e){var t=e.calendarType,r=e.classes,n=r===void 0?[]:r,i=e.currentMonthIndex,a=e.formatDay,s=a===void 0?phe:a,o=e.formatLongDate,l=o===void 0?mhe:o,u=Xhe(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=u.date,d=u.locale,p=[];return n&&p.push.apply(p,n),p.push(By),y$(c,t)&&p.push("".concat(By,"--weekend")),c.getMonth()!==i&&p.push("".concat(By,"--neighboringMonth")),h.jsx(y0,Ow({},u,{classes:p,formatAbbr:l,maxDateTransform:GE,minDateTransform:Uf,view:"month",children:s(d,c)}))}var Nw=function(){return Nw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Nw.apply(this,arguments)},f2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function Zhe(e){var t=e.activeStartDate,r=e.calendarType,n=e.hover,i=e.showFixedNumberOfWeeks,a=e.showNeighboringMonth,s=e.value,o=e.valueType,l=f2(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=ct(t),c=Us(t),d=i||a,p=Kd(t,r),m=d?0:p,v=(d?-p:0)+1,y=function(){if(i)return v+6*7-1;var x=f$(t);if(a){var b=new Date;b.setFullYear(u,c,x),b.setHours(0,0,0,0);var _=7-Kd(b,r)-1;return x+_}return x}();return h.jsx(v0,{className:"react-calendar__month-view__days",count:7,dateTransform:function(x){var b=new Date;return b.setFullYear(u,c,x),Uf(b)},dateType:"day",hover:n,end:y,renderTile:function(x){var b=x.date,_=f2(x,["date"]);return h.jsx(Jhe,Nw({},l,_,{activeStartDate:t,calendarType:r,currentMonthIndex:c,date:b}),b.getTime())},offset:m,start:v,value:s,valueType:o})}var b$="react-calendar__month-view__weekdays",Wy="".concat(b$,"__weekday");function epe(e){for(var t=e.calendarType,r=e.formatShortWeekday,n=r===void 0?vhe:r,i=e.formatWeekday,a=i===void 0?yhe:i,s=e.locale,o=e.onMouseLeave,l=new Date,u=rl(l),c=ct(u),d=Us(u),p=[],m=1;m<=7;m+=1){var v=new Date(c,d,m-Kd(u,t)),y=a(s,v);p.push(h.jsx("div",{className:Pe(Wy,Ohe(v)&&"".concat(Wy,"--current"),y$(v,t)&&"".concat(Wy,"--weekend")),children:h.jsx("abbr",{"aria-label":y,title:y,children:n(s,v).replace(".","")})},m))}return h.jsx(QE,{className:b$,count:7,onFocus:o,onMouseOver:o,children:p})}var dg=function(){return dg=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},dg.apply(this,arguments)},h2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},p2="react-calendar__tile";function tpe(e){var t=e.onClickWeekNumber,r=e.weekNumber,n=h.jsx("span",{children:r});if(t){var i=e.date,a=e.onClickWeekNumber,s=e.weekNumber,o=h2(e,["date","onClickWeekNumber","weekNumber"]);return h.jsx("button",dg({},o,{className:p2,onClick:function(l){return a(s,i,l)},type:"button",children:n}))}else{e.date,e.onClickWeekNumber,e.weekNumber;var o=h2(e,["date","onClickWeekNumber","weekNumber"]);return h.jsx("div",dg({},o,{className:p2,children:n}))}}function rpe(e){var t=e.activeStartDate,r=e.calendarType,n=e.onClickWeekNumber,i=e.onMouseLeave,a=e.showFixedNumberOfWeeks,s=function(){if(a)return 6;var u=f$(t),c=Kd(t,r),d=u-(7-c);return 1+Math.ceil(d/7)}(),o=function(){for(var u=ct(t),c=Us(t),d=h0(t),p=[],m=0;m<s;m+=1)p.push(ww(new Date(u,c,d+m*7),r));return p}(),l=o.map(function(u){return khe(u,r)});return h.jsx(QE,{className:"react-calendar__month-view__weekNumbers",count:s,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0},children:l.map(function(u,c){var d=o[c];if(!d)throw new Error("date is not defined");return h.jsx(tpe,{date:d,onClickWeekNumber:n,weekNumber:u},u)})})}var jw=function(){return jw=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},jw.apply(this,arguments)},npe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function ipe(e){if(e)for(var t=0,r=Object.entries(ihe);t<r.length;t++){var n=r[t],i=n[0],a=n[1];if(a.includes(e))return i}return vr.ISO_8601}function ape(e){var t=e.activeStartDate,r=e.locale,n=e.onMouseLeave,i=e.showFixedNumberOfWeeks,a=e.calendarType,s=a===void 0?ipe(r):a,o=e.formatShortWeekday,l=e.formatWeekday,u=e.onClickWeekNumber,c=e.showWeekNumbers,d=npe(e,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return h.jsx(epe,{calendarType:s,formatShortWeekday:o,formatWeekday:l,locale:r,onMouseLeave:n})}function m(){return c?h.jsx(rpe,{activeStartDate:t,calendarType:s,onClickWeekNumber:u,onMouseLeave:n,showFixedNumberOfWeeks:i}):null}function v(){return h.jsx(Zhe,jw({calendarType:s},d))}var y="react-calendar__month-view";return h.jsx("div",{className:Pe(y,c?"".concat(y,"--weekNumbers"):""),children:h.jsxs("div",{style:{display:"flex",alignItems:"flex-end"},children:[m(),h.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[p(),v()]})]})})}var Rl=function(){return Rl=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Rl.apply(this,arguments)},Kh="react-calendar",wp=["century","decade","year","month"],spe=["decade","year","month","day"],XE=new Date;XE.setFullYear(1,0,1);XE.setHours(0,0,0,0);var ope=new Date(864e13);function Rc(e){return e instanceof Date?e:new Date(e)}function w$(e,t){return wp.slice(wp.indexOf(e),wp.indexOf(t)+1)}function lpe(e,t,r){var n=w$(t,r);return n.indexOf(e)!==-1}function JE(e,t,r){return e&&lpe(e,t,r)?e:r}function _$(e){var t=wp.indexOf(e);return spe[t]}function upe(e,t){var r=Array.isArray(e)?e[t]:e;if(!r)return null;var n=Rc(r);if(Number.isNaN(n.getTime()))throw new Error("Invalid date: ".concat(e));return n}function k$(e,t){var r=e.value,n=e.minDate,i=e.maxDate,a=e.maxDetail,s=upe(r,t);if(!s)return null;var o=_$(a),l=function(){switch(t){case 0:return ko(o,s);case 1:return m$(o,s);default:throw new Error("Invalid index value: ".concat(t))}}();return Dhe(l,n,i)}var ZE=function(e){return k$(e,0)},E$=function(e){return k$(e,1)},cpe=function(e){return[ZE,E$].map(function(t){return t(e)})};function S$(e){var t=e.maxDate,r=e.maxDetail,n=e.minDate,i=e.minDetail,a=e.value,s=e.view,o=JE(s,i,r),l=ZE({value:a,minDate:n,maxDate:t,maxDetail:r})||new Date;return ko(o,l)}function dpe(e){var t=e.activeStartDate,r=e.defaultActiveStartDate,n=e.defaultValue,i=e.defaultView,a=e.maxDate,s=e.maxDetail,o=e.minDate,l=e.minDetail,u=e.value,c=e.view,d=JE(c,l,s),p=t||r;return p?ko(d,p):S$({maxDate:a,maxDetail:s,minDate:o,minDetail:l,value:u||n,view:c||i})}function Ky(e){return e&&(!Array.isArray(e)||e.length===1)}function Hh(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var fpe=g.forwardRef(function(t,r){var n=t.activeStartDate,i=t.allowPartialRange,a=t.calendarType,s=t.className,o=t.defaultActiveStartDate,l=t.defaultValue,u=t.defaultView,c=t.formatDay,d=t.formatLongDate,p=t.formatMonth,m=t.formatMonthYear,v=t.formatShortWeekday,y=t.formatWeekday,x=t.formatYear,b=t.goToRangeStartOnSelect,_=b===void 0?!0:b,E=t.inputRef,A=t.locale,N=t.maxDate,j=N===void 0?ope:N,k=t.maxDetail,S=k===void 0?"month":k,T=t.minDate,O=T===void 0?XE:T,C=t.minDetail,I=C===void 0?"century":C,D=t.navigationAriaLabel,B=t.navigationAriaLive,X=t.navigationLabel,L=t.next2AriaLabel,H=t.next2Label,M=t.nextAriaLabel,V=t.nextLabel,Y=t.onActiveStartDateChange,Z=t.onChange,re=t.onClickDay,ge=t.onClickDecade,ke=t.onClickMonth,dt=t.onClickWeekNumber,it=t.onClickYear,Oe=t.onDrillDown,Gr=t.onDrillUp,K=t.onViewChange,he=t.prev2AriaLabel,xe=t.prev2Label,q=t.prevAriaLabel,at=t.prevLabel,ce=t.returnValue,Xe=ce===void 0?"start":ce,Re=t.selectRange,jt=t.showDoubleView,Ni=t.showFixedNumberOfWeeks,Ws=t.showNavigation,Ks=Ws===void 0?!0:Ws,il=t.showNeighboringCentury,Hu=t.showNeighboringDecade,Ra=t.showNeighboringMonth,Ma=Ra===void 0?!0:Ra,ji=t.showWeekNumbers,Dt=t.tileClassName,Bt=t.tileContent,Wn=t.tileDisabled,La=t.value,Sn=t.view,z=g.useState(o),ae=z[0],le=z[1],we=g.useState(null),_e=we[0],At=we[1],Ve=g.useState(Array.isArray(l)?l.map(function(be){return be!==null?Rc(be):null}):l!=null?Rc(l):null),Zt=Ve[0],er=Ve[1],Lr=g.useState(u),un=Lr[0],li=Lr[1],ft=n||ae||dpe({activeStartDate:n,defaultActiveStartDate:o,defaultValue:l,defaultView:u,maxDate:j,maxDetail:S,minDate:O,minDetail:I,value:La,view:Sn}),_t=function(){var be=function(){return Re&&Ky(Zt)?Zt:La!==void 0?La:Zt}();return be?Array.isArray(be)?be.map(function(Me){return Me!==null?Rc(Me):null}):be!==null?Rc(be):null:null}(),Hs=_$(S),Ue=JE(Sn||un,I,S),cn=w$(I,S),qs=Re?_e:null,al=cn.indexOf(Ue)<cn.length-1,tr=cn.indexOf(Ue)>0,qu=g.useCallback(function(be){var Me=function(){switch(Xe){case"start":return ZE;case"end":return E$;case"range":return cpe;default:throw new Error("Invalid returnValue.")}}();return Me({maxDate:j,maxDetail:S,minDate:O,value:be})},[j,S,O,Xe]),Di=g.useCallback(function(be,Me){le(be);var ht={action:Me,activeStartDate:be,value:_t,view:Ue};Y&&!Hh(ft,be)&&Y(ht)},[ft,Y,_t,Ue]),ui=g.useCallback(function(be,Me){var ht=function(){switch(Ue){case"century":return ge;case"decade":return it;case"year":return ke;case"month":return re;default:throw new Error("Invalid view: ".concat(Ue,"."))}}();ht&&ht(be,Me)},[re,ge,ke,it,Ue]),Gu=g.useCallback(function(be,Me){if(al){ui(be,Me);var ht=cn[cn.indexOf(Ue)+1];if(!ht)throw new Error("Attempted to drill down from the lowest view.");le(be),li(ht);var Yr={action:"drillDown",activeStartDate:be,value:_t,view:ht};Y&&!Hh(ft,be)&&Y(Yr),K&&Ue!==ht&&K(Yr),Oe&&Oe(Yr)}},[ft,al,Y,ui,Oe,K,_t,Ue,cn]),Yu=g.useCallback(function(){if(tr){var be=cn[cn.indexOf(Ue)-1];if(!be)throw new Error("Attempted to drill up from the highest view.");var Me=ko(be,ft);le(Me),li(be);var ht={action:"drillUp",activeStartDate:Me,value:_t,view:be};Y&&!Hh(ft,Me)&&Y(ht),K&&Ue!==be&&K(ht),Gr&&Gr(ht)}},[ft,tr,Y,Gr,K,_t,Ue,cn]),ci=g.useCallback(function(be,Me){var ht=_t;ui(be,Me);var Yr=Re&&!Ky(ht),Vr;if(Re)if(Yr)Vr=ko(Hs,be);else{if(!ht)throw new Error("previousValue is required");if(Array.isArray(ht))throw new Error("previousValue must not be an array");Vr=Ihe(Hs,ht,be)}else Vr=qu(be);var Ys=!Re||Yr||_?S$({maxDate:j,maxDetail:S,minDate:O,minDetail:I,value:Vr,view:Ue}):null;Me.persist(),le(Ys),er(Vr);var Wf={action:"onChange",activeStartDate:Ys,value:Vr,view:Ue};if(Y&&!Hh(ft,Ys)&&Y(Wf),Z)if(Re){var Kf=Ky(Vr);if(!Kf)Z(Vr||null,Me);else if(i){if(Array.isArray(Vr))throw new Error("value must not be an array");Z([Vr||null,null],Me)}}else Z(Vr||null,Me)},[ft,i,qu,_,j,S,O,I,Y,Z,ui,Re,_t,Hs,Ue]);function x0(be){At(be)}function Qu(){At(null)}g.useImperativeHandle(r,function(){return{activeStartDate:ft,drillDown:Gu,drillUp:Yu,onChange:ci,setActiveStartDate:Di,value:_t,view:Ue}},[ft,Gu,Yu,ci,Di,_t,Ue]);function Gs(be){var Me=be?p$(Ue,ft):ko(Ue,ft),ht=al?Gu:ci,Yr={activeStartDate:Me,hover:qs,locale:A,maxDate:j,minDate:O,onClick:ht,onMouseOver:Re?x0:void 0,tileClassName:Dt,tileContent:Bt,tileDisabled:Wn,value:_t,valueType:Hs};switch(Ue){case"century":return h.jsx(zhe,Rl({formatYear:x,showNeighboringCentury:il},Yr));case"decade":return h.jsx(Khe,Rl({formatYear:x,showNeighboringDecade:Hu},Yr));case"year":return h.jsx(Qhe,Rl({formatMonth:p,formatMonthYear:m},Yr));case"month":return h.jsx(ape,Rl({calendarType:a,formatDay:c,formatLongDate:d,formatShortWeekday:v,formatWeekday:y,onClickWeekNumber:dt,onMouseLeave:Re?Qu:void 0,showFixedNumberOfWeeks:typeof Ni<"u"?Ni:jt,showNeighboringMonth:Ma,showWeekNumbers:ji},Yr));default:throw new Error("Invalid view: ".concat(Ue,"."))}}function Bf(){return Ks?h.jsx(Nhe,{activeStartDate:ft,drillUp:Yu,formatMonthYear:m,formatYear:x,locale:A,maxDate:j,minDate:O,navigationAriaLabel:D,navigationAriaLive:B,navigationLabel:X,next2AriaLabel:L,next2Label:H,nextAriaLabel:M,nextLabel:V,prev2AriaLabel:he,prev2Label:xe,prevAriaLabel:q,prevLabel:at,setActiveStartDate:Di,showDoubleView:jt,view:Ue,views:cn}):null}var Xu=Array.isArray(_t)?_t:[_t];return h.jsxs("div",{className:Pe(Kh,Re&&Xu.length===1&&"".concat(Kh,"--selectRange"),jt&&"".concat(Kh,"--doubleView"),s),ref:E,children:[Bf(),h.jsxs("div",{className:"".concat(Kh,"__viewContainer"),onBlur:Re?Qu:void 0,onMouseLeave:Re?Qu:void 0,children:[Gs(),jt?Gs(!0):null]})]})});const hpe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function ppe({user:e}){const[t,r]=g.useState(new Date),[n,i]=g.useState([]),[a,s]=g.useState([]),[o,l]=g.useState(""),[u,c]=g.useState(""),[d,p]=g.useState(""),[m,v]=g.useState("none"),[y,x]=g.useState(12),[b,_]=g.useState(!1),[E,A]=g.useState("cash");g.useEffect(()=>{const I=an(Tt(fe,"planned_transactions"),Ht("uid","==",e.uid)),D=zr(I,B=>{const X=B.docs.map(L=>({id:L.id,...L.data()}));i(X)});return()=>D()},[e.uid]),g.useEffect(()=>{const I=an(Tt(fe,"subscriptions"),Ht("uid","==",e.uid),Ht("status","==","active")),D=zr(I,B=>{const X=B.docs.map(L=>({id:L.id,...L.data()}));s(X)});return()=>D()},[e.uid]);const N=({date:I,view:D})=>{if(D==="month"){const B=I.toISOString().split("T")[0],X=n.filter(H=>H.date===B),L=a.filter(H=>H.billingDay===I.getDate());if(X.length>0||L.length>0)return h.jsxs("div",{className:"calendar-tile-content flex items-center justify-center gap-0.5",children:[X.map((H,M)=>h.jsx("div",{className:`calendar-dot ${H.isCompleted?"dot-completed":"dot-expense"}`},`evt-${M}`)),L.map((H,M)=>h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-500",title:H.name},`sub-${M}`))]})}},j=async I=>{if(I.preventDefault(),!(!o||!u||!d)){_(!0);try{const D=new Date(t),B=m==="none"?1:parseInt(y),X=[];for(let L=0;L<B;L++){const H=new Date(D);m==="weekly"?H.setDate(D.getDate()+L*7):m==="monthly"&&H.setMonth(D.getMonth()+L);const M=H.toISOString().split("T")[0];X.push(pu(Tt(fe,"planned_transactions"),{uid:e.uid,title:m!=="none"?`${u} (${L+1}/${B})`:u,amount:parseFloat(o),category:d,paymentMethod:E,date:M,isCompleted:!1,createdAt:Mo()}))}await Promise.all(X),l(""),c(""),p(""),v("none")}catch(D){console.error("Error adding planned transaction:",D),alert("Bir hata olutu.")}finally{_(!1)}}},k=async I=>{confirm(`${I.title} ilemini tamamland olarak iaretlemek istiyor musunuz?`)&&(await pu(Tt(fe,"transactions"),{uid:e.uid,title:I.title,amount:I.amount,type:"expense",category:I.category,paymentMethod:I.paymentMethod||"cash",date:I.date,createdAt:Mo()}),await fn(Le(fe,"planned_transactions",I.id),{isCompleted:!0}))},S=async I=>{confirm("Bu planl ilemi silmek istediinize emin misiniz?")&&await iv(Le(fe,"planned_transactions",I))},T=t.toISOString().split("T")[0],O=n.filter(I=>I.date===T),C=a.filter(I=>I.billingDay===t.getDate());return h.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2 mb-6",children:[h.jsx(yo,{className:"text-indigo-600 dark:text-indigo-400"}),"deme Takvimi"]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700",children:h.jsx(fpe,{onChange:r,value:t,tileContent:N,className:"w-full border-none font-sans text-slate-700 dark:text-slate-200",locale:"tr-TR"})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 border-b border-slate-100 dark:border-slate-700 pb-2",children:t.toLocaleDateString("tr-TR",{day:"numeric",month:"long",year:"numeric"})}),O.length===0&&C.length===0?h.jsx("p",{className:"text-slate-400 text-sm text-center py-6",children:"Bu tarih iin planlanm bir deme yok."}):h.jsxs("div",{className:"space-y-3",children:[C.map(I=>h.jsxs("div",{className:"p-3 bg-indigo-50 dark:bg-indigo-900/20 border border-indigo-100 dark:border-indigo-800/50 rounded-xl flex items-center justify-between group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white font-bold text-xs shadow-sm",style:{backgroundColor:I.color||"#6366f1"},children:I.name.charAt(0)}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-100 text-sm",children:I.name}),h.jsx("span",{className:"text-[10px] uppercase font-bold text-indigo-500 bg-indigo-100 dark:bg-indigo-900 px-1.5 py-0.5 rounded",children:"Abonelik"})]})]}),h.jsx("span",{className:"font-bold text-indigo-600 dark:text-indigo-400 text-sm",children:I.price.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]},I.id)),O.map(I=>h.jsxs("div",{className:`p-3 rounded-xl border flex items-center justify-between group transition-all ${I.isCompleted?"bg-emerald-50 border-emerald-100 dark:bg-emerald-900/20 dark:border-emerald-800":"bg-slate-50 border-slate-100 dark:bg-slate-700/50 dark:border-slate-600"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`p-2 rounded-lg ${I.isCompleted?"bg-emerald-100 text-emerald-600 dark:bg-emerald-900 dark:text-emerald-400":"bg-white text-slate-500 dark:bg-slate-600 dark:text-slate-300"}`,children:I.isCompleted?h.jsx(Td,{size:16}):h.jsx(bq,{size:16})}),h.jsxs("div",{children:[h.jsx("p",{className:`font-semibold text-sm ${I.isCompleted?"text-emerald-800 dark:text-emerald-200 line-through":"text-slate-800 dark:text-slate-200"}`,children:I.title}),h.jsx("p",{className:"text-xs text-slate-400",children:I.category})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:`font-bold text-sm ${I.isCompleted?"text-emerald-600 dark:text-emerald-400":"text-slate-600 dark:text-slate-300"}`,children:[I.amount,""]}),!I.isCompleted&&h.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>k(I),className:"p-1.5 text-emerald-500 hover:bg-emerald-100 rounded-md",title:"de",children:h.jsx(Td,{size:14})}),h.jsx("button",{onClick:()=>S(I.id),className:"p-1.5 text-red-500 hover:bg-red-100 rounded-md",title:"Sil",children:h.jsx(Lo,{size:14})})]})]})]},I.id))]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(Ps,{size:20,className:"text-indigo-500"}),"Yeni Plan Ekle"]}),h.jsxs("form",{onSubmit:j,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Balk"}),h.jsx("input",{type:"text",required:!0,className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",placeholder:"rn: Kira demesi",value:u,onChange:I=>c(I.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tutar"}),h.jsx("input",{type:"number",required:!0,min:"0",className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",placeholder:"0.00",value:o,onChange:I=>l(I.target.value)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Kategori"}),h.jsxs("select",{className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:d,onChange:I=>p(I.target.value),children:[h.jsx("option",{value:"",children:"Seiniz"}),hpe.map(I=>h.jsx("option",{value:I,children:I},I))]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"deme Yntemi"}),h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsxs("button",{type:"button",onClick:()=>A("cash"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${E==="cash"?"bg-emerald-50 text-emerald-600 border border-emerald-200":"bg-slate-50 text-slate-500 border border-transparent"}`,children:[h.jsx(mb,{size:16})," Nakit"]}),h.jsxs("button",{type:"button",onClick:()=>A("credit_card"),className:`py-2 px-3 rounded-lg flex items-center justify-center gap-2 text-sm font-medium transition-all ${E==="credit_card"?"bg-amber-50 text-amber-600 border border-amber-200":"bg-slate-50 text-slate-500 border border-transparent"}`,children:[h.jsx(Mn,{size:16})," Kredi Kart"]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tekrar"}),h.jsxs("select",{className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:m,onChange:I=>v(I.target.value),children:[h.jsx("option",{value:"none",children:"Tek Seferlik"}),h.jsx("option",{value:"weekly",children:"Haftalk"}),h.jsx("option",{value:"monthly",children:"Aylk"})]})]}),m!=="none"&&h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider mb-1 block",children:"Tekrar Says"}),h.jsx("input",{type:"number",min:"2",max:"60",className:"w-full px-3 py-2 rounded-lg bg-slate-50 dark:bg-slate-700 border-none focus:ring-2 focus:ring-indigo-500 text-slate-800 dark:text-slate-200",value:y,onChange:I=>x(I.target.value)})]}),h.jsx("button",{type:"submit",disabled:b,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg hover:shadow-indigo-500/30 transition-all flex items-center justify-center gap-2",children:b?"Ekleniyor...":h.jsxs(h.Fragment,{children:[h.jsx(Ps,{size:18}),"Plana Ekle"]})})]})]})]})]})]})}const mpe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"];function gpe({user:e,filterDate:t,setFilterDate:r}){const[n,i]=g.useState([]),[a,s]=g.useState({}),[o,l]=g.useState(!0),[u,c]=g.useState("TRY"),[d,p]=g.useState(1),[m,v]=g.useState(!1),[y,x]=g.useState(null),[b,_]=g.useState("");g.useEffect(()=>{const C=zr(Le(fe,"user_settings",e.uid),I=>{if(I.exists()){const D=I.data();D.currency&&c(D.currency),D.fiscalStartDay&&p(D.fiscalStartDay)}});return()=>C()},[e.uid]),g.useEffect(()=>{const C=an(Tt(fe,"transactions"),Ht("uid","==",e.uid)),I=zr(C,D=>{const B=D.docs.map(X=>X.data());i(B),l(!1)});return()=>I()},[e.uid]),g.useEffect(()=>{const C=an(Tt(fe,"budgets"),Ht("uid","==",e.uid)),I=zr(C,D=>{const B={};D.docs.forEach(X=>{B[X.data().category]=X.data().limit}),s(B)});return()=>I()},[e.uid]);const E=C=>{x(C),_(a[C]||""),v(!0)},A=async C=>{if(C.preventDefault(),b===""||parseFloat(b)<0)return;const I=parseFloat(b);await is(Le(fe,"budgets",`${e.uid}_${y}`),{uid:e.uid,category:y,limit:I}),v(!1)},j=n.filter(C=>{var M;let I=C.date;if(!I&&((M=C.createdAt)!=null&&M.toDate)&&(I=C.createdAt.toDate().toISOString().split("T")[0]),!I||C.type!=="expense")return!1;const D=new Date(I),[B,X]=t.split("-").map(Number);let L=new Date(B,X-1,d),H=new Date(B,X,d);return D>=L&&D<H}).reduce((C,I)=>{const D=I.category||"Dier";return C[D]=(C[D]||0)+I.amount,C},{});let k=0,S=0;Object.entries(a).forEach(([C,I])=>{I>0&&(k+=I,S+=j[C]||0)});const T=k-S,O=k>0?S/k*100:0;return h.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[h.jsx(vb,{className:"text-indigo-600 dark:text-indigo-400"}),"Bte Planlamas"]}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Aylk harcama hedeflerinizi ynetin ve tasarruf edin."})]}),h.jsx("input",{type:"month",className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg px-4 py-2 outline-none focus:border-indigo-500 text-slate-700 dark:text-slate-200 shadow-sm",value:t,onChange:C=>r(C.target.value)})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(vb,{size:64,className:"text-indigo-600 dark:text-indigo-400"})}),h.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Toplam Bte Hedefi"}),h.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:k.toLocaleString("tr-TR",{style:"currency",currency:u,maximumFractionDigits:0})}),h.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:h.jsx("div",{className:"bg-indigo-500 h-1.5 rounded-full",style:{width:"100%"}})})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(fa,{size:64,className:"text-amber-500"})}),h.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Harcanan Tutar"}),h.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mt-1",children:S.toLocaleString("tr-TR",{style:"currency",currency:u,maximumFractionDigits:0})}),h.jsx("div",{className:"mt-4 w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full",children:h.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${O>100?"bg-red-500":"bg-amber-500"}`,style:{width:`${Math.min(O,100)}%`}})})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 relative overflow-hidden group",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity",children:h.jsx(Qc,{size:64,className:"text-emerald-500"})}),h.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Kalan Kullanlabilir"}),h.jsx("h3",{className:`text-2xl font-bold mt-1 ${T<0?"text-red-500":"text-emerald-600 dark:text-emerald-400"}`,children:T.toLocaleString("tr-TR",{style:"currency",currency:u,maximumFractionDigits:0})}),h.jsx("p",{className:"text-xs text-slate-400 mt-2",children:T<0?"Toplam bte hedefini atnz.":"Bte hedeflerine gre gvendesiniz."})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:mpe.map(C=>{const I=a[C]||0,D=j[C]||0,B=I>0?D/I*100:0,X=I-D,L=I>0;let H="text-slate-400",M="bg-slate-200 dark:bg-slate-700",V="Bte Yok";return L&&(B>=100?(H="text-red-500",M="bg-red-500",V="Bte Ald"):B>=75?(H="text-amber-500",M="bg-amber-500",V="Dikkat"):(H="text-emerald-500",M="bg-emerald-500",V="Gvenli")),h.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl p-6 border transition-all hover:shadow-md ${L?"border-slate-100 dark:border-slate-700":"border-dashed border-slate-200 dark:border-slate-700 opacity-70 hover:opacity-100"}`,children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:C}),h.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-700/50 ${H}`,children:V})]}),h.jsx("button",{onClick:()=>E(C),className:"p-2 text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded-lg transition-colors",title:"Limiti Dzenle",children:h.jsx(Ad,{size:18})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex justify-between items-end",children:h.jsxs("div",{className:"text-right w-full",children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1 text-slate-500 dark:text-slate-400",children:[h.jsx("span",{children:"Harcanan"}),h.jsx("span",{className:B>100?"text-red-500 font-bold":"",children:D.toLocaleString("tr-TR",{style:"currency",currency:u,maximumFractionDigits:0})})]}),h.jsxs("div",{className:"flex justify-between text-sm mb-1 font-medium text-slate-700 dark:text-slate-300",children:[h.jsx("span",{children:"Limit"}),h.jsx("span",{children:I>0?I.toLocaleString("tr-TR",{style:"currency",currency:u,maximumFractionDigits:0}):"-"})]})]})}),h.jsx("div",{className:"relative h-3 w-full bg-slate-100 dark:bg-slate-700 rounded-full overflow-hidden",children:I>0&&h.jsx("div",{className:`absolute top-0 left-0 h-full rounded-full transition-all duration-700 ${M}`,style:{width:`${Math.min(B,100)}%`}})}),L&&h.jsx("div",{className:"flex items-center gap-2 text-xs font-medium pt-1",children:X>=0?h.jsxs(h.Fragment,{children:[h.jsx(Td,{size:14,className:"text-emerald-500"}),h.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400",children:[X.toLocaleString("tr-TR",{style:"currency",currency:u,maximumFractionDigits:0})," harcayabilirsiniz"]})]}):h.jsxs(h.Fragment,{children:[h.jsx(I1,{size:14,className:"text-red-500"}),h.jsxs("span",{className:"text-red-600 dark:text-red-400",children:[Math.abs(X).toLocaleString("tr-TR",{style:"currency",currency:u,maximumFractionDigits:0})," atnz"]})]})})]})]},C)})}),h.jsx(ku,{isOpen:m,onClose:()=>v(!1),title:`${y} Btesi`,children:h.jsxs("form",{onSubmit:A,className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Bu kategori iin aylk harcama limiti belirleyin."}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Aylk Limit (TL)"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"number",required:!0,min:"0",step:"1",placeholder:"0",value:b,onChange:C=>_(C.target.value),className:"w-full pl-4 pr-12 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-800 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all font-semibold text-lg",autoFocus:!0}),h.jsx("span",{className:"absolute right-4 top-2.5 text-slate-400 font-medium",children:"TL"})]})]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:()=>v(!1),className:"flex-1 py-2 px-4 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors font-medium",children:"ptal"}),h.jsxs("button",{type:"submit",className:"flex-1 py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors font-medium flex items-center justify-center gap-2",children:[h.jsx(gb,{size:18}),"Kaydet"]})]})]})})]})}const vpe=["Market","Ulam","Konut","Fatura","Elence","Salk","Eitim","Giyim","Dier"],ype=["Maa","Freelance","Yatrm","Ek Gelir","Dier"];function xpe({user:e}){var H;const t=Ls(),[r,n]=g.useState(((H=t.state)==null?void 0:H.initialTab)||"cards"),[i,a]=g.useState(!0),[s,o]=g.useState({expenseCategories:vpe,incomeCategories:ype,creditCards:[],theme:"system",currency:"TRY",fiscalStartDay:1,defaultPaymentMethod:"cash",enableBudgetAlerts:!0,enableSubscriptionAlerts:!0}),[l,u]=g.useState(e.displayName||""),[c,d]=g.useState(e.photoURL||""),[p,m]=g.useState(!1),[v,y]=g.useState(""),[x,b]=g.useState("expense"),[_,E]=g.useState(""),[A,N]=g.useState(""),[j,k]=g.useState(""),[S,T]=g.useState("");g.useEffect(()=>{(async()=>{const V=Le(fe,"user_settings",e.uid),Y=await fq(V);if(Y.exists()){const Z=Y.data();o({...Z,creditCards:Z.creditCards||[]}),Z.photoURL&&d(Z.photoURL)}else await is(V,s);a(!1)})()},[e.uid]);const O=async M=>{const V={...s,theme:M};o(V),M==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):M==="light"?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(localStorage.removeItem("theme"),window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")),await fn(Le(fe,"user_settings",e.uid),{theme:M})},C=async M=>{if(M.preventDefault(),!v.trim())return;const V=x==="expense"?s.expenseCategories:s.incomeCategories;if(V.includes(v.trim())){alert("Bu kategori zaten mevcut.");return}const Y=[...V,v.trim()],Z=x==="expense"?{expenseCategories:Y}:{incomeCategories:Y};o({...s,...Z}),await fn(Le(fe,"user_settings",e.uid),Z),y("")},I=async M=>{if(M.preventDefault(),!_.trim())return;const V=s.creditCards||[];if(V.includes(_.trim())){alert("Bu kart zaten ekli.");return}const Z={creditCards:[...V,_.trim()]};o({...s,...Z}),await fn(Le(fe,"user_settings",e.uid),Z),E("")},D=async(M,V)=>{if(!confirm(`${M} gesini silmek istediinize emin misiniz?`))return;let Y={};if(V==="card")Y={creditCards:(s.creditCards||[]).filter(re=>re!==M)};else{const re=(V==="expense"?s.expenseCategories:s.incomeCategories).filter(ge=>ge!==M);Y=V==="expense"?{expenseCategories:re}:{incomeCategories:re}}o({...s,...Y}),await fn(Le(fe,"user_settings",e.uid),Y)},B=async M=>{M.preventDefault(),m(!0);try{await q8(e,{displayName:l,photoURL:c}),await fn(Le(fe,"user_settings",e.uid),{displayName:l,photoURL:c}),alert("Profil gncellendi!")}catch(V){console.error(V),alert("Hata olutu.")}finally{m(!1)}},X=async M=>{if(M.preventDefault(),j!==S){alert("Yeni ifreler elemiyor.");return}try{const V=Yo.credential(e.email,A);await U8(e,V),await G8(e,j),alert("ifre baaryla deitirildi."),N(""),k(""),T("")}catch(V){console.error(V),alert("ifre deitirilemedi. Mevcut ifrenizi doru girdiinizden emin olun.")}},L=[{id:"cards",label:"Kartlarm",icon:Mn},{id:"categories",label:"Kategoriler",icon:pm},{id:"preferences",label:"Grnm",icon:vA},{id:"notifications",label:"Bildirimler",icon:hm},{id:"profile",label:"Profil",icon:yb},{id:"security",label:"Gvenlik",icon:yA}];return i?h.jsx("div",{className:"p-8 text-center",children:"Ykleniyor..."}):h.jsxs("div",{className:"max-w-4xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Ayarlar"}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[h.jsx("div",{className:"lg:w-64 flex-shrink-0",children:h.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden sticky top-8",children:L.map(M=>h.jsxs("button",{onClick:()=>n(M.id),className:`w-full flex items-center gap-3 p-4 text-sm font-medium transition-colors ${r===M.id?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 border-l-4 border-indigo-600":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700 border-l-4 border-transparent"}`,children:[h.jsx(M.icon,{size:18}),M.label]},M.id))})}),h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 p-6 min-h-[400px]",children:[r==="cards"&&h.jsx("div",{className:"space-y-8",children:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(Mn,{className:"text-indigo-600",size:20}),"Kartlarm"]}),h.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Kullandnz kredi kartlarn ekleyin. Harcama yaparken bu kartlardan seim yapabileceksiniz."}),h.jsxs("form",{onSubmit:I,className:"flex gap-2 mb-6",children:[h.jsx("input",{type:"text",value:_,onChange:M=>E(M.target.value),placeholder:"Kart ad (rn: Bonus, Maximum)",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),h.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:h.jsx(Ps,{size:24})})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(s.creditCards||[]).map((M,V)=>h.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-slate-800 to-slate-700 text-white rounded-xl shadow-md group",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx(Mn,{size:20,className:"text-white/80"}),h.jsx("span",{className:"font-medium",children:M})]}),h.jsx("button",{onClick:()=>D(M,"card"),className:"p-1.5 text-white/50 hover:text-red-300 hover:bg-white/10 rounded-md transition-all sm:opacity-0 sm:group-hover:opacity-100",title:"Sil",children:h.jsx(Lo,{size:16})})]},V)),(s.creditCards||[]).length===0&&h.jsxs("div",{className:"col-span-2 text-center py-8 text-slate-400 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-700",children:[h.jsx("p",{className:"mb-2",children:"Henz kart eklemediniz."}),h.jsx("p",{className:"text-xs",children:"Yukardan kartnzn adn yazp (+) butonuna basn."})]})]})]})}),r==="categories"&&h.jsx("div",{className:"space-y-8",children:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(pm,{className:"text-indigo-600",size:20}),"Kategori Ynetimi"]}),h.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Gelir ve gider ilemlerinizde kullanacanz kategorileri zelletirin."}),h.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-700 rounded-xl mb-6",children:[h.jsx("button",{onClick:()=>b("expense"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${x==="expense"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gider Kategorileri"}),h.jsx("button",{onClick:()=>b("income"),className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all ${x==="income"?"bg-white dark:bg-slate-600 text-indigo-600 dark:text-indigo-300 shadow-sm":"text-slate-500 dark:text-slate-400"}`,children:"Gelir Kategorileri"})]}),h.jsxs("form",{onSubmit:C,className:"flex gap-2 mb-6",children:[h.jsx("input",{type:"text",value:v,onChange:M=>y(M.target.value),placeholder:"Yeni kategori ad...",className:"flex-1 px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-slate-50 dark:bg-slate-900/50 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),h.jsx("button",{type:"submit",className:"p-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors",children:h.jsx(Ps,{size:24})})]}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:(x==="expense"?s.expenseCategories:s.incomeCategories).map((M,V)=>h.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 dark:bg-slate-700/50 rounded-lg group border border-transparent hover:border-slate-200 dark:hover:border-slate-600 transition-all",children:[h.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-300",children:M}),h.jsx("button",{onClick:()=>D(M,x),className:"p-1.5 text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md opacity-100 lg:opacity-0 group-hover:opacity-100 transition-all",title:"Sil",children:h.jsx(Lo,{size:16})})]},V))})]})}),r==="preferences"&&h.jsx("div",{className:"space-y-8",children:h.jsxs("div",{children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(vA,{className:"text-indigo-600",size:20}),"Grnm & Uygulama Tercihleri"]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"pb-6 border-b border-slate-100 dark:border-slate-700",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"Tema Seimi"}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("button",{onClick:()=>O("light"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${s.theme==="light"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[h.jsx(yM,{size:24}),h.jsx("span",{className:"text-sm font-medium",children:"Ak"})]}),h.jsxs("button",{onClick:()=>O("dark"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${s.theme==="dark"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[h.jsx(gM,{size:24}),h.jsx("span",{className:"text-sm font-medium",children:"Koyu"})]}),h.jsxs("button",{onClick:()=>O("system"),className:`p-4 rounded-xl border-2 flex flex-col items-center gap-2 transition-all ${s.theme==="system"?"border-indigo-600 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600":"border-slate-200 dark:border-slate-700 hover:border-slate-300"}`,children:[h.jsx(Cq,{size:24}),h.jsx("span",{className:"text-sm font-medium",children:"Sistem"})]})]})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Para Birimi"}),h.jsxs("select",{value:s.currency,onChange:M=>{const V=M.target.value;o({...s,currency:V}),fn(Le(fe,"user_settings",e.uid),{currency:V})},className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:"TRY",children:"Trk Liras ()"}),h.jsx("option",{value:"USD",children:"Amerikan Dolar ($)"}),h.jsx("option",{value:"EUR",children:"Euro ()"}),h.jsx("option",{value:"GBP",children:"ngiliz Sterlini ()"})]}),h.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"Tm finansal verileriniz bu birimde gsterilir."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Varsaylan deme Yntemi"}),h.jsxs("select",{value:s.defaultPaymentMethod||"cash",onChange:M=>{const V=M.target.value;o({...s,defaultPaymentMethod:V}),fn(Le(fe,"user_settings",e.uid),{defaultPaymentMethod:V})},className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:"cash",children:"Nakit"}),h.jsx("option",{value:"credit_card",children:"Kredi Kart"})]}),h.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"Yeni harcama eklerken otomatik seilecek yntem."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Mali Ay Balangc"}),h.jsx("select",{value:s.fiscalStartDay||1,onChange:M=>{const V=parseInt(M.target.value);o({...s,fiscalStartDay:V}),fn(Le(fe,"user_settings",e.uid),{fiscalStartDay:V})},className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[...Array(31)].map((M,V)=>h.jsxs("option",{value:V+1,children:[V+1,". Gn"]},V+1))}),h.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"Bte ve raporlarnzn dngs bu gnde balar."})]})]})]})]})}),r==="notifications"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(hm,{className:"text-indigo-600",size:20}),"Bildirim Tercihleri"]}),h.jsx("p",{className:"text-sm text-slate-500 mb-6",children:"Hangi durumlarda uyar almak istediinizi buradan ynetebilirsiniz."}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 rounded-lg",children:h.jsx(fa,{size:20})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Bte Am Uyarlar"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Belirlediiniz kategori limitini atnzda bildirim aln."})]})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.enableBudgetAlerts??!0,onChange:async M=>{const V=M.target.checked;o({...s,enableBudgetAlerts:V}),await fn(Le(fe,"user_settings",e.uid),{enableBudgetAlerts:V})}}),h.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]}),h.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 rounded-lg",children:h.jsx(yo,{size:20})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200",children:"Abonelik Hatrlatclar"}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Yaklaan sabit demeleriniz iin hatrlatma aln."})]})]}),h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",className:"sr-only peer",checked:s.enableSubscriptionAlerts??!0,onChange:async M=>{const V=M.target.checked;o({...s,enableSubscriptionAlerts:V}),await fn(Le(fe,"user_settings",e.uid),{enableSubscriptionAlerts:V})}}),h.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-300 dark:peer-focus:ring-indigo-800 rounded-full peer dark:bg-slate-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-indigo-600"})]})]})]})]}),r==="profile"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(yb,{className:"text-indigo-600",size:20}),"Profil Bilgileri"]}),h.jsxs("form",{onSubmit:B,className:"space-y-4 max-w-md",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[h.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-slate-200 dark:bg-slate-700 flex items-center justify-center border-2 border-indigo-100 dark:border-indigo-900",children:c?h.jsx("img",{src:c,alt:"Profil",className:"w-full h-full object-cover",onError:M=>{M.target.src=""}}):h.jsx(xq,{size:48,className:"text-slate-400"})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium text-slate-800 dark:text-slate-200",children:"Profil Fotoraf"}),h.jsx("p",{className:"text-xs text-slate-500",children:"Bir resim URL'si girerek profil fotorafnz gncelleyin."})]})]}),h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Profil Resmi URL"}),h.jsx("input",{type:"url",value:c,onChange:M=>d(M.target.value),placeholder:"https://example.com/my-photo.jpg",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4"}),h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"E-posta Adresi"}),h.jsx("input",{type:"email",disabled:!0,value:e.email,className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 text-slate-500 dark:text-slate-400 cursor-not-allowed"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Grnen sim"}),h.jsx("input",{type:"text",value:l,onChange:M=>u(M.target.value),placeholder:"sminiz",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("button",{type:"submit",disabled:p,className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[h.jsx(gb,{size:18})," ",p?"Kaydediliyor...":"Kaydet"]})]})]}),r==="security"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-4 flex items-center gap-2",children:[h.jsx(yA,{className:"text-indigo-600",size:20}),"Gvenlik"]}),h.jsx("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl mb-6",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx(Aq,{className:"text-amber-600 dark:text-amber-400 shrink-0",size:24}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-amber-800 dark:text-amber-300 text-sm",children:"ifre Deitirme"}),h.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 mt-1",children:"Gvenliiniz iin ifrenizi dzenli olarak deitirmenizi neririz."})]})]})}),h.jsxs("form",{onSubmit:X,className:"space-y-4 max-w-md",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Mevcut ifre"}),h.jsx("input",{type:"password",required:!0,value:A,onChange:M=>N(M.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre"}),h.jsx("input",{type:"password",required:!0,value:j,onChange:M=>k(M.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Yeni ifre (Tekrar)"}),h.jsx("input",{type:"password",required:!0,value:S,onChange:M=>T(M.target.value),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[h.jsx(gb,{size:18})," ifreyi Gncelle"]})]})]})]})})]})]})}function bpe({transactions:e,timeRange:t,currency:r="TRY"}){const[n,i]=g.useState(null);return g.useEffect(()=>{const a={narrative:"Henz analiz iin yeterli veri bulunmuyor. lem ekledike buras gncellenecek.",anomalies:[],needsPercent:0,wantsPercent:0,projectedYearly:0,saving:0,score:0,tips:[],hasData:!1};if(!e||e.length===0){i(a);return}const s=()=>{const T=new Date,O=T.getMonth(),C=O===0?11:O-1,I={income:0,expense:0,categories:{}},D={income:0,expense:0,categories:{}};return e.forEach(B=>{var L;const X=B.dateObj||(B.date?new Date(B.date):(L=B.createdAt)!=null&&L.toDate?B.createdAt.toDate():new Date);X.getMonth()===O&&X.getFullYear()===T.getFullYear()?B.type==="income"?I.income+=B.amount:(I.expense+=B.amount,I.categories[B.category]=(I.categories[B.category]||0)+B.amount):X.getMonth()===C&&(O===0?X.getFullYear()===T.getFullYear()-1:X.getFullYear()===T.getFullYear())&&(B.type==="income"?D.income+=B.amount:(D.expense+=B.amount,D.categories[B.category]=(D.categories[B.category]||0)+B.amount))}),{currentData:I,lastData:D}},{currentData:o,lastData:l}=s();let u="Bu ay finansal hareketlerin dengeli grnyor.";o.expense>l.expense&&l.expense>0?u=`Bu ay giderlerin geen aya gre %${((o.expense-l.expense)/l.expense*100).toFixed(0)} artt. Harcamalarn gzden geirmelisin.`:o.expense<l.expense&&l.expense>0?u=`Harika! Bu ay geen aya gre %${((l.expense-o.expense)/l.expense*100).toFixed(0)} daha az harcadn. Tasarruf hedeflerin iin sper bir adm.`:o.expense===0&&o.income===0&&(u="Bu ay henz ilem kaydn yok. Harcama ekleyerek analizleri balatabilirsin.");const c=[];Object.entries(o.categories).forEach(([T,O])=>{const C=l.categories[T]||0;C>0&&O>C*1.5&&O>500?c.push({category:T,amount:O,increase:(O-C)/C*100}):C===0&&O>1e3&&c.push({category:T,amount:O,increase:100})});const d=["Market","Ulam","Konut","Fatura","Salk","Eitim"];let p=0,m=0;e.forEach(T=>{(T.dateObj||(T.date?new Date(T.date):new Date)).getMonth()===new Date().getMonth()&&T.type==="expense"&&(d.includes(T.category)?p+=T.amount:m+=T.amount)});const v=p+m,y=v>0?p/v*100:0,x=v>0?m/v*100:0,b=o.income-o.expense,_=b*12,E=o.income>0?b/o.income:0;let A=50;E>=.2?A+=30:E>=.1?A+=15:E>0&&(A+=5);const N=Math.abs(50-y);N<10?A+=20:N<20&&(A+=10),o.expense>o.income&&o.income>0?A-=20:A+=10,e.length<5&&(A=60),A=Math.min(100,Math.max(0,A));const j=[];let k="",S=0;Object.entries(o.categories).forEach(([T,O])=>{!d.includes(T)&&O>S&&(S=O,k=T)}),k&&S>0&&j.push(`"${k}" harcamalarn %10 azaltarak ayda ekstra ${(S*.1).toLocaleString("tr-TR",{style:"currency",currency:r,maximumFractionDigits:0})} biriktirebilirsin.`),y>70&&j.push("Zorunlu giderlerin btenin byk ksmn (%70+) kaplyor. Sabit giderleri (kira, fatura) gzden geirmek isteyebilirsin."),E<.1&&o.income>0&&j.push("Tasarruf orann %10'un altnda. Kk tutarlarla balayp birikim yapmay deneyebilirsin."),j.length===0&&j.push("Finansal durumun gayet dengeli grnyor! Byle devam et."),i({narrative:u,anomalies:c,needsPercent:y,wantsPercent:x,projectedYearly:_,saving:b,score:A,tips:j,hasData:!0})},[e,t]),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-violet-700 rounded-2xl p-6 text-white shadow-xl lg:col-span-2 relative overflow-hidden flex flex-col justify-between",children:[h.jsxs("div",{className:"relative z-10",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx("div",{className:"p-2 bg-white/20 rounded-lg backdrop-blur-sm",children:h.jsx(Id,{className:"text-yellow-300 fill-yellow-300",size:20})}),h.jsx("h3",{className:"font-bold text-lg",children:"Yapay Zeka Analizi"})]}),h.jsx("p",{className:"text-indigo-50 text-lg leading-relaxed font-medium mb-6",children:n==null?void 0:n.narrative}),h.jsxs("div",{className:"bg-white/10 rounded-xl p-4 backdrop-blur-md border border-white/10 space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-indigo-200 text-xs font-bold uppercase tracking-wider",children:[h.jsx(Tq,{size:14}),h.jsx("span",{children:"Akll Tavsiyeler"})]}),n==null?void 0:n.tips.slice(0,2).map((a,s)=>h.jsxs("div",{className:"flex gap-3 items-start",children:[h.jsx("div",{className:"min-w-1.5 h-1.5 rounded-full bg-yellow-400 mt-2"}),h.jsx("p",{className:"text-sm text-white/90 font-medium",children:a})]},s))]})]}),h.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl -mr-16 -marginTop-16"}),h.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-indigo-500/30 rounded-full blur-2xl -ml-10 -marginBottom-10"})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col items-center justify-center relative overflow-hidden",children:[h.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2 text-slate-800 dark:text-slate-100 font-bold z-10",children:[h.jsx(dM,{className:"text-rose-500",size:20}),h.jsx("h3",{children:"Finans Puan"})]}),h.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center mt-4",children:[h.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[h.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-700"}),h.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:351.86,strokeDashoffset:351.86-351.86*((n==null?void 0:n.score)||0)/100,className:`${((n==null?void 0:n.score)||0)>70?"text-emerald-500":((n==null?void 0:n.score)||0)>40?"text-amber-500":"text-red-500"} transition-all duration-1000 ease-out`,strokeLinecap:"round"})]}),h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[h.jsx("span",{className:"text-3xl font-black text-slate-800 dark:text-white",children:Math.round((n==null?void 0:n.score)||0)}),h.jsx("span",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-widest",children:"/ 100"})]})]}),h.jsx("p",{className:`mt-4 text-sm font-medium px-3 py-1 rounded-full ${((n==null?void 0:n.score)||0)>70?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":((n==null?void 0:n.score)||0)>40?"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:((n==null?void 0:n.score)||0)>70?"Mkemmel":((n==null?void 0:n.score)||0)>40?"dare Eder":"Riskli"})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-700 flex flex-col relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5",children:h.jsx(fa,{size:100})}),h.jsxs("div",{className:"flex items-center gap-2 mb-6 text-slate-800 dark:text-slate-100 font-bold relative z-10",children:[h.jsx(fa,{className:"text-blue-500",size:20}),h.jsx("h3",{children:"Gelecek Tahmini"})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center relative z-10",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Mevcut hzla yl sonu:"}),h.jsxs("h4",{className:`text-2xl font-bold ${(n==null?void 0:n.projectedYearly)>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[(n==null?void 0:n.projectedYearly)>0?"+":"",n==null?void 0:n.projectedYearly.toLocaleString("tr-TR",{style:"currency",currency:r,maximumFractionDigits:0})]}),h.jsxs("div",{className:"mt-4 p-3 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-600",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(vb,{size:14,className:"text-indigo-500"}),h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:"htiya / stek"})]}),h.jsxs("div",{className:"flex h-2 w-full rounded-full overflow-hidden",children:[h.jsx("div",{className:"bg-emerald-500",style:{width:`${n==null?void 0:n.needsPercent}%`},title:"htiya"}),h.jsx("div",{className:"bg-amber-500",style:{width:`${n==null?void 0:n.wantsPercent}%`},title:"stek"})]}),h.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 mt-1",children:[h.jsxs("span",{children:["%",n==null?void 0:n.needsPercent.toFixed(0)," Zorunlu"]}),h.jsxs("span",{children:["%",n==null?void 0:n.wantsPercent.toFixed(0)," Keyfi"]})]})]})]})]})]})}const m2=["#6366f1","#ec4899","#8b5cf6","#19d6c0ff","#f59e0b","#ef4444","#3b82f6","#10b981","#6b7280"];function wpe({user:e}){const[t,r]=g.useState([]),[n,i]=g.useState(!0),[a,s]=g.useState("6M"),[o,l]=g.useState("TRY");g.useEffect(()=>{const _=zr(Le(fe,"user_settings",e.uid),E=>{if(E.exists()){const A=E.data();A.currency&&l(A.currency)}});return()=>_()},[e.uid]),g.useEffect(()=>{const _=an(Tt(fe,"transactions"),Ht("uid","==",e.uid)),E=zr(_,A=>{const N=A.docs.map(j=>{var S;const k=j.data();return{id:j.id,...k,dateObj:new Date(k.date||((S=k.createdAt)==null?void 0:S.toDate()))}});N.sort((j,k)=>j.dateObj-k.dateObj),r(N),i(!1)});return()=>E()},[e.uid]);const u=()=>{const _=new Date;let E=new Date;a==="1M"?E.setMonth(_.getMonth()-1):a==="3M"?E.setMonth(_.getMonth()-3):a==="6M"?E.setMonth(_.getMonth()-6):a==="1Y"?E.setFullYear(_.getFullYear()-1):E=new Date(0);const A=t.filter(j=>j.dateObj>=E),N={};return A.forEach(j=>{const k=j.dateObj.toLocaleDateString("tr-TR",{month:"short",year:"numeric"});N[k]||(N[k]={name:k,income:0,expense:0,balance:0,rawDate:j.dateObj}),j.type==="income"?N[k].income+=j.amount:N[k].expense+=j.amount}),Object.values(N).sort((j,k)=>j.rawDate-k.rawDate)},c=()=>{const _=new Date;let E=new Date;a==="1M"?E.setMonth(_.getMonth()-1):a==="3M"?E.setMonth(_.getMonth()-3):a==="6M"?E.setMonth(_.getMonth()-6):a==="1Y"?E.setFullYear(_.getFullYear()-1):E=new Date(0);const N=t.filter(j=>j.type==="expense"&&j.dateObj>=E).reduce((j,k)=>{const S=k.category||"Dier";return j[S]=(j[S]||0)+k.amount,j},{});return Object.entries(N).map(([j,k])=>({name:j,value:k})).sort((j,k)=>k.value-j.value).slice(0,6)},d=()=>{const _=new Date;let E=new Date;a==="1M"?E.setMonth(_.getMonth()-1):a==="3M"?E.setMonth(_.getMonth()-3):a==="6M"?E.setMonth(_.getMonth()-6):a==="1Y"?E.setFullYear(_.getFullYear()-1):E=new Date(0);const N=t.filter(k=>k.type==="expense"&&k.paymentMethod==="credit_card"&&k.dateObj>=E).reduce((k,S)=>{const T=S.cardName||"Dier / Genel Kart";return k[T]=(k[T]||0)+S.amount,k},{}),j=Object.values(N).reduce((k,S)=>k+S,0);return Object.entries(N).map(([k,S])=>({name:k,value:S,percent:j>0?S/j*100:0})).sort((k,S)=>S.value-k.value)},p=()=>{const _=u(),E=_.reduce((j,k)=>j+k.income,0),A=_.reduce((j,k)=>j+k.expense,0),N=E>0?(E-A)/E*100:0;return{totalIncome:E,totalExpense:A,net:E-A,savingsRate:N}},m=u(),v=c(),y=d(),x=p(),b=({active:_,payload:E,label:A})=>_&&E&&E.length?h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 border border-slate-100 dark:border-slate-700 rounded-lg shadow-lg",children:[h.jsx("p",{className:"font-bold text-slate-700 dark:text-slate-200 mb-2",children:A}),E.map((N,j)=>h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:N.color}}),h.jsxs("span",{className:"text-slate-500 dark:text-slate-400 capitalize",children:[N.name==="income"?"Gelir":N.name==="expense"?"Gider":N.name,":"]}),h.jsx("span",{className:"font-mono font-medium text-slate-700 dark:text-slate-200",children:N.value.toLocaleString("tr-TR",{style:"currency",currency:o})})]},j))]}):null;return n?h.jsx("div",{className:"p-8 text-center text-slate-500",children:"Analizler hazrlanyor..."}):h.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[h.jsx(dM,{className:"text-indigo-600"}),"Finansal Raporlar"]}),h.jsx("div",{className:"flex bg-white dark:bg-slate-800 p-1 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm",children:["1M","3M","6M","1Y","ALL"].map(_=>h.jsx("button",{onClick:()=>s(_),className:`px-4 py-1.5 rounded-lg text-sm font-medium transition-all ${a===_?"bg-indigo-600 text-white shadow-md":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-700"}`,children:_==="ALL"?"Tm":_},_))})]}),h.jsx(bpe,{transactions:t,timeRange:a,currency:o}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gelir"}),h.jsx("h3",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:x.totalIncome.toLocaleString("tr-TR",{style:"currency",currency:o,maximumFractionDigits:0})})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Toplam Gider"}),h.jsx("h3",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:x.totalExpense.toLocaleString("tr-TR",{style:"currency",currency:o,maximumFractionDigits:0})})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Net Durum"}),h.jsxs("h3",{className:`text-2xl font-bold ${x.net>=0?"text-indigo-600 dark:text-indigo-400":"text-red-500"}`,children:[x.net>0?"+":"",x.net.toLocaleString("tr-TR",{style:"currency",currency:o,maximumFractionDigits:0})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-5 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-1",children:"Tasarruf Oran"}),h.jsxs("h3",{className:"text-2xl font-bold text-amber-500",children:[x.savingsRate.toFixed(1),"%"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[h.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Gelir ve Gider Ak"}),h.jsx("div",{className:"h-[300px] w-full",children:h.jsx(ql,{width:"100%",height:"100%",children:h.jsxs(Ofe,{data:m,margin:{top:10,right:10,left:-20,bottom:0},children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"colorIncome",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.1}),h.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),h.jsxs("linearGradient",{id:"colorExpense",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.1}),h.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:0})]})]}),h.jsx(ng,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),h.jsx(og,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),h.jsx(lg,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),h.jsx(Ql,{content:h.jsx(b,{})}),h.jsx(fw,{type:"monotone",dataKey:"income",name:"income",stroke:"#10b981",strokeWidth:3,fillOpacity:1,fill:"url(#colorIncome)"}),h.jsx(fw,{type:"monotone",dataKey:"expense",name:"expense",stroke:"#ef4444",strokeWidth:3,fillOpacity:1,fill:"url(#colorExpense)"})]})})})]}),h.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Nereye Harcadm?"}),h.jsx("div",{className:"h-[300px] w-full relative",children:v.length>0?h.jsx(ql,{width:"100%",height:"100%",children:h.jsxs(UE,{children:[h.jsx(d0,{data:v,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:v.map((_,E)=>h.jsx(tl,{fill:m2[E%m2.length]},`cell-${E}`))}),h.jsx(Ql,{}),h.jsx(fk,{verticalAlign:"bottom",height:36,iconType:"circle",content:({payload:_})=>h.jsx("div",{className:"flex flex-wrap justify-center gap-2 mt-4 text-xs",children:_.map((E,A)=>h.jsxs("div",{className:"flex items-center gap-1 text-slate-500 dark:text-slate-400",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:E.color}}),E.value]},`item-${A}`))})})]})}):h.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-slate-400 text-sm",children:"Veri yok"})})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6",children:"Aylk Net Ak"}),h.jsx("div",{className:"h-[250px] w-full",children:h.jsx(ql,{width:"100%",height:"100%",children:h.jsxs(JV,{data:m,margin:{top:10,right:10,left:-20,bottom:0},children:[h.jsx(ng,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0",opacity:.5}),h.jsx(og,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12},dy:10}),h.jsx(lg,{axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:12}}),h.jsx(Ql,{content:h.jsx(b,{})}),h.jsx(Xl,{dataKey:"income",name:"Gelir",fill:"#10b981",radius:[4,4,0,0],maxBarSize:40}),h.jsx(Xl,{dataKey:"expense",name:"Gider",fill:"#ef4444",radius:[4,4,0,0],maxBarSize:40})]})})})]}),y.length>0&&h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 mt-8",children:[h.jsxs("h3",{className:"text-lg font-bold text-slate-800 dark:text-slate-100 mb-6 flex items-center gap-2",children:[h.jsx(Mn,{className:"text-amber-600"}),"Kredi Kart Harcamalar"]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map((_,E)=>h.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-900/50 border border-slate-100 dark:border-slate-700 flex items-center justify-between group hover:border-amber-200 dark:hover:border-amber-800 transition-all",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-white dark:bg-slate-800 rounded-lg text-amber-600 shadow-sm",children:h.jsx(Mn,{size:20})}),h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:_.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx("div",{className:"w-16 h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-amber-500 rounded-full",style:{width:`${_.percent}%`}})}),h.jsxs("span",{className:"text-xs text-slate-500",children:["%",_.percent.toFixed(0)]})]})]})]}),h.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-300",children:_.value.toLocaleString("tr-TR",{style:"currency",currency:o})})]},_.name))})]})]})}const _pe=({isOpen:e,onClose:t,asset:r,onAddTransaction:n})=>{const[i,a]=g.useState([]),[s,o]=g.useState(!1),[l,u]=g.useState("buy"),[c,d]=g.useState(""),[p,m]=g.useState("");g.useEffect(()=>{if(!r||!e)return;const y=an(Tt(fe,"asset_transactions"),Ht("assetId","==",r.id),lq("date","desc"),uq(20)),x=zr(y,b=>{a(b.docs.map(_=>({id:_.id,..._.data()})))});return()=>x()},[r,e]);const v=y=>{y.preventDefault(),n({assetId:r.id,type:l,amount:parseFloat(c),price:parseFloat(p),date:new Date().toISOString(),createdAt:Mo()}),d(""),m("")};return!e||!r?null:h.jsxs(ku,{isOpen:e,onClose:t,title:`${r.name} lem Gemii`,children:[h.jsxs("div",{className:"mb-6 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-slate-100 dark:border-slate-700",children:[h.jsx("h4",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-3",children:"Yeni lem Ekle"}),h.jsxs("form",{onSubmit:v,className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"col-span-2 flex gap-2 mb-1",children:[h.jsx("button",{type:"button",onClick:()=>u("buy"),className:`flex-1 py-1.5 text-sm rounded-lg font-medium transition-colors ${l==="buy"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-white dark:bg-slate-800 text-slate-500"}`,children:"Al (Ekle)"}),h.jsx("button",{type:"button",onClick:()=>u("sell"),className:`flex-1 py-1.5 text-sm rounded-lg font-medium transition-colors ${l==="sell"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400":"bg-white dark:bg-slate-800 text-slate-500"}`,children:"Sat (kar)"})]}),h.jsx("div",{children:h.jsx("input",{type:"number",placeholder:"Miktar",value:c,onChange:y=>d(y.target.value),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200",required:!0})}),h.jsx("div",{children:h.jsx("input",{type:"number",placeholder:"Birim Fiyat",value:p,onChange:y=>m(y.target.value),className:"w-full px-3 py-2 text-sm rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-200",required:!0})}),h.jsx("button",{className:"col-span-2 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700",children:"lemi Kaydet"})]})]}),h.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:i.length===0?h.jsx("p",{className:"text-center text-sm text-slate-400 py-4",children:"Henz ilem kayd yok."}):i.map(y=>h.jsxs("div",{className:"flex justify-between items-center p-3 bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`p-2 rounded-full ${y.type==="buy"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:y.type==="buy"?h.jsx(fM,{size:16}):h.jsx(hM,{size:16})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:y.type==="buy"?"Al":"Sat"}),h.jsx("p",{className:"text-xs text-slate-400",children:new Date(y.date).toLocaleDateString()})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:`text-sm font-bold ${y.type==="buy"?"text-emerald-600":"text-red-600"}`,children:[y.type==="buy"?"+":"-",y.amount," Adet"]}),h.jsxs("p",{className:"text-xs text-slate-500",children:["@",y.price," TL"]})]})]},y.id))})]})},Zs=[{id:"gold",label:"Altn (Gr)",color:"#fbbf24"},{id:"usd",label:"Dolar ($)",color:"#22c55e"},{id:"eur",label:"Euro ()",color:"#3b82f6"},{id:"stock",label:"Hisse Senedi",color:"#6366f1"},{id:"cash",label:"Nakit (TL)",color:"#94a3b8"},{id:"other",label:"Dier",color:"#ec4899"}],kpe={gold:0,usd:0,eur:0};function Epe({user:e}){const[t,r]=g.useState([]),[n,i]=g.useState(kpe),[a,s]=g.useState(!0),[o,l]=g.useState(!1),[u,c]=g.useState({isOpen:!1,asset:null}),d=async()=>{l(!0);try{const H=await(await fetch("https://open.er-api.com/v6/latest/USD")).json();if(!H||!H.rates)throw new Error("Dviz verisi alnamad");const M=H.rates.TRY,Y=1/H.rates.EUR*M,re=await(await fetch("https://api.coingecko.com/api/v3/simple/price?ids=pax-gold&vs_currencies=usd")).json();let ge=0;re&&re["pax-gold"]&&(ge=re["pax-gold"].usd/31.1035*M),i(ke=>({...ke,gold:parseFloat(ge.toFixed(2)),usd:parseFloat(M.toFixed(4)),eur:parseFloat(Y.toFixed(4))})),alert("Piyasa kurlar baaryla gncellendi!")}catch(L){console.error(L),alert("Veri ekilemedi. Ltfen tekrar deneyin.")}finally{l(!1)}},[p,m]=g.useState(!1),[v,y]=g.useState(!1),[x,b]=g.useState(null),[_,E]=g.useState({type:"gold",name:"",amount:"",avgCost:""});g.useEffect(()=>{const L=an(Tt(fe,"investments"),Ht("uid","==",e.uid)),H=zr(L,M=>{r(M.docs.map(V=>({id:V.id,...V.data()}))),s(!1)});return()=>H()},[e.uid]),g.useEffect(()=>{const L=zr(Le(fe,"user_settings",e.uid),H=>{H.exists()&&H.data().marketRates&&i(M=>({...M,...H.data().marketRates}))});return()=>L()},[e.uid]);const N=(()=>{let L=0,H=0;const M=t.map(V=>{let Y=0;["gold","usd","eur"].includes(V.type)?Y=n[V.type]:Y=V.currentPrice||V.avgCost;const Z=V.amount*Y,re=V.amount*V.avgCost;return L+=Z,H+=re,{...V,currentValue:Z,profit:Z-re,profitPercent:re>0?(Z-re)/re*100:0}});return{totalValue:L,totalCost:H,items:M}})(),j=N.totalValue-N.totalCost,k=N.totalCost>0?j/N.totalCost*100:0,S=async L=>{try{await pu(Tt(fe,"asset_transactions"),L);const H=Le(fe,"investments",L.assetId),M=t.find(Z=>Z.id===L.assetId);if(!M)return;let V=M.amount,Y=M.avgCost;if(L.type==="buy"){const Z=M.amount*M.avgCost+L.amount*L.price;V=M.amount+L.amount,Y=V>0?Z/V:0}else L.type==="sell"&&(V=M.amount-L.amount);await is(H,{amount:V,avgCost:parseFloat(Y.toFixed(2))},{merge:!0}),alert("lem baaryla eklendi ve portfy gncellendi."),c(Z=>({...Z,isOpen:!1}))}catch(H){console.error("Transaction Error:",H),alert("lem eklenirken hata olutu.")}},T=async L=>{var M;L.preventDefault();const H={uid:e.uid,type:_.type,name:_.name||((M=Zs.find(V=>V.id===_.type))==null?void 0:M.label),amount:parseFloat(_.amount),avgCost:parseFloat(_.avgCost),currentPrice:parseFloat(_.currentPrice||_.avgCost)};x?await is(Le(fe,"investments",x.id),H,{merge:!0}):await is(Le(Tt(fe,"investments")),H),m(!1),D()},O=async L=>{confirm("Bu varl portfyden kaldrmak istiyor musunuz?")&&await iv(Le(fe,"investments",L))},C=L=>{c({isOpen:!0,asset:L})},I=async L=>{L.preventDefault(),await is(Le(fe,"user_settings",e.uid),{marketRates:n},{merge:!0}),y(!1)},D=()=>{E({type:"gold",name:"",amount:"",avgCost:"",currentPrice:""}),b(null)},B=L=>{b(L),E({type:L.type,name:L.name,amount:L.amount,avgCost:L.avgCost,currentPrice:L.currentPrice}),m(!0)},X=N.items.map(L=>{var H;return{name:L.name,value:L.currentValue,color:((H=Zs.find(M=>M.id===L.type))==null?void 0:H.color)||"#999"}}).filter(L=>L.value>0);return h.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[h.jsx(pM,{className:"text-indigo-600 dark:text-indigo-400"}),"Yatrm Portfy"]}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Varlklarnz takip edin, kr/zarar durumunuzu ynetin."})]}),h.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[h.jsxs("button",{onClick:()=>y(!0),className:"flex-1 md:flex-none py-2 px-4 bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors flex items-center justify-center gap-2 font-medium shadow-sm",children:[h.jsx(mp,{size:18}),"Kurlar Gncelle"]}),h.jsxs("button",{onClick:()=>{D(),m(!0)},className:"flex-1 md:flex-none py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-indigo-500/30",children:[h.jsx(Ps,{size:18}),"Varlk Ekle"]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[h.jsx("div",{className:"bg-gradient-to-br from-slate-800 to-slate-900 dark:from-indigo-900 dark:to-slate-900 p-6 rounded-2xl text-white shadow-xl",children:h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Toplam Portfy Deeri"}),h.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:N.totalValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),h.jsx("div",{className:"p-3 bg-white/10 rounded-xl backdrop-blur-sm",children:h.jsx(Qc,{size:24,className:"text-indigo-400"})})]})}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Toplam Kr / Zarar"}),j>=0?h.jsx(fa,{className:"text-emerald-500"}):h.jsx(fa,{className:"text-red-500 rotate-180"})]}),h.jsxs("div",{className:"flex items-end gap-3",children:[h.jsxs("h2",{className:`text-3xl font-bold ${j>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[j>0?"+":"",j.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]}),h.jsxs("span",{className:`text-sm font-bold mb-1.5 px-2 py-0.5 rounded ${j>=0?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:["%",k.toFixed(2)]})]}),h.jsxs("p",{className:"text-xs text-slate-400 mt-2",children:["Maliyet: ",N.totalCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]}),h.jsx("div",{className:"bg-white dark:bg-slate-800 p-2 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 flex items-center justify-center relative overflow-hidden",children:X.length>0?h.jsx(ql,{width:"100%",height:120,children:h.jsxs(UE,{children:[h.jsx(d0,{data:X,cx:"50%",cy:"50%",innerRadius:35,outerRadius:50,paddingAngle:2,dataKey:"value",children:X.map((L,H)=>h.jsx(tl,{fill:L.color,stroke:"none"},`cell-${H}`))}),h.jsx(Ql,{formatter:L=>L.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]})}):h.jsx("div",{className:"text-slate-400 text-xs text-center p-4",children:"Veri Yok"})})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700 overflow-hidden",children:[h.jsxs("div",{className:"p-6 border-b border-slate-100 dark:border-slate-700 flex justify-between items-center",children:[h.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100",children:"Varlklarm"}),h.jsxs("span",{className:"text-xs text-slate-400 font-normal",children:[N.items.length," Varlk"]})]}),h.jsx("div",{className:"block md:hidden",children:N.items.length===0?h.jsx("div",{className:"p-8 text-center text-slate-400 text-sm",children:"Henz portfyne varlk eklemedin."}):h.jsx("div",{className:"divide-y divide-slate-100 dark:divide-slate-700",children:N.items.map(L=>{var H,M;return h.jsxs("div",{className:"p-4 flex flex-col gap-3",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-1.5 h-10 rounded-full",style:{backgroundColor:(H=Zs.find(V=>V.id===L.type))==null?void 0:H.color}}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-slate-800 dark:text-slate-100",children:L.name}),h.jsx("span",{className:"text-xs text-slate-400",children:(M=Zs.find(V=>V.id===L.type))==null?void 0:M.label})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"font-bold text-slate-800 dark:text-slate-200",children:L.currentValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),h.jsxs("div",{className:`text-xs font-semibold ${L.profit>=0?"text-emerald-500":"text-red-500"}`,children:[L.profit>=0?"+":"","%",L.profitPercent.toFixed(1)]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm bg-slate-50 dark:bg-slate-900/30 p-3 rounded-lg",children:[h.jsxs("div",{children:[h.jsx("span",{className:"block text-xs text-slate-400",children:"Miktar"}),h.jsxs("span",{className:"font-mono text-slate-600 dark:text-slate-300",children:[L.amount," ",h.jsx("span",{className:"text-[10px]",children:L.type==="gold"?"gr":""})]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"block text-xs text-slate-400",children:"Ort. Maliyet"}),h.jsx("span",{className:"text-slate-600 dark:text-slate-300",children:L.avgCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})})]}),h.jsxs("div",{className:"col-span-2 pt-2 border-t border-slate-200 dark:border-slate-700 flex justify-between items-center",children:[h.jsx("span",{className:"text-xs text-slate-400",children:"Net Kr/Zarar"}),h.jsxs("span",{className:`font-medium ${L.profit>=0?"text-emerald-600":"text-red-600"}`,children:[L.profit>=0?"+":"",L.profit.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})]})]})]}),h.jsxs("div",{className:"flex justify-end gap-2 mt-1",children:[h.jsxs("button",{onClick:()=>C(L),className:"px-3 py-1.5 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 text-xs font-medium rounded-lg flex items-center gap-1",children:[h.jsx(gA,{size:14})," Gemi"]}),h.jsxs("button",{onClick:()=>B(L),className:"px-3 py-1.5 bg-indigo-50 text-indigo-600 dark:bg-indigo-900/20 dark:text-indigo-400 text-xs font-medium rounded-lg flex items-center gap-1",children:[h.jsx(Ad,{size:14})," Dzenle"]}),h.jsx("button",{onClick:()=>O(L.id),className:"p-1.5 text-red-500 bg-red-50 dark:bg-red-900/20 rounded-lg",children:h.jsx(Lo,{size:14})})]})]},L.id)})})}),h.jsx("div",{className:"hidden md:block overflow-x-auto",children:h.jsxs("table",{className:"w-full text-left",children:[h.jsx("thead",{className:"bg-slate-50 dark:bg-slate-900/50 text-slate-500 dark:text-slate-400 text-xs uppercase font-semibold",children:h.jsxs("tr",{children:[h.jsx("th",{className:"px-6 py-4",children:"Varlk"}),h.jsx("th",{className:"px-6 py-4",children:"Miktar"}),h.jsx("th",{className:"px-6 py-4",children:"Ort. Maliyet"}),h.jsx("th",{className:"px-6 py-4",children:"Anlk Deer"}),h.jsx("th",{className:"px-6 py-4",children:"Kr / Zarar"}),h.jsx("th",{className:"px-6 py-4 text-right",children:"lemler"})]})}),h.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-700 text-sm",children:N.items.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"px-6 py-8 text-center text-slate-400",children:"Henz portfyne varlk eklemedin."})}):N.items.map(L=>{var H,M;return h.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-700/30 transition-colors group",children:[h.jsxs("td",{className:"px-6 py-4 font-medium text-slate-800 dark:text-slate-200 flex items-center gap-3",children:[h.jsx("div",{className:"w-2 h-8 rounded-full",style:{backgroundColor:(H=Zs.find(V=>V.id===L.type))==null?void 0:H.color}}),h.jsxs("div",{children:[L.name,h.jsx("div",{className:"text-xs text-slate-400 font-normal",children:(M=Zs.find(V=>V.id===L.type))==null?void 0:M.label})]})]}),h.jsxs("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300 font-mono",children:[L.amount," ",h.jsx("span",{className:"text-xs text-slate-400",children:L.type==="gold"?"gr":""})]}),h.jsx("td",{className:"px-6 py-4 text-slate-600 dark:text-slate-300",children:L.avgCost.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),h.jsx("td",{className:"px-6 py-4 font-bold text-slate-800 dark:text-slate-200",children:L.currentValue.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),h.jsxs("td",{className:"px-6 py-4",children:[h.jsxs("div",{className:`flex items-center gap-1 ${L.profit>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[L.profit>=0?h.jsx(hM,{size:16}):h.jsx(fM,{size:16}),h.jsxs("span",{className:"font-semibold",children:[Math.abs(L.profit).toLocaleString("tr-TR",{maximumFractionDigits:0})," TL"]})]}),h.jsxs("span",{className:`text-xs ${L.profit>=0?"text-emerald-500":"text-red-500"}`,children:["%",L.profitPercent.toFixed(1)]})]}),h.jsx("td",{className:"px-6 py-4 text-right",children:h.jsxs("div",{className:"flex justify-end gap-2 opacity-100 lg:opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>C(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"lem Gemii / Ekle",children:h.jsx(gA,{size:16})}),h.jsx("button",{onClick:()=>B(L),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg",children:h.jsx(Ad,{size:16})}),h.jsx("button",{onClick:()=>O(L.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:h.jsx(Lo,{size:16})})]})})]},L.id)})})]})})]}),h.jsx(ku,{isOpen:p,onClose:()=>m(!1),title:x?"Varlk Dzenle":"Yeni Varlk Ekle",children:h.jsxs("form",{onSubmit:T,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Varlk Tr"}),h.jsx("select",{value:_.type,onChange:L=>E({..._,type:L.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:!!x,children:Zs.map(L=>h.jsx("option",{value:L.id,children:L.label},L.id))})]}),["stock","crypto","other"].includes(_.type)&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Varlk Ad / Sembol"}),h.jsx("input",{type:"text",required:!0,placeholder:"rn: ASELS, BTC, ETH...",value:_.name,onChange:L=>E({..._,name:L.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),["stock","crypto","other"].includes(_.type)&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gncel Birim Fiyat (TL)"}),h.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:_.currentPrice,onChange:L=>E({..._,currentPrice:L.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Kr/Zarar hesab iin gncel fiyat manuel giriniz."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Miktar (Adet/Bakiye)"}),h.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:_.amount,onChange:L=>E({..._,amount:L.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Ortalama Al Maliyeti (Birim Ba TL)"}),h.jsx("input",{type:"number",required:!0,min:"0",step:"any",value:_.avgCost,onChange:L=>E({..._,avgCost:L.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kaydet"})]})}),h.jsx(_pe,{isOpen:u.isOpen,onClose:()=>c({...u,isOpen:!1}),asset:u.asset,onAddTransaction:S}),h.jsx(ku,{isOpen:v,onClose:()=>y(!1),title:"Piyasa Kurlarn Gncelle",children:h.jsxs("form",{onSubmit:I,className:"space-y-4",children:[h.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 p-3 rounded-lg border border-amber-100 dark:border-amber-800 text-amber-800 dark:text-amber-200 text-sm mb-4",children:[h.jsx("p",{children:'Kurlar manuel girebilir veya "Otomatik Getir" butonunu kullanarak gncel piyasa verilerini ekebilirsiniz.'}),h.jsx("p",{className:"text-xs mt-1 opacity-70",children:"*Altn fiyat uluslararas piyasalara gre (PAX Gold endeksli) hesaplanr, banka kurlarndan farkllk gsterebilir."})]}),h.jsxs("button",{type:"button",onClick:d,disabled:o,className:"w-full py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors flex items-center justify-center gap-2 font-medium mb-4",children:[o?h.jsx(mp,{size:18,className:"animate-spin"}):h.jsx(mp,{size:18}),o?"Veriler ekiliyor...":"Otomatik Getir (API)"]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Gram Altn (TL)"}),h.jsx("input",{type:"number",min:"0",step:"0.01",value:n.gold,onChange:L=>i({...n,gold:parseFloat(L.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dolar / TL"}),h.jsx("input",{type:"number",min:"0",step:"0.0001",value:n.usd,onChange:L=>i({...n,usd:parseFloat(L.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Euro / TL"}),h.jsx("input",{type:"number",min:"0",step:"0.0001",value:n.eur,onChange:L=>i({...n,eur:parseFloat(L.target.value)}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsx("button",{type:"submit",className:"w-full py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kurlar Kaydet"})]})})]})}function Spe({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:a="danger"}){return e?h.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-sm border border-slate-100 dark:border-slate-700 p-6 relative animate-in fade-in zoom-in duration-200",children:[h.jsx("button",{onClick:t,className:"absolute right-4 top-4 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:h.jsx(O1,{size:20})}),h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:`p-3 rounded-full mb-4 ${a==="danger"?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-amber-100 text-amber-600"}`,children:h.jsx(I1,{size:32})}),h.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:n}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:i}),h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 bg-slate-100 dark:bg-slate-700 text-slate-700 dark:text-slate-300 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 font-medium transition-colors",children:"ptal"}),h.jsx("button",{onClick:()=>{r(),t()},className:`flex-1 px-4 py-2 rounded-lg font-medium text-white transition-colors ${a==="danger"?"bg-red-600 hover:bg-red-700 shadow-lg shadow-red-500/30":"bg-indigo-600 hover:bg-indigo-700 shadow-lg shadow-indigo-500/30"}`,children:"Onayla"})]})]})]})}):null}const g2=[{id:"netflix",name:"Netflix",color:"#E50914",icon:"N"},{id:"spotify",name:"Spotify",color:"#1DB954",icon:"S"},{id:"youtube",name:"YouTube Premium",color:"#FF0000",icon:"Y"},{id:"amazon",name:"Amazon Prime",color:"#00A8E1",icon:"A"},{id:"icloud",name:"Apple iCloud",color:"#0070c9",icon:"A"},{id:"disney",name:"Disney+",color:"#113CCF",icon:"D"},{id:"xbox",name:"Xbox Game Pass",color:"#107C10",icon:"X"},{id:"playstation",name:"PlayStation Plus",color:"#00439C",icon:"P"},{id:"exxen",name:"Exxen",color:"#FFD600",icon:"E"},{id:"blutv",name:"BluTV",color:"#1FBAD6",icon:"B"},{id:"custom",name:"Dier",color:"#6366f1",icon:"?"}];function Ppe({user:e}){var N,j;const[t,r]=g.useState([]),[n,i]=g.useState(!0),[a,s]=g.useState(!1),[o,l]=g.useState({isOpen:!1,sub:null}),[u,c]=g.useState({serviceId:"custom",name:"",price:"",billingDay:"1",cycle:"monthly",status:"active"});g.useEffect(()=>{const k=an(Tt(fe,"subscriptions"),Ht("uid","==",e.uid)),S=zr(k,T=>{const O=T.docs.map(C=>({id:C.id,...C.data()}));r(O),i(!1)});return()=>S()},[e.uid]);const d=async k=>{k.preventDefault();let S=u.name,T=u.color;if(u.serviceId!=="custom"){const C=g2.find(I=>I.id===u.serviceId);C&&(S=S||C.name,T=C.color)}else T="#6366f1";const O={uid:e.uid,serviceId:u.serviceId,name:S,price:parseFloat(u.price),billingDay:parseInt(u.billingDay),cycle:u.cycle,status:u.status,color:T,updatedAt:Mo()};u.id?await is(Le(fe,"subscriptions",u.id),O,{merge:!0}):await is(Le(Tt(fe,"subscriptions")),O),s(!1),m()},p=async k=>{confirm("Bu abonelik kaydn silmek istiyor musunuz?")&&await iv(Le(fe,"subscriptions",k))},m=()=>{c({serviceId:"custom",name:"",price:"",billingDay:"1",cycle:"monthly",status:"active"})},v=k=>{c({...k}),s(!0)},y=async k=>{try{const S=new Date().toISOString().slice(0,7),T=`${k.name} Abonelii`,O=an(Tt(fe,"transactions"),Ht("uid","==",e.uid),Ht("title","==",T));if((await pb(O)).docs.some(D=>{const B=D.data();return B.date&&B.date.startsWith(S)})){alert(`"${k.name}" iin bu ay zaten bir harcama kayd bulunuyor.`);return}l({isOpen:!0,sub:k})}catch(S){console.error("deme kontrol hatas:",S),alert("Bir hata olutu, ltfen tekrar deneyin.")}},x=async()=>{const k=o.sub;if(k)try{await pu(Tt(fe,"transactions"),{uid:e.uid,title:`${k.name} Abonelii`,amount:k.price,type:"expense",category:"Fatura",paymentMethod:"credit_card",date:new Date().toISOString().split("T")[0],subscriptionId:k.id,createdAt:Mo()}),alert("Harcama baaryla eklendi!")}catch(S){console.error(S),alert("Hata olutu.")}},b=t.filter(k=>k.status==="active").reduce((k,S)=>{let T=S.price;return S.cycle==="yearly"&&(T=S.price/12),k+T},0),_=t.filter(k=>k.status==="active").length,E=k=>{const S=new Date,T=S.getFullYear(),O=S.getMonth();let C=new Date(T,O,k);return S.getDate()>k&&C.setMonth(O+1),C},A=[...t].sort((k,S)=>{const T=E(k.billingDay),O=E(S.billingDay);return T-O});return h.jsxs("div",{className:"max-w-6xl mx-auto p-4 lg:p-8 pb-24 lg:pb-8",children:[h.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[h.jsxs("div",{children:[h.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 flex items-center gap-2",children:[h.jsx(Id,{className:"text-indigo-600 dark:text-indigo-400"}),"Abonelikler"]}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm mt-1",children:"Sabit demelerinizi ve dijital servis yeliklerinizi ynetin."})]}),h.jsxs("button",{onClick:()=>{m(),s(!0)},className:"py-2 px-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center justify-center gap-2 font-medium shadow-lg hover:shadow-indigo-500/30",children:[h.jsx(Ps,{size:18}),"Yeni Abonelik"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 to-indigo-800 p-6 rounded-2xl text-white shadow-xl relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:h.jsx(Id,{size:80})}),h.jsx("p",{className:"text-indigo-100 text-sm font-medium mb-1",children:"Aylk Toplam Sabit Gider"}),h.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:b.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),h.jsx("p",{className:"text-indigo-200 text-xs mt-2 opacity-80",children:"*Yllk paketler aylk ortalamaya dahil edilmitir."})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-700",children:[h.jsxs("div",{className:"flex justify-between items-start mb-2",children:[h.jsx("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:"Aktif Abonelikler"}),h.jsx(Td,{className:"text-emerald-500"})]}),h.jsxs("h2",{className:"text-3xl font-bold text-slate-800 dark:text-slate-100",children:[_," ",h.jsx("span",{className:"text-base font-normal text-slate-400",children:"Servis"})]})]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(k=>{const S=E(k.billingDay),T=Math.ceil((S-new Date)/(1e3*60*60*24)),O=T<=3;return h.jsxs("div",{className:`bg-white dark:bg-slate-800 rounded-2xl border transition-all hover:shadow-md relative overflow-hidden group ${k.status==="inactive"?"opacity-60 border-slate-200 dark:border-slate-700":O?"border-amber-200 dark:border-amber-800":"border-slate-100 dark:border-slate-700"}`,children:[k.status==="active"&&T<=7&&h.jsx("div",{className:`absolute top-0 right-0 px-3 py-1 text-[10px] font-bold text-white rounded-bl-xl ${O?"bg-amber-500":"bg-slate-400"}`,children:T===0?"BUGN":`${T} GN KALDI`}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex items-start justify-between mb-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-sm",style:{backgroundColor:k.color||"#6366f1"},children:k.name.charAt(0).toUpperCase()}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-lg leading-tight",children:k.name}),h.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:[k.billingDay,". Gn / ",k.cycle==="monthly"?"Aylk":"Yllk"]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>y(k),className:"text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"demeyi Harcama Olarak Ekle",children:h.jsx(Mn,{size:18})}),h.jsx("button",{onClick:()=>v(k),className:"text-slate-300 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors",title:"Dzenle",children:h.jsx(Ad,{size:18})})]})]}),h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:k.price.toLocaleString("tr-TR",{style:"currency",currency:"TRY"})}),h.jsxs("p",{className:"text-xs text-slate-400 mt-1 flex items-center gap-1",children:[h.jsx(yo,{size:12}),"Sonraki: ",S.toLocaleDateString("tr-TR",{day:"numeric",month:"long"})]})]}),h.jsxs("div",{className:`px-2.5 py-1 rounded-full text-xs font-semibold flex items-center gap-1.5 ${k.status==="active"?"bg-emerald-50 text-emerald-600 dark:bg-emerald-900/20 dark:text-emerald-400":"bg-slate-100 text-slate-500 dark:bg-slate-700 dark:text-slate-400"}`,children:[k.status==="active"?h.jsx(Dq,{size:10,fill:"currentColor"}):h.jsx(Oq,{size:10,fill:"currentColor"}),k.status==="active"?"Aktif":"Pasif"]})]})]})]},k.id)})}),h.jsx(ku,{isOpen:a,onClose:()=>s(!1),title:u.id?"Abonelii Dzenle":"Yeni Abonelik Ekle",children:h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-5 gap-2 mb-4",children:g2.map(k=>h.jsxs("button",{type:"button",onClick:()=>c({...u,serviceId:k.id,name:k.id==="custom"?"":k.name}),className:`p-2 rounded-lg border text-xs font-medium flex flex-col items-center gap-1 transition-all ${u.serviceId===k.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-900/20 text-indigo-700 dark:text-indigo-300":"border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 text-slate-600 dark:text-slate-400"}`,children:[h.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center text-white text-[10px] font-bold",style:{backgroundColor:k.color},children:k.icon}),h.jsx("span",{className:"truncate w-full text-center",children:k.name.split(" ")[0]})]},k.id))}),u.serviceId==="custom"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Servis Ad"}),h.jsx("input",{type:"text",required:!0,value:u.name,onChange:k=>c({...u,name:k.target.value}),placeholder:"rn: Ev Kiras, nternet...",className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Tutar (TL)"}),h.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:u.price,onChange:k=>c({...u,price:k.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"deme Gn"}),h.jsx("select",{value:u.billingDay,onChange:k=>c({...u,billingDay:k.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:Array.from({length:31},(k,S)=>S+1).map(k=>h.jsxs("option",{value:k,children:["Her ayn ",k,". gn"]},k))})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Dng"}),h.jsxs("select",{value:u.cycle,onChange:k=>c({...u,cycle:k.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:"monthly",children:"Aylk"}),h.jsx("option",{value:"yearly",children:"Yllk"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1",children:"Durum"}),h.jsxs("select",{value:u.status,onChange:k=>c({...u,status:k.target.value}),className:"w-full px-4 py-2 rounded-lg border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-700 dark:text-slate-200 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[h.jsx("option",{value:"active",children:"Aktif"}),h.jsx("option",{value:"inactive",children:"Pasif / ptal"})]})]})]}),h.jsxs("div",{className:"flex gap-3 pt-3",children:[u.id&&h.jsx("button",{type:"button",onClick:()=>p(u.id),className:"px-4 py-3 bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 rounded-lg transition-colors",children:h.jsx(Lo,{size:20})}),h.jsx("button",{type:"submit",className:"flex-1 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-bold shadow-lg transition-all",children:"Kaydet"})]})]})}),h.jsx(Spe,{isOpen:o.isOpen,onClose:()=>l({...o,isOpen:!1}),onConfirm:x,title:"Abonelik demesi",message:`"${(N=o.sub)==null?void 0:N.name}" iin ${(j=o.sub)==null?void 0:j.price} TL tutarnda harcama eklemek istiyor musunuz?`,type:"info"})]})}function Tpe(){var s;const[e,t]=g.useState(!1),[r,n]=g.useState(""),i=async()=>{t(!0),n("");try{await ND(xs.currentUser),n("Dorulama balants tekrar gnderildi. Ltfen e-posta kutunuzu (ve spam klasrn) kontrol edin.")}catch(o){console.error(o),o.code==="auth/too-many-requests"?n("ok fazla istek gnderdiniz. Ltfen biraz bekleyin."):n("E-posta gnderilemedi: "+o.message)}finally{t(!1)}},a=()=>{window.location.reload()};return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 dark:bg-slate-900 p-4",children:h.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-slate-800 p-8 rounded-2xl shadow-xl border border-slate-100 dark:border-slate-700 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-6 text-indigo-600 dark:text-indigo-400",children:h.jsx(Iq,{size:32})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:"E-posta Dorulama"}),h.jsxs("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:["Devam etmek iin ltfen ",h.jsx("strong",{children:(s=xs.currentUser)==null?void 0:s.email})," adresine gnderilen dorulama balantsna tklayn."]}),r&&h.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-400 p-3 rounded-lg text-sm mb-6",children:r}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:a,className:"w-full py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[h.jsx(mp,{size:18}),"Kullandm, sayfay yenile"]}),h.jsx("button",{onClick:i,disabled:e,className:"w-full py-2.5 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-200 rounded-lg font-medium hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors",children:e?"Gnderiliyor...":"Balanty Tekrar Gnder"}),h.jsxs("button",{onClick:()=>jD(xs),className:"text-slate-400 hover:text-red-500 text-sm mt-4 flex items-center justify-center gap-1 mx-auto transition-colors",children:[h.jsx(mM,{size:14})," Farkl bir hesapla giri yap"]})]})]})})}function Ape(){Ls();const e=[{path:"/",icon:Pq,label:"Ana Sayfa"},{path:"/calendar",icon:yo,label:"Takvim"},{path:"/budget",icon:Nq,label:"Bte"},{path:"/subscriptions",icon:Id,label:"Abonelikler"},{path:"/investments",icon:pM,label:"Portfy"},{path:"/reports",icon:C1,label:"Raporlar"},{path:"/settings",icon:vM,label:"Ayarlar"}];return h.jsxs(h.Fragment,{children:[h.jsxs("nav",{className:"hidden lg:flex flex-col w-64 h-screen fixed left-0 top-0 bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-800 p-6 z-50 transition-colors duration-300",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2",children:[h.jsx("img",{src:e$,alt:"SpendWise",className:"w-10 h-10 rounded-lg shadow-lg shadow-indigo-500/30"}),h.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-indigo-800 to-indigo-600 dark:from-indigo-400 dark:to-indigo-300 bg-clip-text text-transparent",children:"SpendWise"})]}),h.jsx("div",{className:"space-y-2",children:e.map(t=>h.jsxs(XP,{to:t.path,className:({isActive:r})=>`flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all ${r?"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 shadow-sm":"text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-indigo-600 dark:hover:text-indigo-300"}`,children:[h.jsx(t.icon,{size:20}),t.label]},t.path))}),h.jsx("div",{className:"mt-auto pt-6 border-t border-slate-100 dark:border-slate-800",children:h.jsx("p",{className:"text-xs text-slate-400 text-center",children:"v1.1.0  SpendWise"})})]}),h.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 w-full bg-white dark:bg-slate-900 border-t border-slate-200 dark:border-slate-800 pb-safe z-50 transition-colors duration-300",children:h.jsx("div",{className:"flex overflow-x-auto items-center px-2 py-2 gap-1 [&::-webkit-scrollbar]:hidden",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:e.map(t=>h.jsxs(XP,{to:t.path,className:({isActive:r})=>`flex flex-col items-center justify-center gap-1 p-2 rounded-lg transition-colors flex-shrink-0 min-w-[64px] ${r?"text-indigo-600 dark:text-indigo-400 font-medium bg-indigo-50 dark:bg-indigo-900/10":"text-slate-500 dark:text-slate-400"}`,children:[h.jsx(t.icon,{size:20,className:"mb-0.5"}),h.jsx("span",{className:"text-[10px] whitespace-nowrap",children:t.label})]},t.path))})})]})}function Ipe(){const[e,t]=g.useState(null),[r,n]=g.useState(!0),[i,a]=g.useState(()=>{const s=new Date,o=s.getFullYear(),l=String(s.getMonth()+1).padStart(2,"0");return`${o}-${l}`});return g.useEffect(()=>{const s=J8(xs,o=>{t(o),n(!1)});return()=>s()},[]),r?h.jsx("div",{className:"min-h-screen grid place-items-center bg-slate-50 text-slate-500",children:"Ykleniyor..."}):h.jsx(aB,{basename:"/SpendWise/",children:h.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 font-sans selection:bg-indigo-100 dark:selection:bg-indigo-900 transition-colors duration-300",children:[h.jsx(sU,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#333",color:"#fff"},className:"dark:bg-slate-800 dark:text-white"}}),e?e.emailVerified?h.jsxs(h.Fragment,{children:[h.jsx(Ape,{}),h.jsx("main",{className:"lg:ml-64 min-h-screen",children:h.jsxs(XU,{children:[h.jsx(Vi,{path:"/",element:h.jsx(jfe,{user:e,filterDate:i,setFilterDate:a})}),h.jsx(Vi,{path:"/calendar",element:h.jsx(ppe,{user:e})}),h.jsx(Vi,{path:"/budget",element:h.jsx(gpe,{user:e,filterDate:i,setFilterDate:a})}),h.jsx(Vi,{path:"/subscriptions",element:h.jsx(Ppe,{user:e})}),h.jsx(Vi,{path:"/investments",element:h.jsx(Epe,{user:e})}),h.jsx(Vi,{path:"/reports",element:h.jsx(wpe,{user:e})}),h.jsx(Vi,{path:"/settings",element:h.jsx(xpe,{user:e})}),h.jsx(Vi,{path:"*",element:h.jsx(YU,{to:"/",replace:!0})})]})})]}):h.jsx(Tpe,{}):h.jsx(pq,{})]})})}Hy.createRoot(document.getElementById("root")).render(h.jsx(T2.StrictMode,{children:h.jsx(Ipe,{})}));
